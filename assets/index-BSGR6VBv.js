(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nR={exports:{}},t0={},rR={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),rU=Symbol.for("react.portal"),sU=Symbol.for("react.fragment"),iU=Symbol.for("react.strict_mode"),aU=Symbol.for("react.profiler"),oU=Symbol.for("react.provider"),lU=Symbol.for("react.context"),cU=Symbol.for("react.forward_ref"),uU=Symbol.for("react.suspense"),dU=Symbol.for("react.memo"),fU=Symbol.for("react.lazy"),PE=Symbol.iterator;function hU(t){return t===null||typeof t!="object"?null:(t=PE&&t[PE]||t["@@iterator"],typeof t=="function"?t:null)}var sR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iR=Object.assign,aR={};function Mc(t,e,n){this.props=t,this.context=e,this.refs=aR,this.updater=n||sR}Mc.prototype.isReactComponent={};Mc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oR(){}oR.prototype=Mc.prototype;function T1(t,e,n){this.props=t,this.context=e,this.refs=aR,this.updater=n||sR}var A1=T1.prototype=new oR;A1.constructor=T1;iR(A1,Mc.prototype);A1.isPureReactComponent=!0;var RE=Array.isArray,lR=Object.prototype.hasOwnProperty,k1={current:null},cR={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lR.call(e,r)&&!cR.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:zf,type:t,key:i,ref:o,props:s,_owner:k1.current}}function pU(t,e){return{$$typeof:zf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C1(t){return typeof t=="object"&&t!==null&&t.$$typeof===zf}function mU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ME=/\/+/g;function Xx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mU(""+t.key):e.toString(36)}function Np(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zf:case rU:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xx(o,0):r,RE(s)?(n="",t!=null&&(n=t.replace(ME,"$&/")+"/"),Np(s,e,n,"",function(u){return u})):s!=null&&(C1(s)&&(s=pU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ME,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",RE(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Xx(i,l);o+=Np(i,e,n,c,s)}else if(c=hU(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Xx(i,l++),o+=Np(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(t,e,n){if(t==null)return t;var r=[],s=0;return Np(t,r,"","",function(i){return e.call(n,i,s++)}),r}function gU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},Sp={transition:null},xU={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Sp,ReactCurrentOwner:k1};function dR(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Mh,forEach:function(t,e,n){Mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!C1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Mc;ze.Fragment=sU;ze.Profiler=aU;ze.PureComponent=T1;ze.StrictMode=iU;ze.Suspense=uU;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xU;ze.act=dR;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=k1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lR.call(e,c)&&!cR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zf,type:t.type,key:s,ref:i,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:lU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oU,_context:t},t.Consumer=t};ze.createElement=uR;ze.createFactory=function(t){var e=uR.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:cU,render:t}};ze.isValidElement=C1;ze.lazy=function(t){return{$$typeof:fU,_payload:{_status:-1,_result:t},_init:gU}};ze.memo=function(t,e){return{$$typeof:dU,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Sp.transition;Sp.transition={};try{t()}finally{Sp.transition=e}};ze.unstable_act=dR;ze.useCallback=function(t,e){return qn.current.useCallback(t,e)};ze.useContext=function(t){return qn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return qn.current.useEffect(t,e)};ze.useId=function(){return qn.current.useId()};ze.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return qn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};ze.useRef=function(t){return qn.current.useRef(t)};ze.useState=function(t){return qn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return qn.current.useTransition()};ze.version="18.3.1";rR.exports=ze;var D=rR.exports;const q=ot(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yU=D,vU=Symbol.for("react.element"),bU=Symbol.for("react.fragment"),wU=Object.prototype.hasOwnProperty,_U=yU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NU={key:!0,ref:!0,__self:!0,__source:!0};function fR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wU.call(e,r)&&!NU.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vU,type:t,key:i,ref:o,props:s,_owner:_U.current}}t0.Fragment=bU;t0.jsx=fR;t0.jsxs=fR;nR.exports=t0;var a=nR.exports,gv={},hR={exports:{}},pr={},pR={exports:{}},mR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,U){var F=G.length;G.push(U);e:for(;0<F;){var Y=F-1>>>1,ee=G[Y];if(0<s(ee,U))G[Y]=U,G[F]=ee,F=Y;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var U=G[0],F=G.pop();if(F!==U){G[0]=F;e:for(var Y=0,ee=G.length,z=ee>>>1;Y<z;){var ae=2*(Y+1)-1,W=G[ae],he=ae+1,_e=G[he];if(0>s(W,F))he<ee&&0>s(_e,W)?(G[Y]=_e,G[he]=F,Y=he):(G[Y]=W,G[ae]=F,Y=ae);else if(he<ee&&0>s(_e,F))G[Y]=_e,G[he]=F,Y=he;else break e}}return U}function s(G,U){var F=G.sortIndex-U.sortIndex;return F!==0?F:G.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,b=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=G)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function C(G){if(w=!1,N(G),!b)if(n(c)!==null)b=!0,L(T);else{var U=n(u);U!==null&&B(C,U.startTime-G)}}function T(G,U){b=!1,w&&(w=!1,y(j),j=-1),x=!0;var F=h;try{for(N(U),f=n(c);f!==null&&(!(f.expirationTime>U)||G&&!I());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var ee=Y(f.expirationTime<=U);U=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),N(U)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var ae=n(u);ae!==null&&B(C,ae.startTime-U),z=!1}return z}finally{f=null,h=F,x=!1}}var A=!1,S=null,j=-1,E=5,R=-1;function I(){return!(t.unstable_now()-R<E)}function O(){if(S!==null){var G=t.unstable_now();R=G;var U=!0;try{U=S(!0,G)}finally{U?P():(A=!1,S=null)}}else A=!1}var P;if(typeof _=="function")P=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=O,P=function(){V.postMessage(null)}}else P=function(){v(O,0)};function L(G){S=G,A||(A=!0,P())}function B(G,U){j=v(function(){G(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,L(T))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return G()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,U){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=h;h=G;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(G,U,F){var Y=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Y+F:Y):F=Y,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,G={id:d++,callback:U,priorityLevel:G,startTime:F,expirationTime:ee,sortIndex:-1},F>Y?(G.sortIndex=F,e(u,G),n(c)===null&&G===n(u)&&(w?(y(j),j=-1):w=!0,B(C,F-Y))):(G.sortIndex=ee,e(c,G),b||x||(b=!0,L(T))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var U=h;return function(){var F=h;h=U;try{return G.apply(this,arguments)}finally{h=F}}}})(mR);pR.exports=mR;var SU=pR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EU=D,hr=SU;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gR=new Set,Ed={};function ko(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(Ed[t]=e,t=0;t<e.length;t++)gR.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xv=Object.prototype.hasOwnProperty,TU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OE={},DE={};function AU(t){return xv.call(DE,t)?!0:xv.call(OE,t)?!1:TU.test(t)?DE[t]=!0:(OE[t]=!0,!1)}function kU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CU(t,e,n,r){if(e===null||typeof e>"u"||kU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var j1=/[\-:]([a-z])/g;function I1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j1,I1);mn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j1,I1);mn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j1,I1);mn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function P1(t,e,n,r){var s=mn.hasOwnProperty(e)?mn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CU(e,n,s,r)&&(n=null),r||s===null?AU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=EU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),M1=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),bv=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),vR=Symbol.for("react.offscreen"),LE=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=LE&&t[LE]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,Qx;function Bu(t){if(Qx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qx=e&&e[1]||""}return`
`+Qx+t}var Zx=!1;function ey(t,e){if(!t||Zx)return"";Zx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Zx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function jU(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=ey(t.type,!1),t;case 11:return t=ey(t.type.render,!1),t;case 1:return t=ey(t.type,!0),t;default:return""}}function wv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case yv:return"Profiler";case R1:return"StrictMode";case vv:return"Suspense";case bv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yR:return(t.displayName||"Context")+".Consumer";case xR:return(t._context.displayName||"Context")+".Provider";case M1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O1:return e=t.displayName||null,e!==null?e:wv(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return wv(t(e))}catch{}}return null}function IU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wv(e);case 8:return e===R1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PU(t){var e=bR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dh(t){t._valueTracker||(t._valueTracker=PU(t))}function wR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _v(t,e){var n=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $E(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=la(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _R(t,e){e=e.checked,e!=null&&P1(t,"checked",e,!1)}function Nv(t,e){_R(t,e);var n=la(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sv(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sv(t,e,n){(e!=="number"||Yp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qu=Array.isArray;function _l(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+la(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(qu(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:la(n)}}function NR(t,e){var n=la(e.value),r=la(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function VE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lh,ER=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RU=["Webkit","ms","Moz","O"];Object.keys(ed).forEach(function(t){RU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ed[e]=ed[t]})});function TR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ed.hasOwnProperty(t)&&ed[t]?(""+e).trim():e+"px"}function AR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MU=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Av(t,e){if(e){if(MU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function kv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=null;function D1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jv=null,Nl=null,Sl=null;function BE(t){if(t=Wf(t)){if(typeof jv!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=a0(e),jv(t.stateNode,t.type,e))}}function kR(t){Nl?Sl?Sl.push(t):Sl=[t]:Nl=t}function CR(){if(Nl){var t=Nl,e=Sl;if(Sl=Nl=null,BE(t),e)for(t=0;t<e.length;t++)BE(e[t])}}function jR(t,e){return t(e)}function IR(){}var ty=!1;function PR(t,e,n){if(ty)return t(e,n);ty=!0;try{return jR(t,e,n)}finally{ty=!1,(Nl!==null||Sl!==null)&&(IR(),CR())}}function Ad(t,e){var n=t.stateNode;if(n===null)return null;var r=a0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Iv=!1;if(ti)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){Iv=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{Iv=!1}function OU(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var td=!1,Jp=null,Xp=!1,Pv=null,DU={onError:function(t){td=!0,Jp=t}};function LU(t,e,n,r,s,i,o,l,c){td=!1,Jp=null,OU.apply(DU,arguments)}function $U(t,e,n,r,s,i,o,l,c){if(LU.apply(this,arguments),td){if(td){var u=Jp;td=!1,Jp=null}else throw Error(fe(198));Xp||(Xp=!0,Pv=u)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qE(t){if(Co(t)!==t)throw Error(fe(188))}function UU(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qE(s),t;if(i===r)return qE(s),e;i=i.sibling}throw Error(fe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function MR(t){return t=UU(t),t!==null?OR(t):null}function OR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OR(t);if(e!==null)return e;t=t.sibling}return null}var DR=hr.unstable_scheduleCallback,zE=hr.unstable_cancelCallback,FU=hr.unstable_shouldYield,VU=hr.unstable_requestPaint,Lt=hr.unstable_now,BU=hr.unstable_getCurrentPriorityLevel,L1=hr.unstable_ImmediatePriority,LR=hr.unstable_UserBlockingPriority,Qp=hr.unstable_NormalPriority,qU=hr.unstable_LowPriority,$R=hr.unstable_IdlePriority,n0=null,gs=null;function zU(t){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(n0,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:WU,GU=Math.log,HU=Math.LN2;function WU(t){return t>>>=0,t===0?32:31-(GU(t)/HU|0)|0}var $h=64,Uh=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=zu(l):(i&=o,i!==0&&(r=zu(i)))}else o=n&~s,o!==0?r=zu(o):i!==0&&(r=zu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),s=1<<n,r|=t[n],e&=~s;return r}function KU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=KU(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UR(){var t=$h;return $h<<=1,!($h&4194240)&&($h=64),t}function ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function JU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var it=0;function FR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VR,U1,BR,qR,zR,Mv=!1,Fh=[],Wi=null,Ki=null,Yi=null,kd=new Map,Cd=new Map,Mi=[],XU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":kd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(e.pointerId)}}function _u(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wf(e),e!==null&&U1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function QU(t,e,n,r,s){switch(e){case"focusin":return Wi=_u(Wi,t,e,n,r,s),!0;case"dragenter":return Ki=_u(Ki,t,e,n,r,s),!0;case"mouseover":return Yi=_u(Yi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return kd.set(i,_u(kd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cd.set(i,_u(Cd.get(i)||null,t,e,n,r,s)),!0}return!1}function GR(t){var e=qa(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=RR(n),e!==null){t.blockedOn=e,zR(t.priority,function(){BR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ov(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cv=r,n.target.dispatchEvent(r),Cv=null}else return e=Wf(n),e!==null&&U1(e),t.blockedOn=n,!1;e.shift()}return!0}function HE(t,e,n){Ep(t)&&n.delete(e)}function ZU(){Mv=!1,Wi!==null&&Ep(Wi)&&(Wi=null),Ki!==null&&Ep(Ki)&&(Ki=null),Yi!==null&&Ep(Yi)&&(Yi=null),kd.forEach(HE),Cd.forEach(HE)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,ZU)))}function jd(t){function e(s){return Nu(s,t)}if(0<Fh.length){Nu(Fh[0],t);for(var n=1;n<Fh.length;n++){var r=Fh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&Nu(Wi,t),Ki!==null&&Nu(Ki,t),Yi!==null&&Nu(Yi,t),kd.forEach(e),Cd.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)GR(n),n.blockedOn===null&&Mi.shift()}var El=gi.ReactCurrentBatchConfig,em=!0;function eF(t,e,n,r){var s=it,i=El.transition;El.transition=null;try{it=1,F1(t,e,n,r)}finally{it=s,El.transition=i}}function tF(t,e,n,r){var s=it,i=El.transition;El.transition=null;try{it=4,F1(t,e,n,r)}finally{it=s,El.transition=i}}function F1(t,e,n,r){if(em){var s=Ov(t,e,n,r);if(s===null)fy(t,e,r,tm,n),GE(t,r);else if(QU(s,t,e,n,r))r.stopPropagation();else if(GE(t,r),e&4&&-1<XU.indexOf(t)){for(;s!==null;){var i=Wf(s);if(i!==null&&VR(i),i=Ov(t,e,n,r),i===null&&fy(t,e,r,tm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fy(t,e,r,null,n)}}var tm=null;function Ov(t,e,n,r){if(tm=null,t=D1(r),t=qa(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tm=t,null}function HR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BU()){case L1:return 1;case LR:return 4;case Qp:case qU:return 16;case $R:return 536870912;default:return 16}default:return 16}}var Fi=null,V1=null,Tp=null;function WR(){if(Tp)return Tp;var t,e=V1,n=e.length,r,s="value"in Fi?Fi.value:Fi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tp=s.slice(t,1<r?1-r:void 0)}function Ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vh(){return!0}function WE(){return!1}function mr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vh:WE,this.isPropagationStopped=WE,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),e}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=mr(Oc),Hf=Ct({},Oc,{view:0,detail:0}),nF=mr(Hf),ry,sy,Su,r0=Ct({},Hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Su&&(Su&&t.type==="mousemove"?(ry=t.screenX-Su.screenX,sy=t.screenY-Su.screenY):sy=ry=0,Su=t),ry)},movementY:function(t){return"movementY"in t?t.movementY:sy}}),KE=mr(r0),rF=Ct({},r0,{dataTransfer:0}),sF=mr(rF),iF=Ct({},Hf,{relatedTarget:0}),iy=mr(iF),aF=Ct({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),oF=mr(aF),lF=Ct({},Oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cF=mr(lF),uF=Ct({},Oc,{data:0}),YE=mr(uF),dF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hF[t])?!!e[t]:!1}function q1(){return pF}var mF=Ct({},Hf,{key:function(t){if(t.key){var e=dF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(t){return t.type==="keypress"?Ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gF=mr(mF),xF=Ct({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JE=mr(xF),yF=Ct({},Hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),vF=mr(yF),bF=Ct({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wF=mr(bF),_F=Ct({},r0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NF=mr(_F),SF=[9,13,27,32],z1=ti&&"CompositionEvent"in window,nd=null;ti&&"documentMode"in document&&(nd=document.documentMode);var EF=ti&&"TextEvent"in window&&!nd,KR=ti&&(!z1||nd&&8<nd&&11>=nd),XE=" ",QE=!1;function YR(t,e){switch(t){case"keyup":return SF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function TF(t,e){switch(t){case"compositionend":return JR(e);case"keypress":return e.which!==32?null:(QE=!0,XE);case"textInput":return t=e.data,t===XE&&QE?null:t;default:return null}}function AF(t,e){if(rl)return t==="compositionend"||!z1&&YR(t,e)?(t=WR(),Tp=V1=Fi=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KR&&e.locale!=="ko"?null:e.data;default:return null}}var kF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kF[t.type]:e==="textarea"}function XR(t,e,n,r){kR(r),e=nm(e,"onChange"),0<e.length&&(n=new B1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rd=null,Id=null;function CF(t){lM(t,0)}function s0(t){var e=al(t);if(wR(e))return t}function jF(t,e){if(t==="change")return e}var QR=!1;if(ti){var ay;if(ti){var oy="oninput"in document;if(!oy){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),oy=typeof e2.oninput=="function"}ay=oy}else ay=!1;QR=ay&&(!document.documentMode||9<document.documentMode)}function t2(){rd&&(rd.detachEvent("onpropertychange",ZR),Id=rd=null)}function ZR(t){if(t.propertyName==="value"&&s0(Id)){var e=[];XR(e,Id,t,D1(t)),PR(CF,e)}}function IF(t,e,n){t==="focusin"?(t2(),rd=e,Id=n,rd.attachEvent("onpropertychange",ZR)):t==="focusout"&&t2()}function PF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s0(Id)}function RF(t,e){if(t==="click")return s0(e)}function MF(t,e){if(t==="input"||t==="change")return s0(e)}function OF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rs=typeof Object.is=="function"?Object.is:OF;function Pd(t,e){if(rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xv.call(e,s)||!rs(t[s],e[s]))return!1}return!0}function n2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r2(t,e){var n=n2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n2(n)}}function eM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tM(){for(var t=window,e=Yp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yp(t.document)}return e}function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DF(t){var e=tM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eM(n.ownerDocument.documentElement,n)){if(r!==null&&G1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=r2(n,i);var o=r2(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LF=ti&&"documentMode"in document&&11>=document.documentMode,sl=null,Dv=null,sd=null,Lv=!1;function s2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lv||sl==null||sl!==Yp(r)||(r=sl,"selectionStart"in r&&G1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sd&&Pd(sd,r)||(sd=r,r=nm(Dv,"onSelect"),0<r.length&&(e=new B1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sl)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},ly={},nM={};ti&&(nM=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function i0(t){if(ly[t])return ly[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nM)return ly[t]=e[n];return t}var rM=i0("animationend"),sM=i0("animationiteration"),iM=i0("animationstart"),aM=i0("transitionend"),oM=new Map,i2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,e){oM.set(t,e),ko(e,[t])}for(var cy=0;cy<i2.length;cy++){var uy=i2[cy],$F=uy.toLowerCase(),UF=uy[0].toUpperCase()+uy.slice(1);ya($F,"on"+UF)}ya(rM,"onAnimationEnd");ya(sM,"onAnimationIteration");ya(iM,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(aM,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function a2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$U(r,e,void 0,t),t.currentTarget=null}function lM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;a2(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;a2(s,l,u),i=c}}}if(Xp)throw t=Pv,Xp=!1,Pv=null,t}function bt(t,e){var n=e[Bv];n===void 0&&(n=e[Bv]=new Set);var r=t+"__bubble";n.has(r)||(cM(e,t,2,!1),n.add(r))}function dy(t,e,n){var r=0;e&&(r|=4),cM(n,t,r,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[qh]){t[qh]=!0,gR.forEach(function(n){n!=="selectionchange"&&(FF.has(n)||dy(n,!1,t),dy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,dy("selectionchange",!1,e))}}function cM(t,e,n,r){switch(HR(e)){case 1:var s=eF;break;case 4:s=tF;break;default:s=F1}n=s.bind(null,e,n,t),s=void 0,!Iv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qa(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}PR(function(){var u=i,d=D1(n),f=[];e:{var h=oM.get(t);if(h!==void 0){var x=B1,b=t;switch(t){case"keypress":if(Ap(n)===0)break e;case"keydown":case"keyup":x=gF;break;case"focusin":b="focus",x=iy;break;case"focusout":b="blur",x=iy;break;case"beforeblur":case"afterblur":x=iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=KE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=sF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=vF;break;case rM:case sM:case iM:x=oF;break;case aM:x=wF;break;case"scroll":x=nF;break;case"wheel":x=NF;break;case"copy":case"cut":case"paste":x=cF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=JE}var w=(e&4)!==0,v=!w&&t==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var _=u,N;_!==null;){N=_;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,y!==null&&(C=Ad(_,y),C!=null&&w.push(Md(_,C,N)))),v)break;_=_.return}0<w.length&&(h=new x(h,b,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==Cv&&(b=n.relatedTarget||n.fromElement)&&(qa(b)||b[ni]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=u,b=b?qa(b):null,b!==null&&(v=Co(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(w=KE,C="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=JE,C="onPointerLeave",y="onPointerEnter",_="pointer"),v=x==null?h:al(x),N=b==null?h:al(b),h=new w(C,_+"leave",x,n,d),h.target=v,h.relatedTarget=N,C=null,qa(d)===u&&(w=new w(y,_+"enter",b,n,d),w.target=N,w.relatedTarget=v,C=w),v=C,x&&b)t:{for(w=x,y=b,_=0,N=w;N;N=zo(N))_++;for(N=0,C=y;C;C=zo(C))N++;for(;0<_-N;)w=zo(w),_--;for(;0<N-_;)y=zo(y),N--;for(;_--;){if(w===y||y!==null&&w===y.alternate)break t;w=zo(w),y=zo(y)}w=null}else w=null;x!==null&&o2(f,h,x,w,!1),b!==null&&v!==null&&o2(f,v,b,w,!0)}}e:{if(h=u?al(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var T=jF;else if(ZE(h))if(QR)T=MF;else{T=PF;var A=IF}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=RF);if(T&&(T=T(t,u))){XR(f,T,n,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Sv(h,"number",h.value)}switch(A=u?al(u):window,t){case"focusin":(ZE(A)||A.contentEditable==="true")&&(sl=A,Dv=u,sd=null);break;case"focusout":sd=Dv=sl=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,s2(f,n,d);break;case"selectionchange":if(LF)break;case"keydown":case"keyup":s2(f,n,d)}var S;if(z1)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rl?YR(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(KR&&n.locale!=="ko"&&(rl||j!=="onCompositionStart"?j==="onCompositionEnd"&&rl&&(S=WR()):(Fi=d,V1="value"in Fi?Fi.value:Fi.textContent,rl=!0)),A=nm(u,j),0<A.length&&(j=new YE(j,t,null,n,d),f.push({event:j,listeners:A}),S?j.data=S:(S=JR(n),S!==null&&(j.data=S)))),(S=EF?TF(t,n):AF(t,n))&&(u=nm(u,"onBeforeInput"),0<u.length&&(d=new YE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}lM(f,e)})}function Md(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ad(t,n),i!=null&&r.unshift(Md(t,i,s)),i=Ad(t,e),i!=null&&r.push(Md(t,i,s))),t=t.return}return r}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ad(n,i),c!=null&&o.unshift(Md(n,c,l))):s||(c=Ad(n,i),c!=null&&o.push(Md(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VF=/\r\n?/g,BF=/\u0000|\uFFFD/g;function l2(t){return(typeof t=="string"?t:""+t).replace(VF,`
`).replace(BF,"")}function zh(t,e,n){if(e=l2(e),l2(t)!==e&&n)throw Error(fe(425))}function rm(){}var $v=null,Uv=null;function Fv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,qF=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,zF=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(t){return c2.resolve(null).then(t).catch(GF)}:Vv;function GF(t){setTimeout(function(){throw t})}function hy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jd(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),hs="__reactFiber$"+Dc,Od="__reactProps$"+Dc,ni="__reactContainer$"+Dc,Bv="__reactEvents$"+Dc,HF="__reactListeners$"+Dc,WF="__reactHandles$"+Dc;function qa(t){var e=t[hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u2(t);t!==null;){if(n=t[hs])return n;t=u2(t)}return e}t=n,n=t.parentNode}return null}function Wf(t){return t=t[hs]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function a0(t){return t[Od]||null}var qv=[],ol=-1;function va(t){return{current:t}}function Nt(t){0>ol||(t.current=qv[ol],qv[ol]=null,ol--)}function xt(t,e){ol++,qv[ol]=t.current,t.current=e}var ca={},Pn=va(ca),er=va(!1),lo=ca;function Vl(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tr(t){return t=t.childContextTypes,t!=null}function sm(){Nt(er),Nt(Pn)}function d2(t,e,n){if(Pn.current!==ca)throw Error(fe(168));xt(Pn,e),xt(er,n)}function uM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(fe(108,IU(t)||"Unknown",s));return Ct({},n,r)}function im(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,lo=Pn.current,xt(Pn,t),xt(er,er.current),!0}function f2(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=uM(t,e,lo),r.__reactInternalMemoizedMergedChildContext=t,Nt(er),Nt(Pn),xt(Pn,t)):Nt(er),xt(er,n)}var Us=null,o0=!1,py=!1;function dM(t){Us===null?Us=[t]:Us.push(t)}function KF(t){o0=!0,dM(t)}function ba(){if(!py&&Us!==null){py=!0;var t=0,e=it;try{var n=Us;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,o0=!1}catch(s){throw Us!==null&&(Us=Us.slice(t+1)),DR(L1,ba),s}finally{it=e,py=!1}}return null}var ll=[],cl=0,am=null,om=0,_r=[],Nr=0,co=null,Vs=1,Bs="";function Oa(t,e){ll[cl++]=om,ll[cl++]=am,am=t,om=e}function fM(t,e,n){_r[Nr++]=Vs,_r[Nr++]=Bs,_r[Nr++]=co,co=t;var r=Vs;t=Bs;var s=32-Xr(r)-1;r&=~(1<<s),n+=1;var i=32-Xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vs=1<<32-Xr(e)+s|n<<s|r,Bs=i+t}else Vs=1<<i|n<<s|r,Bs=t}function H1(t){t.return!==null&&(Oa(t,1),fM(t,1,0))}function W1(t){for(;t===am;)am=ll[--cl],ll[cl]=null,om=ll[--cl],ll[cl]=null;for(;t===co;)co=_r[--Nr],_r[Nr]=null,Bs=_r[--Nr],_r[Nr]=null,Vs=_r[--Nr],_r[Nr]=null}var dr=null,cr=null,Et=!1,Yr=null;function hM(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function h2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,cr=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=co!==null?{id:Vs,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,cr=null,!0):!1;default:return!1}}function zv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gv(t){if(Et){var e=cr;if(e){var n=e;if(!h2(t,e)){if(zv(t))throw Error(fe(418));e=Ji(n.nextSibling);var r=dr;e&&h2(t,e)?hM(r,n):(t.flags=t.flags&-4097|2,Et=!1,dr=t)}}else{if(zv(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Et=!1,dr=t}}}function p2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function Gh(t){if(t!==dr)return!1;if(!Et)return p2(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fv(t.type,t.memoizedProps)),e&&(e=cr)){if(zv(t))throw pM(),Error(fe(418));for(;e;)hM(t,e),e=Ji(e.nextSibling)}if(p2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=dr?Ji(t.stateNode.nextSibling):null;return!0}function pM(){for(var t=cr;t;)t=Ji(t.nextSibling)}function Bl(){cr=dr=null,Et=!1}function K1(t){Yr===null?Yr=[t]:Yr.push(t)}var YF=gi.ReactCurrentBatchConfig;function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Hh(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m2(t){var e=t._init;return e(t._payload)}function mM(t){function e(y,_){if(t){var N=y.deletions;N===null?(y.deletions=[_],y.flags|=16):N.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(y,_){return y=ea(y,_),y.index=0,y.sibling=null,y}function i(y,_,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<_?(y.flags|=2,_):N):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,_,N,C){return _===null||_.tag!==6?(_=wy(N,y.mode,C),_.return=y,_):(_=s(_,N),_.return=y,_)}function c(y,_,N,C){var T=N.type;return T===nl?d(y,_,N.props.children,C,N.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ji&&m2(T)===_.type)?(C=s(_,N.props),C.ref=Eu(y,_,N),C.return=y,C):(C=Mp(N.type,N.key,N.props,null,y.mode,C),C.ref=Eu(y,_,N),C.return=y,C)}function u(y,_,N,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=_y(N,y.mode,C),_.return=y,_):(_=s(_,N.children||[]),_.return=y,_)}function d(y,_,N,C,T){return _===null||_.tag!==7?(_=eo(N,y.mode,C,T),_.return=y,_):(_=s(_,N),_.return=y,_)}function f(y,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wy(""+_,y.mode,N),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oh:return N=Mp(_.type,_.key,_.props,null,y.mode,N),N.ref=Eu(y,null,_),N.return=y,N;case tl:return _=_y(_,y.mode,N),_.return=y,_;case ji:var C=_._init;return f(y,C(_._payload),N)}if(qu(_)||bu(_))return _=eo(_,y.mode,N,null),_.return=y,_;Hh(y,_)}return null}function h(y,_,N,C){var T=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return T!==null?null:l(y,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Oh:return N.key===T?c(y,_,N,C):null;case tl:return N.key===T?u(y,_,N,C):null;case ji:return T=N._init,h(y,_,T(N._payload),C)}if(qu(N)||bu(N))return T!==null?null:d(y,_,N,C,null);Hh(y,N)}return null}function x(y,_,N,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(N)||null,l(_,y,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Oh:return y=y.get(C.key===null?N:C.key)||null,c(_,y,C,T);case tl:return y=y.get(C.key===null?N:C.key)||null,u(_,y,C,T);case ji:var A=C._init;return x(y,_,N,A(C._payload),T)}if(qu(C)||bu(C))return y=y.get(N)||null,d(_,y,C,T,null);Hh(_,C)}return null}function b(y,_,N,C){for(var T=null,A=null,S=_,j=_=0,E=null;S!==null&&j<N.length;j++){S.index>j?(E=S,S=null):E=S.sibling;var R=h(y,S,N[j],C);if(R===null){S===null&&(S=E);break}t&&S&&R.alternate===null&&e(y,S),_=i(R,_,j),A===null?T=R:A.sibling=R,A=R,S=E}if(j===N.length)return n(y,S),Et&&Oa(y,j),T;if(S===null){for(;j<N.length;j++)S=f(y,N[j],C),S!==null&&(_=i(S,_,j),A===null?T=S:A.sibling=S,A=S);return Et&&Oa(y,j),T}for(S=r(y,S);j<N.length;j++)E=x(S,y,j,N[j],C),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?j:E.key),_=i(E,_,j),A===null?T=E:A.sibling=E,A=E);return t&&S.forEach(function(I){return e(y,I)}),Et&&Oa(y,j),T}function w(y,_,N,C){var T=bu(N);if(typeof T!="function")throw Error(fe(150));if(N=T.call(N),N==null)throw Error(fe(151));for(var A=T=null,S=_,j=_=0,E=null,R=N.next();S!==null&&!R.done;j++,R=N.next()){S.index>j?(E=S,S=null):E=S.sibling;var I=h(y,S,R.value,C);if(I===null){S===null&&(S=E);break}t&&S&&I.alternate===null&&e(y,S),_=i(I,_,j),A===null?T=I:A.sibling=I,A=I,S=E}if(R.done)return n(y,S),Et&&Oa(y,j),T;if(S===null){for(;!R.done;j++,R=N.next())R=f(y,R.value,C),R!==null&&(_=i(R,_,j),A===null?T=R:A.sibling=R,A=R);return Et&&Oa(y,j),T}for(S=r(y,S);!R.done;j++,R=N.next())R=x(S,y,j,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?j:R.key),_=i(R,_,j),A===null?T=R:A.sibling=R,A=R);return t&&S.forEach(function(O){return e(y,O)}),Et&&Oa(y,j),T}function v(y,_,N,C){if(typeof N=="object"&&N!==null&&N.type===nl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Oh:e:{for(var T=N.key,A=_;A!==null;){if(A.key===T){if(T=N.type,T===nl){if(A.tag===7){n(y,A.sibling),_=s(A,N.props.children),_.return=y,y=_;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ji&&m2(T)===A.type){n(y,A.sibling),_=s(A,N.props),_.ref=Eu(y,A,N),_.return=y,y=_;break e}n(y,A);break}else e(y,A);A=A.sibling}N.type===nl?(_=eo(N.props.children,y.mode,C,N.key),_.return=y,y=_):(C=Mp(N.type,N.key,N.props,null,y.mode,C),C.ref=Eu(y,_,N),C.return=y,y=C)}return o(y);case tl:e:{for(A=N.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(y,_.sibling),_=s(_,N.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=_y(N,y.mode,C),_.return=y,y=_}return o(y);case ji:return A=N._init,v(y,_,A(N._payload),C)}if(qu(N))return b(y,_,N,C);if(bu(N))return w(y,_,N,C);Hh(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(y,_.sibling),_=s(_,N),_.return=y,y=_):(n(y,_),_=wy(N,y.mode,C),_.return=y,y=_),o(y)):n(y,_)}return v}var ql=mM(!0),gM=mM(!1),lm=va(null),cm=null,ul=null,Y1=null;function J1(){Y1=ul=cm=null}function X1(t){var e=lm.current;Nt(lm),t._currentValue=e}function Hv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tl(t,e){cm=t,Y1=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Rr(t){var e=t._currentValue;if(Y1!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(cm===null)throw Error(fe(308));ul=t,cm.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var za=null;function Q1(t){za===null?za=[t]:za.push(t)}function xM(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Q1(e)):(n.next=s.next,s.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function Z1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ri(t,n)}return s=r.interleaved,s===null?(e.next=e,Q1(r)):(e.next=s.next,s.next=e),r.interleaved=e,ri(t,n)}function kp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$1(t,n)}}function g2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function um(t,e,n,r){var s=t.updateQueue;Ii=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,w=l;switch(h=e,x=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(x,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(x,f,h):b,h==null)break e;f=Ct({},f,h);break e;case 2:Ii=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fo|=o,t.lanes=o,t.memoizedState=f}}function x2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(fe(191,s));s.call(r)}}}var Kf={},xs=va(Kf),Dd=va(Kf),Ld=va(Kf);function Ga(t){if(t===Kf)throw Error(fe(174));return t}function e_(t,e){switch(xt(Ld,e),xt(Dd,t),xt(xs,Kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tv(e,t)}Nt(xs),xt(xs,e)}function zl(){Nt(xs),Nt(Dd),Nt(Ld)}function vM(t){Ga(Ld.current);var e=Ga(xs.current),n=Tv(e,t.type);e!==n&&(xt(Dd,t),xt(xs,n))}function t_(t){Dd.current===t&&(Nt(xs),Nt(Dd))}var At=va(0);function dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var my=[];function n_(){for(var t=0;t<my.length;t++)my[t]._workInProgressVersionPrimary=null;my.length=0}var Cp=gi.ReactCurrentDispatcher,gy=gi.ReactCurrentBatchConfig,uo=0,kt=null,Ht=null,tn=null,fm=!1,id=!1,$d=0,JF=0;function wn(){throw Error(fe(321))}function r_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rs(t[n],e[n]))return!1;return!0}function s_(t,e,n,r,s,i){if(uo=i,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cp.current=t===null||t.memoizedState===null?eV:tV,t=n(r,s),id){i=0;do{if(id=!1,$d=0,25<=i)throw Error(fe(301));i+=1,tn=Ht=null,e.updateQueue=null,Cp.current=nV,t=n(r,s)}while(id)}if(Cp.current=hm,e=Ht!==null&&Ht.next!==null,uo=0,tn=Ht=kt=null,fm=!1,e)throw Error(fe(300));return t}function i_(){var t=$d!==0;return $d=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?kt.memoizedState=tn=t:tn=tn.next=t,tn}function Mr(){if(Ht===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=tn===null?kt.memoizedState:tn.next;if(e!==null)tn=e,Ht=t;else{if(t===null)throw Error(fe(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tn===null?kt.memoizedState=tn=t:tn=tn.next=t}return tn}function Ud(t,e){return typeof e=="function"?e(t):e}function xy(t){var e=Mr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=Ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((uo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,kt.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,rs(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,kt.lanes|=i,fo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yy(t){var e=Mr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rs(i,e.memoizedState)||(Qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bM(){}function wM(t,e){var n=kt,r=Mr(),s=e(),i=!rs(r.memoizedState,s);if(i&&(r.memoizedState=s,Qn=!0),r=r.queue,a_(SM.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,Fd(9,NM.bind(null,n,r,s,e),void 0,null),sn===null)throw Error(fe(349));uo&30||_M(n,e,s)}return s}function _M(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NM(t,e,n,r){e.value=n,e.getSnapshot=r,EM(e)&&TM(t)}function SM(t,e,n){return n(function(){EM(e)&&TM(t)})}function EM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rs(t,n)}catch{return!0}}function TM(t){var e=ri(t,1);e!==null&&Qr(e,t,1,-1)}function y2(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:t},e.queue=t,t=t.dispatch=ZF.bind(null,kt,t),[e.memoizedState,t]}function Fd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AM(){return Mr().memoizedState}function jp(t,e,n,r){var s=fs();kt.flags|=t,s.memoizedState=Fd(1|e,n,void 0,r===void 0?null:r)}function l0(t,e,n,r){var s=Mr();r=r===void 0?null:r;var i=void 0;if(Ht!==null){var o=Ht.memoizedState;if(i=o.destroy,r!==null&&r_(r,o.deps)){s.memoizedState=Fd(e,n,i,r);return}}kt.flags|=t,s.memoizedState=Fd(1|e,n,i,r)}function v2(t,e){return jp(8390656,8,t,e)}function a_(t,e){return l0(2048,8,t,e)}function kM(t,e){return l0(4,2,t,e)}function CM(t,e){return l0(4,4,t,e)}function jM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IM(t,e,n){return n=n!=null?n.concat([t]):null,l0(4,4,jM.bind(null,e,t),n)}function o_(){}function PM(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RM(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MM(t,e,n){return uo&21?(rs(n,e)||(n=UR(),kt.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function XF(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=gy.transition;gy.transition={};try{t(!1),e()}finally{it=n,gy.transition=r}}function OM(){return Mr().memoizedState}function QF(t,e,n){var r=Zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DM(t))LM(e,n);else if(n=xM(t,e,n,r),n!==null){var s=Fn();Qr(n,t,r,s),$M(n,e,r)}}function ZF(t,e,n){var r=Zi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DM(t))LM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,rs(l,o)){var c=e.interleaved;c===null?(s.next=s,Q1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=xM(t,e,s,r),n!==null&&(s=Fn(),Qr(n,t,r,s),$M(n,e,r))}}function DM(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function LM(t,e){id=fm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $M(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$1(t,n)}}var hm={readContext:Rr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},eV={readContext:Rr,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:Rr,useEffect:v2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jp(4194308,4,jM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return jp(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QF.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:y2,useDebugValue:o_,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=y2(!1),e=t[0];return t=XF.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,s=fs();if(Et){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),sn===null)throw Error(fe(349));uo&30||_M(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,v2(SM.bind(null,r,i,t),[t]),r.flags|=2048,Fd(9,NM.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fs(),e=sn.identifierPrefix;if(Et){var n=Bs,r=Vs;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$d++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tV={readContext:Rr,useCallback:PM,useContext:Rr,useEffect:a_,useImperativeHandle:IM,useInsertionEffect:kM,useLayoutEffect:CM,useMemo:RM,useReducer:xy,useRef:AM,useState:function(){return xy(Ud)},useDebugValue:o_,useDeferredValue:function(t){var e=Mr();return MM(e,Ht.memoizedState,t)},useTransition:function(){var t=xy(Ud)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:OM,unstable_isNewReconciler:!1},nV={readContext:Rr,useCallback:PM,useContext:Rr,useEffect:a_,useImperativeHandle:IM,useInsertionEffect:kM,useLayoutEffect:CM,useMemo:RM,useReducer:yy,useRef:AM,useState:function(){return yy(Ud)},useDebugValue:o_,useDeferredValue:function(t){var e=Mr();return Ht===null?e.memoizedState=t:MM(e,Ht.memoizedState,t)},useTransition:function(){var t=yy(Ud)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:wM,useId:OM,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var c0={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Zi(t),i=Ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,s),e!==null&&(Qr(e,t,s,r),kp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Zi(t),i=Ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,s),e!==null&&(Qr(e,t,s,r),kp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=Zi(t),s=Ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=Xi(t,s,r),e!==null&&(Qr(e,t,r,n),kp(e,t,r))}};function b2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Pd(n,r)||!Pd(s,i):!0}function UM(t,e,n){var r=!1,s=ca,i=e.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(s=tr(e)?lo:Pn.current,r=e.contextTypes,i=(r=r!=null)?Vl(t,s):ca),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=c0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function w2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&c0.enqueueReplaceState(e,e.state,null)}function Kv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Z1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rr(i):(i=tr(e)?lo:Pn.current,s.context=Vl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&c0.enqueueReplaceState(s,s.state,null),um(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gl(t,e){try{var n="",r=e;do n+=jU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rV=typeof WeakMap=="function"?WeakMap:Map;function FM(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mm||(mm=!0,ib=r),Yv(t,e)},n}function VM(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yv(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xV.bind(null,t,e,n),e.then(t,t))}function N2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var sV=gi.ReactCurrentOwner,Qn=!1;function Dn(t,e,n,r){e.child=t===null?gM(e,null,n,r):ql(e,t.child,n,r)}function E2(t,e,n,r,s){n=n.render;var i=e.ref;return Tl(e,s),r=s_(t,e,n,r,i,s),n=i_(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(Et&&n&&H1(e),e.flags|=1,Dn(t,e,r,s),e.child)}function T2(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!m_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,BM(t,e,i,r,s)):(t=Mp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pd,n(o,r)&&t.ref===e.ref)return si(t,e,s)}return e.flags|=1,t=ea(i,r),t.ref=e.ref,t.return=e,e.child=t}function BM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Pd(i,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,si(t,e,s)}return Jv(t,e,n,r,s)}function qM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(fl,ar),ar|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(fl,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xt(fl,ar),ar|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,xt(fl,ar),ar|=r;return Dn(t,e,s,n),e.child}function zM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jv(t,e,n,r,s){var i=tr(n)?lo:Pn.current;return i=Vl(e,i),Tl(e,s),n=s_(t,e,n,r,i,s),r=i_(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(Et&&r&&H1(e),e.flags|=1,Dn(t,e,n,s),e.child)}function A2(t,e,n,r,s){if(tr(n)){var i=!0;im(e)}else i=!1;if(Tl(e,s),e.stateNode===null)Ip(t,e),UM(e,n,r),Kv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=tr(n)?lo:Pn.current,u=Vl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&w2(e,o,r,u),Ii=!1;var h=e.memoizedState;o.state=h,um(e,r,o,s),c=e.memoizedState,l!==r||h!==c||er.current||Ii?(typeof d=="function"&&(Wv(e,n,d,r),c=e.memoizedState),(l=Ii||b2(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yM(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Hr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=tr(n)?lo:Pn.current,c=Vl(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&w2(e,o,r,c),Ii=!1,h=e.memoizedState,o.state=h,um(e,r,o,s);var b=e.memoizedState;l!==f||h!==b||er.current||Ii?(typeof x=="function"&&(Wv(e,n,x,r),b=e.memoizedState),(u=Ii||b2(e,n,u,r,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xv(t,e,n,r,i,s)}function Xv(t,e,n,r,s,i){zM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&f2(e,n,!1),si(t,e,i);r=e.stateNode,sV.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ql(e,t.child,null,i),e.child=ql(e,null,l,i)):Dn(t,e,l,i),e.memoizedState=r.state,s&&f2(e,n,!0),e.child}function GM(t){var e=t.stateNode;e.pendingContext?d2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d2(t,e.context,!1),e_(t,e.containerInfo)}function k2(t,e,n,r,s){return Bl(),K1(s),e.flags|=256,Dn(t,e,n,r),e.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Zv(t){return{baseLanes:t,cachePool:null,transitions:null}}function HM(t,e,n){var r=e.pendingProps,s=At.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xt(At,s&1),t===null)return Gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=f0(o,r,0,null),t=eo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zv(n),e.memoizedState=Qv,t):l_(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return iV(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ea(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ea(l,i):(i=eo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qv,r}return i=t.child,t=i.sibling,r=ea(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function l_(t,e){return e=f0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wh(t,e,n,r){return r!==null&&K1(r),ql(e,t.child,null,n),t=l_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vy(Error(fe(422))),Wh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=f0({mode:"visible",children:r.children},s,0,null),i=eo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ql(e,t.child,null,o),e.child.memoizedState=Zv(o),e.memoizedState=Qv,i);if(!(e.mode&1))return Wh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(fe(419)),r=vy(i,r,void 0),Wh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Qn||l){if(r=sn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ri(t,s),Qr(r,t,s,-1))}return p_(),r=vy(Error(fe(421))),Wh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cr=Ji(s.nextSibling),dr=e,Et=!0,Yr=null,t!==null&&(_r[Nr++]=Vs,_r[Nr++]=Bs,_r[Nr++]=co,Vs=t.id,Bs=t.overflow,co=e),e=l_(e,r.children),e.flags|=4096,e)}function C2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hv(t.return,e,n)}function by(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function WM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Dn(t,e,r.children,n),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C2(t,n,e);else if(t.tag===19)C2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(At,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&dm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),by(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&dm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}by(e,!0,n,null,i);break;case"together":by(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aV(t,e,n){switch(e.tag){case 3:GM(e),Bl();break;case 5:vM(e);break;case 1:tr(e.type)&&im(e);break;case 4:e_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xt(lm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(At,At.current&1),e.flags|=128,null):n&e.child.childLanes?HM(t,e,n):(xt(At,At.current&1),t=si(t,e,n),t!==null?t.sibling:null);xt(At,At.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,qM(t,e,n)}return si(t,e,n)}var KM,eb,YM,JM;KM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eb=function(){};YM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ga(xs.current);var i=null;switch(n){case"input":s=_v(t,s),r=_v(t,r),i=[];break;case"select":s=Ct({},s,{value:void 0}),r=Ct({},r,{value:void 0}),i=[];break;case"textarea":s=Ev(t,s),r=Ev(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rm)}Av(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ed.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};JM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tu(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oV(t,e,n){var r=e.pendingProps;switch(W1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return tr(e.type)&&sm(),_n(e),null;case 3:return r=e.stateNode,zl(),Nt(er),Nt(Pn),n_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yr!==null&&(lb(Yr),Yr=null))),eb(t,e),_n(e),null;case 5:t_(e);var s=Ga(Ld.current);if(n=e.type,t!==null&&e.stateNode!=null)YM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return _n(e),null}if(t=Ga(xs.current),Gh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hs]=e,r[Od]=i,t=(e.mode&1)!==0,n){case"dialog":bt("cancel",r),bt("close",r);break;case"iframe":case"object":case"embed":bt("load",r);break;case"video":case"audio":for(s=0;s<Gu.length;s++)bt(Gu[s],r);break;case"source":bt("error",r);break;case"img":case"image":case"link":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"input":$E(r,i),bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},bt("invalid",r);break;case"textarea":FE(r,i),bt("invalid",r)}Av(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&zh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zh(r.textContent,l,t),s=["children",""+l]):Ed.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&bt("scroll",r)}switch(n){case"input":Dh(r),UE(r,i,!0);break;case"textarea":Dh(r),VE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=rm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hs]=e,t[Od]=r,KM(t,e,!1,!1),e.stateNode=t;e:{switch(o=kv(n,r),n){case"dialog":bt("cancel",t),bt("close",t),s=r;break;case"iframe":case"object":case"embed":bt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gu.length;s++)bt(Gu[s],t);s=r;break;case"source":bt("error",t),s=r;break;case"img":case"image":case"link":bt("error",t),bt("load",t),s=r;break;case"details":bt("toggle",t),s=r;break;case"input":$E(t,r),s=_v(t,r),bt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ct({},r,{value:void 0}),bt("invalid",t);break;case"textarea":FE(t,r),s=Ev(t,r),bt("invalid",t);break;default:s=r}Av(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?AR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ER(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Td(t,c):typeof c=="number"&&Td(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ed.hasOwnProperty(i)?c!=null&&i==="onScroll"&&bt("scroll",t):c!=null&&P1(t,i,c,o))}switch(n){case"input":Dh(t),UE(t,r,!1);break;case"textarea":Dh(t),VE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+la(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?_l(t,!!r.multiple,i,!1):r.defaultValue!=null&&_l(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)JM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Ga(Ld.current),Ga(xs.current),Gh(e)){if(r=e.stateNode,n=e.memoizedProps,r[hs]=e,(i=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:zh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hs]=e,e.stateNode=r}return _n(e),null;case 13:if(Nt(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&cr!==null&&e.mode&1&&!(e.flags&128))pM(),Bl(),e.flags|=98560,i=!1;else if(i=Gh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[hs]=e}else Bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else Yr!==null&&(lb(Yr),Yr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Kt===0&&(Kt=3):p_())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return zl(),eb(t,e),t===null&&Rd(e.stateNode.containerInfo),_n(e),null;case 10:return X1(e.type._context),_n(e),null;case 17:return tr(e.type)&&sm(),_n(e),null;case 19:if(Nt(At),i=e.memoizedState,i===null)return _n(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Tu(i,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dm(t),o!==null){for(e.flags|=128,Tu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(At,At.current&1|2),e.child}t=t.sibling}i.tail!==null&&Lt()>Hl&&(e.flags|=128,r=!0,Tu(i,!1),e.lanes=4194304)}else{if(!r)if(t=dm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return _n(e),null}else 2*Lt()-i.renderingStartTime>Hl&&n!==1073741824&&(e.flags|=128,r=!0,Tu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Lt(),e.sibling=null,n=At.current,xt(At,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return h_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function lV(t,e){switch(W1(e),e.tag){case 1:return tr(e.type)&&sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),Nt(er),Nt(Pn),n_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return t_(e),null;case 13:if(Nt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(At),null;case 4:return zl(),null;case 10:return X1(e.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var Kh=!1,Tn=!1,cV=typeof WeakSet=="function"?WeakSet:Set,be=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pt(t,e,r)}else n.current=null}function tb(t,e,n){try{n()}catch(r){Pt(t,e,r)}}var j2=!1;function uV(t,e){if($v=em,t=tM(),G1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uv={focusedElem:t,selectionRange:n},em=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,v=b.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Hr(e.type,w),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){Pt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return b=j2,j2=!1,b}function ad(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tb(e,n,i)}s=s.next}while(s!==r)}}function u0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XM(t){var e=t.alternate;e!==null&&(t.alternate=null,XM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hs],delete e[Od],delete e[Bv],delete e[HF],delete e[WF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QM(t){return t.tag===5||t.tag===3||t.tag===4}function I2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rm));else if(r!==4&&(t=t.child,t!==null))for(rb(t,e,n),t=t.sibling;t!==null;)rb(t,e,n),t=t.sibling}function sb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sb(t,e,n),t=t.sibling;t!==null;)sb(t,e,n),t=t.sibling}var un=null,Wr=!1;function Ai(t,e,n){for(n=n.child;n!==null;)ZM(t,e,n),n=n.sibling}function ZM(t,e,n){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(n0,n)}catch{}switch(n.tag){case 5:Tn||dl(n,e);case 6:var r=un,s=Wr;un=null,Ai(t,e,n),un=r,Wr=s,un!==null&&(Wr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Wr?(t=un,n=n.stateNode,t.nodeType===8?hy(t.parentNode,n):t.nodeType===1&&hy(t,n),jd(t)):hy(un,n.stateNode));break;case 4:r=un,s=Wr,un=n.stateNode.containerInfo,Wr=!0,Ai(t,e,n),un=r,Wr=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tb(n,e,o),s=s.next}while(s!==r)}Ai(t,e,n);break;case 1:if(!Tn&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pt(n,e,l)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Ai(t,e,n),Tn=r):Ai(t,e,n);break;default:Ai(t,e,n)}}function P2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cV),e.forEach(function(r){var s=vV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,Wr=!1;break e;case 3:un=l.stateNode.containerInfo,Wr=!0;break e;case 4:un=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(un===null)throw Error(fe(160));ZM(i,o,s),un=null,Wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Pt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eO(e,t),e=e.sibling}function eO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qr(e,t),us(t),r&4){try{ad(3,t,t.return),u0(3,t)}catch(w){Pt(t,t.return,w)}try{ad(5,t,t.return)}catch(w){Pt(t,t.return,w)}}break;case 1:qr(e,t),us(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(qr(e,t),us(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var s=t.stateNode;try{Td(s,"")}catch(w){Pt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_R(s,i),kv(l,o);var u=kv(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?AR(s,f):d==="dangerouslySetInnerHTML"?ER(s,f):d==="children"?Td(s,f):P1(s,d,f,u)}switch(l){case"input":Nv(s,i);break;case"textarea":NR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?_l(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?_l(s,!!i.multiple,i.defaultValue,!0):_l(s,!!i.multiple,i.multiple?[]:"",!1))}s[Od]=i}catch(w){Pt(t,t.return,w)}}break;case 6:if(qr(e,t),us(t),r&4){if(t.stateNode===null)throw Error(fe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Pt(t,t.return,w)}}break;case 3:if(qr(e,t),us(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jd(e.containerInfo)}catch(w){Pt(t,t.return,w)}break;case 4:qr(e,t),us(t);break;case 13:qr(e,t),us(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(d_=Lt())),r&4&&P2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(u=Tn)||d,qr(e,t),Tn=u):qr(e,t),us(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,x=h.child,h.tag){case 0:case 11:case 14:case 15:ad(4,h,h.return);break;case 1:dl(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){Pt(r,n,w)}}break;case 5:dl(h,h.return);break;case 22:if(h.memoizedState!==null){M2(f);continue}}x!==null?(x.return=h,be=x):M2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=TR("display",o))}catch(w){Pt(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Pt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qr(e,t),us(t),r&4&&P2(t);break;case 21:break;default:qr(e,t),us(t)}}function us(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QM(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Td(s,""),r.flags&=-33);var i=I2(t);sb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=I2(t);rb(t,l,o);break;default:throw Error(fe(161))}}catch(c){Pt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dV(t,e,n){be=t,tO(t)}function tO(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var s=be,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kh;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=Kh;var u=Tn;if(Kh=o,(Tn=c)&&!u)for(be=s;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?O2(s):c!==null?(c.return=o,be=c):O2(s);for(;i!==null;)be=i,tO(i),i=i.sibling;be=s,Kh=l,Tn=u}R2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,be=i):R2(t)}}function R2(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||u0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&x2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x2(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Tn||e.flags&512&&nb(e)}catch(h){Pt(e,e.return,h)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function M2(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function O2(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{u0(4,e)}catch(c){Pt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Pt(e,s,c)}}var i=e.return;try{nb(e)}catch(c){Pt(e,i,c)}break;case 5:var o=e.return;try{nb(e)}catch(c){Pt(e,o,c)}}}catch(c){Pt(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var fV=Math.ceil,pm=gi.ReactCurrentDispatcher,c_=gi.ReactCurrentOwner,Ar=gi.ReactCurrentBatchConfig,Je=0,sn=null,Ft=null,hn=0,ar=0,fl=va(0),Kt=0,Vd=null,fo=0,d0=0,u_=0,od=null,Yn=null,d_=0,Hl=1/0,Ls=null,mm=!1,ib=null,Qi=null,Yh=!1,Vi=null,gm=0,ld=0,ab=null,Pp=-1,Rp=0;function Fn(){return Je&6?Lt():Pp!==-1?Pp:Pp=Lt()}function Zi(t){return t.mode&1?Je&2&&hn!==0?hn&-hn:YF.transition!==null?(Rp===0&&(Rp=UR()),Rp):(t=it,t!==0||(t=window.event,t=t===void 0?16:HR(t.type)),t):1}function Qr(t,e,n,r){if(50<ld)throw ld=0,ab=null,Error(fe(185));Gf(t,n,r),(!(Je&2)||t!==sn)&&(t===sn&&(!(Je&2)&&(d0|=n),Kt===4&&Oi(t,hn)),nr(t,r),n===1&&Je===0&&!(e.mode&1)&&(Hl=Lt()+500,o0&&ba()))}function nr(t,e){var n=t.callbackNode;YU(t,e);var r=Zp(t,t===sn?hn:0);if(r===0)n!==null&&zE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zE(n),e===1)t.tag===0?KF(D2.bind(null,t)):dM(D2.bind(null,t)),zF(function(){!(Je&6)&&ba()}),n=null;else{switch(FR(r)){case 1:n=L1;break;case 4:n=LR;break;case 16:n=Qp;break;case 536870912:n=$R;break;default:n=Qp}n=cO(n,nO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nO(t,e){if(Pp=-1,Rp=0,Je&6)throw Error(fe(327));var n=t.callbackNode;if(Al()&&t.callbackNode!==n)return null;var r=Zp(t,t===sn?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xm(t,r);else{e=r;var s=Je;Je|=2;var i=sO();(sn!==t||hn!==e)&&(Ls=null,Hl=Lt()+500,Za(t,e));do try{mV();break}catch(l){rO(t,l)}while(!0);J1(),pm.current=i,Je=s,Ft!==null?e=0:(sn=null,hn=0,e=Kt)}if(e!==0){if(e===2&&(s=Rv(t),s!==0&&(r=s,e=ob(t,s))),e===1)throw n=Vd,Za(t,0),Oi(t,r),nr(t,Lt()),n;if(e===6)Oi(t,r);else{if(s=t.current.alternate,!(r&30)&&!hV(s)&&(e=xm(t,r),e===2&&(i=Rv(t),i!==0&&(r=i,e=ob(t,i))),e===1))throw n=Vd,Za(t,0),Oi(t,r),nr(t,Lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Da(t,Yn,Ls);break;case 3:if(Oi(t,r),(r&130023424)===r&&(e=d_+500-Lt(),10<e)){if(Zp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vv(Da.bind(null,t,Yn,Ls),e);break}Da(t,Yn,Ls);break;case 4:if(Oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fV(r/1960))-r,10<r){t.timeoutHandle=Vv(Da.bind(null,t,Yn,Ls),r);break}Da(t,Yn,Ls);break;case 5:Da(t,Yn,Ls);break;default:throw Error(fe(329))}}}return nr(t,Lt()),t.callbackNode===n?nO.bind(null,t):null}function ob(t,e){var n=od;return t.current.memoizedState.isDehydrated&&(Za(t,e).flags|=256),t=xm(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&lb(e)),t}function lb(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function hV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~u_,e&=~d0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function D2(t){if(Je&6)throw Error(fe(327));Al();var e=Zp(t,0);if(!(e&1))return nr(t,Lt()),null;var n=xm(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=ob(t,r))}if(n===1)throw n=Vd,Za(t,0),Oi(t,e),nr(t,Lt()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Da(t,Yn,Ls),nr(t,Lt()),null}function f_(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(Hl=Lt()+500,o0&&ba())}}function ho(t){Vi!==null&&Vi.tag===0&&!(Je&6)&&Al();var e=Je;Je|=1;var n=Ar.transition,r=it;try{if(Ar.transition=null,it=1,t)return t()}finally{it=r,Ar.transition=n,Je=e,!(Je&6)&&ba()}}function h_(){ar=fl.current,Nt(fl)}function Za(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qF(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(W1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sm();break;case 3:zl(),Nt(er),Nt(Pn),n_();break;case 5:t_(r);break;case 4:zl();break;case 13:Nt(At);break;case 19:Nt(At);break;case 10:X1(r.type._context);break;case 22:case 23:h_()}n=n.return}if(sn=t,Ft=t=ea(t.current,null),hn=ar=e,Kt=0,Vd=null,u_=d0=fo=0,Yn=od=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}za=null}return t}function rO(t,e){do{var n=Ft;try{if(J1(),Cp.current=hm,fm){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fm=!1}if(uo=0,tn=Ht=kt=null,id=!1,$d=0,c_.current=null,n===null||n.return===null){Kt=1,Vd=e,Ft=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=N2(o);if(x!==null){x.flags&=-257,S2(x,o,l,i,e),x.mode&1&&_2(i,u,e),e=x,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){_2(i,u,e),p_();break e}c=Error(fe(426))}}else if(Et&&l.mode&1){var v=N2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),S2(v,o,l,i,e),K1(Gl(c,l));break e}}i=c=Gl(c,l),Kt!==4&&(Kt=2),od===null?od=[i]:od.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=FM(i,c,e);g2(i,y);break e;case 1:l=c;var _=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Qi===null||!Qi.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=VM(i,l,e);g2(i,C);break e}}i=i.return}while(i!==null)}aO(n)}catch(T){e=T,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function sO(){var t=pm.current;return pm.current=hm,t===null?hm:t}function p_(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),sn===null||!(fo&268435455)&&!(d0&268435455)||Oi(sn,hn)}function xm(t,e){var n=Je;Je|=2;var r=sO();(sn!==t||hn!==e)&&(Ls=null,Za(t,e));do try{pV();break}catch(s){rO(t,s)}while(!0);if(J1(),Je=n,pm.current=r,Ft!==null)throw Error(fe(261));return sn=null,hn=0,Kt}function pV(){for(;Ft!==null;)iO(Ft)}function mV(){for(;Ft!==null&&!FU();)iO(Ft)}function iO(t){var e=lO(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?aO(t):Ft=e,c_.current=null}function aO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lV(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,Ft=null;return}}else if(n=oV(n,e,ar),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Kt===0&&(Kt=5)}function Da(t,e,n){var r=it,s=Ar.transition;try{Ar.transition=null,it=1,gV(t,e,n,r)}finally{Ar.transition=s,it=r}return null}function gV(t,e,n,r){do Al();while(Vi!==null);if(Je&6)throw Error(fe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(JU(t,i),t===sn&&(Ft=sn=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yh||(Yh=!0,cO(Qp,function(){return Al(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ar.transition,Ar.transition=null;var o=it;it=1;var l=Je;Je|=4,c_.current=null,uV(t,n),eO(n,t),DF(Uv),em=!!$v,Uv=$v=null,t.current=n,dV(n),VU(),Je=l,it=o,Ar.transition=i}else t.current=n;if(Yh&&(Yh=!1,Vi=t,gm=s),i=t.pendingLanes,i===0&&(Qi=null),zU(n.stateNode),nr(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mm)throw mm=!1,t=ib,ib=null,t;return gm&1&&t.tag!==0&&Al(),i=t.pendingLanes,i&1?t===ab?ld++:(ld=0,ab=t):ld=0,ba(),null}function Al(){if(Vi!==null){var t=FR(gm),e=Ar.transition,n=it;try{if(Ar.transition=null,it=16>t?16:t,Vi===null)var r=!1;else{if(t=Vi,Vi=null,gm=0,Je&6)throw Error(fe(331));var s=Je;for(Je|=4,be=t.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:ad(8,d,i)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,x=d.return;if(XM(d),d===u){be=null;break}if(h!==null){h.return=x,be=h;break}be=x}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ad(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,be=y;break e}be=i.return}}var _=t.current;for(be=_;be!==null;){o=be;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,be=N;else e:for(o=_;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:u0(9,l)}}catch(T){Pt(l,l.return,T)}if(l===o){be=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,be=C;break e}be=l.return}}if(Je=s,ba(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(n0,t)}catch{}r=!0}return r}finally{it=n,Ar.transition=e}}return!1}function L2(t,e,n){e=Gl(n,e),e=FM(t,e,1),t=Xi(t,e,1),e=Fn(),t!==null&&(Gf(t,1,e),nr(t,e))}function Pt(t,e,n){if(t.tag===3)L2(t,t,n);else for(;e!==null;){if(e.tag===3){L2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=Gl(n,t),t=VM(e,t,1),e=Xi(e,t,1),t=Fn(),e!==null&&(Gf(e,1,t),nr(e,t));break}}e=e.return}}function xV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(hn&n)===n&&(Kt===4||Kt===3&&(hn&130023424)===hn&&500>Lt()-d_?Za(t,0):u_|=n),nr(t,e)}function oO(t,e){e===0&&(t.mode&1?(e=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):e=1);var n=Fn();t=ri(t,e),t!==null&&(Gf(t,e,n),nr(t,n))}function yV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oO(t,n)}function vV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),oO(t,n)}var lO;lO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,aV(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,Et&&e.flags&1048576&&fM(e,om,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ip(t,e),t=e.pendingProps;var s=Vl(e,Pn.current);Tl(e,n),s=s_(null,e,r,t,s,n);var i=i_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(i=!0,im(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Z1(e),s.updater=c0,e.stateNode=s,s._reactInternals=e,Kv(e,r,t,n),e=Xv(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&H1(e),Dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ip(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wV(r),t=Hr(r,t),s){case 0:e=Jv(null,e,r,t,n);break e;case 1:e=A2(null,e,r,t,n);break e;case 11:e=E2(null,e,r,t,n);break e;case 14:e=T2(null,e,r,Hr(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),Jv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),A2(t,e,r,s,n);case 3:e:{if(GM(e),t===null)throw Error(fe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yM(t,e),um(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gl(Error(fe(423)),e),e=k2(t,e,r,n,s);break e}else if(r!==s){s=Gl(Error(fe(424)),e),e=k2(t,e,r,n,s);break e}else for(cr=Ji(e.stateNode.containerInfo.firstChild),dr=e,Et=!0,Yr=null,n=gM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bl(),r===s){e=si(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return vM(e),t===null&&Gv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fv(r,s)?o=null:i!==null&&Fv(r,i)&&(e.flags|=32),zM(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&Gv(e),null;case 13:return HM(t,e,n);case 4:return e_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ql(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),E2(t,e,r,s,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,xt(lm,r._currentValue),r._currentValue=o,i!==null)if(rs(i.value,o)){if(i.children===s.children&&!er.current){e=si(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ys(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Hv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Tl(e,n),s=Rr(s),r=r(s),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,s=Hr(r,e.pendingProps),s=Hr(r.type,s),T2(t,e,r,s,n);case 15:return BM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),Ip(t,e),e.tag=1,tr(r)?(t=!0,im(e)):t=!1,Tl(e,n),UM(e,r,s),Kv(e,r,s,n),Xv(null,e,r,!0,t,n);case 19:return WM(t,e,n);case 22:return qM(t,e,n)}throw Error(fe(156,e.tag))};function cO(t,e){return DR(t,e)}function bV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new bV(t,e,n,r)}function m_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wV(t){if(typeof t=="function")return m_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M1)return 11;if(t===O1)return 14}return 2}function ea(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")m_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return eo(n.children,s,i,e);case R1:o=8,s|=8;break;case yv:return t=Er(12,n,e,s|2),t.elementType=yv,t.lanes=i,t;case vv:return t=Er(13,n,e,s),t.elementType=vv,t.lanes=i,t;case bv:return t=Er(19,n,e,s),t.elementType=bv,t.lanes=i,t;case vR:return f0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xR:o=10;break e;case yR:o=9;break e;case M1:o=11;break e;case O1:o=14;break e;case ji:o=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function eo(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function f0(t,e,n,r){return t=Er(22,t,r,e),t.elementType=vR,t.lanes=n,t.stateNode={isHidden:!1},t}function wy(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function _y(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _V(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ny(0),this.expirationTimes=ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ny(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function g_(t,e,n,r,s,i,o,l,c){return t=new _V(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(i),t}function NV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uO(t){if(!t)return ca;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(tr(n))return uM(t,n,e)}return e}function dO(t,e,n,r,s,i,o,l,c){return t=g_(n,r,!0,t,s,i,o,l,c),t.context=uO(null),n=t.current,r=Fn(),s=Zi(n),i=Ys(r,s),i.callback=e??null,Xi(n,i,s),t.current.lanes=s,Gf(t,s,r),nr(t,r),t}function h0(t,e,n,r){var s=e.current,i=Fn(),o=Zi(s);return n=uO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(s,e,o),t!==null&&(Qr(t,s,o,i),kp(t,s,o)),o}function ym(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function x_(t,e){$2(t,e),(t=t.alternate)&&$2(t,e)}function SV(){return null}var fO=typeof reportError=="function"?reportError:function(t){console.error(t)};function y_(t){this._internalRoot=t}p0.prototype.render=y_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));h0(t,e,null,null)};p0.prototype.unmount=y_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){h0(null,t,null,null)}),e[ni]=null}};function p0(t){this._internalRoot=t}p0.prototype.unstable_scheduleHydration=function(t){if(t){var e=qR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&GR(t)}};function v_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U2(){}function EV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ym(o);i.call(u)}}var o=dO(e,r,t,0,null,!1,!1,"",U2);return t._reactRootContainer=o,t[ni]=o.current,Rd(t.nodeType===8?t.parentNode:t),ho(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ym(c);l.call(u)}}var c=g_(t,0,!1,null,null,!1,!1,"",U2);return t._reactRootContainer=c,t[ni]=c.current,Rd(t.nodeType===8?t.parentNode:t),ho(function(){h0(e,c,n,r)}),c}function g0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ym(o);l.call(c)}}h0(e,o,t,s)}else o=EV(n,e,t,s,r);return ym(o)}VR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&($1(e,n|1),nr(e,Lt()),!(Je&6)&&(Hl=Lt()+500,ba()))}break;case 13:ho(function(){var r=ri(t,1);if(r!==null){var s=Fn();Qr(r,t,1,s)}}),x_(t,1)}};U1=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=Fn();Qr(e,t,134217728,n)}x_(t,134217728)}};BR=function(t){if(t.tag===13){var e=Zi(t),n=ri(t,e);if(n!==null){var r=Fn();Qr(n,t,e,r)}x_(t,e)}};qR=function(){return it};zR=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};jv=function(t,e,n){switch(e){case"input":if(Nv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=a0(r);if(!s)throw Error(fe(90));wR(r),Nv(r,s)}}}break;case"textarea":NR(t,n);break;case"select":e=n.value,e!=null&&_l(t,!!n.multiple,e,!1)}};jR=f_;IR=ho;var TV={usingClientEntryPoint:!1,Events:[Wf,al,a0,kR,CR,f_]},Au={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AV={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MR(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||SV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{n0=Jh.inject(AV),gs=Jh}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TV;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v_(e))throw Error(fe(200));return NV(t,e,null,n)};pr.createRoot=function(t,e){if(!v_(t))throw Error(fe(299));var n=!1,r="",s=fO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=g_(t,1,!1,null,null,n,!1,r,s),t[ni]=e.current,Rd(t.nodeType===8?t.parentNode:t),new y_(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=MR(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return ho(t)};pr.hydrate=function(t,e,n){if(!m0(e))throw Error(fe(200));return g0(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!v_(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fO;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dO(e,null,t,1,n??null,s,!1,i,o),t[ni]=e.current,Rd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new p0(e)};pr.render=function(t,e,n){if(!m0(e))throw Error(fe(200));return g0(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!m0(t))throw Error(fe(40));return t._reactRootContainer?(ho(function(){g0(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};pr.unstable_batchedUpdates=f_;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!m0(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return g0(t,e,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function hO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hO)}catch(t){console.error(t)}}hO(),hR.exports=pr;var kV=hR.exports,F2=kV;gv.createRoot=F2.createRoot,gv.hydrateRoot=F2.hydrateRoot;var V2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new jV;const h=i<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IV=function(t){const e=pO(t);return mO.encodeByteArray(e,!0)},vm=function(t){return IV(t).replace(/\./g,"")},gO=function(t){try{return mO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=()=>PV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof V2>"u")return;const t=V2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gO(t[1]);return e&&JSON.parse(e)},x0=()=>{try{return RV()||MV()||OV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xO=t=>{var e,n;return(n=(e=x0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DV=t=>{const e=xO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yO=()=>{var t;return(t=x0())===null||t===void 0?void 0:t.config},vO=t=>{var e;return(e=x0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function FV(){var t;const e=(t=x0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zV(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GV(){return!FV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HV(){try{return typeof indexedDB=="object"}catch{return!1}}function WV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KV,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yf.prototype.create)}}class Yf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YV(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new xi(s,l,r)}}function YV(t,e){return t.replace(JV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JV=/\{\$([^}]+)}/g;function XV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(B2(i)&&B2(o)){if(!bm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QV(t,e){const n=new ZV(t,e);return n.subscribe.bind(n)}class ZV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ny),s.error===void 0&&(s.error=Ny),s.complete===void 0&&(s.complete=Ny);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r8(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n8(t){return t===La?void 0:t}function r8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const i8={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},a8=He.INFO,o8={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},l8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=o8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b_{constructor(e){this.name=e,this._logLevel=a8,this._logHandler=l8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const c8=(t,e)=>e.some(n=>t instanceof n);let q2,z2;function u8(){return q2||(q2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d8(){return z2||(z2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bO=new WeakMap,cb=new WeakMap,wO=new WeakMap,Sy=new WeakMap,w_=new WeakMap;function f8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ta(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bO.set(n,t)}).catch(()=>{}),w_.set(e,t),e}function h8(t){if(cb.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cb.set(t,e)}let ub={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p8(t){ub=t(ub)}function m8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ey(this),e,...n);return wO.set(r,e.sort?e.sort():[e]),ta(r)}:d8().includes(t)?function(...e){return t.apply(Ey(this),e),ta(bO.get(this))}:function(...e){return ta(t.apply(Ey(this),e))}}function g8(t){return typeof t=="function"?m8(t):(t instanceof IDBTransaction&&h8(t),c8(t,u8())?new Proxy(t,ub):t)}function ta(t){if(t instanceof IDBRequest)return f8(t);if(Sy.has(t))return Sy.get(t);const e=g8(t);return e!==t&&(Sy.set(t,e),w_.set(e,t)),e}const Ey=t=>w_.get(t);function x8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ta(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ta(o.result),c.oldVersion,c.newVersion,ta(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const y8=["get","getKey","getAll","getAllKeys","count"],v8=["put","add","delete","clear"],Ty=new Map;function G2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||y8.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Ty.set(e,i),i}p8(t=>({...t,get:(e,n,r)=>G2(e,n)||t.get(e,n,r),has:(e,n)=>!!G2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const db="@firebase/app",H2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new b_("@firebase/app"),_8="@firebase/app-compat",N8="@firebase/analytics-compat",S8="@firebase/analytics",E8="@firebase/app-check-compat",T8="@firebase/app-check",A8="@firebase/auth",k8="@firebase/auth-compat",C8="@firebase/database",j8="@firebase/data-connect",I8="@firebase/database-compat",P8="@firebase/functions",R8="@firebase/functions-compat",M8="@firebase/installations",O8="@firebase/installations-compat",D8="@firebase/messaging",L8="@firebase/messaging-compat",$8="@firebase/performance",U8="@firebase/performance-compat",F8="@firebase/remote-config",V8="@firebase/remote-config-compat",B8="@firebase/storage",q8="@firebase/storage-compat",z8="@firebase/firestore",G8="@firebase/vertexai-preview",H8="@firebase/firestore-compat",W8="firebase",K8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="[DEFAULT]",Y8={[db]:"fire-core",[_8]:"fire-core-compat",[S8]:"fire-analytics",[N8]:"fire-analytics-compat",[T8]:"fire-app-check",[E8]:"fire-app-check-compat",[A8]:"fire-auth",[k8]:"fire-auth-compat",[C8]:"fire-rtdb",[j8]:"fire-data-connect",[I8]:"fire-rtdb-compat",[P8]:"fire-fn",[R8]:"fire-fn-compat",[M8]:"fire-iid",[O8]:"fire-iid-compat",[D8]:"fire-fcm",[L8]:"fire-fcm-compat",[$8]:"fire-perf",[U8]:"fire-perf-compat",[F8]:"fire-rc",[V8]:"fire-rc-compat",[B8]:"fire-gcs",[q8]:"fire-gcs-compat",[z8]:"fire-fst",[H8]:"fire-fst-compat",[G8]:"fire-vertex","fire-js":"fire-js",[W8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map,J8=new Map,hb=new Map;function W2(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wl(t){const e=t.name;if(hb.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;hb.set(e,t);for(const n of wm.values())W2(n,t);for(const n of J8.values())W2(n,t);return!0}function __(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Yf("app","Firebase",X8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=K8;function _O(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fb,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw na.create("bad-app-name",{appName:String(s)});if(n||(n=yO()),!n)throw na.create("no-options");const i=wm.get(s);if(i){if(bm(n,i.options)&&bm(r,i.config))return i;throw na.create("duplicate-app",{appName:s})}const o=new s8(s);for(const c of hb.values())o.addComponent(c);const l=new Q8(n,r,o);return wm.set(s,l),l}function NO(t=fb){const e=wm.get(t);if(!e&&t===fb&&yO())return _O();if(!e)throw na.create("no-app",{appName:t});return e}function ra(t,e,n){var r;let s=(r=Y8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}Wl(new po(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="firebase-heartbeat-database",eB=1,Bd="firebase-heartbeat-store";let Ay=null;function SO(){return Ay||(Ay=x8(Z8,eB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),Ay}async function tB(t){try{const n=(await SO()).transaction(Bd),r=await n.objectStore(Bd).get(EO(t));return await n.done,r}catch(e){if(e instanceof xi)ii.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function K2(t,e){try{const r=(await SO()).transaction(Bd,"readwrite");await r.objectStore(Bd).put(e,EO(t)),await r.done}catch(n){if(n instanceof xi)ii.warn(n.message);else{const r=na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function EO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=1024,rB=30*24*60*60*1e3;class sB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Y2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=rB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y2(),{heartbeatsToSend:r,unsentEntries:s}=iB(this._heartbeatsCache.heartbeats),i=vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ii.warn(n),""}}}function Y2(){return new Date().toISOString().substring(0,10)}function iB(t,e=nB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),J2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),J2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HV()?WV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return K2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return K2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J2(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){Wl(new po("platform-logger",e=>new b8(e),"PRIVATE")),Wl(new po("heartbeat",e=>new sB(e),"PRIVATE")),ra(db,H2,t),ra(db,H2,"esm2017"),ra("fire-js","")}oB("");var lB="firebase",cB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(lB,cB,"app");var X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,TO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,j){function E(){}E.prototype=j.prototype,S.D=j.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(R,I,O){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return j.prototype[I].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,j,E){E||(E=0);var R=Array(16);if(typeof j=="string")for(var I=0;16>I;++I)R[I]=j.charCodeAt(E++)|j.charCodeAt(E++)<<8|j.charCodeAt(E++)<<16|j.charCodeAt(E++)<<24;else for(I=0;16>I;++I)R[I]=j[E++]|j[E++]<<8|j[E++]<<16|j[E++]<<24;j=S.g[0],E=S.g[1],I=S.g[2];var O=S.g[3],P=j+(O^E&(I^O))+R[0]+3614090360&4294967295;j=E+(P<<7&4294967295|P>>>25),P=O+(I^j&(E^I))+R[1]+3905402710&4294967295,O=j+(P<<12&4294967295|P>>>20),P=I+(E^O&(j^E))+R[2]+606105819&4294967295,I=O+(P<<17&4294967295|P>>>15),P=E+(j^I&(O^j))+R[3]+3250441966&4294967295,E=I+(P<<22&4294967295|P>>>10),P=j+(O^E&(I^O))+R[4]+4118548399&4294967295,j=E+(P<<7&4294967295|P>>>25),P=O+(I^j&(E^I))+R[5]+1200080426&4294967295,O=j+(P<<12&4294967295|P>>>20),P=I+(E^O&(j^E))+R[6]+2821735955&4294967295,I=O+(P<<17&4294967295|P>>>15),P=E+(j^I&(O^j))+R[7]+4249261313&4294967295,E=I+(P<<22&4294967295|P>>>10),P=j+(O^E&(I^O))+R[8]+1770035416&4294967295,j=E+(P<<7&4294967295|P>>>25),P=O+(I^j&(E^I))+R[9]+2336552879&4294967295,O=j+(P<<12&4294967295|P>>>20),P=I+(E^O&(j^E))+R[10]+4294925233&4294967295,I=O+(P<<17&4294967295|P>>>15),P=E+(j^I&(O^j))+R[11]+2304563134&4294967295,E=I+(P<<22&4294967295|P>>>10),P=j+(O^E&(I^O))+R[12]+1804603682&4294967295,j=E+(P<<7&4294967295|P>>>25),P=O+(I^j&(E^I))+R[13]+4254626195&4294967295,O=j+(P<<12&4294967295|P>>>20),P=I+(E^O&(j^E))+R[14]+2792965006&4294967295,I=O+(P<<17&4294967295|P>>>15),P=E+(j^I&(O^j))+R[15]+1236535329&4294967295,E=I+(P<<22&4294967295|P>>>10),P=j+(I^O&(E^I))+R[1]+4129170786&4294967295,j=E+(P<<5&4294967295|P>>>27),P=O+(E^I&(j^E))+R[6]+3225465664&4294967295,O=j+(P<<9&4294967295|P>>>23),P=I+(j^E&(O^j))+R[11]+643717713&4294967295,I=O+(P<<14&4294967295|P>>>18),P=E+(O^j&(I^O))+R[0]+3921069994&4294967295,E=I+(P<<20&4294967295|P>>>12),P=j+(I^O&(E^I))+R[5]+3593408605&4294967295,j=E+(P<<5&4294967295|P>>>27),P=O+(E^I&(j^E))+R[10]+38016083&4294967295,O=j+(P<<9&4294967295|P>>>23),P=I+(j^E&(O^j))+R[15]+3634488961&4294967295,I=O+(P<<14&4294967295|P>>>18),P=E+(O^j&(I^O))+R[4]+3889429448&4294967295,E=I+(P<<20&4294967295|P>>>12),P=j+(I^O&(E^I))+R[9]+568446438&4294967295,j=E+(P<<5&4294967295|P>>>27),P=O+(E^I&(j^E))+R[14]+3275163606&4294967295,O=j+(P<<9&4294967295|P>>>23),P=I+(j^E&(O^j))+R[3]+4107603335&4294967295,I=O+(P<<14&4294967295|P>>>18),P=E+(O^j&(I^O))+R[8]+1163531501&4294967295,E=I+(P<<20&4294967295|P>>>12),P=j+(I^O&(E^I))+R[13]+2850285829&4294967295,j=E+(P<<5&4294967295|P>>>27),P=O+(E^I&(j^E))+R[2]+4243563512&4294967295,O=j+(P<<9&4294967295|P>>>23),P=I+(j^E&(O^j))+R[7]+1735328473&4294967295,I=O+(P<<14&4294967295|P>>>18),P=E+(O^j&(I^O))+R[12]+2368359562&4294967295,E=I+(P<<20&4294967295|P>>>12),P=j+(E^I^O)+R[5]+4294588738&4294967295,j=E+(P<<4&4294967295|P>>>28),P=O+(j^E^I)+R[8]+2272392833&4294967295,O=j+(P<<11&4294967295|P>>>21),P=I+(O^j^E)+R[11]+1839030562&4294967295,I=O+(P<<16&4294967295|P>>>16),P=E+(I^O^j)+R[14]+4259657740&4294967295,E=I+(P<<23&4294967295|P>>>9),P=j+(E^I^O)+R[1]+2763975236&4294967295,j=E+(P<<4&4294967295|P>>>28),P=O+(j^E^I)+R[4]+1272893353&4294967295,O=j+(P<<11&4294967295|P>>>21),P=I+(O^j^E)+R[7]+4139469664&4294967295,I=O+(P<<16&4294967295|P>>>16),P=E+(I^O^j)+R[10]+3200236656&4294967295,E=I+(P<<23&4294967295|P>>>9),P=j+(E^I^O)+R[13]+681279174&4294967295,j=E+(P<<4&4294967295|P>>>28),P=O+(j^E^I)+R[0]+3936430074&4294967295,O=j+(P<<11&4294967295|P>>>21),P=I+(O^j^E)+R[3]+3572445317&4294967295,I=O+(P<<16&4294967295|P>>>16),P=E+(I^O^j)+R[6]+76029189&4294967295,E=I+(P<<23&4294967295|P>>>9),P=j+(E^I^O)+R[9]+3654602809&4294967295,j=E+(P<<4&4294967295|P>>>28),P=O+(j^E^I)+R[12]+3873151461&4294967295,O=j+(P<<11&4294967295|P>>>21),P=I+(O^j^E)+R[15]+530742520&4294967295,I=O+(P<<16&4294967295|P>>>16),P=E+(I^O^j)+R[2]+3299628645&4294967295,E=I+(P<<23&4294967295|P>>>9),P=j+(I^(E|~O))+R[0]+4096336452&4294967295,j=E+(P<<6&4294967295|P>>>26),P=O+(E^(j|~I))+R[7]+1126891415&4294967295,O=j+(P<<10&4294967295|P>>>22),P=I+(j^(O|~E))+R[14]+2878612391&4294967295,I=O+(P<<15&4294967295|P>>>17),P=E+(O^(I|~j))+R[5]+4237533241&4294967295,E=I+(P<<21&4294967295|P>>>11),P=j+(I^(E|~O))+R[12]+1700485571&4294967295,j=E+(P<<6&4294967295|P>>>26),P=O+(E^(j|~I))+R[3]+2399980690&4294967295,O=j+(P<<10&4294967295|P>>>22),P=I+(j^(O|~E))+R[10]+4293915773&4294967295,I=O+(P<<15&4294967295|P>>>17),P=E+(O^(I|~j))+R[1]+2240044497&4294967295,E=I+(P<<21&4294967295|P>>>11),P=j+(I^(E|~O))+R[8]+1873313359&4294967295,j=E+(P<<6&4294967295|P>>>26),P=O+(E^(j|~I))+R[15]+4264355552&4294967295,O=j+(P<<10&4294967295|P>>>22),P=I+(j^(O|~E))+R[6]+2734768916&4294967295,I=O+(P<<15&4294967295|P>>>17),P=E+(O^(I|~j))+R[13]+1309151649&4294967295,E=I+(P<<21&4294967295|P>>>11),P=j+(I^(E|~O))+R[4]+4149444226&4294967295,j=E+(P<<6&4294967295|P>>>26),P=O+(E^(j|~I))+R[11]+3174756917&4294967295,O=j+(P<<10&4294967295|P>>>22),P=I+(j^(O|~E))+R[2]+718787259&4294967295,I=O+(P<<15&4294967295|P>>>17),P=E+(O^(I|~j))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+j&4294967295,S.g[1]=S.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,j){j===void 0&&(j=S.length);for(var E=j-this.blockSize,R=this.B,I=this.h,O=0;O<j;){if(I==0)for(;O<=E;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<j;)if(R[I++]=S.charCodeAt(O++),I==this.blockSize){s(this,R),I=0;break}}else for(;O<j;)if(R[I++]=S[O++],I==this.blockSize){s(this,R),I=0;break}}this.h=I,this.o+=j},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var j=1;j<S.length-8;++j)S[j]=0;var E=8*this.o;for(j=S.length-8;j<S.length;++j)S[j]=E&255,E/=256;for(this.u(S),S=Array(16),j=E=0;4>j;++j)for(var R=0;32>R;R+=8)S[E++]=this.g[j]>>>R&255;return S};function i(S,j){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=j(S)}function o(S,j){this.h=j;for(var E=[],R=!0,I=S.length-1;0<=I;I--){var O=S[I]|0;R&&O==j||(E[I]=O,R=!1)}this.g=E}var l={};function c(S){return-128<=S&&128>S?i(S,function(j){return new o([j|0],0>j?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var j=[],E=1,R=0;S>=E;R++)j[R]=S/E|0,E*=4294967296;return new o(j,0)}function d(S,j){if(S.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S.charAt(0)=="-")return v(d(S.substring(1),j));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(j,8)),R=f,I=0;I<S.length;I+=8){var O=Math.min(8,S.length-I),P=parseInt(S.substring(I,I+O),j);8>O?(O=u(Math.pow(j,O)),R=R.j(O).add(u(P))):(R=R.j(E),R=R.add(u(P)))}return R}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-v(this).m();for(var S=0,j=1,E=0;E<this.g.length;E++){var R=this.i(E);S+=(0<=R?R:4294967296+R)*j,j*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+v(this).toString(S);for(var j=u(Math.pow(S,6)),E=this,R="";;){var I=C(E,j).g;E=y(E,I.j(j));var O=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=I,b(E))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var j=0;j<S.g.length;j++)if(S.g[j]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=y(this,S),w(S)?-1:b(S)?0:1};function v(S){for(var j=S.g.length,E=[],R=0;R<j;R++)E[R]=~S.g[R];return new o(E,~S.h).add(h)}t.abs=function(){return w(this)?v(this):this},t.add=function(S){for(var j=Math.max(this.g.length,S.g.length),E=[],R=0,I=0;I<=j;I++){var O=R+(this.i(I)&65535)+(S.i(I)&65535),P=(O>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);R=P>>>16,O&=65535,P&=65535,E[I]=P<<16|O}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(S,j){return S.add(v(j))}t.j=function(S){if(b(this)||b(S))return f;if(w(this))return w(S)?v(this).j(v(S)):v(v(this).j(S));if(w(S))return v(this.j(v(S)));if(0>this.l(x)&&0>S.l(x))return u(this.m()*S.m());for(var j=this.g.length+S.g.length,E=[],R=0;R<2*j;R++)E[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<S.g.length;I++){var O=this.i(R)>>>16,P=this.i(R)&65535,H=S.i(I)>>>16,V=S.i(I)&65535;E[2*R+2*I]+=P*V,_(E,2*R+2*I),E[2*R+2*I+1]+=O*V,_(E,2*R+2*I+1),E[2*R+2*I+1]+=P*H,_(E,2*R+2*I+1),E[2*R+2*I+2]+=O*H,_(E,2*R+2*I+2)}for(R=0;R<j;R++)E[R]=E[2*R+1]<<16|E[2*R];for(R=j;R<2*j;R++)E[R]=0;return new o(E,0)};function _(S,j){for(;(S[j]&65535)!=S[j];)S[j+1]+=S[j]>>>16,S[j]&=65535,j++}function N(S,j){this.g=S,this.h=j}function C(S,j){if(b(j))throw Error("division by zero");if(b(S))return new N(f,f);if(w(S))return j=C(v(S),j),new N(v(j.g),v(j.h));if(w(j))return j=C(S,v(j)),new N(v(j.g),j.h);if(30<S.g.length){if(w(S)||w(j))throw Error("slowDivide_ only works with positive integers.");for(var E=h,R=j;0>=R.l(S);)E=T(E),R=T(R);var I=A(E,1),O=A(R,1);for(R=A(R,2),E=A(E,2);!b(R);){var P=O.add(R);0>=P.l(S)&&(I=I.add(E),O=P),R=A(R,1),E=A(E,1)}return j=y(S,I.j(j)),new N(I,j)}for(I=f;0<=S.l(j);){for(E=Math.max(1,Math.floor(S.m()/j.m())),R=Math.ceil(Math.log(E)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(E),P=O.j(j);w(P)||0<P.l(S);)E-=R,O=u(E),P=O.j(j);b(O)&&(O=h),I=I.add(O),S=y(S,P)}return new N(I,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var j=Math.max(this.g.length,S.g.length),E=[],R=0;R<j;R++)E[R]=this.i(R)&S.i(R);return new o(E,this.h&S.h)},t.or=function(S){for(var j=Math.max(this.g.length,S.g.length),E=[],R=0;R<j;R++)E[R]=this.i(R)|S.i(R);return new o(E,this.h|S.h)},t.xor=function(S){for(var j=Math.max(this.g.length,S.g.length),E=[],R=0;R<j;R++)E[R]=this.i(R)^S.i(R);return new o(E,this.h^S.h)};function T(S){for(var j=S.g.length+1,E=[],R=0;R<j;R++)E[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(E,S.h)}function A(S,j){var E=j>>5;j%=32;for(var R=S.g.length-E,I=[],O=0;O<R;O++)I[O]=0<j?S.i(O+E)>>>j|S.i(O+E+1)<<32-j:S.i(O+E);return new o(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,to=o}).apply(typeof X2<"u"?X2:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AO,Hu,kO,Op,pb,CO,jO,IO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,M){return m==Array.prototype||m==Object.prototype||(m[k]=M.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var k=0;k<m.length;++k){var M=m[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function s(m,k){if(k)e:{var M=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var J=m[$];if(!(J in M))break e;M=M[J]}m=m[m.length-1],$=M[m],k=k($),k!=$&&k!=null&&e(M,m,{configurable:!0,writable:!0,value:k})}}function i(m,k){m instanceof String&&(m+="");var M=0,$=!1,J={next:function(){if(!$&&M<m.length){var te=M++;return{value:k(te,m[te]),done:!1}}return $=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(m){return m||function(){return i(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,M){return m.call.apply(m.bind,arguments)}function f(m,k,M){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,$),m.apply(k,J)}}return function(){return m.apply(k,arguments)}}function h(m,k,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,k){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),m.apply(this,$)}}function b(m,k){function M(){}M.prototype=k.prototype,m.aa=k.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function($,J,te){for(var pe=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)pe[ft-2]=arguments[ft];return k.prototype[J].apply($,pe)}}function w(m){const k=m.length;if(0<k){const M=Array(k);for(let $=0;$<k;$++)M[$]=m[$];return M}return[]}function v(m,k){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(c($)){const J=m.length||0,te=$.length||0;m.length=J+te;for(let pe=0;pe<te;pe++)m[J+pe]=$[pe]}else m.push($)}}class y{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var T=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function A(m,k,M){for(const $ in m)k.call(M,m[$],$,m)}function S(m,k){for(const M in m)k.call(void 0,m[M],M,m)}function j(m){const k={};for(const M in m)k[M]=m[M];return k}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,k){let M,$;for(let J=1;J<arguments.length;J++){$=arguments[J];for(M in $)m[M]=$[M];for(let te=0;te<E.length;te++)M=E[te],Object.prototype.hasOwnProperty.call($,M)&&(m[M]=$[M])}}function I(m){var k=1;m=m.split(":");const M=[];for(;0<k&&m.length;)M.push(m.shift()),k--;return m.length&&M.push(m.join(":")),M}function O(m){l.setTimeout(()=>{throw m},0)}function P(){var m=U;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class H{constructor(){this.h=this.g=null}add(k,M){const $=V.get();$.set(k,M),this.h?this.h.next=$:this.g=$,this.h=$}}var V=new y(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,U=new H,F=()=>{const m=l.Promise.resolve(void 0);B=()=>{m.then(Y)}};var Y=()=>{for(var m;m=P();){try{m.h.call(m.g)}catch(M){O(M)}var k=V;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}G=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};l.addEventListener("test",M,k),l.removeEventListener("test",M,k)}catch{}return m}();function W(m,k){if(z.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(T){e:{try{C(k.nodeName);var J=!0;break e}catch{}J=!1}J||(k=null)}}else M=="mouseover"?k=m.fromElement:M=="mouseout"&&(k=m.toElement);this.relatedTarget=k,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:he[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}b(W,z);var he={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function ce(m,k,M,$,J){this.listener=m,this.proxy=null,this.src=k,this.type=M,this.capture=!!$,this.ha=J,this.key=++Ie,this.da=this.fa=!1}function Ne(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Z(m){this.src=m,this.g={},this.h=0}Z.prototype.add=function(m,k,M,$,J){var te=m.toString();m=this.g[te],m||(m=this.g[te]=[],this.h++);var pe=K(m,k,$,J);return-1<pe?(k=m[pe],M||(k.fa=!1)):(k=new ce(k,this.src,te,!!$,J),k.fa=M,m.push(k)),k};function Q(m,k){var M=k.type;if(M in m.g){var $=m.g[M],J=Array.prototype.indexOf.call($,k,void 0),te;(te=0<=J)&&Array.prototype.splice.call($,J,1),te&&(Ne(k),m.g[M].length==0&&(delete m.g[M],m.h--))}}function K(m,k,M,$){for(var J=0;J<m.length;++J){var te=m[J];if(!te.da&&te.listener==k&&te.capture==!!M&&te.ha==$)return J}return-1}var X="closure_lm_"+(1e6*Math.random()|0),me={};function oe(m,k,M,$,J){if(Array.isArray(k)){for(var te=0;te<k.length;te++)oe(m,k[te],M,$,J);return null}return M=ye(M),m&&m[_e]?m.K(k,M,u($)?!!$.capture:!1,J):ke(m,k,M,!1,$,J)}function ke(m,k,M,$,J,te){if(!k)throw Error("Invalid event type");var pe=u(J)?!!J.capture:!!J,ft=Gn(m);if(ft||(m[X]=ft=new Z(m)),M=ft.add(k,M,$,pe,te),M.proxy)return M;if($=Ye(),M.proxy=$,$.src=m,$.listener=M,m.addEventListener)ae||(J=pe),J===void 0&&(J=!1),m.addEventListener(k.toString(),$,J);else if(m.attachEvent)m.attachEvent(dt(k.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ye(){function m(M){return k.call(m.src,m.listener,M)}const k=qt;return m}function ct(m,k,M,$,J){if(Array.isArray(k))for(var te=0;te<k.length;te++)ct(m,k[te],M,$,J);else $=u($)?!!$.capture:!!$,M=ye(M),m&&m[_e]?(m=m.i,k=String(k).toString(),k in m.g&&(te=m.g[k],M=K(te,M,$,J),-1<M&&(Ne(te[M]),Array.prototype.splice.call(te,M,1),te.length==0&&(delete m.g[k],m.h--)))):m&&(m=Gn(m))&&(k=m.g[k.toString()],m=-1,k&&(m=K(k,M,$,J)),(M=-1<m?k[m]:null)&&nt(M))}function nt(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[_e])Q(k.i,m);else{var M=m.type,$=m.proxy;k.removeEventListener?k.removeEventListener(M,$,m.capture):k.detachEvent?k.detachEvent(dt(M),$):k.addListener&&k.removeListener&&k.removeListener($),(M=Gn(k))?(Q(M,m),M.h==0&&(M.src=null,k[X]=null)):Ne(m)}}}function dt(m){return m in me?me[m]:me[m]="on"+m}function qt(m,k){if(m.da)m=!0;else{k=new W(k,this);var M=m.listener,$=m.ha||m.src;m.fa&&nt(m),m=M.call($,k)}return m}function Gn(m){return m=m[X],m instanceof Z?m:null}var re="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(m){return typeof m=="function"?m:(m[re]||(m[re]=function(k){return m.handleEvent(k)}),m[re])}function Fe(){ee.call(this),this.i=new Z(this),this.M=this,this.F=null}b(Fe,ee),Fe.prototype[_e]=!0,Fe.prototype.removeEventListener=function(m,k,M,$){ct(this,m,k,M,$)};function Be(m,k){var M,$=m.F;if($)for(M=[];$;$=$.F)M.push($);if(m=m.M,$=k.type||k,typeof k=="string")k=new z(k,m);else if(k instanceof z)k.target=k.target||m;else{var J=k;k=new z($,m),R(k,J)}if(J=!0,M)for(var te=M.length-1;0<=te;te--){var pe=k.g=M[te];J=Hn(pe,$,!0,k)&&J}if(pe=k.g=m,J=Hn(pe,$,!0,k)&&J,J=Hn(pe,$,!1,k)&&J,M)for(te=0;te<M.length;te++)pe=k.g=M[te],J=Hn(pe,$,!1,k)&&J}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var M=m.g[k],$=0;$<M.length;$++)Ne(M[$]);delete m.g[k],m.h--}}this.F=null},Fe.prototype.K=function(m,k,M,$){return this.i.add(String(m),k,!1,M,$)},Fe.prototype.L=function(m,k,M,$){return this.i.add(String(m),k,!0,M,$)};function Hn(m,k,M,$){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var J=!0,te=0;te<k.length;++te){var pe=k[te];if(pe&&!pe.da&&pe.capture==M){var ft=pe.listener,ln=pe.ha||pe.src;pe.fa&&Q(m.i,pe),J=ft.call(ln,$)!==!1&&J}}return J&&!$.defaultPrevented}function gr(m,k,M){if(typeof m=="function")M&&(m=h(m,M));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(m,k||0)}function Vr(m){m.g=gr(()=>{m.g=null,m.i&&(m.i=!1,Vr(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class ou extends ee{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(m){ee.call(this),this.h=m,this.g={}}b(Aa,ee);var mh=[];function gh(m){A(m.g,function(k,M){this.g.hasOwnProperty(M)&&nt(k)},m),m.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),gh(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lu=l.JSON.stringify,xh=l.JSON.parse,$x=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ue(){}ue.prototype.h=null;function ve(m){return m.h||(m.h=m.i())}function Oe(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){z.call(this,"d")}b(xr,z);function Uo(){z.call(this,"c")}b(Uo,z);var ka={},qS=null;function yh(){return qS=qS||new Fe}ka.La="serverreachability";function zS(m){z.call(this,ka.La,m)}b(zS,z);function cu(m){const k=yh();Be(k,new zS(k))}ka.STAT_EVENT="statevent";function GS(m,k){z.call(this,ka.STAT_EVENT,m),this.stat=k}b(GS,z);function Mn(m){const k=yh();Be(k,new GS(k,m))}ka.Ma="timingevent";function HS(m,k){z.call(this,ka.Ma,m),this.size=k}b(HS,z);function uu(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function du(){this.g=!0}du.prototype.xa=function(){this.g=!1};function M3(m,k,M,$,J,te){m.info(function(){if(m.g)if(te)for(var pe="",ft=te.split("&"),ln=0;ln<ft.length;ln++){var Xe=ft[ln].split("=");if(1<Xe.length){var vn=Xe[0];Xe=Xe[1];var bn=vn.split("_");pe=2<=bn.length&&bn[1]=="type"?pe+(vn+"="+Xe+"&"):pe+(vn+"=redacted&")}}else pe=null;else pe=te;return"XMLHTTP REQ ("+$+") [attempt "+J+"]: "+k+`
`+M+`
`+pe})}function O3(m,k,M,$,J,te,pe){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+J+"]: "+k+`
`+M+`
`+te+" "+pe})}function Fo(m,k,M,$){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+L3(m,M)+($?" "+$:"")})}function D3(m,k){m.info(function(){return"TIMEOUT: "+k})}du.prototype.info=function(){};function L3(m,k){if(!m.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var $=M[m];if(!(2>$.length)){var J=$[1];if(Array.isArray(J)&&!(1>J.length)){var te=J[0];if(te!="noop"&&te!="stop"&&te!="close")for(var pe=1;pe<J.length;pe++)J[pe]=""}}}}return lu(M)}catch{return k}}var vh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},WS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ux;function bh(){}b(bh,ue),bh.prototype.g=function(){return new XMLHttpRequest},bh.prototype.i=function(){return{}},Ux=new bh;function Si(m,k,M,$){this.j=m,this.i=k,this.l=M,this.R=$||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new KS}function KS(){this.i=null,this.g="",this.h=!1}var YS={},Fx={};function Vx(m,k,M){m.L=1,m.v=Sh(Ms(k)),m.m=M,m.P=!0,JS(m,null)}function JS(m,k){m.F=Date.now(),wh(m),m.A=Ms(m.v);var M=m.A,$=m.R;Array.isArray($)||($=[String($)]),uE(M.i,"t",$),m.C=0,M=m.j.J,m.h=new KS,m.g=kE(m.j,M?k:null,!m.m),0<m.O&&(m.M=new ou(h(m.Y,m,m.g),m.O)),k=m.U,M=m.g,$=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(mh[0]=J.toString()),J=mh);for(var te=0;te<J.length;te++){var pe=oe(M,J[te],$||k.handleEvent,!1,k.h||k);if(!pe)break;k.g[pe.key]=pe}k=m.H?j(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),cu(),M3(m.i,m.u,m.A,m.l,m.R,m.m)}Si.prototype.ca=function(m){m=m.target;const k=this.M;k&&Os(m)==3?k.j():this.Y(m)},Si.prototype.Y=function(m){try{if(m==this.g)e:{const bn=Os(this.g);var k=this.g.Ba();const qo=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||bn!=4||k==7||(k==8||0>=qo?cu(3):cu(2)),Bx(this);var M=this.g.Z();this.X=M;t:if(XS(this)){var $=xE(this.g);m="";var J=$.length,te=Os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ca(this),fu(this);var pe="";break t}this.h.i=new l.TextDecoder}for(k=0;k<J;k++)this.h.h=!0,m+=this.h.i.decode($[k],{stream:!(te&&k==J-1)});$.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=M==200,O3(this.i,this.u,this.A,this.l,this.R,bn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,ln=this.g;if((ft=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ft)){var Xe=ft;break t}}Xe=null}if(M=Xe)Fo(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qx(this,M);else{this.o=!1,this.s=3,Mn(12),Ca(this),fu(this);break e}}if(this.P){M=!0;let Br;for(;!this.J&&this.C<pe.length;)if(Br=$3(this,pe),Br==Fx){bn==4&&(this.s=4,Mn(14),M=!1),Fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Br==YS){this.s=4,Mn(15),Fo(this.i,this.l,pe,"[Invalid Chunk]"),M=!1;break}else Fo(this.i,this.l,Br,null),qx(this,Br);if(XS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||pe.length!=0||this.h.h||(this.s=1,Mn(16),M=!1),this.o=this.o&&M,!M)Fo(this.i,this.l,pe,"[Invalid Chunked Response]"),Ca(this),fu(this);else if(0<pe.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Yx(vn),vn.M=!0,Mn(11))}}else Fo(this.i,this.l,pe,null),qx(this,pe);bn==4&&Ca(this),this.o&&!this.J&&(bn==4?SE(this.j,this):(this.o=!1,wh(this)))}else tU(this.g),M==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),Ca(this),fu(this)}}}catch{}finally{}};function XS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function $3(m,k){var M=m.C,$=k.indexOf(`
`,M);return $==-1?Fx:(M=Number(k.substring(M,$)),isNaN(M)?YS:($+=1,$+M>k.length?Fx:(k=k.slice($,$+M),m.C=$+M,k)))}Si.prototype.cancel=function(){this.J=!0,Ca(this)};function wh(m){m.S=Date.now()+m.I,QS(m,m.I)}function QS(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=uu(h(m.ba,m),k)}function Bx(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Si.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(D3(this.i,this.A),this.L!=2&&(cu(),Mn(17)),Ca(this),this.s=2,fu(this)):QS(this,this.S-m)};function fu(m){m.j.G==0||m.J||SE(m.j,m)}function Ca(m){Bx(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,gh(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function qx(m,k){try{var M=m.j;if(M.G!=0&&(M.g==m||zx(M.h,m))){if(!m.K&&zx(M.h,m)&&M.G==3){try{var $=M.Da.g.parse(k)}catch{$=null}if(Array.isArray($)&&$.length==3){var J=$;if(J[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)jh(M),kh(M);else break e;Kx(M),Mn(18)}}else M.za=J[1],0<M.za-M.T&&37500>J[2]&&M.F&&M.v==0&&!M.C&&(M.C=uu(h(M.Za,M),6e3));if(1>=tE(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ia(M,11)}else if((m.K||M.g==m)&&jh(M),!_(k))for(J=M.Da.g.parse(k),k=0;k<J.length;k++){let Xe=J[k];if(M.T=Xe[0],Xe=Xe[1],M.G==2)if(Xe[0]=="c"){M.K=Xe[1],M.ia=Xe[2];const vn=Xe[3];vn!=null&&(M.la=vn,M.j.info("VER="+M.la));const bn=Xe[4];bn!=null&&(M.Aa=bn,M.j.info("SVER="+M.Aa));const qo=Xe[5];qo!=null&&typeof qo=="number"&&0<qo&&($=1.5*qo,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const Br=m.g;if(Br){const Ph=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ph){var te=$.h;te.g||Ph.indexOf("spdy")==-1&&Ph.indexOf("quic")==-1&&Ph.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Gx(te,te.h),te.h=null))}if($.D){const Jx=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Jx&&($.ya=Jx,vt($.I,$.D,Jx))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var pe=m;if($.qa=AE($,$.J?$.ia:null,$.W),pe.K){nE($.h,pe);var ft=pe,ln=$.L;ln&&(ft.I=ln),ft.B&&(Bx(ft),wh(ft)),$.g=pe}else _E($);0<M.i.length&&Ch(M)}else Xe[0]!="stop"&&Xe[0]!="close"||Ia(M,7);else M.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ia(M,7):Wx(M):Xe[0]!="noop"&&M.l&&M.l.ta(Xe),M.v=0)}}cu(4)}catch{}}var U3=class{constructor(m,k){this.g=m,this.map=k}};function ZS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eE(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function tE(m){return m.h?1:m.g?m.g.size:0}function zx(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function Gx(m,k){m.g?m.g.add(k):m.h=k}function nE(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}ZS.prototype.cancel=function(){if(this.i=rE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function rE(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const M of m.g.values())k=k.concat(M.D);return k}return w(m.i)}function F3(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],M=m.length,$=0;$<M;$++)k.push(m[$]);return k}k=[],M=0;for($ in m)k[M++]=m[$];return k}function V3(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var M=0;M<m;M++)k.push(M);return k}k=[],M=0;for(const $ in m)k[M++]=$;return k}}}function sE(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var M=V3(m),$=F3(m),J=$.length,te=0;te<J;te++)k.call(void 0,$[te],M&&M[te],m)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B3(m,k){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var $=m[M].indexOf("="),J=null;if(0<=$){var te=m[M].substring(0,$);J=m[M].substring($+1)}else te=m[M];k(te,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ja(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ja){this.h=m.h,_h(this,m.j),this.o=m.o,this.g=m.g,Nh(this,m.s),this.l=m.l;var k=m.i,M=new mu;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),aE(this,M),this.m=m.m}else m&&(k=String(m).match(iE))?(this.h=!1,_h(this,k[1]||"",!0),this.o=hu(k[2]||""),this.g=hu(k[3]||"",!0),Nh(this,k[4]),this.l=hu(k[5]||"",!0),aE(this,k[6]||"",!0),this.m=hu(k[7]||"")):(this.h=!1,this.i=new mu(null,this.h))}ja.prototype.toString=function(){var m=[],k=this.j;k&&m.push(pu(k,oE,!0),":");var M=this.g;return(M||k=="file")&&(m.push("//"),(k=this.o)&&m.push(pu(k,oE,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(pu(M,M.charAt(0)=="/"?G3:z3,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",pu(M,W3)),m.join("")};function Ms(m){return new ja(m)}function _h(m,k,M){m.j=M?hu(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Nh(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function aE(m,k,M){k instanceof mu?(m.i=k,K3(m.i,m.h)):(M||(k=pu(k,H3)),m.i=new mu(k,m.h))}function vt(m,k,M){m.i.set(k,M)}function Sh(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function hu(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function pu(m,k,M){return typeof m=="string"?(m=encodeURI(m).replace(k,q3),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function q3(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var oE=/[#\/\?@]/g,z3=/[#\?:]/g,G3=/[#\?]/g,H3=/[#\?@]/g,W3=/#/g;function mu(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function Ei(m){m.g||(m.g=new Map,m.h=0,m.i&&B3(m.i,function(k,M){m.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=mu.prototype,t.add=function(m,k){Ei(this),this.i=null,m=Vo(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(k),this.h+=1,this};function lE(m,k){Ei(m),k=Vo(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function cE(m,k){return Ei(m),k=Vo(m,k),m.g.has(k)}t.forEach=function(m,k){Ei(this),this.g.forEach(function(M,$){M.forEach(function(J){m.call(k,J,$,this)},this)},this)},t.na=function(){Ei(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let $=0;$<k.length;$++){const J=m[$];for(let te=0;te<J.length;te++)M.push(k[$])}return M},t.V=function(m){Ei(this);let k=[];if(typeof m=="string")cE(this,m)&&(k=k.concat(this.g.get(Vo(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)k=k.concat(m[M])}return k},t.set=function(m,k){return Ei(this),this.i=null,m=Vo(this,m),cE(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function uE(m,k,M){lE(m,k),0<M.length&&(m.i=null,m.g.set(Vo(m,k),w(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var $=k[M];const te=encodeURIComponent(String($)),pe=this.V($);for($=0;$<pe.length;$++){var J=te;pe[$]!==""&&(J+="="+encodeURIComponent(String(pe[$]))),m.push(J)}}return this.i=m.join("&")};function Vo(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function K3(m,k){k&&!m.j&&(Ei(m),m.i=null,m.g.forEach(function(M,$){var J=$.toLowerCase();$!=J&&(lE(this,$),uE(this,J,M))},m)),m.j=k}function Y3(m,k){const M=new du;if(l.Image){const $=new Image;$.onload=x(Ti,M,"TestLoadImage: loaded",!0,k,$),$.onerror=x(Ti,M,"TestLoadImage: error",!1,k,$),$.onabort=x(Ti,M,"TestLoadImage: abort",!1,k,$),$.ontimeout=x(Ti,M,"TestLoadImage: timeout",!1,k,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else k(!1)}function J3(m,k){const M=new du,$=new AbortController,J=setTimeout(()=>{$.abort(),Ti(M,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:$.signal}).then(te=>{clearTimeout(J),te.ok?Ti(M,"TestPingServer: ok",!0,k):Ti(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(J),Ti(M,"TestPingServer: error",!1,k)})}function Ti(m,k,M,$,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),$(M)}catch{}}function X3(){this.g=new $x}function Q3(m,k,M){const $=M||"";try{sE(m,function(J,te){let pe=J;u(J)&&(pe=lu(J)),k.push($+te+"="+encodeURIComponent(pe))})}catch(J){throw k.push($+"type="+encodeURIComponent("_badmap")),J}}function Eh(m){this.l=m.Ub||null,this.j=m.eb||!1}b(Eh,ue),Eh.prototype.g=function(){return new Th(this.l,this.j)},Eh.prototype.i=function(m){return function(){return m}}({});function Th(m,k){Fe.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Th,Fe),t=Th.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,xu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dE(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function dE(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?gu(this):xu(this),this.readyState==3&&dE(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,gu(this))},t.Qa=function(m){this.g&&(this.response=m,gu(this))},t.ga=function(){this.g&&gu(this)};function gu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,xu(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=k.next();return m.join(`\r
`)};function xu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function fE(m){let k="";return A(m,function(M,$){k+=$,k+=":",k+=M,k+=`\r
`}),k}function Hx(m,k,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=fE(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):vt(m,k,M))}function It(m){Fe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(It,Fe);var Z3=/^https?$/i,eU=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ux.g(),this.v=this.o?ve(this.o):ve(Ux),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(te){hE(this,te);return}if(m=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var J in $)M.set(J,$[J]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const te of $.keys())M.set(te,$.get(te));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(te=>te.toLowerCase()=="content-type"),J=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(eU,k,void 0))||$||J||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of M)this.g.setRequestHeader(te,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gE(this),this.u=!0,this.g.send(m),this.u=!1}catch(te){hE(this,te)}};function hE(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,pE(m),Ah(m)}function pE(m){m.A||(m.A=!0,Be(m,"complete"),Be(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Be(this,"complete"),Be(this,"abort"),Ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ah(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mE(this):this.bb())},t.bb=function(){mE(this)};function mE(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Os(m)!=4||m.Z()!=2)){if(m.u&&Os(m)==4)gr(m.Ea,0,m);else if(Be(m,"readystatechange"),Os(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var $;if($=pe===0){var J=String(m.D).match(iE)[1]||null;!J&&l.self&&l.self.location&&(J=l.self.location.protocol.slice(0,-1)),$=!Z3.test(J?J.toLowerCase():"")}M=$}if(M)Be(m,"complete"),Be(m,"success");else{m.m=6;try{var te=2<Os(m)?m.g.statusText:""}catch{te=""}m.l=te+" ["+m.Z()+"]",pE(m)}}finally{Ah(m)}}}}function Ah(m,k){if(m.g){gE(m);const M=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||Be(m,"ready");try{M.onreadystatechange=$}catch{}}}function gE(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Os(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),xh(k)}};function xE(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function tU(m){const k={};m=(m.g&&2<=Os(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(_(m[$]))continue;var M=I(m[$]);const J=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const te=k[J]||[];k[J]=te,te.push(M)}S(k,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yu(m,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||k}function yE(m){this.Aa=0,this.i=[],this.j=new du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yu("baseRetryDelayMs",5e3,m),this.cb=yu("retryDelaySeedMs",1e4,m),this.Wa=yu("forwardChannelMaxRetries",2,m),this.wa=yu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ZS(m&&m.concurrentRequestLimit),this.Da=new X3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yE.prototype,t.la=8,t.G=1,t.connect=function(m,k,M,$){Mn(0),this.W=m,this.H=k||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=AE(this,null,this.W),Ch(this)};function Wx(m){if(vE(m),m.G==3){var k=m.U++,M=Ms(m.I);if(vt(M,"SID",m.K),vt(M,"RID",k),vt(M,"TYPE","terminate"),vu(m,M),k=new Si(m,m.j,k),k.L=2,k.v=Sh(Ms(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=k.v,M=!0),M||(k.g=kE(k.j,null),k.g.ea(k.v)),k.F=Date.now(),wh(k)}TE(m)}function kh(m){m.g&&(Yx(m),m.g.cancel(),m.g=null)}function vE(m){kh(m),m.u&&(l.clearTimeout(m.u),m.u=null),jh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Ch(m){if(!eE(m.h)&&!m.s){m.s=!0;var k=m.Ga;B||F(),G||(B(),G=!0),U.add(k,m),m.B=0}}function nU(m,k){return tE(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=uu(h(m.Ga,m,k),EE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new Si(this,this.j,m);let te=this.o;if(this.S&&(te?(te=j(te),R(te,this.S)):te=this.S),this.m!==null||this.O||(J.H=te,te=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(k+=$,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=wE(this,J,k),M=Ms(this.I),vt(M,"RID",m),vt(M,"CVER",22),this.D&&vt(M,"X-HTTP-Session-Id",this.D),vu(this,M),te&&(this.O?k="headers="+encodeURIComponent(String(fE(te)))+"&"+k:this.m&&Hx(M,this.m,te)),Gx(this.h,J),this.Ua&&vt(M,"TYPE","init"),this.P?(vt(M,"$req",k),vt(M,"SID","null"),J.T=!0,Vx(J,M,null)):Vx(J,M,k),this.G=2}}else this.G==3&&(m?bE(this,m):this.i.length==0||eE(this.h)||bE(this))};function bE(m,k){var M;k?M=k.l:M=m.U++;const $=Ms(m.I);vt($,"SID",m.K),vt($,"RID",M),vt($,"AID",m.T),vu(m,$),m.m&&m.o&&Hx($,m.m,m.o),M=new Si(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),k&&(m.i=k.D.concat(m.i)),k=wE(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Gx(m.h,M),Vx(M,$,k)}function vu(m,k){m.H&&A(m.H,function(M,$){vt(k,$,M)}),m.l&&sE({},function(M,$){vt(k,$,M)})}function wE(m,k,M){M=Math.min(m.i.length,M);var $=m.l?h(m.l.Na,m.l,m):null;e:{var J=m.i;let te=-1;for(;;){const pe=["count="+M];te==-1?0<M?(te=J[0].g,pe.push("ofs="+te)):te=0:pe.push("ofs="+te);let ft=!0;for(let ln=0;ln<M;ln++){let Xe=J[ln].g;const vn=J[ln].map;if(Xe-=te,0>Xe)te=Math.max(0,J[ln].g-100),ft=!1;else try{Q3(vn,pe,"req"+Xe+"_")}catch{$&&$(vn)}}if(ft){$=pe.join("&");break e}}}return m=m.i.splice(0,M),k.D=m,$}function _E(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;B||F(),G||(B(),G=!0),U.add(k,m),m.v=0}}function Kx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=uu(h(m.Fa,m),EE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,NE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=uu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mn(10),kh(this),NE(this))};function Yx(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function NE(m){m.g=new Si(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Ms(m.qa);vt(k,"RID","rpc"),vt(k,"SID",m.K),vt(k,"AID",m.T),vt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(k,"TO",m.ja),vt(k,"TYPE","xmlhttp"),vu(m,k),m.m&&m.o&&Hx(k,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=Sh(Ms(k)),M.m=null,M.P=!0,JS(M,m)}t.Za=function(){this.C!=null&&(this.C=null,kh(this),Kx(this),Mn(19))};function jh(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function SE(m,k){var M=null;if(m.g==k){jh(m),Yx(m),m.g=null;var $=2}else if(zx(m.h,k))M=k.D,nE(m.h,k),$=1;else return;if(m.G!=0){if(k.o)if($==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var J=m.B;$=yh(),Be($,new HS($,M)),Ch(m)}else _E(m);else if(J=k.s,J==3||J==0&&0<k.X||!($==1&&nU(m,k)||$==2&&Kx(m)))switch(M&&0<M.length&&(k=m.h,k.i=k.i.concat(M)),J){case 1:Ia(m,5);break;case 4:Ia(m,10);break;case 3:Ia(m,6);break;default:Ia(m,2)}}}function EE(m,k){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*k}function Ia(m,k){if(m.j.info("Error code "+k),k==2){var M=h(m.fb,m),$=m.Xa;const J=!$;$=new ja($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_h($,"https"),Sh($),J?Y3($.toString(),M):J3($.toString(),M)}else Mn(2);m.G=0,m.l&&m.l.sa(k),TE(m),vE(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function TE(m){if(m.G=0,m.ka=[],m.l){const k=rE(m.h);(k.length!=0||m.i.length!=0)&&(v(m.ka,k),v(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function AE(m,k,M){var $=M instanceof ja?Ms(M):new ja(M);if($.g!="")k&&($.g=k+"."+$.g),Nh($,$.s);else{var J=l.location;$=J.protocol,k=k?k+"."+J.hostname:J.hostname,J=+J.port;var te=new ja(null);$&&_h(te,$),k&&(te.g=k),J&&Nh(te,J),M&&(te.l=M),$=te}return M=m.D,k=m.ya,M&&k&&vt($,M,k),vt($,"VER",m.la),vu(m,$),$}function kE(m,k,M){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new It(new Eh({eb:M})):new It(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function CE(){}t=CE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ih(){}Ih.prototype.g=function(m,k){return new sr(m,k)};function sr(m,k){Fe.call(this),this.g=new yE(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!_(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Bo(this)}b(sr,Fe),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Wx(this.g)},sr.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=lu(m),m=M);k.i.push(new U3(k.Ya++,m)),k.G==3&&Ch(k)},sr.prototype.N=function(){this.g.l=null,delete this.j,Wx(this.g),delete this.g,sr.aa.N.call(this)};function jE(m){xr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const M in k){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}b(jE,xr);function IE(){Uo.call(this),this.status=1}b(IE,Uo);function Bo(m){this.g=m}b(Bo,CE),Bo.prototype.ua=function(){Be(this.g,"a")},Bo.prototype.ta=function(m){Be(this.g,new jE(m))},Bo.prototype.sa=function(m){Be(this.g,new IE)},Bo.prototype.ra=function(){Be(this.g,"b")},Ih.prototype.createWebChannel=Ih.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,IO=function(){return new Ih},jO=function(){return yh()},CO=ka,pb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vh.NO_ERROR=0,vh.TIMEOUT=8,vh.HTTP_ERROR=6,Op=vh,WS.COMPLETE="complete",kO=WS,Oe.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Hu=Oe,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,AO=It}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const Q2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new b_("@firebase/firestore");function ku(){return mo.logLevel}function Se(t,...e){if(mo.logLevel<=He.DEBUG){const n=e.map(N_);mo.debug(`Firestore (${$c}): ${t}`,...n)}}function ai(t,...e){if(mo.logLevel<=He.ERROR){const n=e.map(N_);mo.error(`Firestore (${$c}): ${t}`,...n)}}function Kl(t,...e){if(mo.logLevel<=He.WARN){const n=e.map(N_);mo.warn(`Firestore (${$c}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function at(t,e){t||Re()}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class dB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fB{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sa,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new PO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new En(e)}}class hB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){at(this.o===void 0);const r=i=>{i.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new mB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=xB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Yl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Jt(0,0))}static max(){return new De(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends qd{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const yB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends qd{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return yB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(gt.fromString(e))}static fromName(e){return new Ee(gt.fromString(e).popFirst(5))}static empty(){return new Ee(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new gt(e.slice()))}}function vB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new ua(s,Ee.empty(),e)}function bB(t){return new ua(t.readTime,t.key,-1)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(De.min(),Ee.empty(),-1)}static max(){return new ua(De.max(),Ee.empty(),-1)}}function wB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==_B)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function SB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}S_.oe=-1;function y0(t){return t==null}function _m(t){return t===0&&1/t==-1/0}function EB(t){return typeof t=="number"&&Number.isInteger(t)&&!_m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qh(this.root,e,this.comparator,!0)}}class Qh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=i??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,i){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new pn(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new OO("Invalid base64 string: "+i):i}}(e);return new xn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const TB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(at(!!t),typeof t=="string"){let e=0;const n=TB.exec(t);if(at(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E_(t){const e=t.mapValue.fields.__previous_value__;return v0(e)?E_(e):e}function zd(t){const e=da(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Gd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={mapValue:{}};function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v0(t)?4:CB(t)?9007199254740991:kB(t)?10:11:Re()}function Ts(t,e){if(t===e)return!0;const n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zd(t).isEqual(zd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=da(s.timestampValue),l=da(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return go(s.bytesValue).isEqual(go(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Dt(s.doubleValue),l=Dt(i.doubleValue);return o===l?_m(o)===_m(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Z2(o)!==Z2(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ts(o[c],l[c])))return!1;return!0}(t,e);default:return Re()}}function Hd(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function Jl(t,e){if(t===e)return 0;const n=xo(t),r=xo(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Dt(i.integerValue||i.doubleValue),c=Dt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return tT(t.timestampValue,e.timestampValue);case 4:return tT(zd(t),zd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(i,o){const l=go(i),c=go(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Qe(l[u],c[u]);if(d!==0)return d}return Qe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Qe(Dt(i.latitude),Dt(o.latitude));return l!==0?l:Qe(Dt(i.longitude),Dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const f=i.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=h.value)===null||c===void 0?void 0:c.arrayValue,w=Qe(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:nT(x,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Zh.mapValue&&o===Zh.mapValue)return 0;if(i===Zh.mapValue)return 1;if(o===Zh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Qe(c[f],d[f]);if(h!==0)return h;const x=Jl(l[c[f]],u[d[f]]);if(x!==0)return x}return Qe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Re()}}function tT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=da(t),r=da(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function nT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jl(n[s],r[s]);if(i)return i}return Qe(n.length,r.length)}function Xl(t){return mb(t)}function mb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=mb(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${mb(n.fields[o])}`;return s+"}"}(t.mapValue):Re()}function Nm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gb(t){return!!t&&"integerValue"in t}function T_(t){return!!t&&"arrayValue"in t}function rT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dp(t){return!!t&&"mapValue"in t}function kB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(n)}setAll(e){let n=fn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=cd(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xn(cd(this.value))}}function DO(t){const e=[];return jo(t.fields,(n,r)=>{const s=new fn([n]);if(Dp(r)){const i=DO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new An(e,0,De.min(),De.min(),De.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,s){return new An(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new An(e,2,n,De.min(),De.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,De.min(),De.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.position=e,this.inclusive=n}}function iT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=Jl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function jB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LO=class{};class Vt extends LO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PB(e,n,r):n==="array-contains"?new OB(e,r):n==="in"?new DB(e,r):n==="not-in"?new LB(e,r):n==="array-contains-any"?new $B(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RB(e,r):new MB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jl(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends LO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ss(e,n)}matches(e){return $O(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $O(t){return t.op==="and"}function UO(t){return IB(t)&&$O(t)}function IB(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function xb(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(UO(t))return t.filters.map(e=>xb(e)).join(",");{const e=t.filters.map(n=>xb(n)).join(",");return`${t.op}(${e})`}}function FO(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Ts(r.value,s.value)}(t,e):t instanceof ss?function(r,s){return s instanceof ss&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&FO(o,s.filters[l]),!0):!1}(t,e):void Re()}function VO(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(VO).join(" ,")+"}"}(t):"Filter"}class PB extends Vt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class RB extends Vt{constructor(e,n){super(e,"in",n),this.keys=BO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MB extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=BO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class OB extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T_(n)&&Hd(n.arrayValue,this.value)}}class DB extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hd(this.value.arrayValue,n)}}class LB extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hd(this.value.arrayValue,n)}}class $B extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function oT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UB(t,e,n,r,s,i,o)}function A_(t){const e=$e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),y0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.ue=n}return e.ue}function k_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function yb(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FB(t,e,n,r,s,i,o,l){return new Io(t,e,n,r,s,i,o,l)}function C_(t){return new Io(t)}function lT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j_(t){return t.collectionGroup!==null}function kl(t){const e=$e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new pn(fn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Wd(i,r))}),n.has(fn.keyField().canonicalString())||e.ce.push(new Wd(fn.keyField(),r))}return e.ce}function ys(t){const e=$e(t);return e.le||(e.le=VB(e,kl(t))),e.le}function VB(t,e){if(t.limitType==="F")return oT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wd(s.field,i)});const n=t.endAt?new Ql(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ql(t.startAt.position,t.startAt.inclusive):null;return oT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vb(t,e){const n=t.filters.concat([e]);return new Io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b0(t,e){return k_(ys(t),ys(e))&&t.limitType===e.limitType}function qO(t){return`${A_(ys(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VO(s)).join(", ")}]`),y0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xl(s)).join(",")),`Target(${r})`}(ys(t))}; limitType=${t.limitType})`}function w0(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of kl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=iT(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,kl(r),s)||r.endAt&&!function(o,l,c){const u=iT(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,kl(r),s))}(t,e)}function BB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zO(t){return(e,n)=>{let r=!1;for(const s of kl(t)){const i=qB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qB(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Jl(c,u):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return MO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new jt(Ee.comparator);function oi(){return zB}const GO=new jt(Ee.comparator);function Wu(...t){let e=GO;for(const n of t)e=e.insert(n.key,n);return e}function HO(t){let e=GO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ha(){return ud()}function WO(){return ud()}function ud(){return new Uc(t=>t.toString(),(t,e)=>t.isEqual(e))}const GB=new jt(Ee.comparator),HB=new pn(Ee.comparator);function Ge(...t){let e=HB;for(const n of t)e=e.add(n);return e}const WB=new pn(Qe);function KB(){return WB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(e)?"-0":e}}function KO(t){return{integerValue:""+t}}function YB(t,e){return EB(e)?KO(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this._=void 0}}function JB(t,e,n){return t instanceof Em?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&v0(i)&&(i=E_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Kd?JO(t,e):t instanceof Yd?XO(t,e):function(s,i){const o=YO(s,i),l=cT(o)+cT(s.Pe);return gb(o)&&gb(s.Pe)?KO(l):I_(s.serializer,l)}(t,e)}function XB(t,e,n){return t instanceof Kd?JO(t,e):t instanceof Yd?XO(t,e):n}function YO(t,e){return t instanceof Tm?function(r){return gb(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Em extends _0{}class Kd extends _0{constructor(e){super(),this.elements=e}}function JO(t,e){const n=QO(e);for(const r of t.elements)n.some(s=>Ts(s,r))||n.push(r);return{arrayValue:{values:n}}}class Yd extends _0{constructor(e){super(),this.elements=e}}function XO(t,e){let n=QO(e);for(const r of t.elements)n=n.filter(s=>!Ts(s,r));return{arrayValue:{values:n}}}class Tm extends _0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cT(t){return Dt(t.integerValue||t.doubleValue)}function QO(t){return T_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Kd&&s instanceof Kd||r instanceof Yd&&s instanceof Yd?Yl(r.elements,s.elements,Ts):r instanceof Tm&&s instanceof Tm?Ts(r.Pe,s.Pe):r instanceof Em&&s instanceof Em}(t.transform,e.transform)}class ZB{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class N0{}function ZO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P_(t.key,kr.none()):new Zf(t.key,t.data,kr.none());{const n=t.data,r=Xn.empty();let s=new pn(fn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wa(t.key,r,new ur(s.toArray()),kr.none())}}function e9(t,e,n){t instanceof Zf?function(s,i,o){const l=s.value.clone(),c=dT(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(s,i,o){if(!Lp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=dT(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(e4(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dd(t,e,n,r){return t instanceof Zf?function(i,o,l,c){if(!Lp(i.precondition,o))return l;const u=i.value.clone(),d=fT(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(i,o,l,c){if(!Lp(i.precondition,o))return l;const u=fT(i.fieldTransforms,c,o),d=o.data;return d.setAll(e4(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Lp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function t9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=YO(r.transform,s||null);i!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,i))}return n||null}function uT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yl(r,s,(i,o)=>QB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zf extends N0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends N0{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function e4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dT(t,e,n){const r=new Map;at(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,XB(o,l,n[s]))}return r}function fT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JB(i,o,e))}return r}class P_ extends N0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n9 extends N0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=ZO(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(n,r)=>uT(n,r))&&Yl(this.baseMutations,e.baseMutations,(n,r)=>uT(n,r))}}class R_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length);let s=function(){return GB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new R_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,We;function a9(t){switch(t){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function t4(t){if(t===void 0)return ai("GRPC error has no .code"),ie.UNKNOWN;switch(t){case $t.OK:return ie.OK;case $t.CANCELLED:return ie.CANCELLED;case $t.UNKNOWN:return ie.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ie.INTERNAL;case $t.UNAVAILABLE:return ie.UNAVAILABLE;case $t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case $t.NOT_FOUND:return ie.NOT_FOUND;case $t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case $t.ABORTED:return ie.ABORTED;case $t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case $t.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}(We=$t||($t={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new to([4294967295,4294967295],0);function hT(t){const e=o9().encode(t),n=new TO;return n.update(e),new Uint8Array(n.digest())}function pT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new to([n,r],0),new to([s,i],0)]}class M_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=to.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(to.fromNumber(r)));return s.compare(l9)===1&&(s=new to([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hT(e),[r,s]=pT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new M_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=hT(e),[r,s]=pT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,eh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new S0(De.min(),s,new jt(Qe),oi(),Ge())}}class eh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eh(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class n4{constructor(e,n){this.targetId=e,this.me=n}}class r4{constructor(e,n,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mT{constructor(){this.fe=0,this.ge=xT(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),n=Ge(),r=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new eh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class c9{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=gT(),this.Qe=new jt(Qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(yb(i))if(r===0){const o=new Ee(i.path);this.Ue(n,o,An.newNoDocument(o,De.min()))}else at(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=go(r).toUint8Array()}catch(c){if(c instanceof OO)return Kl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new M_(o,s,i)}catch(c){return Kl(c instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&yb(l.target)){const c=new Ee(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,An.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ge();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new S0(e,n,this.Qe,this.ke,r);return this.ke=oi(),this.qe=gT(),this.Qe=new jt(Qe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pn(Qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gT(){return new jt(Ee.comparator)}function xT(){return new jt(Ee.comparator)}const u9={asc:"ASCENDING",desc:"DESCENDING"},d9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f9={and:"AND",or:"OR"};class h9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bb(t,e){return t.useProto3Json||y0(e)?e:{value:e}}function Am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p9(t,e){return Am(t,e.toTimestamp())}function vs(t){return at(!!t),De.fromTimestamp(function(n){const r=da(n);return new Jt(r.seconds,r.nanos)}(t))}function O_(t,e){return wb(t,e).canonicalString()}function wb(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function i4(t){const e=gt.fromString(t);return at(u4(e)),e}function _b(t,e){return O_(t.databaseId,e.path)}function ky(t,e){const n=i4(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(o4(n))}function a4(t,e){return O_(t.databaseId,e)}function m9(t){const e=i4(t);return e.length===4?gt.emptyPath():o4(e)}function Nb(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o4(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yT(t,e,n){return{name:_b(t,e),fields:n.value.mapValue.fields}}function g9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(at(d===void 0||typeof d=="string"),xn.fromBase64String(d||"")):(at(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?ie.UNKNOWN:t4(u.code);return new ge(d,u.message||"")}(o);n=new r4(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ky(t,r.document.name),i=vs(r.document.updateTime),o=r.document.createTime?vs(r.document.createTime):De.min(),l=new Xn({mapValue:{fields:r.document.fields}}),c=An.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $p(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ky(t,r.document),i=r.readTime?vs(r.readTime):De.min(),o=An.newNoDocument(s,i),l=r.removedTargetIds||[];n=new $p([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ky(t,r.document),i=r.removedTargetIds||[];n=new $p([],i,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i9(s,i),l=r.targetId;n=new n4(l,o)}}return n}function x9(t,e){let n;if(e instanceof Zf)n={update:yT(t,e.key,e.value)};else if(e instanceof P_)n={delete:_b(t,e.key)};else if(e instanceof wa)n={update:yT(t,e.key,e.data),updateMask:T9(e.fieldMask)};else{if(!(e instanceof n9))return Re();n={verify:_b(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Em)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Yd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tm)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re()}(t,e.precondition)),n}function y9(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?vs(s.updateTime):vs(i);return o.isEqual(De.min())&&(o=vs(i)),new ZB(o,s.transformResults||[])}(n,e))):[]}function v9(t,e){return{documents:[a4(t,e.path)]}}function b9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a4(t,s);const i=function(u){if(u.length!==0)return c4(ss.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Qo(h.field),direction:N9(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=bb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function w9(t){let e=m9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=l4(f);return h instanceof ss&&UO(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new Wd(Zo(b.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,y0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new Ql(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new Ql(x,h)}(n.endAt)),FB(e,s,o,i,l,"F",c,u)}function _9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zo(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zo(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ss.create(n.compositeFilter.filters.map(r=>l4(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function N9(t){return u9[t]}function S9(t){return d9[t]}function E9(t){return f9[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return fn.fromServerFormat(t.fieldPath)}function c4(t){return t instanceof Vt?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(rT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(rT(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:S9(n.op),value:n.value}}}(t):t instanceof ss?function(n){const r=n.getFilters().map(s=>c4(s));return r.length===1?r[0]:{compositeFilter:{op:E9(n.op),filters:r}}}(t):Re()}function T9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,s,i=De.min(),o=De.min(),l=xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.ct=e}}function k9(t){const e=w9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.un=new j9}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ua.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class j9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pn(gt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zl(0)}static kn(){return new Zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.changes=new Uc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dd(r.mutation,s,ur.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const s=Ha();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wu();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=oi();const o=ud(),l=function(){return ud()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof wa)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),dd(d.mutation,u,d.mutation.getFieldMask(),Jt.now())):o.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new P9(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ud();let s=new jt((o,l)=>o-l),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ur.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||Ge()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=WO();d.forEach(h=>{if(!i.has(h)){const x=ZO(n.get(h),r.get(h));x!==null&&f.set(h,x),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Ha());let l=-1,c=i;return o.next(u=>le.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ge())).next(d=>({batchId:l,changes:HO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let s=Wu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wu();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const u=function(f,h){return new Io(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,An.newInvalidDocument(d)))});let l=Wu();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&dd(d.mutation,u,ur.empty(),Jt.now()),w0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vs(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:k9(s.bundledQuery),readTime:vs(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.overlays=new jt(Ee.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Ha(),i=n.length+1,o=new Ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new jt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ha(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ha(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return le.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s9(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ge(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Tr=new pn(Zt.Er),this.dr=new pn(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ee(new gt([])),r=new Zt(n,e),s=new Zt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ee(new gt([])),r=new Zt(n,e),s=new Zt(n,e+1);let i=Ge();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ee.comparator(e.key,n.key)||Qe(e.wr,n.wr)}static Ar(e,n){return Qe(e.wr,n.wr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pn(Zt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r9(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Zt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Qe);return n.forEach(s=>{const i=new Zt(s,0),o=new Zt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const o=new Zt(new Ee(i),0);let l=new pn(Qe);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},o),le.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,s=>{const i=new Zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zt(n,0),s=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.Mr=e,this.docs=function(){return new jt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=oi();const o=n.path,l=new Ee(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||wB(bB(d),r)<=0||(s.has(d.key)||w0(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Re()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U9(this)}getSize(e){return le.resolve(this.size)}}class U9 extends I9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.persistence=e,this.Nr=new Uc(n=>A_(n),k_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D_,this.targetCount=0,this.kr=Zl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new S_(0),this.Kr=!1,this.Kr=!0,this.$r=new D9,this.referenceDelegate=e(this),this.Ur=new F9(this),this.indexManager=new C9,this.remoteDocumentCache=function(s){return new $9(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new A9(n),this.Gr=new M9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new L9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const s=new B9(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class B9 extends NB{constructor(e){super(),this.currentSequenceNumber=e}}class L_{constructor(e){this.persistence=e,this.Jr=new D_,this.Yr=null}static Zr(e){return new L_(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const s=Ee.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ge(),s=Ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GV()?8:SB(Rn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new q9;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ku()<=He.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(ku()<=He.DEBUG&&Se("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ku()<=He.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):le.resolve())}Yi(e,n){if(lT(n))return le.resolve(null);let r=ys(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sm(n,null,"F"),r=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Sm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return lT(n)||s.isEqual(De.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?le.resolve(null):(ku()<=He.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(n)),this.rs(e,o,n,vB(s,-1)).next(l=>l))})}ts(e,n){let r=new pn(zO(e));return n.forEach((s,i)=>{w0(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ku()<=He.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ua.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new jt(Qe),this._s=new Uc(i=>A_(i),k_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function H9(t,e,n,r){return new G9(t,e,n,r)}async function d4(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function W9(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let x=le.resolve();return h.forEach(b=>{x=x.next(()=>d.getEntry(c,b)).next(w=>{const v=u.docVersions.get(b);at(v!==null),w.version.compareTo(v)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ge();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function f4(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function K9(t,e){const n=$e(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let x=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(xn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),s=s.insert(f,x),function(w,v,y){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(i,x))});let c=oi(),u=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(Y9(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(De.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return le.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function Y9(t,e,n){let r=Ge(),s=Ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=oi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function J9(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X9(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new qi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sb(t,e,n){const r=$e(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Qf(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function vT(t,e,n){const r=$e(t);let s=De.min(),i=Ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=$e(c),h=f._s.get(d);return h!==void 0?le.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,ys(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?i:Ge())).next(l=>(Q9(r,BB(e),l),{documents:l,Ts:i})))}function Q9(t,e,n){let r=t.us.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class bT{constructor(){this.activeTargetIds=KB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z9{constructor(){this.so=new bT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=null;function Cy(){return ep===null?ep=function(){return 268435456+Math.round(2147483648*Math.random())}():ep++,"0x"+ep.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class rq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Cy(),c=this.xo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(d=>(Se("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Kl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$c}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=tq[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Cy();return new Promise((o,l)=>{const c=new AO;c.setWithCredentials(!0),c.listenOnce(kO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Op.NO_ERROR:const d=c.getResponseJson();Se(Nn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Op.TIMEOUT:Se(Nn,`RPC '${e}' ${i} timed out`),l(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const f=c.getStatus();if(Se(Nn,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const b=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(y)>=0?y:ie.UNKNOWN}(x.status);l(new ge(b,x.message))}else l(new ge(ie.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{Se(Nn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Se(Nn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Cy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IO(),l=jO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Se(Nn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const b=new nq({Io:v=>{x?Se(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(Se(Nn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),Se(Nn,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},To:()=>f.close()}),w=(v,y,_)=>{v.listen(y,N=>{try{_(N)}catch(C){setTimeout(()=>{throw C},0)}})};return w(f,Hu.EventType.OPEN,()=>{x||(Se(Nn,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),w(f,Hu.EventType.CLOSE,()=>{x||(x=!0,Se(Nn,`RPC '${e}' stream ${s} transport closed`),b.So())}),w(f,Hu.EventType.ERROR,v=>{x||(x=!0,Kl(Nn,`RPC '${e}' stream ${s} transport errored:`,v),b.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),w(f,Hu.EventType.MESSAGE,v=>{var y;if(!x){const _=v.data[0];at(!!_);const N=_,C=N.error||((y=N[0])===null||y===void 0?void 0:y.error);if(C){Se(Nn,`RPC '${e}' stream ${s} received error:`,C);const T=C.status;let A=function(E){const R=$t[E];if(R!==void 0)return t4(R)}(T),S=C.message;A===void 0&&(A=ie.INTERNAL,S="Unknown error status: "+T+" with message "+C.message),x=!0,b.So(new ge(A,S)),f.close()}else Se(Nn,`RPC '${e}' stream ${s} received:`,_),b.bo(_)}}),w(l,CO.STAT_EVENT,v=>{v.stat===pb.PROXY?Se(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===pb.NOPROXY&&Se(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function jy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){return new h9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new h4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sq extends p4{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=g9(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?vs(o.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nb(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=yb(c)?{documents:v9(i,c)}:{query:b9(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=s4(i,o.resumeToken);const u=bb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(De.min())>0){l.readTime=Am(i,o.snapshotVersion.toTimestamp());const u=bb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=_9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nb(this.serializer),n.removeTarget=e,this.a_(n)}}class iq extends p4{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=y9(e.writeResults,e.commitTime),r=vs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,wb(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(ie.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,wb(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ai(n),this.D_=!1):Se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Po(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=$e(c);u.L_.add(4),await th(u),u.q_.set("Unknown"),u.L_.delete(4),await T0(u)}(this))})}),this.q_=new oq(r,s)}}async function T0(t){if(Po(t))for(const e of t.B_)await e(!0)}async function th(t){for(const e of t.B_)await e(!1)}function m4(t,e){const n=$e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B_(n)?V_(n):Fc(n).r_()&&F_(n,e))}function U_(t,e){const n=$e(t),r=Fc(n);n.N_.delete(e),r.r_()&&g4(n,e),n.N_.size===0&&(r.r_()?r.o_():Po(n)&&n.q_.set("Unknown"))}function F_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).A_(e)}function g4(t,e){t.Q_.xe(e),Fc(t).R_(e)}function V_(t){t.Q_=new c9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function B_(t){return Po(t)&&!Fc(t).n_()&&t.N_.size>0}function Po(t){return $e(t).L_.size===0}function x4(t){t.Q_=void 0}async function cq(t){t.q_.set("Online")}async function uq(t){t.N_.forEach((e,n)=>{F_(t,e)})}async function dq(t,e){x4(t),B_(t)?(t.q_.M_(e),V_(t)):t.q_.set("Unknown")}async function fq(t,e,n){if(t.q_.set("Online"),e instanceof r4&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await km(t,r)}else if(e instanceof $p?t.Q_.Ke(e):e instanceof n4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await f4(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),g4(i,c);const f=new qi(d.target,c,u,d.sequenceNumber);F_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await km(t,r)}}async function km(t,e,n){if(!Qf(e))throw e;t.L_.add(1),await th(t),t.q_.set("Offline"),n||(n=()=>f4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await T0(t)})}function y4(t,e){return e().catch(n=>km(t,n,e))}async function A0(t){const e=$e(t),n=fa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hq(e);)try{const s=await J9(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,pq(e,s)}catch(s){await km(e,s)}v4(e)&&b4(e)}function hq(t){return Po(t)&&t.O_.length<10}function pq(t,e){t.O_.push(e);const n=fa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function v4(t){return Po(t)&&!fa(t).n_()&&t.O_.length>0}function b4(t){fa(t).start()}async function mq(t){fa(t).p_()}async function gq(t){const e=fa(t);for(const n of t.O_)e.m_(n.mutations)}async function xq(t,e,n){const r=t.O_.shift(),s=R_.from(r,e,n);await y4(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await A0(t)}async function yq(t,e){e&&fa(t).V_&&await async function(r,s){if(function(o){return a9(o)&&o!==ie.ABORTED}(s.code)){const i=r.O_.shift();fa(r).s_(),await y4(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await A0(r)}}(t,e),v4(t)&&b4(t)}async function _T(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Po(n);n.L_.add(3),await th(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await T0(n)}async function vq(t,e){const n=$e(t);e?(n.L_.delete(2),await T0(n)):e||(n.L_.add(2),await th(n),n.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=function(n,r,s){const i=$e(n);return i.w_(),new sq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cq.bind(null,t),Ro:uq.bind(null,t),mo:dq.bind(null,t),d_:fq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B_(t)?V_(t):t.q_.set("Unknown")):(await t.K_.stop(),x4(t))})),t.K_}function fa(t){return t.U_||(t.U_=function(n,r,s){const i=$e(n);return i.w_(),new iq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mq.bind(null,t),mo:yq.bind(null,t),f_:gq.bind(null,t),g_:xq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await A0(t)):(await t.U_.stop(),t.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new q_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Qf(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new Cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.W_=new jt(Ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ec{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ec(e,n,Cl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wq{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=$e(n),i=s.queries;s.queries=ST(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function ST(){return new Uc(t=>qO(t),b0)}async function w4(t,e){const n=$e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new bq,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=z_(o,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&G_(n)}async function _4(t,e){const n=$e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _q(t,e){const n=$e(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&G_(n)}function Nq(t,e,n){const r=$e(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function G_(t){t.Y_.forEach(e=>{e.next()})}var Eb,ET;(ET=Eb||(Eb={})).ea="default",ET.Cache="cache";class N4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Eb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.key=e}}class E4{constructor(e){this.key=e}}class Sq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=zO(e),this.Ra=new Cl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new NT,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),x=w0(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let v=!1;h&&x?h.data.isEqual(x.data)?b!==w&&(r.track({type:3,doc:x}),v=!0):this.ga(h,x)||(r.track({type:2,doc:x}),v=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),v=!0):h&&!x&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(l=!0)),v&&(x?(o=o.add(x),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,b){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return w(x)-w(b)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new ec(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new NT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new E4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new S4(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Eq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tq{constructor(e){this.key=e,this.va=!1}}class Aq{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Uc(l=>qO(l),b0),this.Ma=new Map,this.xa=new Set,this.Oa=new jt(Ee.comparator),this.Na=new Map,this.La=new D_,this.Ba={},this.ka=new Map,this.qa=Zl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kq(t,e,n=!0){const r=I4(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await T4(r,e,n,!0),s}async function Cq(t,e){const n=I4(t);await T4(n,e,!0,!1)}async function T4(t,e,n,r){const s=await X9(t.localStore,ys(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await jq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&m4(t.remoteStore,s),l}async function jq(t,e,n,r,s){t.Ka=(f,h,x)=>async function(w,v,y,_){let N=v.view.ma(y);N.ns&&(N=await vT(w.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,N)));const C=_&&_.targetChanges.get(v.targetId),T=_&&_.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(N,w.isPrimaryClient,C,T);return AT(w,v.targetId,A.wa),A.snapshot}(t,f,h,x);const i=await vT(t.localStore,e,!0),o=new Sq(e,i.Ts),l=o.ma(i.documents),c=eh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);AT(t,n,u.wa);const d=new Eq(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Iq(t,e,n){const r=$e(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!b0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sb(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&U_(r.remoteStore,s.targetId),Tb(r,s.targetId)}).catch(Xf)):(Tb(r,s.targetId),await Sb(r.localStore,s.targetId,!0))}async function Pq(t,e){const n=$e(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))}async function Rq(t,e,n){const r=Fq(t);try{const s=await function(o,l){const c=$e(o),u=Jt.now(),d=l.reduce((x,b)=>x.add(b.key),Ge());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=oi(),w=Ge();return c.cs.getEntries(x,d).next(v=>{b=v,b.forEach((y,_)=>{_.isValidDocument()||(w=w.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(v=>{f=v;const y=[];for(const _ of l){const N=t9(_,f.get(_.key).overlayedDocument);N!=null&&y.push(new wa(_.key,N,DO(N.value.mapValue),kr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,y,l)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(x,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:HO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new jt(Qe)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await nh(r,s.changes),await A0(r.remoteStore)}catch(s){const i=z_(s,"Failed to persist write");n.reject(i)}}async function A4(t,e){const n=$e(t);try{const r=await K9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?at(o.va):s.removedDocuments.size>0&&(at(o.va),o.va=!1))}),await nh(n,r,e)}catch(r){await Xf(r)}}function TT(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=$e(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&G_(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Mq(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new jt(Ee.comparator);o=o.insert(i,An.newNoDocument(i,De.min()));const l=Ge().add(i),c=new S0(De.min(),new Map,new jt(Qe),o,l);await A4(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),H_(r)}else await Sb(r.localStore,e,!1).then(()=>Tb(r,e,n)).catch(Xf)}async function Oq(t,e){const n=$e(t),r=e.batch.batchId;try{const s=await W9(n.localStore,e);C4(n,r,null),k4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nh(n,s)}catch(s){await Xf(s)}}async function Dq(t,e,n){const r=$e(t);try{const s=await function(o,l){const c=$e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(at(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);C4(r,e,n),k4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nh(r,s)}catch(s){await Xf(s)}}function k4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function C4(t,e,n){const r=$e(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Tb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||j4(t,r)})}function j4(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),H_(t))}function AT(t,e,n){for(const r of n)r instanceof S4?(t.La.addReference(r.key,e),Lq(t,r)):r instanceof E4?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||j4(t,r.key)):Re()}function Lq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.xa.add(r),H_(t))}function H_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ee(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new Tq(n)),t.Oa=t.Oa.insert(n,r),m4(t.remoteStore,new qi(ys(C_(n.path)),r,"TargetPurposeLimboResolution",S_.oe))}}async function nh(t,e,n){const r=$e(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=$_.Wi(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const d=$e(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>le.forEach(u,h=>le.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>le.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!Qf(f))throw f;Se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),b=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(h,w)}}}(r.localStore,i))}async function $q(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await d4(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new ge(ie.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nh(n,r.hs)}}function Uq(t,e){const n=$e(t),r=n.Na.get(e);if(r&&r.va)return Ge().add(r.key);{let s=Ge();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function I4(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mq.bind(null,e),e.Ca.d_=_q.bind(null,e.eventManager),e.Ca.$a=Nq.bind(null,e.eventManager),e}function Fq(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dq.bind(null,e),e}class Cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=E0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return H9(this.persistence,new z9,e.initialUser,this.serializer)}Ga(e){return new V9(L_.Zr,this.serializer)}Wa(e){return new Z9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cm.provider={build:()=>new Cm};class Ab{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$q.bind(null,this.syncEngine),await vq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wq}()}createDatastore(e){const n=E0(e.databaseInfo.databaseId),r=function(i){return new rq(i)}(e.databaseInfo);return function(i,o,l,c){return new aq(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new lq(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return wT.D()?new wT:new eq}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new Aq(s,i,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=$e(s);Se("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await th(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ab.provider={build:()=>new Ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=RO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=z_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Iy(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await d4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bq(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_T(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>_T(e.remoteStore,s)),t._onlineComponents=e}async function Bq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Kl("Error using user provided cache. Falling back to memory cache: "+n),await Iy(t,new Cm)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Iy(t,new Cm);return t._offlineComponents}async function R4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await kT(t,new Ab))),t._onlineComponents}function qq(t){return R4(t).then(e=>e.syncEngine)}async function kb(t){const e=await R4(t),n=e.eventManager;return n.onListen=kq.bind(null,e.syncEngine),n.onUnlisten=Iq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Pq.bind(null,e.syncEngine),n}function zq(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new P4({next:h=>{d.Za(),o.enqueueAndForget(()=>_4(i,f)),h.fromCache&&c.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new N4(l,d,{includeMetadataChanges:!0,_a:!0});return w4(i,f)}(await kb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gq(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jT(t){if(!Ee.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IT(t){if(Ee.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function k0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k0(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Hq(t,e){if(e<=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uB;switch(r.type){case"firstParty":return new pB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(Se("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function Wq(t,e,n,r={}){var s;const i=(t=Cr(t,C0))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=En.MOCK_USER;else{l=$V(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new En(u)}t._authCredentials=new dB(new PO(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class ia extends js{constructor(e,n,r){super(e,n,C_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ee(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function st(t,e,...n){if(t=gn(t),O4("collection","path",e),t instanceof C0){const r=gt.fromString(e,...n);return IT(r),new ia(t,null,r)}{if(!(t instanceof Vn||t instanceof ia))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return IT(r),new ia(t.firestore,null,r)}}function St(t,e,...n){if(t=gn(t),arguments.length===1&&(e=RO.newId()),O4("doc","path",e),t instanceof C0){const r=gt.fromString(e,...n);return jT(r),new Vn(t,null,new Ee(r))}{if(!(t instanceof Vn||t instanceof ia))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return jT(r),new Vn(t.firestore,t instanceof ia?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new h4(this,"async_queue_retry"),this.Vu=()=>{const r=jy();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new sa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qf(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=q_.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function MT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ha extends C0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new RT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function Kq(t,e){const n=typeof t=="object"?t:NO(),r=typeof t=="string"?t:"(default)",s=__(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DV("firestore");i&&Wq(s,...i)}return s}function W_(t){if(t._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yq(t),t._firestoreClient}function Yq(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new AB(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,M4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Vq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tc(xn.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tc(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=/^__.*__$/;class Xq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zf(e,this.data,n,this.fieldTransforms)}}class D4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class X_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(L4(this.Cu)&&Jq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Qq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||E0(e)}Qu(e,n,r,s=!1){return new X_({Cu:e,methodName:n,qu:r,path:fn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rh(t){const e=t._freezeSettings(),n=E0(t._databaseId);return new Qq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $4(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Q_("Data must be an object, but it was:",o,r);const l=F4(r,o);let c,u;if(i.merge)c=new ur(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=Cb(e,f,n);if(!o.contains(h))throw new ge(ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B4(d,h)||d.push(h)}c=new ur(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Xq(new Xn(l),c,u)}class I0 extends K_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof I0}}function Zq(t,e,n,r){const s=t.Qu(1,e,n);Q_("Data must be an object, but it was:",s,r);const i=[],o=Xn.empty();jo(r,(c,u)=>{const d=Z_(e,c,n);u=gn(u);const f=s.Nu(d);if(u instanceof I0)i.push(d);else{const h=sh(u,f);h!=null&&(i.push(d),o.set(d,h))}});const l=new ur(i);return new D4(o,l,s.fieldTransforms)}function ez(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Cb(e,r,n)],c=[s];if(i.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(Cb(e,i[h])),c.push(i[h+1]);const u=[],d=Xn.empty();for(let h=l.length-1;h>=0;--h)if(!B4(u,l[h])){const x=l[h];let b=c[h];b=gn(b);const w=o.Nu(x);if(b instanceof I0)u.push(x);else{const v=sh(b,w);v!=null&&(u.push(x),d.set(x,v))}}const f=new ur(u);return new D4(d,f,o.fieldTransforms)}function U4(t,e,n,r=!1){return sh(n,t.Qu(r?4:3,e))}function sh(t,e){if(V4(t=gn(t)))return Q_("Unsupported field value:",e,t),F4(t,e);if(t instanceof K_)return function(r,s){if(!L4(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=sh(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Jt.fromDate(r);return{timestampValue:Am(s.serializer,i)}}if(r instanceof Jt){const i=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Am(s.serializer,i)}}if(r instanceof Y_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tc)return{bytesValue:s4(s.serializer,r._byteString)};if(r instanceof Vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:O_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof J_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return I_(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${k0(r)}`)}(t,e)}function F4(t,e){const n={};return MO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,s)=>{const i=sh(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function V4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof Y_||t instanceof tc||t instanceof Vn||t instanceof K_||t instanceof J_)}function Q_(t,e,n){if(!V4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=k0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cb(t,e,n){if((e=gn(e))instanceof j0)return e._internalPath;if(typeof e=="string")return Z_(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const tz=new RegExp("[~\\*/\\[\\]]");function Z_(t,e,n){if(e.search(tz)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new j0(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ge(ie.INVALID_ARGUMENT,l+t+c)}function B4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nz extends eN{data(){return super.data()}}function P0(t,e){return typeof e=="string"?Z_(t,e):e instanceof j0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tN{}class R0 extends tN{}function fd(t,e,...n){let r=[];e instanceof tN&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof nN).length,l=i.filter(c=>c instanceof M0).length;if(o>1||o>0&&l>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class M0 extends R0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M0(e,n,r)}_apply(e){const n=this._parse(e);return z4(e._query,n),new js(e.firestore,e.converter,vb(e._query,n))}_parse(e){const n=rh(e.firestore);return function(i,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DT(f,d);const x=[];for(const b of f)x.push(OT(c,i,b));h={arrayValue:{values:x}}}else h=OT(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DT(f,d),h=U4(l,o,f,d==="in"||d==="not-in");return Vt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Py(t,e,n){const r=e,s=P0("where",t);return M0._create(s,r,n)}class nN extends tN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)z4(o,c),o=vb(o,c)}(e._query,n),new js(e.firestore,e.converter,vb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rN extends R0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rN(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(i,o)}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Io(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function rz(t,e="asc"){const n=e,r=P0("orderBy",t);return rN._create(r,n)}class sN extends R0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sN(e,n,r)}_apply(e){return new js(e.firestore,e.converter,Sm(e._query,this._limit,this._limitType))}}function sz(t){return Hq("limit",t),sN._create("limit",t,"F")}class iN extends R0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iN(e,n,r)}_apply(e){const n=az(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,function(s,i){return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function iz(...t){return iN._create("startAfter",t,!1)}function az(t,e,n,r){if(n[0]=gn(n[0]),n[0]instanceof eN)return function(i,o,l,c,u){if(!c)throw new ge(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of kl(i))if(f.field.isKeyField())d.push(Nm(o,c.key));else{const h=c.data.field(f.field);if(v0(h))throw new ge(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const x=f.field.canonicalString();throw new ge(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(h)}return new Ql(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=rh(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new ge(ie.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let b=0;b<d.length;b++){const w=d[b];if(h[b].field.isKeyField()){if(typeof w!="string")throw new ge(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!j_(o)&&w.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const v=o.path.child(gt.fromString(w));if(!Ee.isDocumentKey(v))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const y=new Ee(v);x.push(Nm(l,y))}else{const v=U4(c,u,w);x.push(v)}}return new Ql(x,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function OT(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ee.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nm(t,new Ee(r))}if(n instanceof Vn)return Nm(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${k0(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z4(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oz{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Dt(o.doubleValue));return new J_(i)}convertGeoPoint(e){return new Y_(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=E_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zd(e));default:return null}}convertTimestamp(e){const n=da(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);at(u4(r));const s=new Gd(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(n)||ai(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H4 extends eN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Up extends H4{data(e={}){return super.data(e)}}class W4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Up(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Up(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Up(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:lz(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class aN extends oz{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function hd(t){t=Cr(t,js);const e=Cr(t.firestore,ha),n=W_(e),r=new aN(e);return q4(t._query),zq(n,t._query).then(s=>new W4(e,r,t,s))}function cz(t,e,n){t=Cr(t,Vn);const r=Cr(t.firestore,ha),s=G4(t.converter,e);return O0(r,[$4(rh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kr.none())])}function zr(t,e,n,...r){t=Cr(t,Vn);const s=Cr(t.firestore,ha),i=rh(s);let o;return o=typeof(e=gn(e))=="string"||e instanceof j0?ez(i,"updateDoc",t._key,e,n,r):Zq(i,"updateDoc",t._key,e),O0(s,[o.toMutation(t._key,kr.exists(!0))])}function yr(t){return O0(Cr(t.firestore,ha),[new P_(t._key,kr.none())])}function Wn(t,e){const n=Cr(t.firestore,ha),r=St(t),s=G4(t.converter,e);return O0(n,[$4(rh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function ds(t,...e){var n,r,s;t=gn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||MT(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(MT(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof Vn)u=Cr(t.firestore,ha),d=C_(t._key.path),c={next:f=>{e[o]&&e[o](uz(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Cr(t,js);u=Cr(f.firestore,ha),d=f._query;const h=new aN(u);c={next:x=>{e[o]&&e[o](new W4(u,h,f,x))},error:e[o+1],complete:e[o+2]},q4(t._query)}return function(h,x,b,w){const v=new P4(w),y=new N4(x,v,b);return h.asyncQueue.enqueueAndForget(async()=>w4(await kb(h),y)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>_4(await kb(h),y))}}(W_(u),d,l,c)}function O0(t,e){return function(r,s){const i=new sa;return r.asyncQueue.enqueueAndForget(async()=>Rq(await qq(r),s,i)),i.promise}(W_(t),e)}function uz(t,e,n){const r=n.docs.get(e._key),s=new aN(t);return new H4(t,s,e._key,r,new Yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){$c=s})(Lc),Wl(new po("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ha(new fB(r.getProvider("auth-internal")),new gB(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gd(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ra(Q2,"4.7.3",e),ra(Q2,"4.7.3","esm2017")})();function oN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function K4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dz=K4,Y4=new Yf("auth","Firebase",K4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new b_("@firebase/auth");function fz(t,...e){Im.logLevel<=He.WARN&&Im.warn(`Auth (${Lc}): ${t}`,...e)}function Fp(t,...e){Im.logLevel<=He.ERROR&&Im.error(`Auth (${Lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,...e){throw lN(t,...e)}function bs(t,...e){return lN(t,...e)}function J4(t,e,n){const r=Object.assign(Object.assign({},dz()),{[e]:n});return new Yf("auth","Firebase",r).create(e,{appName:t.name})}function no(t){return J4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y4.create(t,...e)}function Pe(t,e,...n){if(!t)throw lN(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function ci(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hz(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hz()||BV()||"connection"in navigator)?navigator.onLine:!0}function mz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=UV()||qV()}get(){return pz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new ih(3e4,6e4);function uN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vc(t,e,n,r,s={}){return Q4(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Jf(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return VV()||(u.referrerPolicy="no-referrer"),X4.fetch()(Z4(t,t.config.apiHost,n,l),u)})}async function Q4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gz),e);try{const s=new vz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw tp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw tp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw tp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw J4(t,d,u);li(t,d)}}catch(s){if(s instanceof xi)throw s;li(t,"network-request-failed",{message:String(s)})}}async function yz(t,e,n,r,s={}){const i=await Vc(t,e,n,r,s);return"mfaPendingCredential"in i&&li(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Z4(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?cN(t.config,s):`${t.config.apiScheme}://${s}`}class vz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),xz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e){return Vc(t,"POST","/v1/accounts:delete",e)}async function e5(t,e){return Vc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wz(t,e=!1){const n=gn(t),r=await n.getIdToken(e),s=dN(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pd(Ry(s.auth_time)),issuedAtTime:pd(Ry(s.iat)),expirationTime:pd(Ry(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ry(t){return Number(t)*1e3}function dN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const s=gO(n);return s?JSON.parse(s):(Fp("Failed to decode base64 JWT payload"),null)}catch(s){return Fp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $T(t){const e=dN(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&_z(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _z({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Jd(t,e5(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?t5(i.providerUserInfo):[],l=Ez(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ib(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Sz(t){const e=gn(t);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ez(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function t5(t){return t.map(e=>{var{providerId:n}=e,r=oN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){const n=await Q4(t,{},async()=>{const r=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Z4(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",X4.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Az(t,e){return Vc(t,"POST","/v2/accounts:revokeToken",uN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=$T(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new jl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=oN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ib(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Jd(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wz(this,e)}reload(){return Sz(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await Jd(this,bz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:C,isAnonymous:T,providerData:A,stsTokenManager:S}=n;Pe(N&&S,e,"internal-error");const j=jl.fromJSON(this.name,S);Pe(typeof N=="string",e,"internal-error"),ki(f,e.name),ki(h,e.name),Pe(typeof C=="boolean",e,"internal-error"),Pe(typeof T=="boolean",e,"internal-error"),ki(x,e.name),ki(b,e.name),ki(w,e.name),ki(v,e.name),ki(y,e.name),ki(_,e.name);const E=new zs({uid:N,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:T,photoURL:b,phoneNumber:x,tenantId:w,stsTokenManager:j,createdAt:y,lastLoginAt:_});return A&&Array.isArray(A)&&(E.providerData=A.map(R=>Object.assign({},R))),v&&(E._redirectEventId=v),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new jl;s.updateFromServerResponse(n);const i=new zs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?t5(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new jl;l.updateFromIdToken(r);const c=new zs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ib(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function Gs(t){ci(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n5.type="NONE";const FT=n5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(Gs(FT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Gs(FT);const o=Vp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=zs._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Il(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Il(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l5(e))return"Blackberry";if(c5(e))return"Webos";if(s5(e))return"Safari";if((e.includes("chrome/")||i5(e))&&!e.includes("edge/"))return"Chrome";if(o5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r5(t=Rn()){return/firefox\//i.test(t)}function s5(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i5(t=Rn()){return/crios\//i.test(t)}function a5(t=Rn()){return/iemobile/i.test(t)}function o5(t=Rn()){return/android/i.test(t)}function l5(t=Rn()){return/blackberry/i.test(t)}function c5(t=Rn()){return/webos/i.test(t)}function fN(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kz(t=Rn()){var e;return fN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cz(){return zV()&&document.documentMode===10}function u5(t=Rn()){return fN(t)||o5(t)||c5(t)||l5(t)||/windows phone/i.test(t)||a5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e=[]){let n;switch(t){case"Browser":n=VT(Rn());break;case"Worker":n=`${VT(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e={}){return Vc(t,"GET","/v2/passwordPolicy",uN(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=6;class Rz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Pz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BT(this),this.idTokenSubscription=new BT(this),this.beforeStateQueue=new jz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await e5(this,{idToken:e}),r=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(no(this));const n=e?gn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iz(this),n=new Rz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Az(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hN(t){return gn(t)}class BT{constructor(e){this.auth=e,this.observer=null,this.addObserver=QV(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oz(t){pN=t}function Dz(t){return pN.loadJS(t)}function Lz(){return pN.gapiScript}function $z(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t,e){const n=__(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bm(i,e??{}))return s;li(s,"already-initialized")}return n.initialize({options:e})}function Fz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vz(t,e,n){const r=hN(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=f5(e),{host:o,port:l}=Bz(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),qz()}function f5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bz(t){const e=f5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:qT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:qT(o)}}}function qT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return yz(t,"POST","/v1/accounts:signInWithIdp",uN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="http://localhost";class yo extends h5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=oN(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:zz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends p5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ah{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ah{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ah{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zs._fromIdTokenResponse(e,r,s),o=zT(r);return new nc({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zT(r);return new nc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends xi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rm(e,n,r,s)}}function m5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,i,e,r):i})}async function Gz(t,e,n=!1){const r=await Jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e,n=!1){const{auth:r}=t;if(Bi(r.app))return Promise.reject(no(r));const s="reauthenticate";try{const i=await Jd(t,m5(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=dN(i.idToken);Pe(o,r,"internal-error");const{sub:l}=o;return Pe(t.uid===l,r,"user-mismatch"),nc._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&li(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e,n=!1){if(Bi(t.app))return Promise.reject(no(t));const r="signIn",s=await m5(t,r,e),i=await nc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Kz(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function Yz(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}const Mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=1e3,Xz=10;class x5 extends g5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Cz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x5.type="LOCAL";const Qz=x5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5 extends g5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y5.type="SESSION";const v5=y5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new D0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Zz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}D0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=mN("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return window}function tG(t){ws().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function nG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sG(){return b5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebaseLocalStorageDb",iG=1,Om="firebaseLocalStorage",_5="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function L0(t,e){return t.transaction([Om],e?"readwrite":"readonly").objectStore(Om)}function aG(){const t=indexedDB.deleteDatabase(w5);return new oh(t).toPromise()}function Pb(){const t=indexedDB.open(w5,iG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Om,{keyPath:_5})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Om)?e(r):(r.close(),await aG(),e(await Pb()))})})}async function GT(t,e,n){const r=L0(t,!0).put({[_5]:e,value:n});return new oh(r).toPromise()}async function oG(t,e){const n=L0(t,!1).get(e),r=await new oh(n).toPromise();return r===void 0?null:r.value}function HT(t,e){const n=L0(t,!0).delete(e);return new oh(n).toPromise()}const lG=800,cG=3;class N5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=D0._getInstance(sG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nG(),!this.activeServiceWorker)return;this.sender=new eG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pb();return await GT(e,Mm,"1"),await HT(e,Mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=L0(s,!1).getAll();return new oh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N5.type="LOCAL";const uG=N5;new ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t,e){return e?Gs(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN extends h5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fG(t){return Wz(t.auth,new gN(t),t.bypassAuthState)}function hG(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Hz(n,new gN(t),t.bypassAuthState)}async function pG(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Gz(n,new gN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fG;case"linkViaPopup":case"linkViaRedirect":return pG;case"reauthViaPopup":case"reauthViaRedirect":return hG;default:li(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new ih(2e3,1e4);class hl extends S5{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=mN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mG.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="pendingRedirect",Bp=new Map;class xG extends S5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const r=await yG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yG(t,e){const n=wG(e),r=bG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vG(t,e){Bp.set(t._key(),e)}function bG(t){return Gs(t._redirectPersistence)}function wG(t){return Vp(gG,t.config.apiKey,t.name)}async function _G(t,e,n=!1){if(Bi(t.app))return Promise.reject(no(t));const r=hN(t),s=dG(r,e),o=await new xG(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=10*60*1e3;class SG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!E5(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NG&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function E5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e={}){return Vc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kG=/^https?/;async function CG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TG(t);for(const n of e)try{if(jG(n))return}catch{}li(t,"unauthorized-domain")}function jG(t){const e=jb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kG.test(n))return!1;if(AG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new ih(3e4,6e4);function KT(){const t=ws().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PG(t){return new Promise((e,n)=>{var r,s,i;function o(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(bs(t,"network-request-failed"))},timeout:IG.get()})}if(!((s=(r=ws().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ws().gapi)===null||i===void 0)&&i.load)o();else{const l=$z("iframefcb");return ws()[l]=()=>{gapi.load?o():n(bs(t,"network-request-failed"))},Dz(`${Lz()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw qp=null,e})}let qp=null;function RG(t){return qp=qp||PG(t),qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=new ih(5e3,15e3),OG="__/auth/iframe",DG="emulator/auth/iframe",LG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$G=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UG(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cN(e,DG):`https://${t.config.authDomain}/${OG}`,r={apiKey:e.apiKey,appName:t.name,v:Lc},s=$G.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Jf(r).slice(1)}`}async function FG(t){const e=await RG(t),n=ws().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:UG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=bs(t,"network-request-failed"),l=ws().setTimeout(()=>{i(o)},MG.get());function c(){ws().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BG=500,qG=600,zG="_blank",GG="http://localhost";class YT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HG(t,e,n,r=BG,s=qG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},VG),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Rn().toLowerCase();n&&(l=i5(u)?zG:n),r5(u)&&(e=e||GG,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,b])=>`${h}${x}=${b},`,"");if(kz(u)&&l!=="_self")return WG(e||"",l),new YT(null);const f=window.open(e||"",l,d);Pe(f,t,"popup-blocked");try{f.focus()}catch{}return new YT(f)}function WG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="__/auth/handler",YG="emulator/auth/handler",JG=encodeURIComponent("fac");async function JT(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lc,eventId:s};if(e instanceof p5){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof ah){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${JG}=${encodeURIComponent(c)}`:"";return`${XG(t)}?${Jf(l).slice(1)}${u}`}function XG({config:t}){return t.emulator?cN(t,YG):`https://${t.authDomain}/${KG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="webStorageSupport";class QG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v5,this._completeRedirectFn=_G,this._overrideRedirectResult=vG}async _openPopup(e,n,r,s){var i;ci((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await JT(e,n,r,jb(),s);return HG(e,o,mN())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await JT(e,n,r,jb(),s);return tG(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ci(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FG(e),r=new SG(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(My,{type:My},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[My];o!==void 0&&n(!!o),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u5()||s5()||fN()}}const ZG=QG;var XT="@firebase/auth",QT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n7(t){Wl(new po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d5(t)},u=new Mz(r,s,i,c);return Fz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wl(new po("auth-internal",e=>{const n=hN(e.getProvider("auth").getImmediate());return(r=>new e7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(XT,QT,t7(t)),ra(XT,QT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=5*60,s7=vO("authIdTokenMaxAge")||r7;let ZT=null;const i7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s7)return;const s=n==null?void 0:n.token;ZT!==s&&(ZT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function a7(t=NO()){const e=__(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Uz(t,{popupRedirectResolver:ZG,persistence:[uG,Qz,v5]}),r=vO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=i7(i.toString());Yz(n,o,()=>o(n.currentUser)),Kz(n,l=>o(l))}}const s=xO("auth");return s&&Vz(n,`http://${s}`),n}function o7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=bs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",o7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n7("Browser");var Go={};const l7={apiKey:Go.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:Go.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:Go.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:Go.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:Go.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:Go.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},T5=_O(l7),Ae=Kq(T5);a7(T5);new Fs;const A5=D.createContext(void 0),c7=({children:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState([]),[i,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[x,b]=D.useState([]),[w,v]=D.useState([]),[y,_]=D.useState([]),[N,C]=D.useState([]),[T,A]=D.useState([]),[S,j]=D.useState([]),[E,R]=D.useState([]),[I,O]=D.useState(!0),[P,H]=D.useState(null);D.useEffect(()=>{const ue=[ds(st(Ae,"products"),ve=>n(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"clients"),ve=>s(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"suppliers"),ve=>o(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"priceLists"),ve=>d(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"branches"),ve=>h(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"users"),ve=>C(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"salesZones"),ve=>_(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"sales"),ve=>A(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"remitos"),ve=>j(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()})))),ds(st(Ae,"boxes"),ve=>R(ve.docs.map(Oe=>({id:Oe.id,...Oe.data()}))))];return O(!1),()=>ue.forEach(ve=>ve())},[]);const V=D.useCallback(async ue=>{let ve=fd(st(Ae,"products"),rz(ue.orderByField||"name",ue.orderDirection||"asc"));ue.startAfterDoc&&(ve=fd(ve,iz(ue.startAfterDoc))),ve=fd(ve,sz(ue.limit));const Oe=await hd(ve);return{products:Oe.docs.map(xr=>({id:xr.id,...xr.data()})),lastVisible:Oe.docs[Oe.docs.length-1],hasMore:Oe.docs.length===ue.limit}},[]),L=async ue=>e.find(ve=>ve.id===ue)||null,B=async ue=>{await Wn(st(Ae,"products"),ue)},G=async(ue,ve)=>{await zr(St(Ae,"products",ue),ve)},U=async ue=>{await yr(St(Ae,"products",ue))},F=async ue=>(await Wn(st(Ae,"sales"),ue)).id,Y=async ue=>T.find(ve=>ve.id===ue)||null,ee=async ue=>{await Wn(st(Ae,"clients"),ue)},z=async(ue,ve)=>{await zr(St(Ae,"clients",ue),ve)},ae=async ue=>{await yr(St(Ae,"clients",ue))},W=async ue=>{await Wn(st(Ae,"suppliers"),ue)},he=async(ue,ve)=>{await zr(St(Ae,"suppliers",ue),ve)},_e=async ue=>{await yr(St(Ae,"suppliers",ue))},Ie=async ue=>{await Wn(st(Ae,"priceLists"),ue)},ce=async(ue,ve)=>{await zr(St(Ae,"priceLists",ue),ve)},Ne=async ue=>{await yr(St(Ae,"priceLists",ue))},Z=async ue=>{await Wn(st(Ae,"branches"),ue)},Q=async(ue,ve)=>{await zr(St(Ae,"branches",ue),ve)},K=async ue=>{await yr(St(Ae,"branches",ue))},X=async ue=>{await Wn(st(Ae,"orders"),ue)},me=async(ue,ve)=>{await zr(St(Ae,"orders",ue),ve)},oe=async ue=>{await yr(St(Ae,"orders",ue))},ke=async ue=>{await Wn(st(Ae,"installmentPlans"),ue)},Ye=async(ue,ve)=>{await zr(St(Ae,"installmentPlans",ue),ve)},ct=async ue=>{await yr(St(Ae,"installmentPlans",ue))},nt=async ue=>{await Wn(st(Ae,"transactions"),ue)},dt=async ue=>{await Wn(st(Ae,"users"),ue)},qt=async(ue,ve)=>{await zr(St(Ae,"users",ue),ve)},Gn=async ue=>{await yr(St(Ae,"users",ue))},re=async ue=>{await Wn(st(Ae,"salesZones"),ue)},ye=async(ue,ve)=>{await zr(St(Ae,"salesZones",ue),ve)},Fe=async ue=>{await yr(St(Ae,"salesZones",ue))},Be=async ue=>(await Wn(st(Ae,"remitos"),ue)).id,Hn=async(ue,ve)=>{await zr(St(Ae,"remitos",ue),ve)},gr=async ue=>{await yr(St(Ae,"remitos",ue))},Vr=async ue=>S.find(ve=>ve.id===ue)||null,ou=async ue=>{await Wn(st(Ae,"boxes"),ue)},Aa=async(ue,ve)=>{await zr(St(Ae,"boxes",ue),ve)},mh=async ue=>{await yr(St(Ae,"boxes",ue))},gh=async ue=>{const ve={};for(const Oe of ue){const cs=await hd(st(Ae,Oe));ve[Oe]=cs.docs.map(xr=>({id:xr.id,...xr.data()}))}return ve},lu=async ue=>{for(const[ve,Oe]of Object.entries(ue)){await xh(ve);for(const cs of Oe){const{id:xr,...Uo}=cs;xr?await cz(St(Ae,ve,xr),Uo):await Wn(st(Ae,ve),Uo)}}},xh=async ue=>{const ve=await hd(st(Ae,ue));for(const Oe of ve.docs)await yr(Oe.ref)},$x=D.useMemo(()=>({products:e,clients:r,suppliers:i,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:w,users:N,loading:I,error:P,salesZones:y,sales:T,remitos:S,boxes:E,fetchProductsPaginatedAndFiltered:V,getProductById:L,addProduct:B,updateProduct:G,deleteProduct:U,addSale:F,getSaleById:Y,addClient:ee,updateClient:z,deleteClient:ae,addSupplier:W,updateSupplier:he,deleteSupplier:_e,addPriceList:Ie,updatePriceList:ce,deletePriceList:Ne,addBranch:Z,updateBranch:Q,deleteBranch:K,addOrder:X,updateOrder:me,deleteOrder:oe,addInstallmentPlan:ke,updateInstallmentPlan:Ye,deleteInstallmentPlan:ct,addTransaction:nt,exportAllData:gh,importAllData:lu,deleteAllDocumentsInCollection:xh,addUser:dt,updateUser:qt,deleteUser:Gn,addSalesZone:re,updateSalesZone:ye,deleteSalesZone:Fe,addRemito:Be,updateRemito:Hn,deleteRemito:gr,getRemitoById:Vr,addBox:ou,updateBox:Aa,deleteBox:mh}),[e,r,i,l,u,f,x,w,N,I,P,y,T,S,E]);return a.jsx(A5.Provider,{value:$x,children:t})},Ot=()=>{const t=D.useContext(A5);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...u7,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${d7(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ne("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ne("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ne("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ne("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ne("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ne("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ne("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ne("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ne("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ne("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ne("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ne("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ne("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ne("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ne("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ne("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ne("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=ne("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ne("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=ne("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ne("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),G7=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:s})=>{const[i,o]=D.useState(["Principal","Comercial","Administracin & Finanzas"]),[l,c]=D.useState(!1),[u,d]=D.useState(["sales","inventory","cashier"]);D.useEffect(()=>{const v=localStorage.getItem("ferrogest_shortcuts");if(v)try{d(JSON.parse(v))}catch(y){console.error("Error loading shortcuts",y)}},[]);const f=v=>{const y=u.includes(v)?u.filter(_=>_!==v):[...u,v];d(y),localStorage.setItem("ferrogest_shortcuts",JSON.stringify(y))},h=[{name:"Principal",icon:P5,items:[{id:"dashboard",label:"Dashboard",icon:R5}]},{name:"Comercial",icon:Dm,items:[{id:"sales",label:"Ventas",icon:Dm,color:"bg-orange-500"},{id:"remitos",label:"Remitos",icon:vN,color:"bg-blue-500"},{id:"quotes",label:"Cotizaciones",icon:tf,color:"bg-purple-500"},{id:"orders",label:"Pedidos",icon:ef,color:"bg-indigo-500"},{id:"clients",label:"Clientes",icon:Is,color:"bg-emerald-500"},{id:"loyalty",label:"Fidelizacin",icon:$m,color:"bg-pink-500"},{id:"ecommerce",label:"E-Commerce",icon:vo,color:"bg-sky-500"}]},{name:"Productos & Abastecimiento",icon:Qd,items:[{id:"inventory",label:"Inventario",icon:Qd,color:"bg-amber-600"},{id:"missing-items",label:"Faltantes",icon:yN,color:"bg-red-500"},{id:"stock-adjustment",label:"Ajuste de Stock",icon:pa,color:"bg-teal-500"},{id:"bulk-modification",label:"Modificacin Masiva",icon:bN,color:"bg-violet-500"},{id:"warehouse",label:"Depsito",icon:Hm,color:"bg-stone-500"},{id:"purchase-orders",label:"Pedidos Compra",icon:M5,color:"bg-cyan-600"},{id:"suppliers",label:"Proveedores",icon:Dr,color:"bg-orange-400"},{id:"prices",label:"Lista Precios",icon:ro,color:"bg-lime-600"},{id:"bulk-import",label:"Importar Datos",icon:Lm,color:"bg-slate-400"}]},{name:"Administracin & Finanzas",icon:ma,items:[{id:"cashier",label:"Cajas y Pagos",icon:ma,color:"bg-green-600"},{id:"purchases",label:"Compras & IA",icon:oc,color:"bg-yellow-600"},{id:"balances",label:"Saldos y Deudas",icon:bo,color:"bg-rose-500"},{id:"installments",label:"Cuotas Internas",icon:Ns,color:"bg-fuchsia-600"},{id:"finance",label:"Finanzas",icon:is,color:"bg-emerald-600"},{id:"reports",label:"Informes e IVA",icon:j5,color:"bg-blue-400"},{id:"users",label:"Personal y Accesos",icon:SN,color:"bg-indigo-400"}]}],x=h.flatMap(v=>v.items),b=x.filter(v=>u.includes(v.id)),w=v=>{o(y=>y.includes(v)?y.filter(_=>_!==v):[...y,v])};return!n||typeof n!="object"||!("name"in n)?a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 justify-center items-center",children:[a.jsx(Le,{className:"w-8 h-8 animate-spin text-orange-500 mb-2"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Iniciando..."})]}):a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 shrink-0 overflow-hidden",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n!=null&&n.logo&&(n!=null&&n.showLogoInSidebar)?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Xu,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:(n==null?void 0:n.name)||"FerroGest"})]})}),a.jsxs("div",{className:"px-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Accesos Rpidos"}),a.jsx("button",{onClick:()=>c(!0),className:"p-1 hover:bg-slate-800 rounded-md text-slate-500 hover:text-orange-500 transition-colors",children:a.jsx(B7,{className:"w-3.5 h-3.5"})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2",children:[b.map(v=>a.jsx("button",{onClick:()=>e(v.id),className:`aspect-square flex items-center justify-center rounded-xl transition-all ${t===v.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/40 scale-105":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:v.label,children:a.jsx(v.icon,{className:"w-5 h-5"})},v.id)),a.jsx("button",{onClick:()=>c(!0),className:"aspect-square flex items-center justify-center rounded-xl bg-slate-800/20 border border-dashed border-slate-700 text-slate-600 hover:border-slate-500 hover:text-slate-400 transition-all",children:a.jsx(tt,{className:"w-4 h-4"})})]})]}),a.jsxs("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar overscroll-contain pb-10",children:[h.map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>w(v.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.name]}),a.jsx(Zd,{className:`w-4 h-4 transition-transform ${i.includes(v.name)?"rotate-0":"-rotate-90"}`})]}),i.includes(v.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:v.items.map(y=>a.jsxs("button",{onClick:()=>e(y.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===y.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(y.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:y.label})]},y.id))})]},v.name)),a.jsxs("div",{className:"pt-4 border-t border-slate-800/50 mt-4 space-y-1",children:[a.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="settings"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(Js,{className:"w-5 h-5"}),a.jsx("span",{children:"Configuracin"})]}),a.jsxs("button",{onClick:()=>e("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="integrations"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(gd,{className:"w-5 h-5"}),a.jsx("span",{children:"Integraciones"})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,className:"w-10 h-10 rounded-full border border-slate-700 bg-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(D5,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx($7,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Personalizar Accesos"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Selecciona tus herramientas favoritas"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(v=>a.jsxs("button",{onClick:()=>f(v.id),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${u.includes(v.id)?"border-orange-500 bg-orange-50":"border-slate-100 bg-white hover:border-slate-200"}`,children:[a.jsx("div",{className:`p-3 rounded-xl ${u.includes(v.id)?"bg-orange-600 text-white":"bg-slate-100 text-slate-400"}`,children:a.jsx(v.icon,{className:"w-6 h-6"})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("p",{className:`font-black text-xs uppercase tracking-tight truncate ${u.includes(v.id)?"text-orange-900":"text-slate-600"}`,children:v.label})}),a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 ${u.includes(v.id)?"bg-orange-600 border-orange-600 text-white":"border-slate-200 text-transparent"}`,children:a.jsx(w7,{className:"w-3 h-3 stroke-[4px]"})})]},v.id))})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 italic",children:"Mximo recomendado: 8 accesos."}),a.jsx("button",{onClick:()=>c(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Listo"})]})]})})]})},H7=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>a.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center gap-2 overflow-x-auto no-scrollbar shadow-sm z-30",children:t.map(s=>{const i=iTe[s]||{label:s,icon:null},o=e===s,l=i.icon;return a.jsxs("div",{className:`group relative flex items-center gap-2 px-5 py-2.5 rounded-2xl cursor-pointer transition-all border-2 ${o?"bg-orange-50 border-orange-500 text-orange-600 shadow-md shadow-orange-500/10":"bg-slate-50 border-transparent text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,onClick:()=>n(s),children:[l&&a.jsx(l,{className:`w-4 h-4 ${o?"text-orange-600":"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-colors",children:i.label}),s!=="dashboard"&&a.jsx("button",{onClick:c=>{c.stopPropagation(),r(s)},className:`ml-1 p-0.5 rounded-md hover:bg-orange-200 hover:text-orange-800 transition-all ${o?"opacity-100 text-orange-400":"opacity-0 group-hover:opacity-100 text-slate-400"}`,children:a.jsx(qe,{className:"w-3 h-3"})})]},s)})});function z5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=z5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=z5(t))&&(r&&(r+=" "),r+=e);return r}var W7=Array.isArray,rr=W7,K7=typeof Rh=="object"&&Rh&&Rh.Object===Object&&Rh,G5=K7,Y7=G5,J7=typeof self=="object"&&self&&self.Object===Object&&self,X7=Y7||J7||Function("return this")(),Ps=X7,Q7=Ps,Z7=Q7.Symbol,lh=Z7,aA=lh,H5=Object.prototype,eH=H5.hasOwnProperty,tH=H5.toString,ju=aA?aA.toStringTag:void 0;function nH(t){var e=eH.call(t,ju),n=t[ju];try{t[ju]=void 0;var r=!0}catch{}var s=tH.call(t);return r&&(e?t[ju]=n:delete t[ju]),s}var rH=nH,sH=Object.prototype,iH=sH.toString;function aH(t){return iH.call(t)}var oH=aH,oA=lh,lH=rH,cH=oH,uH="[object Null]",dH="[object Undefined]",lA=oA?oA.toStringTag:void 0;function fH(t){return t==null?t===void 0?dH:uH:lA&&lA in Object(t)?lH(t):cH(t)}var yi=fH;function hH(t){return t!=null&&typeof t=="object"}var vi=hH,pH=yi,mH=vi,gH="[object Symbol]";function xH(t){return typeof t=="symbol"||mH(t)&&pH(t)==gH}var zc=xH,yH=rr,vH=zc,bH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wH=/^\w*$/;function _H(t,e){if(yH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||vH(t)?!0:wH.test(t)||!bH.test(t)||e!=null&&t in Object(e)}var EN=_H;function NH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _a=NH;const Gc=ot(_a);var SH=yi,EH=_a,TH="[object AsyncFunction]",AH="[object Function]",kH="[object GeneratorFunction]",CH="[object Proxy]";function jH(t){if(!EH(t))return!1;var e=SH(t);return e==AH||e==kH||e==TH||e==CH}var TN=jH;const je=ot(TN);var IH=Ps,PH=IH["__core-js_shared__"],RH=PH,$y=RH,cA=function(){var t=/[^.]+$/.exec($y&&$y.keys&&$y.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MH(t){return!!cA&&cA in t}var OH=MH,DH=Function.prototype,LH=DH.toString;function $H(t){if(t!=null){try{return LH.call(t)}catch{}try{return t+""}catch{}}return""}var W5=$H,UH=TN,FH=OH,VH=_a,BH=W5,qH=/[\\^$.*+?()[\]{}|]/g,zH=/^\[object .+?Constructor\]$/,GH=Function.prototype,HH=Object.prototype,WH=GH.toString,KH=HH.hasOwnProperty,YH=RegExp("^"+WH.call(KH).replace(qH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JH(t){if(!VH(t)||FH(t))return!1;var e=UH(t)?YH:zH;return e.test(BH(t))}var XH=JH;function QH(t,e){return t==null?void 0:t[e]}var ZH=QH,eW=XH,tW=ZH;function nW(t,e){var n=tW(t,e);return eW(n)?n:void 0}var Ro=nW,rW=Ro,sW=rW(Object,"create"),U0=sW,uA=U0;function iW(){this.__data__=uA?uA(null):{},this.size=0}var aW=iW;function oW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lW=oW,cW=U0,uW="__lodash_hash_undefined__",dW=Object.prototype,fW=dW.hasOwnProperty;function hW(t){var e=this.__data__;if(cW){var n=e[t];return n===uW?void 0:n}return fW.call(e,t)?e[t]:void 0}var pW=hW,mW=U0,gW=Object.prototype,xW=gW.hasOwnProperty;function yW(t){var e=this.__data__;return mW?e[t]!==void 0:xW.call(e,t)}var vW=yW,bW=U0,wW="__lodash_hash_undefined__";function _W(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bW&&e===void 0?wW:e,this}var NW=_W,SW=aW,EW=lW,TW=pW,AW=vW,kW=NW;function Hc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hc.prototype.clear=SW;Hc.prototype.delete=EW;Hc.prototype.get=TW;Hc.prototype.has=AW;Hc.prototype.set=kW;var CW=Hc;function jW(){this.__data__=[],this.size=0}var IW=jW;function PW(t,e){return t===e||t!==t&&e!==e}var AN=PW,RW=AN;function MW(t,e){for(var n=t.length;n--;)if(RW(t[n][0],e))return n;return-1}var F0=MW,OW=F0,DW=Array.prototype,LW=DW.splice;function $W(t){var e=this.__data__,n=OW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():LW.call(e,n,1),--this.size,!0}var UW=$W,FW=F0;function VW(t){var e=this.__data__,n=FW(e,t);return n<0?void 0:e[n][1]}var BW=VW,qW=F0;function zW(t){return qW(this.__data__,t)>-1}var GW=zW,HW=F0;function WW(t,e){var n=this.__data__,r=HW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var KW=WW,YW=IW,JW=UW,XW=BW,QW=GW,ZW=KW;function Wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wc.prototype.clear=YW;Wc.prototype.delete=JW;Wc.prototype.get=XW;Wc.prototype.has=QW;Wc.prototype.set=ZW;var V0=Wc,eK=Ro,tK=Ps,nK=eK(tK,"Map"),kN=nK,dA=CW,rK=V0,sK=kN;function iK(){this.size=0,this.__data__={hash:new dA,map:new(sK||rK),string:new dA}}var aK=iK;function oK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lK=oK,cK=lK;function uK(t,e){var n=t.__data__;return cK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var B0=uK,dK=B0;function fK(t){var e=dK(this,t).delete(t);return this.size-=e?1:0,e}var hK=fK,pK=B0;function mK(t){return pK(this,t).get(t)}var gK=mK,xK=B0;function yK(t){return xK(this,t).has(t)}var vK=yK,bK=B0;function wK(t,e){var n=bK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _K=wK,NK=aK,SK=hK,EK=gK,TK=vK,AK=_K;function Kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kc.prototype.clear=NK;Kc.prototype.delete=SK;Kc.prototype.get=EK;Kc.prototype.has=TK;Kc.prototype.set=AK;var CN=Kc,K5=CN,kK="Expected a function";function jN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kK);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(jN.Cache||K5),n}jN.Cache=K5;var Y5=jN;const CK=ot(Y5);var jK=Y5,IK=500;function PK(t){var e=jK(t,function(r){return n.size===IK&&n.clear(),r}),n=e.cache;return e}var RK=PK,MK=RK,OK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DK=/\\(\\)?/g,LK=MK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(OK,function(n,r,s,i){e.push(s?i.replace(DK,"$1"):r||n)}),e}),$K=LK;function UK(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var IN=UK,fA=lh,FK=IN,VK=rr,BK=zc,hA=fA?fA.prototype:void 0,pA=hA?hA.toString:void 0;function J5(t){if(typeof t=="string")return t;if(VK(t))return FK(t,J5)+"";if(BK(t))return pA?pA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var qK=J5,zK=qK;function GK(t){return t==null?"":zK(t)}var X5=GK,HK=rr,WK=EN,KK=$K,YK=X5;function JK(t,e){return HK(t)?t:WK(t,e)?[t]:KK(YK(t))}var Q5=JK,XK=zc;function QK(t){if(typeof t=="string"||XK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var q0=QK,ZK=Q5,eY=q0;function tY(t,e){e=ZK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[eY(e[n++])];return n&&n==r?t:void 0}var PN=tY,nY=PN;function rY(t,e,n){var r=t==null?void 0:nY(t,e);return r===void 0?n:r}var Z5=rY;const fr=ot(Z5);function sY(t){return t==null}var iY=sY;const Ue=ot(iY);var aY=yi,oY=rr,lY=vi,cY="[object String]";function uY(t){return typeof t=="string"||!oY(t)&&lY(t)&&aY(t)==cY}var dY=uY;const wo=ot(dY);var eD={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN=Symbol.for("react.element"),MN=Symbol.for("react.portal"),z0=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),fY=Symbol.for("react.server_context"),Y0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),Z0=Symbol.for("react.lazy"),hY=Symbol.for("react.offscreen"),tD;tD=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RN:switch(t=t.type,t){case z0:case H0:case G0:case J0:case X0:return t;default:switch(t=t&&t.$$typeof,t){case fY:case K0:case Y0:case Z0:case Q0:case W0:return t;default:return e}}case MN:return e}}}lt.ContextConsumer=K0;lt.ContextProvider=W0;lt.Element=RN;lt.ForwardRef=Y0;lt.Fragment=z0;lt.Lazy=Z0;lt.Memo=Q0;lt.Portal=MN;lt.Profiler=H0;lt.StrictMode=G0;lt.Suspense=J0;lt.SuspenseList=X0;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(t){return Ur(t)===K0};lt.isContextProvider=function(t){return Ur(t)===W0};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RN};lt.isForwardRef=function(t){return Ur(t)===Y0};lt.isFragment=function(t){return Ur(t)===z0};lt.isLazy=function(t){return Ur(t)===Z0};lt.isMemo=function(t){return Ur(t)===Q0};lt.isPortal=function(t){return Ur(t)===MN};lt.isProfiler=function(t){return Ur(t)===H0};lt.isStrictMode=function(t){return Ur(t)===G0};lt.isSuspense=function(t){return Ur(t)===J0};lt.isSuspenseList=function(t){return Ur(t)===X0};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===z0||t===H0||t===G0||t===J0||t===X0||t===hY||typeof t=="object"&&t!==null&&(t.$$typeof===Z0||t.$$typeof===Q0||t.$$typeof===W0||t.$$typeof===K0||t.$$typeof===Y0||t.$$typeof===tD||t.getModuleId!==void 0)};lt.typeOf=Ur;eD.exports=lt;var pY=eD.exports,mY=yi,gY=vi,xY="[object Number]";function yY(t){return typeof t=="number"||gY(t)&&mY(t)==xY}var nD=yY;const vY=ot(nD);var bY=nD;function wY(t){return bY(t)&&t!=+t}var _Y=wY;const Yc=ot(_Y);var Ln=function(e){return e===0?0:e>0?1:-1},Ka=function(e){return wo(e)&&e.indexOf("%")===e.length-1},de=function(e){return vY(e)&&!Yc(e)},NY=function(e){return Ue(e)},Yt=function(e){return de(e)||wo(e)},SY=0,Jc=function(e){var n=++SY;return"".concat(e||"").concat(n)},$n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!wo(e))return r;var i;if(Ka(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Yc(i)&&(i=r),s&&i>n&&(i=n),i},Ui=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},EY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},Jn=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var TY=function(e,n){return de(e)&&de(n)?e-n:wo(e)&&wo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ml(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}var AY=["viewBox","children"],kY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mA=["points","pathLength"],Uy={svg:AY,polygon:mA,polyline:mA},ON=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Km=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Gc(r))return null;var s={};return Object.keys(r).forEach(function(i){ON.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},CY=function(e,n,r){return function(s){return e(n,r,s),null}},_o=function(e,n,r){if(!Gc(e)||$b(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];ON.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=CY(o,n,r))}),s},jY=["children"],IY=["children"];function gA(t,e){if(t==null)return{};var n=PY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var xA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yA=null,Fy=null,DN=function t(e){if(e===yA&&Array.isArray(Fy))return Fy;var n=[];return D.Children.forEach(e,function(r){Ue(r)||(pY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Fy=n,yA=e,n};function Ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return Qs(s)}):r=[Qs(e)],DN(t).forEach(function(s){var i=fr(s,"type.displayName")||fr(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function or(t,e){var n=Ir(t,e);return n&&n[0]}var vA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!de(r)||r<=0||!de(s)||s<=0)},RY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MY=function(e){return e&&e.type&&wo(e.type)&&RY.indexOf(e.type)>=0},OY=function(e){return e&&Ub(e)==="object"&&"clipDot"in e},DY=function(e,n,r,s){var i,o=(i=Uy==null?void 0:Uy[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!je(e)&&(s&&o.includes(n)||kY.includes(n))||r&&ON.includes(n)},Te=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(D.isValidElement(e)&&(s=e.props),!Gc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;DY((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},Fb=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!bA(i,o))return!1}return!0},bA=function(e,n){if(Ue(e)&&Ue(n))return!0;if(!Ue(e)&&!Ue(n)){var r=e.props||{},s=r.children,i=gA(r,jY),o=n.props||{},l=o.children,c=gA(o,IY);return s&&l?Ml(i,c)&&Fb(s,l):!s&&!l?Ml(i,c):!1}return!1},wA=function(e,n){var r=[],s={};return DN(e).forEach(function(i,o){if(MY(i))r.push(i);else if(i){var l=Qs(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);r.push(f),s[l]=!0}}}),r},LY=function(e){var n=e&&e.type;return n&&xA[n]?xA[n]:null},$Y=function(e,n){return DN(n).indexOf(e)},UY=["children","width","height","viewBox","className","style","title","desc"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function FY(t,e){if(t==null)return{};var n=VY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bb(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=FY(t,UY),d=s||{width:n,height:r,x:0,y:0},f=Ve("recharts-surface",i);return q.createElement("svg",Vb({},Te(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var BY=["children","className"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function qY(t,e){if(t==null)return{};var n=zY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ke=q.forwardRef(function(t,e){var n=t.children,r=t.className,s=qY(t,BY),i=Ve("recharts-layer",r);return q.createElement("g",qb({className:i},Te(s,!0),{ref:e}),n)}),Zr=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function GY(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var HY=GY,WY=HY;function KY(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:WY(t,e,n)}var YY=KY,JY="\\ud800-\\udfff",XY="\\u0300-\\u036f",QY="\\ufe20-\\ufe2f",ZY="\\u20d0-\\u20ff",eJ=XY+QY+ZY,tJ="\\ufe0e\\ufe0f",nJ="\\u200d",rJ=RegExp("["+nJ+JY+eJ+tJ+"]");function sJ(t){return rJ.test(t)}var rD=sJ;function iJ(t){return t.split("")}var aJ=iJ,sD="\\ud800-\\udfff",oJ="\\u0300-\\u036f",lJ="\\ufe20-\\ufe2f",cJ="\\u20d0-\\u20ff",uJ=oJ+lJ+cJ,dJ="\\ufe0e\\ufe0f",fJ="["+sD+"]",zb="["+uJ+"]",Gb="\\ud83c[\\udffb-\\udfff]",hJ="(?:"+zb+"|"+Gb+")",iD="[^"+sD+"]",aD="(?:\\ud83c[\\udde6-\\uddff]){2}",oD="[\\ud800-\\udbff][\\udc00-\\udfff]",pJ="\\u200d",lD=hJ+"?",cD="["+dJ+"]?",mJ="(?:"+pJ+"(?:"+[iD,aD,oD].join("|")+")"+cD+lD+")*",gJ=cD+lD+mJ,xJ="(?:"+[iD+zb+"?",zb,aD,oD,fJ].join("|")+")",yJ=RegExp(Gb+"(?="+Gb+")|"+xJ+gJ,"g");function vJ(t){return t.match(yJ)||[]}var bJ=vJ,wJ=aJ,_J=rD,NJ=bJ;function SJ(t){return _J(t)?NJ(t):wJ(t)}var EJ=SJ,TJ=YY,AJ=rD,kJ=EJ,CJ=X5;function jJ(t){return function(e){e=CJ(e);var n=AJ(e)?kJ(e):void 0,r=n?n[0]:e.charAt(0),s=n?TJ(n,1).join(""):e.slice(1);return r[t]()+s}}var IJ=jJ,PJ=IJ,RJ=PJ("toUpperCase"),MJ=RJ;const ex=ot(MJ);function mt(t){return function(){return t}}const uD=Math.cos,Ym=Math.sin,os=Math.sqrt,Jm=Math.PI,tx=2*Jm,Hb=Math.PI,Wb=2*Hb,$a=1e-6,OJ=Wb-$a;function dD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function DJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dD;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class LJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dD:DJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,u=s-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$a)if(!(Math.abs(f*c-u*d)>$a)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,b=s-l,w=c*c+u*u,v=x*x+b*b,y=Math.sqrt(w),_=Math.sqrt(h),N=i*Math.tan((Hb-Math.acos((w+h-v)/(2*y*_)))/2),C=N/_,T=N/y;Math.abs(C-1)>$a&&this._append`L${e+C*d},${n+C*f}`,this._append`A${i},${i},0,0,${+(f*x>d*b)},${this._x1=e+T*c},${this._y1=n+T*u}`}}arc(e,n,r,s,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$a||Math.abs(this._y1-d)>$a)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Wb+Wb),h>OJ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>$a&&this._append`A${r},${r},0,${+(h>=Hb)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function LN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new LJ(e)}function $N(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fD(t){this._context=t}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nx(t){return new fD(t)}function hD(t){return t[0]}function pD(t){return t[1]}function mD(t,e){var n=mt(!0),r=null,s=nx,i=null,o=LN(l);t=typeof t=="function"?t:t===void 0?hD:mt(t),e=typeof e=="function"?e:e===void 0?pD:mt(e);function l(c){var u,d=(c=$N(c)).length,f,h=!1,x;for(r==null&&(i=s(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:mt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:mt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function np(t,e,n){var r=null,s=mt(!0),i=null,o=nx,l=null,c=LN(u);t=typeof t=="function"?t:t===void 0?hD:mt(+t),e=typeof e=="function"?e:mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pD:mt(+n);function u(f){var h,x,b,w=(f=$N(f)).length,v,y=!1,_,N=new Array(w),C=new Array(w);for(i==null&&(l=o(_=c())),h=0;h<=w;++h){if(!(h<w&&s(v=f[h],h,f))===y)if(y=!y)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=x;--b)l.point(N[b],C[b]);l.lineEnd(),l.areaEnd()}y&&(N[h]=+t(v,h,f),C[h]=+e(v,h,f),l.point(r?+r(v,h,f):N[h],n?+n(v,h,f):C[h]))}if(_)return l=null,_+""||null}function d(){return mD().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:mt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class gD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $J(t){return new gD(t,!0)}function UJ(t){return new gD(t,!1)}const UN={draw(t,e){const n=os(e/Jm);t.moveTo(n,0),t.arc(0,0,n,0,tx)}},FJ={draw(t,e){const n=os(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xD=os(1/3),VJ=xD*2,BJ={draw(t,e){const n=os(e/VJ),r=n*xD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qJ={draw(t,e){const n=os(e),r=-n/2;t.rect(r,r,n,n)}},zJ=.8908130915292852,yD=Ym(Jm/10)/Ym(7*Jm/10),GJ=Ym(tx/10)*yD,HJ=-uD(tx/10)*yD,WJ={draw(t,e){const n=os(e*zJ),r=GJ*n,s=HJ*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const o=tx*i/5,l=uD(o),c=Ym(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},Vy=os(3),KJ={draw(t,e){const n=-os(e/(Vy*3));t.moveTo(0,n*2),t.lineTo(-Vy*n,-n),t.lineTo(Vy*n,-n),t.closePath()}},vr=-.5,br=os(3)/2,Kb=1/os(12),YJ=(Kb/2+1)*3,JJ={draw(t,e){const n=os(e/YJ),r=n/2,s=n*Kb,i=r,o=n*Kb+n,l=-i,c=o;t.moveTo(r,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(vr*r-br*s,br*r+vr*s),t.lineTo(vr*i-br*o,br*i+vr*o),t.lineTo(vr*l-br*c,br*l+vr*c),t.lineTo(vr*r+br*s,vr*s-br*r),t.lineTo(vr*i+br*o,vr*o-br*i),t.lineTo(vr*l+br*c,vr*c-br*l),t.closePath()}};function XJ(t,e){let n=null,r=LN(s);t=typeof t=="function"?t:mt(t||UN),e=typeof e=="function"?e:mt(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:mt(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:mt(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Xm(){}function Qm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vD(t){this._context=t}vD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QJ(t){return new vD(t)}function bD(t){this._context=t}bD.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZJ(t){return new bD(t)}function wD(t){this._context=t}wD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eX(t){return new wD(t)}function _D(t){this._context=t}_D.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tX(t){return new _D(t)}function _A(t){return t<0?-1:1}function NA(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(_A(i)+_A(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function SA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function By(t,e,n){var r=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,o-l*n,i,o)}function Zm(t){this._context=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:By(this,this._t0,SA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,By(this,SA(this,n=NA(this,t,e)),n);break;default:By(this,this._t0,n=NA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ND(t){this._context=new SD(t)}(ND.prototype=Object.create(Zm.prototype)).point=function(t,e){Zm.prototype.point.call(this,e,t)};function SD(t){this._context=t}SD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function nX(t){return new Zm(t)}function rX(t){return new ND(t)}function ED(t){this._context=t}ED.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=EA(t),s=EA(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function EA(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function sX(t){return new ED(t)}function rx(t,e){this._context=t,this._t=e}rx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iX(t){return new rx(t,.5)}function aX(t){return new rx(t,0)}function oX(t){return new rx(t,1)}function lc(t,e){if((o=t.length)>1)for(var n=1,r,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Yb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lX(t,e){return t[e]}function cX(t){const e=[];return e.key=t,e}function uX(){var t=mt([]),e=Yb,n=lc,r=lX;function s(i){var o=Array.from(t.apply(this,arguments),cX),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=$N(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:mt(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:mt(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?Yb:typeof i=="function"?i:mt(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??lc,s):n},s}function dX(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}lc(t,e)}}function fX(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}lc(t,e)}}function hX(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,b=0;b<l;++b){var w=t[e[b]],v=w[r][1]||0,y=w[r-1][1]||0;x+=v-y}c+=f,u+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,lc(t,e)}}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var pX=["type","size","sizeType"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function TA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function AA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(n),!0).forEach(function(r){mX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=xX(t,"string");return sf(e)=="symbol"?e:e+""}function xX(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yX(t,e){if(t==null)return{};var n=vX(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TD={symbolCircle:UN,symbolCross:FJ,symbolDiamond:BJ,symbolSquare:qJ,symbolStar:WJ,symbolTriangle:KJ,symbolWye:JJ},bX=Math.PI/180,wX=function(e){var n="symbol".concat(ex(e));return TD[n]||UN},_X=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*bX;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},NX=function(e,n){TD["symbol".concat(ex(e))]=n},FN=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=yX(e,pX),u=AA(AA({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=wX(r),y=XJ().type(v).size(_X(i,l,r));return y()},f=u.className,h=u.cx,x=u.cy,b=Te(u,!0);return h===+h&&x===+x&&i===+i?q.createElement("path",Jb({},b,{className:Ve("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};FN.registerSymbol=NX;function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function SX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function AX(t,e,n){return e&&TX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kX(t,e,n){return e=eg(e),CX(t,AD()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function CX(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(t)}function jX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function IX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Qb(t,e)}function af(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=PX(t,"string");return cc(e)=="symbol"?e:e+""}function PX(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=32,VN=function(t){function e(){return EX(this,e),kX(this,e,arguments)}return IX(e,t),AX(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=wr/2,o=wr/6,l=wr/3,c=r.inactive?s:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:wr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(wr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=SX({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(FN,{fill:c,cx:i,cy:i,size:wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:wr,height:wr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,b){var w=x.formatter||c,v=Ve(af(af({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var y=je(x.value)?null:x.value;Zr(!je(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return q.createElement("li",Xb({className:v,style:f,key:"legend-item-".concat(b)},_o(r.props,x,b)),q.createElement(Bb,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(y,x,b):y))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);af(VN,"displayName","Legend");af(VN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RX=V0;function MX(){this.__data__=new RX,this.size=0}var OX=MX;function DX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var LX=DX;function $X(t){return this.__data__.get(t)}var UX=$X;function FX(t){return this.__data__.has(t)}var VX=FX,BX=V0,qX=kN,zX=CN,GX=200;function HX(t,e){var n=this.__data__;if(n instanceof BX){var r=n.__data__;if(!qX||r.length<GX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zX(r)}return n.set(t,e),this.size=n.size,this}var WX=HX,KX=V0,YX=OX,JX=LX,XX=UX,QX=VX,ZX=WX;function Xc(t){var e=this.__data__=new KX(t);this.size=e.size}Xc.prototype.clear=YX;Xc.prototype.delete=JX;Xc.prototype.get=XX;Xc.prototype.has=QX;Xc.prototype.set=ZX;var CD=Xc,eQ="__lodash_hash_undefined__";function tQ(t){return this.__data__.set(t,eQ),this}var nQ=tQ;function rQ(t){return this.__data__.has(t)}var sQ=rQ,iQ=CN,aQ=nQ,oQ=sQ;function tg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new iQ;++e<n;)this.add(t[e])}tg.prototype.add=tg.prototype.push=aQ;tg.prototype.has=oQ;var jD=tg;function lQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ID=lQ;function cQ(t,e){return t.has(e)}var PD=cQ,uQ=jD,dQ=ID,fQ=PD,hQ=1,pQ=2;function mQ(t,e,n,r,s,i){var o=n&hQ,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&pQ?new uQ:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var b=t[f],w=e[f];if(r)var v=o?r(w,b,f,e,t,i):r(b,w,f,t,e,i);if(v!==void 0){if(v)continue;h=!1;break}if(x){if(!dQ(e,function(y,_){if(!fQ(x,_)&&(b===y||s(b,y,n,r,i)))return x.push(_)})){h=!1;break}}else if(!(b===w||s(b,w,n,r,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var RD=mQ,gQ=Ps,xQ=gQ.Uint8Array,yQ=xQ;function vQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var bQ=vQ;function wQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var BN=wQ,CA=lh,jA=yQ,_Q=AN,NQ=RD,SQ=bQ,EQ=BN,TQ=1,AQ=2,kQ="[object Boolean]",CQ="[object Date]",jQ="[object Error]",IQ="[object Map]",PQ="[object Number]",RQ="[object RegExp]",MQ="[object Set]",OQ="[object String]",DQ="[object Symbol]",LQ="[object ArrayBuffer]",$Q="[object DataView]",IA=CA?CA.prototype:void 0,qy=IA?IA.valueOf:void 0;function UQ(t,e,n,r,s,i,o){switch(n){case $Q:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case LQ:return!(t.byteLength!=e.byteLength||!i(new jA(t),new jA(e)));case kQ:case CQ:case PQ:return _Q(+t,+e);case jQ:return t.name==e.name&&t.message==e.message;case RQ:case OQ:return t==e+"";case IQ:var l=SQ;case MQ:var c=r&TQ;if(l||(l=EQ),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=AQ,o.set(t,e);var d=NQ(l(t),l(e),r,s,i,o);return o.delete(t),d;case DQ:if(qy)return qy.call(t)==qy.call(e)}return!1}var FQ=UQ;function VQ(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var MD=VQ,BQ=MD,qQ=rr;function zQ(t,e,n){var r=e(t);return qQ(t)?r:BQ(r,n(t))}var GQ=zQ;function HQ(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var WQ=HQ;function KQ(){return[]}var YQ=KQ,JQ=WQ,XQ=YQ,QQ=Object.prototype,ZQ=QQ.propertyIsEnumerable,PA=Object.getOwnPropertySymbols,eZ=PA?function(t){return t==null?[]:(t=Object(t),JQ(PA(t),function(e){return ZQ.call(t,e)}))}:XQ,tZ=eZ;function nZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var rZ=nZ,sZ=yi,iZ=vi,aZ="[object Arguments]";function oZ(t){return iZ(t)&&sZ(t)==aZ}var lZ=oZ,RA=lZ,cZ=vi,OD=Object.prototype,uZ=OD.hasOwnProperty,dZ=OD.propertyIsEnumerable,fZ=RA(function(){return arguments}())?RA:function(t){return cZ(t)&&uZ.call(t,"callee")&&!dZ.call(t,"callee")},qN=fZ,ng={exports:{}};function hZ(){return!1}var pZ=hZ;ng.exports;(function(t,e){var n=Ps,r=pZ,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(ng,ng.exports);var DD=ng.exports,mZ=9007199254740991,gZ=/^(?:0|[1-9]\d*)$/;function xZ(t,e){var n=typeof t;return e=e??mZ,!!e&&(n=="number"||n!="symbol"&&gZ.test(t))&&t>-1&&t%1==0&&t<e}var zN=xZ,yZ=9007199254740991;function vZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yZ}var GN=vZ,bZ=yi,wZ=GN,_Z=vi,NZ="[object Arguments]",SZ="[object Array]",EZ="[object Boolean]",TZ="[object Date]",AZ="[object Error]",kZ="[object Function]",CZ="[object Map]",jZ="[object Number]",IZ="[object Object]",PZ="[object RegExp]",RZ="[object Set]",MZ="[object String]",OZ="[object WeakMap]",DZ="[object ArrayBuffer]",LZ="[object DataView]",$Z="[object Float32Array]",UZ="[object Float64Array]",FZ="[object Int8Array]",VZ="[object Int16Array]",BZ="[object Int32Array]",qZ="[object Uint8Array]",zZ="[object Uint8ClampedArray]",GZ="[object Uint16Array]",HZ="[object Uint32Array]",wt={};wt[$Z]=wt[UZ]=wt[FZ]=wt[VZ]=wt[BZ]=wt[qZ]=wt[zZ]=wt[GZ]=wt[HZ]=!0;wt[NZ]=wt[SZ]=wt[DZ]=wt[EZ]=wt[LZ]=wt[TZ]=wt[AZ]=wt[kZ]=wt[CZ]=wt[jZ]=wt[IZ]=wt[PZ]=wt[RZ]=wt[MZ]=wt[OZ]=!1;function WZ(t){return _Z(t)&&wZ(t.length)&&!!wt[bZ(t)]}var KZ=WZ;function YZ(t){return function(e){return t(e)}}var LD=YZ,rg={exports:{}};rg.exports;(function(t,e){var n=G5,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(rg,rg.exports);var JZ=rg.exports,XZ=KZ,QZ=LD,MA=JZ,OA=MA&&MA.isTypedArray,ZZ=OA?QZ(OA):XZ,$D=ZZ,eee=rZ,tee=qN,nee=rr,ree=DD,see=zN,iee=$D,aee=Object.prototype,oee=aee.hasOwnProperty;function lee(t,e){var n=nee(t),r=!n&&tee(t),s=!n&&!r&&ree(t),i=!n&&!r&&!s&&iee(t),o=n||r||s||i,l=o?eee(t.length,String):[],c=l.length;for(var u in t)(e||oee.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||see(u,c)))&&l.push(u);return l}var cee=lee,uee=Object.prototype;function dee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||uee;return t===n}var fee=dee;function hee(t,e){return function(n){return t(e(n))}}var UD=hee,pee=UD,mee=pee(Object.keys,Object),gee=mee,xee=fee,yee=gee,vee=Object.prototype,bee=vee.hasOwnProperty;function wee(t){if(!xee(t))return yee(t);var e=[];for(var n in Object(t))bee.call(t,n)&&n!="constructor"&&e.push(n);return e}var _ee=wee,Nee=TN,See=GN;function Eee(t){return t!=null&&See(t.length)&&!Nee(t)}var ch=Eee,Tee=cee,Aee=_ee,kee=ch;function Cee(t){return kee(t)?Tee(t):Aee(t)}var sx=Cee,jee=GQ,Iee=tZ,Pee=sx;function Ree(t){return jee(t,Pee,Iee)}var Mee=Ree,DA=Mee,Oee=1,Dee=Object.prototype,Lee=Dee.hasOwnProperty;function $ee(t,e,n,r,s,i){var o=n&Oee,l=DA(t),c=l.length,u=DA(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:Lee.call(e,h)))return!1}var x=i.get(t),b=i.get(e);if(x&&b)return x==e&&b==t;var w=!0;i.set(t,e),i.set(e,t);for(var v=o;++f<c;){h=l[f];var y=t[h],_=e[h];if(r)var N=o?r(_,y,h,e,t,i):r(y,_,h,t,e,i);if(!(N===void 0?y===_||s(y,_,n,r,i):N)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var C=t.constructor,T=e.constructor;C!=T&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(w=!1)}return i.delete(t),i.delete(e),w}var Uee=$ee,Fee=Ro,Vee=Ps,Bee=Fee(Vee,"DataView"),qee=Bee,zee=Ro,Gee=Ps,Hee=zee(Gee,"Promise"),Wee=Hee,Kee=Ro,Yee=Ps,Jee=Kee(Yee,"Set"),FD=Jee,Xee=Ro,Qee=Ps,Zee=Xee(Qee,"WeakMap"),ete=Zee,Zb=qee,ew=kN,tw=Wee,nw=FD,rw=ete,VD=yi,Qc=W5,LA="[object Map]",tte="[object Object]",$A="[object Promise]",UA="[object Set]",FA="[object WeakMap]",VA="[object DataView]",nte=Qc(Zb),rte=Qc(ew),ste=Qc(tw),ite=Qc(nw),ate=Qc(rw),Ua=VD;(Zb&&Ua(new Zb(new ArrayBuffer(1)))!=VA||ew&&Ua(new ew)!=LA||tw&&Ua(tw.resolve())!=$A||nw&&Ua(new nw)!=UA||rw&&Ua(new rw)!=FA)&&(Ua=function(t){var e=VD(t),n=e==tte?t.constructor:void 0,r=n?Qc(n):"";if(r)switch(r){case nte:return VA;case rte:return LA;case ste:return $A;case ite:return UA;case ate:return FA}return e});var ote=Ua,zy=CD,lte=RD,cte=FQ,ute=Uee,BA=ote,qA=rr,zA=DD,dte=$D,fte=1,GA="[object Arguments]",HA="[object Array]",rp="[object Object]",hte=Object.prototype,WA=hte.hasOwnProperty;function pte(t,e,n,r,s,i){var o=qA(t),l=qA(e),c=o?HA:BA(t),u=l?HA:BA(e);c=c==GA?rp:c,u=u==GA?rp:u;var d=c==rp,f=u==rp,h=c==u;if(h&&zA(t)){if(!zA(e))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new zy),o||dte(t)?lte(t,e,n,r,s,i):cte(t,e,c,n,r,s,i);if(!(n&fte)){var x=d&&WA.call(t,"__wrapped__"),b=f&&WA.call(e,"__wrapped__");if(x||b){var w=x?t.value():t,v=b?e.value():e;return i||(i=new zy),s(w,v,n,r,i)}}return h?(i||(i=new zy),ute(t,e,n,r,s,i)):!1}var mte=pte,gte=mte,KA=vi;function BD(t,e,n,r,s){return t===e?!0:t==null||e==null||!KA(t)&&!KA(e)?t!==t&&e!==e:gte(t,e,n,r,BD,s)}var HN=BD,xte=CD,yte=HN,vte=1,bte=2;function wte(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new xte;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?yte(d,u,vte|bte,r,f):h))return!1}}return!0}var _te=wte,Nte=_a;function Ste(t){return t===t&&!Nte(t)}var qD=Ste,Ete=qD,Tte=sx;function Ate(t){for(var e=Tte(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Ete(s)]}return e}var kte=Ate;function Cte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var zD=Cte,jte=_te,Ite=kte,Pte=zD;function Rte(t){var e=Ite(t);return e.length==1&&e[0][2]?Pte(e[0][0],e[0][1]):function(n){return n===t||jte(n,t,e)}}var Mte=Rte;function Ote(t,e){return t!=null&&e in Object(t)}var Dte=Ote,Lte=Q5,$te=qN,Ute=rr,Fte=zN,Vte=GN,Bte=q0;function qte(t,e,n){e=Lte(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=Bte(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&Vte(s)&&Fte(o,s)&&(Ute(t)||$te(t)))}var zte=qte,Gte=Dte,Hte=zte;function Wte(t,e){return t!=null&&Hte(t,e,Gte)}var Kte=Wte,Yte=HN,Jte=Z5,Xte=Kte,Qte=EN,Zte=qD,ene=zD,tne=q0,nne=1,rne=2;function sne(t,e){return Qte(t)&&Zte(e)?ene(tne(t),e):function(n){var r=Jte(n,t);return r===void 0&&r===e?Xte(n,t):Yte(e,r,nne|rne)}}var ine=sne;function ane(t){return t}var Zc=ane;function one(t){return function(e){return e==null?void 0:e[t]}}var lne=one,cne=PN;function une(t){return function(e){return cne(e,t)}}var dne=une,fne=lne,hne=dne,pne=EN,mne=q0;function gne(t){return pne(t)?fne(mne(t)):hne(t)}var xne=gne,yne=Mte,vne=ine,bne=Zc,wne=rr,_ne=xne;function Nne(t){return typeof t=="function"?t:t==null?bne:typeof t=="object"?wne(t)?vne(t[0],t[1]):yne(t):_ne(t)}var Rs=Nne;function Sne(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var GD=Sne;function Ene(t){return t!==t}var Tne=Ene;function Ane(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var kne=Ane,Cne=GD,jne=Tne,Ine=kne;function Pne(t,e,n){return e===e?Ine(t,e,n):Cne(t,jne,n)}var Rne=Pne,Mne=Rne;function One(t,e){var n=t==null?0:t.length;return!!n&&Mne(t,e,0)>-1}var Dne=One;function Lne(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var $ne=Lne;function Une(){}var Fne=Une,Gy=FD,Vne=Fne,Bne=BN,qne=1/0,zne=Gy&&1/Bne(new Gy([,-0]))[1]==qne?function(t){return new Gy(t)}:Vne,Gne=zne,Hne=jD,Wne=Dne,Kne=$ne,Yne=PD,Jne=Gne,Xne=BN,Qne=200;function Zne(t,e,n){var r=-1,s=Wne,i=t.length,o=!0,l=[],c=l;if(n)o=!1,s=Kne;else if(i>=Qne){var u=e?null:Jne(t);if(u)return Xne(u);o=!1,s=Yne,c=new Hne}else c=e?[]:l;e:for(;++r<i;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var ere=Zne,tre=Rs,nre=ere;function rre(t,e){return t&&t.length?nre(t,tre(e)):[]}var sre=rre;const YA=ot(sre);function HD(t,e,n){return e===!0?YA(t,n):je(e)?YA(t,e):t}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var ire=["ref"];function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KD(r.key),r)}}function ore(t,e,n){return e&&XA(t.prototype,e),n&&XA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lre(t,e,n){return e=sg(e),cre(t,WD()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function cre(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ure(t)}function ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sw(t,e)}function ix(t,e,n){return e=KD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KD(t){var e=fre(t,"string");return uc(e)=="symbol"?e:e+""}function fre(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hre(t,e){if(t==null)return{};var n=pre(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mre(t){return t.value}function gre(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=hre(e,ire);return q.createElement(VN,n)}var QA=1,io=function(t){function e(){var n;are(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lre(this,e,[].concat(s)),ix(n,"lastBoundingBox",{width:-1,height:-1}),n}return dre(e,t),ore(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>QA||Math.abs(s.height-this.lastBoundingBox.height)>QA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ds({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ds(Ds({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ds(Ds({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},gre(i,Ds(Ds({},this.props),{},{payload:HD(d,u,mre)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Ds(Ds({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&de(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(D.PureComponent);ix(io,"displayName","Legend");ix(io,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZA=lh,xre=qN,yre=rr,ek=ZA?ZA.isConcatSpreadable:void 0;function vre(t){return yre(t)||xre(t)||!!(ek&&t&&t[ek])}var bre=vre,wre=MD,_re=bre;function YD(t,e,n,r,s){var i=-1,o=t.length;for(n||(n=_re),s||(s=[]);++i<o;){var l=t[i];e>0&&n(l)?e>1?YD(l,e-1,n,r,s):wre(s,l):r||(s[s.length]=l)}return s}var JD=YD;function Nre(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++s];if(n(i[c],c,i)===!1)break}return e}}var Sre=Nre,Ere=Sre,Tre=Ere(),Are=Tre,kre=Are,Cre=sx;function jre(t,e){return t&&kre(t,e,Cre)}var XD=jre,Ire=ch;function Pre(t,e){return function(n,r){if(n==null)return n;if(!Ire(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var Rre=Pre,Mre=XD,Ore=Rre,Dre=Ore(Mre),WN=Dre,Lre=WN,$re=ch;function Ure(t,e){var n=-1,r=$re(t)?Array(t.length):[];return Lre(t,function(s,i,o){r[++n]=e(s,i,o)}),r}var QD=Ure;function Fre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Vre=Fre,tk=zc;function Bre(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=tk(t),o=e!==void 0,l=e===null,c=e===e,u=tk(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&t<e||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var qre=Bre,zre=qre;function Gre(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,o=s.length,l=n.length;++r<o;){var c=zre(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Hre=Gre,Hy=IN,Wre=PN,Kre=Rs,Yre=QD,Jre=Vre,Xre=LD,Qre=Hre,Zre=Zc,ese=rr;function tse(t,e,n){e.length?e=Hy(e,function(i){return ese(i)?function(o){return Wre(o,i.length===1?i[0]:i)}:i}):e=[Zre];var r=-1;e=Hy(e,Xre(Kre));var s=Yre(t,function(i,o,l){var c=Hy(e,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Jre(s,function(i,o){return Qre(i,o,n)})}var nse=tse;function rse(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var sse=rse,ise=sse,nk=Math.max;function ase(t,e,n){return e=nk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=nk(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),ise(t,this,l)}}var ose=ase;function lse(t){return function(){return t}}var cse=lse,use=Ro,dse=function(){try{var t=use(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ZD=dse,fse=cse,rk=ZD,hse=Zc,pse=rk?function(t,e){return rk(t,"toString",{configurable:!0,enumerable:!1,value:fse(e),writable:!0})}:hse,mse=pse,gse=800,xse=16,yse=Date.now;function vse(t){var e=0,n=0;return function(){var r=yse(),s=xse-(r-n);if(n=r,s>0){if(++e>=gse)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bse=vse,wse=mse,_se=bse,Nse=_se(wse),Sse=Nse,Ese=Zc,Tse=ose,Ase=Sse;function kse(t,e){return Ase(Tse(t,e,Ese),t+"")}var Cse=kse,jse=AN,Ise=ch,Pse=zN,Rse=_a;function Mse(t,e,n){if(!Rse(n))return!1;var r=typeof e;return(r=="number"?Ise(n)&&Pse(e,n.length):r=="string"&&e in n)?jse(n[e],t):!1}var ax=Mse,Ose=JD,Dse=nse,Lse=Cse,sk=ax,$se=Lse(function(t,e){if(t==null)return[];var n=e.length;return n>1&&sk(t,e[0],e[1])?e=[]:n>2&&sk(e[0],e[1],e[2])&&(e=[e[0]]),Dse(t,Ose(e,1),[])}),Use=$se;const KN=ot(Use);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function Fse(t,e){return zse(t)||qse(t,e)||Bse(t,e)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zse(t){if(Array.isArray(t))return t}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return e=Hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Wse(t,"string");return of(e)=="symbol"?e:e+""}function Wse(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kse(t){return Array.isArray(t)&&Yt(t[0])&&Yt(t[1])?t.join(" ~ "):t}var Yse=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,b=e.labelClassName,w=e.label,v=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,N=function(){if(d&&d.length){var O={padding:0,margin:0},P=(h?KN(d,h):d).map(function(H,V){if(H.type==="none")return null;var L=Wy({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),B=H.formatter||f||Kse,G=H.value,U=H.name,F=G,Y=U;if(B&&F!=null&&Y!=null){var ee=B(G,U,H,V,d);if(Array.isArray(ee)){var z=Fse(ee,2);F=z[0],Y=z[1]}else F=ee}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:L},Yt(Y)?q.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Yt(Y)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},F),q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},C=Wy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),T=Wy({margin:0},u),A=!Ue(w),S=A?w:"",j=Ve("recharts-default-tooltip",x),E=Ve("recharts-tooltip-label",b);A&&v&&d!==void 0&&d!==null&&(S=v(w,d));var R=_?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",iw({className:j,style:C},R),q.createElement("p",{className:E,style:T},q.isValidElement(S)?S:"".concat(S)),N())};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function sp(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Xse(t,"string");return lf(e)=="symbol"?e:e+""}function Xse(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu="recharts-tooltip-wrapper",Qse={visibility:"hidden"};function Zse(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ve(Iu,sp(sp(sp(sp({},"".concat(Iu,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(Iu,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(Iu,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(Iu,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function ok(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&de(i[r]))return i[r];var d=n[r]-l-s,f=n[r]+s;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var b=f+l,w=c[r]+u;return b>w?Math.max(d,c[r]):Math.max(f,c[r])}function eie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=ok({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=ok({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=eie({translateX:d,translateY:f,useTranslate3d:l})):u=Qse,{cssProperties:u,cssClasses:Zse({translateX:d,translateY:f,coordinate:n})}}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tL(r.key),r)}}function sie(t,e,n){return e&&rie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iie(t,e,n){return e=ig(e),aie(t,eL()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function aie(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(t)}function oie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eL=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aw(t,e)}function ow(t,e,n){return e=tL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tL(t){var e=cie(t,"string");return dc(e)=="symbol"?e:e+""}function cie(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uk=1,uie=function(t){function e(){var n;nie(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=iie(this,e,[].concat(s)),ow(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ow(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return lie(e,t),sie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uk||Math.abs(r.height-this.state.lastBoundingBox.height)>uk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,x=s.offset,b=s.position,w=s.reverseDirection,v=s.useTranslate3d,y=s.viewBox,_=s.wrapperStyle,N=tie({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),C=N.cssClasses,T=N.cssProperties,A=ck(ck({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return q.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(j){r.wrapperNode=j}},u)}}])}(D.PureComponent),die=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mo={isSsr:die()};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){YN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function pie(t,e,n){return e&&hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mie(t,e,n){return e=ag(e),gie(t,nL()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function gie(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function yie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lw(t,e)}function YN(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t){var e=vie(t,"string");return fc(e)=="symbol"?e:e+""}function vie(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bie(t){return t.dataKey}function wie(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(Yse,e)}var Kn=function(t){function e(){return fie(this,e),mie(this,e,arguments)}return yie(e,t),pie(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,x=s.offset,b=s.payload,w=s.payloadUniqBy,v=s.position,y=s.reverseDirection,_=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,T=b??[];f&&T.length&&(T=HD(b.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,bie));var A=T.length>0;return q.createElement(uie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:A,offset:x,position:v,reverseDirection:y,useTranslate3d:_,viewBox:N,wrapperStyle:C},wie(u,fk(fk({},this.props),{},{payload:T})))}}])}(D.PureComponent);YN(Kn,"displayName","Tooltip");YN(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _ie=Ps,Nie=function(){return _ie.Date.now()},Sie=Nie,Eie=/\s/;function Tie(t){for(var e=t.length;e--&&Eie.test(t.charAt(e)););return e}var Aie=Tie,kie=Aie,Cie=/^\s+/;function jie(t){return t&&t.slice(0,kie(t)+1).replace(Cie,"")}var Iie=jie,Pie=Iie,hk=_a,Rie=zc,pk=NaN,Mie=/^[-+]0x[0-9a-f]+$/i,Oie=/^0b[01]+$/i,Die=/^0o[0-7]+$/i,Lie=parseInt;function $ie(t){if(typeof t=="number")return t;if(Rie(t))return pk;if(hk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pie(t);var n=Oie.test(t);return n||Die.test(t)?Lie(t.slice(2),n?2:8):Mie.test(t)?pk:+t}var sL=$ie,Uie=_a,Ky=Sie,mk=sL,Fie="Expected a function",Vie=Math.max,Bie=Math.min;function qie(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Fie);e=mk(e)||0,Uie(n)&&(d=!!n.leading,f="maxWait"in n,i=f?Vie(mk(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function x(A){var S=r,j=s;return r=s=void 0,u=A,o=t.apply(j,S),o}function b(A){return u=A,l=setTimeout(y,e),d?x(A):o}function w(A){var S=A-c,j=A-u,E=e-S;return f?Bie(E,i-j):E}function v(A){var S=A-c,j=A-u;return c===void 0||S>=e||S<0||f&&j>=i}function y(){var A=Ky();if(v(A))return _(A);l=setTimeout(y,w(A))}function _(A){return l=void 0,h&&r?x(A):(r=s=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function C(){return l===void 0?o:_(Ky())}function T(){var A=Ky(),S=v(A);if(r=arguments,s=this,c=A,S){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(y,e),x(c)}return l===void 0&&(l=setTimeout(y,e)),o}return T.cancel=N,T.flush=C,T}var zie=qie,Gie=zie,Hie=_a,Wie="Expected a function";function Kie(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(Wie);return Hie(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Gie(t,e,{leading:r,maxWait:e,trailing:s})}var Yie=Kie;const iL=ot(Yie);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return e=Xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Qie(t,"string");return cf(e)=="symbol"?e:e+""}function Qie(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zie(t,e){return rae(t)||nae(t,e)||tae(t,e)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rae(t){if(Array.isArray(t))return t}var xd=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,b=t.debounce,w=b===void 0?0:b,v=t.id,y=t.className,_=t.onResize,N=t.style,C=N===void 0?{}:N,T=D.useRef(null),A=D.useRef();A.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:s.width,containerHeight:s.height}),j=Zie(S,2),E=j[0],R=j[1],I=D.useCallback(function(P,H){R(function(V){var L=Math.round(P),B=Math.round(H);return V.containerWidth===L&&V.containerHeight===B?V:{containerWidth:L,containerHeight:B}})},[]);D.useEffect(function(){var P=function(U){var F,Y=U[0].contentRect,ee=Y.width,z=Y.height;I(ee,z),(F=A.current)===null||F===void 0||F.call(A,ee,z)};w>0&&(P=iL(P,w,{trailing:!0,leading:!1}));var H=new ResizeObserver(P),V=T.current.getBoundingClientRect(),L=V.width,B=V.height;return I(L,B),H.observe(T.current),function(){H.disconnect()}},[I,w]);var O=D.useMemo(function(){var P=E.containerWidth,H=E.containerHeight;if(P<0||H<0)return null;Zr(Ka(o)||Ka(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Ka(o)?P:o,L=Ka(c)?H:c;n&&n>0&&(V?L=V/n:L&&(V=L*n),h&&L>h&&(L=h)),Zr(V>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,L,o,c,d,f,n);var B=!Array.isArray(x)&&Qs(x.type).endsWith("Chart");return q.Children.map(x,function(G){return q.isValidElement(G)?D.cloneElement(G,ip({width:V,height:L},B?{style:ip({height:"100%",width:"100%",maxHeight:L,maxWidth:V},G.props.style)}:{})):G})},[n,x,c,h,f,d,E,o]);return q.createElement("div",{id:v?"".concat(v):void 0,className:Ve("recharts-responsive-container",y),style:ip(ip({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:T},O)}),ox=function(e){return null};ox.displayName="Cell";function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return uf(e)=="symbol"?e:e+""}function aae(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ho={widthCache:{},cacheCount:0},oae=2e3,lae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vk="recharts_measurement_span";function cae(t){var e=cw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Mo.isSsr)return{width:0,height:0};var r=cae(n),s=JSON.stringify({text:e,copyStyle:r});if(Ho.widthCache[s])return Ho.widthCache[s];try{var i=document.getElementById(vk);i||(i=document.createElement("span"),i.setAttribute("id",vk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cw(cw({},lae),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ho.widthCache[s]=c,++Ho.cacheCount>oae&&(Ho.cacheCount=0,Ho.widthCache={}),c}catch{return{width:0,height:0}}},uae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function og(t,e){return pae(t)||hae(t,e)||fae(t,e)||dae()}function dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pae(t){if(Array.isArray(t))return t}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xae(r.key),r)}}function gae(t,e,n){return e&&wk(t.prototype,e),n&&wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xae(t){var e=yae(t,"string");return df(e)=="symbol"?e:e+""}function yae(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _k=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wae=Object.keys(aL),ml="NaN";function _ae(t,e){return t*aL[e]}var ap=function(){function t(e,n){mae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!vae.test(n)&&(this.num=NaN,this.unit=""),wae.includes(n)&&(this.num=_ae(e,n),this.unit="px")}return gae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=bae.exec(n))!==null&&r!==void 0?r:[],i=og(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function oL(t){if(t.includes(ml))return ml;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=_k.exec(e))!==null&&n!==void 0?n:[],s=og(r,4),i=s[1],o=s[2],l=s[3],c=ap.parse(i??""),u=ap.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ml;e=e.replace(_k,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=Nk.exec(e))!==null&&f!==void 0?f:[],x=og(h,4),b=x[1],w=x[2],v=x[3],y=ap.parse(b??""),_=ap.parse(v??""),N=w==="+"?y.add(_):y.subtract(_);if(N.isNaN())return ml;e=e.replace(Nk,N.toString())}return e}var Sk=/\(([^()]*)\)/;function Nae(t){for(var e=t;e.includes("(");){var n=Sk.exec(e),r=og(n,2),s=r[1];e=e.replace(Sk,oL(s))}return e}function Sae(t){var e=t.replace(/\s+/g,"");return e=Nae(e),e=oL(e),e}function Eae(t){try{return Sae(t)}catch{return ml}}function Yy(t){var e=Eae(t.slice(5,-1));return e===ml?"":e}var Tae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Aae=["dx","dy","angle","className","breakAll"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function Ek(t,e){if(t==null)return{};var n=kae(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t,e){return Pae(t)||Iae(t,e)||jae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Pae(t){if(Array.isArray(t))return t}var lL=/[ \f\n\r\t\v\u2028\u2029]+/,cL=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var i=[];Ue(n)||(r?i=n.toString().split(""):i=n.toString().split(lL));var o=i.map(function(c){return{word:c,width:yd(c,s).width}}),l=r?0:yd("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Rae=function(e,n,r,s,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=de(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(L,B){var G=B.word,U=B.width,F=L[L.length-1];if(F&&(s==null||i||F.width+U+r<Number(s)))F.words.push(G),F.width+=U+r;else{var Y={words:[G],width:U};L.push(Y)}return L},[])},x=h(n),b=function(V){return V.reduce(function(L,B){return L.width>B.width?L:B})};if(!d)return x;for(var w="",v=function(V){var L=f.slice(0,V),B=cL({breakAll:u,style:c,children:L+w}).wordsWithComputedWidth,G=h(B),U=G.length>o||b(G).width>Number(s);return[U,G]},y=0,_=f.length-1,N=0,C;y<=_&&N<=f.length-1;){var T=Math.floor((y+_)/2),A=T-1,S=v(A),j=Tk(S,2),E=j[0],R=j[1],I=v(T),O=Tk(I,1),P=O[0];if(!E&&!P&&(y=T+1),E&&P&&(_=T-1),!E&&P){C=R;break}N++}return C||x},kk=function(e){var n=Ue(e)?[]:e.toString().split(lL);return[{words:n}]},Mae=function(e){var n=e.width,r=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Mo.isSsr){var c,u,d=cL({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return kk(s);return Rae({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return kk(s)},Ck="#808080",No=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,b=e.verticalAnchor,w=b===void 0?"end":b,v=e.fill,y=v===void 0?Ck:v,_=Ek(e,Tae),N=D.useMemo(function(){return Mae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,T=_.dy,A=_.angle,S=_.className,j=_.breakAll,E=Ek(_,Aae);if(!Yt(r)||!Yt(i))return null;var R=r+(de(C)?C:0),I=i+(de(T)?T:0),O;switch(w){case"start":O=Yy("calc(".concat(u,")"));break;case"middle":O=Yy("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Yy("calc(".concat(N.length-1," * -").concat(l,")"));break}var P=[];if(f){var H=N[0].width,V=_.width;P.push("scale(".concat((de(V)?V/H:1)/H,")"))}return A&&P.push("rotate(".concat(A,", ").concat(R,", ").concat(I,")")),P.length&&(E.transform=P.join(" ")),q.createElement("text",uw({},Te(E,!0),{x:R,y:I,className:Ve("recharts-text",S),textAnchor:x,fill:y.includes("url")?Ck:y}),N.map(function(L,B){var G=L.words.join(j?"":" ");return q.createElement("tspan",{x:R,dy:B===0?O:l,key:"".concat(G,"-").concat(B)},G)}))};function aa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Oae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JN(t){let e,n,r;t.length!==2?(e=aa,n=(l,c)=>aa(t(l),c),r=(l,c)=>t(l)-c):(e=t===aa||t===Oae?t:Dae,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Dae(){return 0}function uL(t){return t===null?NaN:+t}function*Lae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $ae=JN(aa),uh=$ae.right;JN(uL).center;class jk extends Map{constructor(e,n=Vae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(Ik(this,e))}has(e){return super.has(Ik(this,e))}set(e,n){return super.set(Uae(this,e),n)}delete(e){return super.delete(Fae(this,e))}}function Ik({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Uae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Vae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bae(t=aa){if(t===aa)return dL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qae=Math.sqrt(50),zae=Math.sqrt(10),Gae=Math.sqrt(2);function lg(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=qae?10:i>=zae?5:i>=Gae?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?lg(t,e,n*2):[l,c,u]}function dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?lg(e,t,n):lg(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function fw(t,e,n){return e=+e,t=+t,n=+n,lg(t,e,n)[2]}function hw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?fw(e,t,n):fw(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function Pk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Rk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fL(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?dL:Bae(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),b=Math.min(r,Math.floor(e+(c-u)*f/c+h));fL(t,e,x,b,s)}const i=t[e];let o=n,l=r;for(Pu(t,n,e),s(t[r],i)>0&&Pu(t,n,r);o<l;){for(Pu(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?Pu(t,n,l):(++l,Pu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Pu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hae(t,e,n){if(t=Float64Array.from(Lae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Rk(t);if(e>=1)return Pk(t);var r,s=(r-1)*e,i=Math.floor(s),o=Pk(fL(t,i).subarray(0,i+1)),l=Rk(t.subarray(i+1));return o+(l-o)*(s-i)}}function Wae(t,e,n=uL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function Kae(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pw=Symbol("implicit");function XN(){var t=new jk,e=[],n=[],r=pw;function s(i){let o=t.get(i);if(o===void 0){if(r!==pw)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new jk;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return XN(e,n).unknown(r)},Fr.apply(s,arguments),s}function ff(){var t=XN().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=s<r,b=x?s:r,w=x?r:s;i=(w-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(w-b-i*(h-c))*d,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var v=Kae(h).map(function(y){return b+i*y});return n(x?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ff(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fr.apply(f(),arguments)}function hL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hL(e())},t}function vd(){return hL(ff.apply(null,arguments).paddingInner(1))}function QN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dh(){}var hf=.7,cg=1/hf,Ol="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yae=/^#([0-9a-f]{3,8})$/,Jae=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),Xae=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),Qae=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${pf}\\)$`),Zae=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${pf}\\)$`),eoe=new RegExp(`^hsl\\(${pf},${Ss},${Ss}\\)$`),toe=new RegExp(`^hsla\\(${pf},${Ss},${Ss},${pf}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QN(dh,mf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ok,formatHex:Ok,formatHex8:noe,formatHsl:roe,formatRgb:Dk,toString:Dk});function Ok(){return this.rgb().formatHex()}function noe(){return this.rgb().formatHex8()}function roe(){return mL(this).formatHsl()}function Dk(){return this.rgb().formatRgb()}function mf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Lk(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?op(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?op(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jae.exec(t))?new Zn(e[1],e[2],e[3],1):(e=Xae.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qae.exec(t))?op(e[1],e[2],e[3],e[4]):(e=Zae.exec(t))?op(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eoe.exec(t))?Fk(e[1],e[2]/100,e[3]/100,1):(e=toe.exec(t))?Fk(e[1],e[2]/100,e[3]/100,e[4]):Mk.hasOwnProperty(t)?Lk(Mk[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Lk(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function op(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function soe(t){return t instanceof dh||(t=mf(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function mw(t,e,n,r){return arguments.length===1?soe(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QN(Zn,mw,pL(dh,{brighter(t){return t=t==null?cg:Math.pow(cg,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(ao(this.r),ao(this.g),ao(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$k,formatHex:$k,formatHex8:ioe,formatRgb:Uk,toString:Uk}));function $k(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function ioe(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uk(){const t=ug(this.opacity);return`${t===1?"rgb(":"rgba("}${ao(this.r)}, ${ao(this.g)}, ${ao(this.b)}${t===1?")":`, ${t})`}`}function ug(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ao(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ya(t){return t=ao(t),(t<16?"0":"")+t.toString(16)}function Fk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jr(t,e,n,r)}function mL(t){if(t instanceof Jr)return new Jr(t.h,t.s,t.l,t.opacity);if(t instanceof dh||(t=mf(t)),!t)return new Jr;if(t instanceof Jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Jr(o,l,c,t.opacity)}function aoe(t,e,n,r){return arguments.length===1?mL(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QN(Jr,aoe,pL(dh,{brighter(t){return t=t==null?cg:Math.pow(cg,t),new Jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new Jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Zn(Jy(t>=240?t-240:t+120,s,r),Jy(t,s,r),Jy(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Jr(Vk(this.h),lp(this.s),lp(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ug(this.opacity);return`${t===1?"hsl(":"hsla("}${Vk(this.h)}, ${lp(this.s)*100}%, ${lp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vk(t){return t=(t||0)%360,t<0?t+360:t}function lp(t){return Math.max(0,Math.min(1,t||0))}function Jy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZN=t=>()=>t;function ooe(t,e){return function(n){return t+n*e}}function loe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function coe(t){return(t=+t)==1?gL:function(e,n){return n-e?loe(e,n,t):ZN(isNaN(e)?n:e)}}function gL(t,e){var n=e-t;return n?ooe(t,n):ZN(isNaN(t)?e:t)}const Bk=function t(e){var n=coe(e);function r(s,i){var o=n((s=mw(s)).r,(i=mw(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=gL(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function uoe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function doe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function foe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=eu(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function hoe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function poe(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=eu(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xy=new RegExp(gw.source,"g");function moe(t){return function(){return t}}function goe(t){return function(e){return t(e)+""}}function xoe(t,e){var n=gw.lastIndex=Xy.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=gw.exec(t))&&(s=Xy.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:dg(r,s)})),n=Xy.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?goe(c[0].x):moe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function eu(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZN(e):(n==="number"?dg:n==="string"?(r=mf(e))?(e=r,Bk):xoe:e instanceof mf?Bk:e instanceof Date?hoe:doe(e)?uoe:Array.isArray(e)?foe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?poe:dg)(t,e)}function eS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yoe(t,e){e===void 0&&(e=t,t=eu);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function voe(t){return function(){return t}}function fg(t){return+t}var qk=[0,1];function Un(t){return t}function xw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:voe(isNaN(e)?NaN:.5)}function boe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function woe(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=xw(s,r),i=n(o,i)):(r=xw(r,s),i=n(i,o)),function(l){return i(r(l))}}function _oe(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=xw(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=uh(t,l,1,r)-1;return i[c](s[c](l))}}function fh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lx(){var t=qk,e=qk,n=eu,r,s,i,o=Un,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Un&&(o=boe(t[0],t[h-1])),l=h>2?_oe:woe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(e,t.map(r),dg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,fg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=eS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Un,d()):o!==Un},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,x){return r=h,s=x,d()}}function tS(){return lx()(Un,Un)}function Noe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hc(t){return t=hg(Math.abs(t)),t?t[1]:NaN}function Soe(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Eoe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Toe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gf(t){if(!(e=Toe.exec(t)))throw new Error("invalid format: "+t);var e;return new nS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gf.prototype=nS.prototype;function nS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aoe(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var pg;function koe(t,e){var n=hg(t,e);if(!n)return pg=void 0,t.toPrecision(e);var r=n[0],s=n[1],i=s-(pg=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hg(t,Math.max(0,e+i-1))[0]}function zk(t,e){var n=hg(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Gk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Noe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zk(t*100,e),r:zk,s:koe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hk(t){return t}var Wk=Array.prototype.map,Kk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Coe(t){var e=t.grouping===void 0||t.thousands===void 0?Hk:Soe(Wk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Hk:Eoe(Wk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=gf(f);var x=f.fill,b=f.align,w=f.sign,v=f.symbol,y=f.zero,_=f.width,N=f.comma,C=f.precision,T=f.trim,A=f.type;A==="n"?(N=!0,A="g"):Gk[A]||(C===void 0&&(C=12),T=!0,A="g"),(y||x==="0"&&b==="=")&&(y=!0,x="0",b="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),j=(v==="$"?r:/[%p]/.test(A)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),E=Gk[A],R=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function I(O){var P=S,H=j,V,L,B;if(A==="c")H=E(O)+H,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),C),T&&(O=Aoe(O)),G&&+O==0&&w!=="+"&&(G=!1),P=(G?w==="("?w:l:w==="-"||w==="("?"":w)+P,H=(A==="s"&&!isNaN(O)&&pg!==void 0?Kk[8+pg/3]:"")+H+(G&&w==="("?")":""),R){for(V=-1,L=O.length;++V<L;)if(B=O.charCodeAt(V),48>B||B>57){H=(B===46?s+O.slice(V+1):O.slice(V))+H,O=O.slice(0,V);break}}}N&&!y&&(O=e(O,1/0));var U=P.length+O.length+H.length,F=U<_?new Array(_-U+1).join(x):"";switch(N&&y&&(O=e(F+O,F.length?_-H.length:1/0),F=""),b){case"<":O=P+O+H+F;break;case"=":O=P+F+O+H;break;case"^":O=F.slice(0,U=F.length>>1)+P+O+H+F.slice(U);break;default:O=F+P+O+H;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(hc(h)/3)))*3,b=Math.pow(10,-x),w=u((f=gf(f),f.type="f",f),{suffix:Kk[8+x/3]});return function(v){return w(b*v)}}return{format:u,formatPrefix:d}}var cp,rS,xL;joe({thousands:",",grouping:[3],currency:["$",""]});function joe(t){return cp=Coe(t),rS=cp.format,xL=cp.formatPrefix,cp}function Ioe(t){return Math.max(0,-hc(Math.abs(t)))}function Poe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hc(e)/3)))*3-hc(Math.abs(t)))}function Roe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hc(e)-hc(t))+1}function yL(t,e,n,r){var s=hw(t,e,n),i;switch(r=gf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Poe(s,o))&&(r.precision=i),xL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Roe(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Ioe(s))&&(r.precision=i-(r.type==="%")*2);break}}return rS(r)}function Na(t){var e=t.domain;return t.ticks=function(n){var r=e();return dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return yL(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=fw(o,l,n),u===c)return r[s]=o,r[i]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function mg(){var t=tS();return t.copy=function(){return fh(t,mg())},Fr.apply(t,arguments),Na(t)}function vL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vL(t).unknown(e)},t=arguments.length?Array.from(t,fg):[0,1],Na(n)}function bL(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),t[n]=e.floor(s),t[r]=e.ceil(i),t}function Yk(t){return Math.log(t)}function Jk(t){return Math.exp(t)}function Moe(t){return-Math.log(-t)}function Ooe(t){return-Math.exp(-t)}function Doe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Loe(t){return t===10?Doe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $oe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Xk(t){return(e,n)=>-t(-e,n)}function sS(t){const e=t(Yk,Jk),n=e.domain;let r=10,s,i;function o(){return s=$oe(r),i=Loe(r),n()[0]<0?(s=Xk(s),i=Xk(i),t(Moe,Ooe)):t(Yk,Jk),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),x=s(d),b,w;const v=l==null?10:+l;let y=[];if(!(r%1)&&x-h<v){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(b=1;b<r;++b)if(w=h<0?b/i(-h):b*i(h),!(w<u)){if(w>d)break;y.push(w)}}else for(;h<=x;++h)for(b=r-1;b>=1;--b)if(w=h>0?b/i(-h):b*i(h),!(w<u)){if(w>d)break;y.push(w)}y.length*2<v&&(y=dw(u,d,v))}else y=dw(h,x,Math.min(x-h,v)).map(i);return f?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=gf(c)).precision==null&&(c.trim=!0),c=rS(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(bL(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function wL(){const t=sS(lx()).domain([1,10]);return t.copy=()=>fh(t,wL()).base(t.base()),Fr.apply(t,arguments),t}function Qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iS(t){var e=1,n=t(Qk(e),Zk(e));return n.constant=function(r){return arguments.length?t(Qk(e=+r),Zk(e)):e},Na(n)}function _L(){var t=iS(lx());return t.copy=function(){return fh(t,_L()).constant(t.constant())},Fr.apply(t,arguments)}function eC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Foe(t){return t<0?-t*t:t*t}function aS(t){var e=t(Un,Un),n=1;function r(){return n===1?t(Un,Un):n===.5?t(Uoe,Foe):t(eC(n),eC(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},Na(e)}function oS(){var t=aS(lx());return t.copy=function(){return fh(t,oS()).exponent(t.exponent())},Fr.apply(t,arguments),t}function Voe(){return oS.apply(null,arguments).exponent(.5)}function tC(t){return Math.sign(t)*t*t}function Boe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function NL(){var t=tS(),e=[0,1],n=!1,r;function s(i){var o=Boe(t(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return t.invert(tC(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,fg)).map(tC)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return NL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fr.apply(s,arguments),Na(s)}function SL(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Wae(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[uh(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(aa),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return SL().domain(t).range(e).unknown(r)},Fr.apply(i,arguments)}function EL(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[uh(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return EL().domain([t,e]).range(s).unknown(i)},Fr.apply(Na(o),arguments)}function TL(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[uh(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return TL().domain(t).range(e).unknown(n)},Fr.apply(s,arguments)}const Qy=new Date,Zy=new Date;function Qt(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},s.filter=i=>Qt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(Qy.setTime(+i),Zy.setTime(+o),t(Qy),t(Zy),Math.floor(n(Qy,Zy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const gg=Qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gg);gg.range;const Hs=1e3,Tr=Hs*60,Ws=Tr*60,fi=Ws*24,lS=fi*7,nC=fi*30,ev=fi*365,Ja=Qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCSeconds());Ja.range;const cS=Qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hs)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getMinutes());cS.range;const uS=Qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCMinutes());uS.range;const dS=Qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hs-t.getMinutes()*Tr)},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getHours());dS.range;const fS=Qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getUTCHours());fS.range;const hh=Qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/fi,t=>t.getDate()-1);hh.range;const cx=Qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);cx.range;const AL=Qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));AL.range;function Oo(t){return Qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/lS)}const ux=Oo(0),xg=Oo(1),qoe=Oo(2),zoe=Oo(3),pc=Oo(4),Goe=Oo(5),Hoe=Oo(6);ux.range;xg.range;qoe.range;zoe.range;pc.range;Goe.range;Hoe.range;function Do(t){return Qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lS)}const dx=Do(0),yg=Do(1),Woe=Do(2),Koe=Do(3),mc=Do(4),Yoe=Do(5),Joe=Do(6);dx.range;yg.range;Woe.range;Koe.range;mc.range;Yoe.range;Joe.range;const hS=Qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hS.range;const pS=Qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pS.range;const hi=Qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hi.range;const pi=Qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pi.range;function kL(t,e,n,r,s,i){const o=[[Ja,1,Hs],[Ja,5,5*Hs],[Ja,15,15*Hs],[Ja,30,30*Hs],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[s,1,Ws],[s,3,3*Ws],[s,6,6*Ws],[s,12,12*Ws],[r,1,fi],[r,2,2*fi],[n,1,lS],[e,1,nC],[e,3,3*nC],[t,1,ev]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),b=x?x.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,x=JN(([,,v])=>v).right(o,h);if(x===o.length)return t.every(hw(u/ev,d/ev,f));if(x===0)return gg.every(Math.max(hw(u,d,f),1));const[b,w]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return b.every(w)}return[l,c]}const[Xoe,Qoe]=kL(pi,pS,dx,AL,fS,uS),[Zoe,ele]=kL(hi,hS,ux,hh,dS,cS);function tv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ru(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tle(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Mu(s),d=Ou(s),f=Mu(i),h=Ou(i),x=Mu(o),b=Ou(o),w=Mu(l),v=Ou(l),y=Mu(c),_=Ou(c),N={a:B,A:G,b:U,B:F,c:null,d:lC,e:lC,f:Sle,g:Mle,G:Dle,H:wle,I:_le,j:Nle,L:CL,m:Ele,M:Tle,p:Y,q:ee,Q:dC,s:fC,S:Ale,u:kle,U:Cle,V:jle,w:Ile,W:Ple,x:null,X:null,y:Rle,Y:Ole,Z:Lle,"%":uC},C={a:z,A:ae,b:W,B:he,c:null,d:cC,e:cC,f:Vle,g:Xle,G:Zle,H:$le,I:Ule,j:Fle,L:IL,m:Ble,M:qle,p:_e,q:Ie,Q:dC,s:fC,S:zle,u:Gle,U:Hle,V:Wle,w:Kle,W:Yle,x:null,X:null,y:Jle,Y:Qle,Z:ece,"%":uC},T={a:R,A:I,b:O,B:P,c:H,d:aC,e:aC,f:xle,g:iC,G:sC,H:oC,I:oC,j:hle,L:gle,m:fle,M:ple,p:E,q:dle,Q:vle,s:ble,S:mle,u:ale,U:ole,V:lle,w:ile,W:cle,x:V,X:L,y:iC,Y:sC,Z:ule,"%":yle};N.x=A(n,N),N.X=A(r,N),N.c=A(e,N),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(ce,Ne){return function(Z){var Q=[],K=-1,X=0,me=ce.length,oe,ke,Ye;for(Z instanceof Date||(Z=new Date(+Z));++K<me;)ce.charCodeAt(K)===37&&(Q.push(ce.slice(X,K)),(ke=rC[oe=ce.charAt(++K)])!=null?oe=ce.charAt(++K):ke=oe==="e"?" ":"0",(Ye=Ne[oe])&&(oe=Ye(Z,ke)),Q.push(oe),X=K+1);return Q.push(ce.slice(X,K)),Q.join("")}}function S(ce,Ne){return function(Z){var Q=Ru(1900,void 0,1),K=j(Q,ce,Z+="",0),X,me;if(K!=Z.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Ne&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(X=nv(Ru(Q.y,0,1)),me=X.getUTCDay(),X=me>4||me===0?yg.ceil(X):yg(X),X=cx.offset(X,(Q.V-1)*7),Q.y=X.getUTCFullYear(),Q.m=X.getUTCMonth(),Q.d=X.getUTCDate()+(Q.w+6)%7):(X=tv(Ru(Q.y,0,1)),me=X.getDay(),X=me>4||me===0?xg.ceil(X):xg(X),X=hh.offset(X,(Q.V-1)*7),Q.y=X.getFullYear(),Q.m=X.getMonth(),Q.d=X.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),me="Z"in Q?nv(Ru(Q.y,0,1)).getUTCDay():tv(Ru(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(me+5)%7:Q.w+Q.U*7-(me+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,nv(Q)):tv(Q)}}function j(ce,Ne,Z,Q){for(var K=0,X=Ne.length,me=Z.length,oe,ke;K<X;){if(Q>=me)return-1;if(oe=Ne.charCodeAt(K++),oe===37){if(oe=Ne.charAt(K++),ke=T[oe in rC?Ne.charAt(K++):oe],!ke||(Q=ke(ce,Z,Q))<0)return-1}else if(oe!=Z.charCodeAt(Q++))return-1}return Q}function E(ce,Ne,Z){var Q=u.exec(Ne.slice(Z));return Q?(ce.p=d.get(Q[0].toLowerCase()),Z+Q[0].length):-1}function R(ce,Ne,Z){var Q=x.exec(Ne.slice(Z));return Q?(ce.w=b.get(Q[0].toLowerCase()),Z+Q[0].length):-1}function I(ce,Ne,Z){var Q=f.exec(Ne.slice(Z));return Q?(ce.w=h.get(Q[0].toLowerCase()),Z+Q[0].length):-1}function O(ce,Ne,Z){var Q=y.exec(Ne.slice(Z));return Q?(ce.m=_.get(Q[0].toLowerCase()),Z+Q[0].length):-1}function P(ce,Ne,Z){var Q=w.exec(Ne.slice(Z));return Q?(ce.m=v.get(Q[0].toLowerCase()),Z+Q[0].length):-1}function H(ce,Ne,Z){return j(ce,e,Ne,Z)}function V(ce,Ne,Z){return j(ce,n,Ne,Z)}function L(ce,Ne,Z){return j(ce,r,Ne,Z)}function B(ce){return o[ce.getDay()]}function G(ce){return i[ce.getDay()]}function U(ce){return c[ce.getMonth()]}function F(ce){return l[ce.getMonth()]}function Y(ce){return s[+(ce.getHours()>=12)]}function ee(ce){return 1+~~(ce.getMonth()/3)}function z(ce){return o[ce.getUTCDay()]}function ae(ce){return i[ce.getUTCDay()]}function W(ce){return c[ce.getUTCMonth()]}function he(ce){return l[ce.getUTCMonth()]}function _e(ce){return s[+(ce.getUTCHours()>=12)]}function Ie(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ne=A(ce+="",N);return Ne.toString=function(){return ce},Ne},parse:function(ce){var Ne=S(ce+="",!1);return Ne.toString=function(){return ce},Ne},utcFormat:function(ce){var Ne=A(ce+="",C);return Ne.toString=function(){return ce},Ne},utcParse:function(ce){var Ne=S(ce+="",!0);return Ne.toString=function(){return ce},Ne}}}var rC={"-":"",_:" ",0:"0"},an=/^\s*\d+/,nle=/^%/,rle=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function sle(t){return t.replace(rle,"\\$&")}function Mu(t){return new RegExp("^(?:"+t.map(sle).join("|")+")","i")}function Ou(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ile(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ale(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ole(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lle(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cle(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sC(t,e,n){var r=an.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iC(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ule(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dle(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fle(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aC(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hle(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oC(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ple(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mle(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gle(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xle(t,e,n){var r=an.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yle(t,e,n){var r=nle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vle(t,e,n){var r=an.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ble(t,e,n){var r=an.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lC(t,e){return Ze(t.getDate(),e,2)}function wle(t,e){return Ze(t.getHours(),e,2)}function _le(t,e){return Ze(t.getHours()%12||12,e,2)}function Nle(t,e){return Ze(1+hh.count(hi(t),t),e,3)}function CL(t,e){return Ze(t.getMilliseconds(),e,3)}function Sle(t,e){return CL(t,e)+"000"}function Ele(t,e){return Ze(t.getMonth()+1,e,2)}function Tle(t,e){return Ze(t.getMinutes(),e,2)}function Ale(t,e){return Ze(t.getSeconds(),e,2)}function kle(t){var e=t.getDay();return e===0?7:e}function Cle(t,e){return Ze(ux.count(hi(t)-1,t),e,2)}function jL(t){var e=t.getDay();return e>=4||e===0?pc(t):pc.ceil(t)}function jle(t,e){return t=jL(t),Ze(pc.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function Ile(t){return t.getDay()}function Ple(t,e){return Ze(xg.count(hi(t)-1,t),e,2)}function Rle(t,e){return Ze(t.getFullYear()%100,e,2)}function Mle(t,e){return t=jL(t),Ze(t.getFullYear()%100,e,2)}function Ole(t,e){return Ze(t.getFullYear()%1e4,e,4)}function Dle(t,e){var n=t.getDay();return t=n>=4||n===0?pc(t):pc.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function Lle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function cC(t,e){return Ze(t.getUTCDate(),e,2)}function $le(t,e){return Ze(t.getUTCHours(),e,2)}function Ule(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function Fle(t,e){return Ze(1+cx.count(pi(t),t),e,3)}function IL(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function Vle(t,e){return IL(t,e)+"000"}function Ble(t,e){return Ze(t.getUTCMonth()+1,e,2)}function qle(t,e){return Ze(t.getUTCMinutes(),e,2)}function zle(t,e){return Ze(t.getUTCSeconds(),e,2)}function Gle(t){var e=t.getUTCDay();return e===0?7:e}function Hle(t,e){return Ze(dx.count(pi(t)-1,t),e,2)}function PL(t){var e=t.getUTCDay();return e>=4||e===0?mc(t):mc.ceil(t)}function Wle(t,e){return t=PL(t),Ze(mc.count(pi(t),t)+(pi(t).getUTCDay()===4),e,2)}function Kle(t){return t.getUTCDay()}function Yle(t,e){return Ze(yg.count(pi(t)-1,t),e,2)}function Jle(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function Xle(t,e){return t=PL(t),Ze(t.getUTCFullYear()%100,e,2)}function Qle(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function Zle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?mc(t):mc.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function ece(){return"+0000"}function uC(){return"%"}function dC(t){return+t}function fC(t){return Math.floor(+t/1e3)}var Wo,RL,ML;tce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tce(t){return Wo=tle(t),RL=Wo.format,Wo.parse,ML=Wo.utcFormat,Wo.utcParse,Wo}function nce(t){return new Date(t)}function rce(t){return t instanceof Date?+t:+new Date(+t)}function mS(t,e,n,r,s,i,o,l,c,u){var d=tS(),f=d.invert,h=d.domain,x=u(".%L"),b=u(":%S"),w=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),_=u("%b %d"),N=u("%B"),C=u("%Y");function T(A){return(c(A)<A?x:l(A)<A?b:o(A)<A?w:i(A)<A?v:r(A)<A?s(A)<A?y:_:n(A)<A?N:C)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,rce)):h().map(nce)},d.ticks=function(A){var S=h();return t(S[0],S[S.length-1],A??10)},d.tickFormat=function(A,S){return S==null?T:u(S)},d.nice=function(A){var S=h();return(!A||typeof A.range!="function")&&(A=e(S[0],S[S.length-1],A??10)),A?h(bL(S,A)):d},d.copy=function(){return fh(d,mS(t,e,n,r,s,i,o,l,c,u))},d}function sce(){return Fr.apply(mS(Zoe,ele,hi,hS,ux,hh,dS,cS,Ja,RL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ice(){return Fr.apply(mS(Xoe,Qoe,pi,pS,dx,cx,fS,uS,Ja,ML).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fx(){var t=0,e=1,n,r,s,i,o=Un,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,b;return arguments.length?([x,b]=h,o=f(x,b),u):[o(0),o(1)]}}return u.range=d(eu),u.rangeRound=d(eS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function Sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OL(){var t=Na(fx()(Un));return t.copy=function(){return Sa(t,OL())},bi.apply(t,arguments)}function DL(){var t=sS(fx()).domain([1,10]);return t.copy=function(){return Sa(t,DL()).base(t.base())},bi.apply(t,arguments)}function LL(){var t=iS(fx());return t.copy=function(){return Sa(t,LL()).constant(t.constant())},bi.apply(t,arguments)}function gS(){var t=aS(fx());return t.copy=function(){return Sa(t,gS()).exponent(t.exponent())},bi.apply(t,arguments)}function ace(){return gS.apply(null,arguments).exponent(.5)}function $L(){var t=[],e=Un;function n(r){if(r!=null&&!isNaN(r=+r))return e((uh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(aa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>Hae(t,i/r))},n.copy=function(){return $L(e).domain(t)},bi.apply(n,arguments)}function hx(){var t=0,e=.5,n=1,r=1,s,i,o,l,c,u=Un,d,f=!1,h;function x(w){return isNaN(w=+w)?h:(w=.5+((w=+d(w))-i)*(r*w<r*i?l:c),u(f?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,s=d(t=+t),i=d(e=+e),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(f=!!w,x):f},x.interpolator=function(w){return arguments.length?(u=w,x):u};function b(w){return function(v){var y,_,N;return arguments.length?([y,_,N]=v,u=yoe(w,[y,_,N]),x):[u(0),u(.5),u(1)]}}return x.range=b(eu),x.rangeRound=b(eS),x.unknown=function(w){return arguments.length?(h=w,x):h},function(w){return d=w,s=w(t),i=w(e),o=w(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x}}function UL(){var t=Na(hx()(Un));return t.copy=function(){return Sa(t,UL())},bi.apply(t,arguments)}function FL(){var t=sS(hx()).domain([.1,1,10]);return t.copy=function(){return Sa(t,FL()).base(t.base())},bi.apply(t,arguments)}function VL(){var t=iS(hx());return t.copy=function(){return Sa(t,VL()).constant(t.constant())},bi.apply(t,arguments)}function xS(){var t=aS(hx());return t.copy=function(){return Sa(t,xS()).exponent(t.exponent())},bi.apply(t,arguments)}function oce(){return xS.apply(null,arguments).exponent(.5)}const hC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ff,scaleDiverging:UL,scaleDivergingLog:FL,scaleDivergingPow:xS,scaleDivergingSqrt:oce,scaleDivergingSymlog:VL,scaleIdentity:vL,scaleImplicit:pw,scaleLinear:mg,scaleLog:wL,scaleOrdinal:XN,scalePoint:vd,scalePow:oS,scaleQuantile:SL,scaleQuantize:EL,scaleRadial:NL,scaleSequential:OL,scaleSequentialLog:DL,scaleSequentialPow:gS,scaleSequentialQuantile:$L,scaleSequentialSqrt:ace,scaleSequentialSymlog:LL,scaleSqrt:Voe,scaleSymlog:_L,scaleThreshold:TL,scaleTime:sce,scaleUtc:ice,tickFormat:yL},Symbol.toStringTag,{value:"Module"}));var lce=zc;function cce(t,e,n){for(var r=-1,s=t.length;++r<s;){var i=t[r],o=e(i);if(o!=null&&(l===void 0?o===o&&!lce(o):n(o,l)))var l=o,c=i}return c}var px=cce;function uce(t,e){return t>e}var BL=uce,dce=px,fce=BL,hce=Zc;function pce(t){return t&&t.length?dce(t,hce,fce):void 0}var mce=pce;const zi=ot(mce);function gce(t,e){return t<e}var qL=gce,xce=px,yce=qL,vce=Zc;function bce(t){return t&&t.length?xce(t,vce,yce):void 0}var wce=bce;const mx=ot(wce);var _ce=IN,Nce=Rs,Sce=QD,Ece=rr;function Tce(t,e){var n=Ece(t)?_ce:Sce;return n(t,Nce(e))}var Ace=Tce,kce=JD,Cce=Ace;function jce(t,e){return kce(Cce(t,e),1)}var Ice=jce;const Pce=ot(Ice);var Rce=HN;function Mce(t,e){return Rce(t,e)}var Oce=Mce;const gc=ot(Oce);var tu=1e9,Dce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,Tt=!0,Lr="[DecimalError] ",oo=Lr+"Invalid argument: ",yS=Lr+"Exponent out of range: ",nu=Math.floor,Fa=Math.pow,Lce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,en=1e7,_t=7,zL=9007199254740991,vg=nu(zL/_t),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Zs(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return ht(Zs(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return Bt(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(lr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Tt=!1,e=Zs(xf(n,i),xf(t,i),i),Tt=!0,ht(e,s))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WL(e,t):GL(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Lr+"NaN");return n.s?(Tt=!1,e=Zs(n,t,0,1).times(t),Tt=!0,n.minus(e)):ht(new r(n),s)};we.naturalExponential=we.exp=function(){return HL(this)};we.naturalLogarithm=we.ln=function(){return xf(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GL(e,t):WL(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oo+t);if(e=Bt(s)+1,r=s.d.length-1,n=r*_t+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Lr+"NaN")}for(t=Bt(l),Tt=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=ps(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=nu((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(Zs(l,i,o+2)).times(.5),ps(i.d).slice(0,o)===(e=ps(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(ht(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return Tt=!0,ht(r,n)};we.times=we.mul=function(t){var e,n,r,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(i=h,h=x,x=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+x[r]*h[s-r-1]+e,i[s--]=l%en|0,e=l/en|0;i[s]=(i[s]+e)%en|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Tt?ht(t,f.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ks(t,0,tu),e===void 0?e=r.rounding:ks(e,0,8),ht(n,t+Bt(n)+1,e))};we.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=So(r,!0):(ks(t,0,tu),e===void 0?e=s.rounding:ks(e,0,8),r=ht(new s(r),t+1,e),n=So(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?So(s):(ks(t,0,tu),e===void 0?e=i.rounding:ks(e,0,8),r=ht(new i(s),t+Bt(s)+1,e),n=So(r.abs(),!1,t+Bt(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return ht(new e(t),Bt(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(lr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Lr+"Infinity");return l}if(l.eq(lr))return l;if(r=c.precision,t.eq(lr))return ht(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=d<0?-d:d)<=zL){for(s=new c(lr),e=Math.ceil(r/_t+4),Tt=!1;n%2&&(s=s.times(l),mC(s.d,e)),n=nu(n/2),n!==0;)l=l.times(l),mC(l.d,e);return Tt=!0,t.s<0?new c(lr).div(s):ht(s,r)}}else if(i<0)throw Error(Lr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Tt=!1,s=t.times(xf(l,r+u)),Tt=!0,s=HL(s),s.s=i,s};we.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Bt(s),r=So(s,n<=i.toExpNeg||n>=i.toExpPos)):(ks(t,1,tu),e===void 0?e=i.rounding:ks(e,0,8),s=ht(new i(s),t,e),n=Bt(s),r=So(s,t<=n||n<=i.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ks(t,1,tu),e===void 0?e=r.rounding:ks(e,0,8)),ht(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bt(t),n=t.constructor;return So(t,e<=n.toExpNeg||e>=n.toExpPos)};function GL(t,e){var n,r,s,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Tt?ht(e,f):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/_t),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/en|0,c[i]%=en;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Tt?ht(e,f):e}function ks(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oo+t)}function ps(t){var e,n,r,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)r=t[e]+"",n=_t-r.length,n&&(i+=Pi(n)),i+=r;o=t[e],r=o+"",n=_t-r.length,n&&(i+=Pi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Zs=function(){function t(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%en|0,o=i/en|0;return o&&r.unshift(o),r}function e(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*en+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,f,h,x,b,w,v,y,_,N,C,T,A,S,j,E=r.constructor,R=r.s==s.s?1:-1,I=r.d,O=s.d;if(!r.s)return new E(r);if(!s.s)throw Error(Lr+"Division by zero");for(c=r.e-s.e,S=O.length,T=I.length,x=new E(R),b=x.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?_=i=E.precision:o?_=i+(Bt(r)-Bt(s))+1:_=i,_<0)return new E(0);if(_=_/_t+2|0,u=0,S==1)for(d=0,O=O[0],_++;(u<T||d)&&_--;u++)N=d*en+(I[u]||0),b[u]=N/O|0,d=N%O|0;else{for(d=en/(O[0]+1)|0,d>1&&(O=t(O,d),I=t(I,d),S=O.length,T=I.length),C=S,w=I.slice(0,S),v=w.length;v<S;)w[v++]=0;j=O.slice(),j.unshift(0),A=O[0],O[1]>=en/2&&++A;do d=0,l=e(O,w,S,v),l<0?(y=w[0],S!=v&&(y=y*en+(w[1]||0)),d=y/A|0,d>1?(d>=en&&(d=en-1),f=t(O,d),h=f.length,v=w.length,l=e(f,w,h,v),l==1&&(d--,n(f,S<h?j:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(w,f,v),l==-1&&(v=w.length,l=e(O,w,S,v),l<1&&(d++,n(w,S<v?j:O,v))),v=w.length):l===0&&(d++,w=[0]),b[u++]=d,l&&w[0]?w[v++]=I[C]||0:(w=[I[C]],v=1);while((C++<T||w[0]!==void 0)&&_--)}return b[0]||b.shift(),x.e=c,ht(x,o?i+Bt(x)+1:i)}}();function HL(t,e){var n,r,s,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Bt(t)>16)throw Error(yS+Bt(t));if(!t.s)return new d(lr);for(Tt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Fa(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(lr),d.precision=l;;){if(s=ht(s.times(t),l),n=n.times(++c),o=i.plus(Zs(s,n,l)),ps(o.d).slice(0,l)===ps(i.d).slice(0,l)){for(;u--;)i=ht(i.times(i),l);return d.precision=f,e==null?(Tt=!0,ht(i,f)):i}i=o}}function Bt(t){for(var e=t.e*_t,n=t.d[0];n>=10;n/=10)e++;return e}function rv(t,e,n){if(e>t.LN10.sd())throw Tt=!0,n&&(t.precision=n),Error(Lr+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function Pi(t){for(var e="";t--;)e+="0";return e}function xf(t,e){var n,r,s,i,o,l,c,u,d,f=1,h=10,x=t,b=x.d,w=x.constructor,v=w.precision;if(x.s<1)throw Error(Lr+(x.s?"NaN":"-Infinity"));if(x.eq(lr))return new w(0);if(e==null?(Tt=!1,u=v):u=e,x.eq(10))return e==null&&(Tt=!0),rv(w,u);if(u+=h,w.precision=u,n=ps(b),r=n.charAt(0),i=Bt(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=ps(x.d),r=n.charAt(0),f++;i=Bt(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return c=rv(w,u+2,v).times(i+""),x=xf(new w(r+"."+n.slice(1)),u-h).plus(c),w.precision=v,e==null?(Tt=!0,ht(x,v)):x;for(l=o=x=Zs(x.minus(lr),x.plus(lr),u),d=ht(x.times(x),u),s=3;;){if(o=ht(o.times(d),u),c=l.plus(Zs(o,new w(s),u)),ps(c.d).slice(0,u)===ps(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(rv(w,u+2,v).times(i+""))),l=Zs(l,new w(f),u),w.precision=v,e==null?(Tt=!0,ht(l,v)):l;l=c,s+=2}}function pC(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=nu(n/_t),t.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=_t;r<s;)t.d.push(+e.slice(r,r+=_t));e=e.slice(r),r=_t-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),Tt&&(t.e>vg||t.e<-vg))throw Error(yS+n)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,n){var r,s,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=_t,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/_t),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=_t,s=r-_t+o}if(n!==void 0&&(i=Fa(10,o-s-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Fa(10,o-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(i=Bt(t),f.length=1,e=e-i-1,f[0]=Fa(10,(_t-e%_t)%_t),t.e=nu(-e/_t)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Fa(10,_t-r),f[d]=s>0?(u/Fa(10,o-s)%Fa(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==en&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=en)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Tt&&(t.e>vg||t.e<-vg))throw Error(yS+Bt(t));return t}function WL(t,e){var n,r,s,i,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tt?ht(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(x/_t),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=en-1;--c[i],c[s]+=en}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Tt?ht(e,x):e):new h(0)}function So(t,e,n){var r,s=Bt(t),i=ps(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Pi(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Pi(-s-1)+i,n&&(r=n-o)>0&&(i+=Pi(r))):s>=o?(i+=Pi(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Pi(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Pi(r))),t.s<0?"-"+i:i}function mC(t,e){if(t.length>e)return t.length=e,!0}function KL(t){var e,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(oo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return pC(o,i.toString())}else if(typeof i!="string")throw Error(oo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Lce.test(i))pC(o,i);else throw Error(oo+i)}if(s.prototype=we,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=KL,s.config=s.set=$ce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function $ce(t){if(!t||typeof t!="object")throw Error(Lr+"Object expected");var e,n,r,s=["precision",1,tu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(nu(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(oo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oo+n+": "+r);return this}var vS=KL(Dce);lr=new vS(1);const ut=vS;function Uce(t){return qce(t)||Bce(t)||Vce(t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function Bce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qce(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zce=function(e){return e},YL={},JL=function(e){return e===YL},gC=function(e){return function n(){return arguments.length===0||arguments.length===1&&JL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Gce=function t(e,n){return e===1?n:gC(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==YL}).length;return o>=e?n.apply(void 0,s):t(e-o,gC(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return JL(f)?c.shift():f});return n.apply(void 0,Uce(d).concat(c))}))})},gx=function(e){return Gce(e.length,e)},vw=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},Hce=gx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Wce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zce;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},bw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XL=function(e){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function Kce(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function Yce(t,e,n){for(var r=new ut(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var Jce=gx(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),Xce=gx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Qce=gx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xx={rangeStep:Yce,getDigitCount:Kce,interpolateNumber:Jce,uninterpolateNumber:Xce,uninterpolateTruncation:Qce};function ww(t){return tue(t)||eue(t)||QL(t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tue(t){if(Array.isArray(t))return _w(t)}function yf(t,e){return sue(t)||rue(t,e)||QL(t,e)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QL(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function sue(t){if(Array.isArray(t))return t}function ZL(t){var e=yf(t,2),n=e[0],r=e[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function e6(t,e,n){if(t.lte(0))return new ut(0);var r=xx.getDigitCount(t.toNumber()),s=new ut(10).pow(r),i=t.div(s),o=r!==1?.05:.1,l=new ut(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new ut(Math.ceil(c))}function iue(t,e,n){var r=1,s=new ut(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new ut(10).pow(xx.getDigitCount(t)-1),s=new ut(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new ut(Math.floor(t)))}else t===0?s=new ut(Math.floor((e-1)/2)):n||(s=new ut(Math.floor(t)));var o=Math.floor((e-1)/2),l=Wce(Hce(function(c){return s.add(new ut(c-o).mul(r)).toNumber()}),vw);return l(0,e)}function t6(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var i=e6(new ut(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new ut(0):(o=new ut(t).add(e).div(2),o=o.sub(new ut(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new ut(e).sub(o).div(i).toNumber()),u=l+c+1;return u>n?t6(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:i,tickMin:o.sub(new ut(l).mul(i)),tickMax:o.add(new ut(c).mul(i))})}function aue(t){var e=yf(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=ZL([n,r]),c=yf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ww(vw(0,s-1).map(function(){return 1/0}))):[].concat(ww(vw(0,s-1).map(function(){return-1/0})),[d]);return n>r?bw(f):f}if(u===d)return iue(u,s,i);var h=t6(u,d,o,i),x=h.step,b=h.tickMin,w=h.tickMax,v=xx.rangeStep(b,w.add(new ut(.1).mul(x)),x);return n>r?bw(v):v}function oue(t,e){var n=yf(t,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ZL([r,s]),l=yf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),f=e6(new ut(u).sub(c).div(d-1),i,0),h=[].concat(ww(xx.rangeStep(new ut(c),new ut(u).sub(new ut(.99).mul(f)),f)),[u]);return r>s?bw(h):h}var lue=XL(aue),cue=XL(oue),uue="Invariant failed";function Eo(t,e){throw new Error(uue)}var due=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function fue(t,e){return gue(t)||mue(t,e)||pue(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(t,e){if(t){if(typeof t=="string")return xC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(t,e)}}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gue(t){if(Array.isArray(t))return t}function xue(t,e){if(t==null)return{};var n=yue(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s6(r.key),r)}}function wue(t,e,n){return e&&bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,n){return e=wg(e),Nue(t,n6()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function Nue(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sue(t)}function Sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n6=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Nw(t,e)}function r6(t,e,n){return e=s6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=Tue(t,"string");return xc(e)=="symbol"?e:e+""}function Tue(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yx=function(t){function e(){return vue(this,e),_ue(this,e,arguments)}return Eue(e,t),wue(e,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=xue(r,due),x=Te(h,!1);this.props.direction==="x"&&d.type!=="number"&&Eo();var b=c.map(function(w){var v=u(w,l),y=v.x,_=v.y,N=v.value,C=v.errorVal;if(!C)return null;var T=[],A,S;if(Array.isArray(C)){var j=fue(C,2);A=j[0],S=j[1]}else A=S=C;if(i==="vertical"){var E=d.scale,R=_+s,I=R+o,O=R-o,P=E(N-A),H=E(N+S);T.push({x1:H,y1:I,x2:H,y2:O}),T.push({x1:P,y1:R,x2:H,y2:R}),T.push({x1:P,y1:I,x2:P,y2:O})}else if(i==="horizontal"){var V=f.scale,L=y+s,B=L-o,G=L+o,U=V(N-A),F=V(N+S);T.push({x1:B,y1:F,x2:G,y2:F}),T.push({x1:L,y1:U,x2:L,y2:F}),T.push({x1:B,y1:U,x2:G,y2:U})}return q.createElement(Ke,bg({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},x),T.map(function(Y){return q.createElement("line",bg({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return q.createElement(Ke,{className:"recharts-errorBars"},b)}}])}(q.Component);r6(yx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});r6(yx,"displayName","ErrorBar");function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){Aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Cue(t,"string");return vf(e)=="symbol"?e:e+""}function Cue(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i6=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=or(n,io);if(!o)return null;var l=io.defaultProps,c=l!==void 0?Pa(Pa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,b=x.sectors||x.data||[];return d.concat(b.map(function(w){return{type:o.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?Pa(Pa({},h),f.props):{},b=x.dataKey,w=x.name,v=x.legendType,y=x.hide;return{inactive:y,dataKey:b,type:c.iconType||v||"square",color:bS(f),value:w||b,payload:x}}),Pa(Pa(Pa({},c),io.getWithHeight(o,s)),{},{payload:u,item:o})};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function vC(t){return Rue(t)||Pue(t)||Iue(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iue(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function Pue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rue(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e,n){return e=Mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mue(t){var e=Oue(t,"string");return bf(e)=="symbol"?e:e+""}function Oue(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wt(t,e,n){return Ue(t)||Ue(e)?n:Yt(e)?fr(t,e,n):je(e)?e(t):n}function bd(t,e,n,r){var s=Pce(t,function(l){return Wt(l,e)});if(n==="number"){var i=s.filter(function(l){return de(l)||parseFloat(l)});return i.length?[mx(i),zi(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Ue(l)}):s;return o.map(function(l){return Yt(l)||l instanceof Date?l:""})}var Due=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,x=void 0;if(Ln(f-d)!==Ln(h-f)){var b=[];if(Ln(h-f)===Ln(c[1]-c[0])){x=h;var w=f+c[1]-c[0];b[0]=Math.min(w,(w+d)/2),b[1]=Math.max(w,(w+d)/2)}else{x=d;var v=h+c[1]-c[0];b[0]=Math.min(f,(v+f)/2),b[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>y[0]&&e<=y[1]||e>=b[0]&&e<=b[1]){o=s[u].index;break}}else{var _=Math.min(d,h),N=Math.max(d,h);if(e>(_+f)/2&&e<=(N+f)/2){o=s[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},bS=function(e){var n,r=e,s=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Lue=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var b=d[f[h]],w=b.items,v=b.cateAxisId,y=w.filter(function(S){return Qs(S.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,N=_!==void 0?Rt(Rt({},_),y[0].props):y[0].props,C=N.barSize,T=N[v];o[T]||(o[T]=[]);var A=Ue(C)?n:C;o[T].push({item:y[0],stackList:y.slice(1),barSize:Ue(A)?void 0:$n(A,r,0)})}}return o},$ue=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=$n(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=s/c,b=o.reduce(function(C,T){return C+T.barSize||0},0);b+=(c-1)*u,b>=s&&(b-=(c-1)*u,u=0),b>=s&&x>0&&(h=!0,x*=.9,b=c*x);var w=(s-b)/2>>0,v={offset:w-u,size:0};d=o.reduce(function(C,T){var A={item:T.item,position:{offset:v.offset+v.size+u,size:h?x:T.barSize}},S=[].concat(vC(C),[A]);return v=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(j){S.push({item:j,position:v})}),S},f)}else{var y=$n(r,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var _=(s-2*y-(c-1)*u)/c;_>1&&(_>>=0);var N=l===+l?Math.min(_,l):_;d=o.reduce(function(C,T,A){var S=[].concat(vC(C),[{item:T.item,position:{offset:y+(_+u)*A+(_-N)/2,size:N}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(j){S.push({item:j,position:S[S.length-1].position})}),S},f)}return d},Uue=function(e,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=i6({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,x=u.align,b=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&x!=="center"&&de(e[x]))return Rt(Rt({},e),{},Dl({},x,e[x]+(f||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&b!=="middle"&&de(e[b]))return Rt(Rt({},e),{},Dl({},b,e[b]+(h||0)))}return e},Fue=function(e,n,r){return Ue(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},a6=function(e,n,r,s,i){var o=n.props.children,l=Ir(o,yx).filter(function(u){return Fue(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Wt(d,r);if(Ue(f))return u;var h=Array.isArray(f)?[mx(f),zi(f)]:[f,f],x=c.reduce(function(b,w){var v=Wt(d,w,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},Vue=function(e,n,r,s,i){var o=n.map(function(l){return a6(e,l,r,i,s)}).filter(function(l){return!Ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},o6=function(e,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&a6(e,c,u,s)||bd(e,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},l6=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},c6=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},Ks=function(e,n,r){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ln(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Yc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},sv=new WeakMap,up=function(e,n){if(typeof n!="function")return e;sv.has(e)||sv.set(e,new WeakMap);var r=sv.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},u6=function(e,n,r){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ff(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mg(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vd(),realScaleType:"point"}:i==="category"?{scale:ff(),realScaleType:"band"}:{scale:mg(),realScaleType:"linear"};if(wo(s)){var c="scale".concat(ex(s));return{scale:(hC[c]||vd)(),realScaleType:hC[c]?c:"point"}}return je(s)?{scale:s}:{scale:vd(),realScaleType:"point"}},wC=1e-4,d6=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),i=Math.min(s[0],s[1])-wC,o=Math.max(s[0],s[1])+wC,l=e(n[0]),c=e(n[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},Bue=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},que=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(i[0]=r),(!de(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},zue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Yc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Gue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=Yc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Hue={sign:zue,expand:dX,none:lc,silhouette:fX,wiggle:hX,positive:Gue},Wue=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),i=Hue[r],o=uX().keys(s).value(function(l,c){return+Wt(l,c,0)}).order(Yb).offset(i);return o(e)},Kue=function(e,n,r,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,b=(x=h.type)!==null&&x!==void 0&&x.defaultProps?Rt(Rt({},h.type.defaultProps),h.props):h.props,w=b.stackId,v=b.hide;if(v)return f;var y=b[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Yt(w)){var N=_.stackGroups[w]||{numericAxisId:r,cateAxisId:s,items:[]};N.items.push(h),_.hasStack=!0,_.stackGroups[w]=N}else _.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Rt(Rt({},f),{},Dl({},y,_))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,v){var y=x.stackGroups[v];return Rt(Rt({},w),{},Dl({},v,{numericAxisId:r,cateAxisId:s,items:y.items,stackedData:Wue(e,y.items,i)}))},b)}return Rt(Rt({},f),{},Dl({},h,x))},d)},f6=function(e,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=lue(u,i,l);return e.domain([mx(d),zi(d)]),{niceTicks:d}}if(i&&s==="number"){var f=e.domain(),h=cue(f,i,l);return{niceTicks:h}}return null};function _C(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ue(s[e.dataKey])){var l=Wm(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Wt(s,Ue(o)?e.dataKey:o);return Ue(c)?null:e.scale(c)}var NC=function(e){var n=e.axis,r=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=Wt(o,n.dataKey,n.domain[l]);return Ue(c)?null:n.scale(c)-i/2+s},Yue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},Jue=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(Yt(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Xue=function(e){return e.reduce(function(n,r){return[mx(r.concat([n[0]]).filter(de)),zi(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},h6=function(e,n,r){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Xue(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},SC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ew=function(e,n,r){if(je(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(de(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(SC.test(e[0])){var i=+SC.exec(e[0])[1];s[0]=n[0]-i}else je(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(de(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(EC.test(e[1])){var o=+EC.exec(e[1])[1];s[1]=n[1]+o}else je(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},_g=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var i=KN(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},TC=function(e,n,r){return!e||!e.length||gc(e,fr(r,"type.defaultProps.domain"))?n:e},p6=function(e,n){var r=e.type.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Rt(Rt({},Te(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:bS(e),value:Wt(n,s),type:c,payload:n,chartType:u,hide:d})};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){m6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m6(t,e,n){return e=Que(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return wf(e)=="symbol"?e:e+""}function Zue(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ede(t,e){return sde(t)||rde(t,e)||nde(t,e)||tde()}function tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sde(t){if(Array.isArray(t))return t}var Ng=Math.PI/180,ide=function(e){return e*180/Math.PI},yt=function(e,n,r,s){return{x:e+Math.cos(-Ng*s)*r,y:n+Math.sin(-Ng*s)*r}},g6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ade=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=$n(e.cx,o,o/2),f=$n(e.cy,l,l/2),h=g6(o,l,r),x=$n(e.innerRadius,h,0),b=$n(e.outerRadius,h,h*.8),w=Object.keys(n);return w.reduce(function(v,y){var _=n[y],N=_.domain,C=_.reversed,T;if(Ue(_.range))s==="angleAxis"?T=[c,u]:s==="radiusAxis"&&(T=[x,b]),C&&(T=[T[1],T[0]]);else{T=_.range;var A=T,S=ede(A,2);c=S[0],u=S[1]}var j=u6(_,i),E=j.realScaleType,R=j.scale;R.domain(N).range(T),d6(R);var I=f6(R,$s($s({},_),{},{realScaleType:E})),O=$s($s($s({},_),I),{},{range:T,radius:b,realScaleType:E,scale:R,cx:d,cy:f,innerRadius:x,outerRadius:b,startAngle:c,endAngle:u});return $s($s({},v),{},m6({},y,O))},{})},ode=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},lde=function(e,n){var r=e.x,s=e.y,i=n.cx,o=n.cy,l=ode({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:ide(u),angleInRadian:u}},cde=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},ude=function(e,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},CC=function(e,n){var r=e.x,s=e.y,i=lde({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=cde(n),f=d.startAngle,h=d.endAngle,x=l,b;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;b=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;b=x>=h&&x<=f}return b?$s($s({},n),{},{radius:o,angle:ude(x,n)}):null},x6=function(e){return!D.isValidElement(e)&&!je(e)&&typeof e!="boolean"?e.className:""};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}var dde=["offset"];function fde(t){return gde(t)||mde(t)||pde(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gde(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xde(t,e){if(t==null)return{};var n=yde(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=wde(t,"string");return _f(e)=="symbol"?e:e+""}function wde(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}var _de=function(e){var n=e.value,r=e.formatter,s=Ue(e.children)?n:e.children;return je(r)?r(s):s},Nde=function(e,n){var r=Ln(n-e),s=Math.min(Math.abs(n-e),360);return r*s},Sde=function(e,n,r){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,b=c.endAngle,w=c.clockWise,v=(f+h)/2,y=Nde(x,b),_=y>=0?1:-1,N,C;s==="insideStart"?(N=x+_*o,C=w):s==="insideEnd"?(N=b-_*o,C=!w):s==="end"&&(N=b+_*o,C=w),C=y<=0?C:!C;var T=yt(u,d,v,N),A=yt(u,d,v,N+(C?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),j=Ue(e.id)?Jc("recharts-radial-line-"):e.id;return q.createElement("text",Nf({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:j,d:S})),q.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Ede=function(e){var n=e.viewBox,r=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var x=yt(o,l,u+r,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=yt(o,l,v,h),_=y.x,N=y.y;return{x:_,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Tde=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,x=f>0?"end":"start",b=f>0?"start":"end",w=u>=0?1:-1,v=w*s,y=w>0?"end":"start",_=w>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return Gt(Gt({},N),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return Gt(Gt({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var T={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Gt(Gt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return i==="insideLeft"?Gt({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},S):i==="insideRight"?Gt({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideTop"?Gt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},S):i==="insideBottom"?Gt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},S):i==="insideTopLeft"?Gt({x:l+v,y:c+h,textAnchor:_,verticalAnchor:b},S):i==="insideTopRight"?Gt({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:b},S):i==="insideBottomLeft"?Gt({x:l+v,y:c+d-h,textAnchor:_,verticalAnchor:x},S):i==="insideBottomRight"?Gt({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:x},S):Gc(i)&&(de(i.x)||Ka(i.x))&&(de(i.y)||Ka(i.y))?Gt({x:l+$n(i.x,u),y:c+$n(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):Gt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Ade=function(e){return"cx"in e&&de(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=xde(t,dde),s=Gt({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ue(l)&&Ue(c)&&!D.isValidElement(u)&&!je(u))return null;if(D.isValidElement(u))return D.cloneElement(u,s);var x;if(je(u)){if(x=D.createElement(u,s),D.isValidElement(x))return x}else x=_de(s);var b=Ade(i),w=Te(s,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Sde(s,x,w);var v=b?Ede(s):Tde(s);return q.createElement(No,Nf({className:Ve("recharts-label",f)},w,v,{breakAll:h}),x)}rn.displayName="Label";var y6=function(e){var n=e.cx,r=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,b=e.left,w=e.width,v=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(de(w)&&de(v)){if(de(f)&&de(h))return{x:f,y:h,width:w,height:v};if(de(x)&&de(b))return{x,y:b,width:w,height:v}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},kde=function(e,n){return e?e===!0?q.createElement(rn,{key:"label-implicit",viewBox:n}):Yt(e)?q.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===rn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):je(e)?q.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Gc(e)?q.createElement(rn,Nf({viewBox:n},e,{key:"label-implicit"})):null:null},Cde=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,i=y6(e),o=Ir(s,rn).map(function(c,u){return D.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=kde(e.label,n||i);return[l].concat(fde(o))};rn.parseViewBox=y6;rn.renderCallByParent=Cde;function jde(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ide=jde;const Pde=ot(Ide);function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}var Rde=["valueAccessor"],Mde=["data","dataKey","clockWise","id","textBreakAll"];function Ode(t){return Ude(t)||$de(t)||Lde(t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function $de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ude(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){Fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e,n){return e=Vde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vde(t){var e=Bde(t,"string");return Sf(e)=="symbol"?e:e+""}function Bde(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RC(t,e){if(t==null)return{};var n=qde(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zde=function(e){return Array.isArray(e.value)?Pde(e.value):e.value};function ei(t){var e=t.valueAccessor,n=e===void 0?zde:e,r=RC(t,Rde),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=RC(r,Mde);return!s||!s.length?null:q.createElement(Ke,{className:"recharts-label-list"},s.map(function(d,f){var h=Ue(i)?n(d,f):Wt(d&&d.payload,i),x=Ue(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(rn,Sg({},Te(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:rn.parseViewBox(Ue(o)?d:PC(PC({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ei.displayName="LabelList";function Gde(t,e){return t?t===!0?q.createElement(ei,{key:"labelList-implicit",data:e}):q.isValidElement(t)||je(t)?q.createElement(ei,{key:"labelList-implicit",data:e,content:t}):Gc(t)?q.createElement(ei,Sg({data:e},t,{key:"labelList-implicit"})):null:null}function Hde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=Ir(r,ei).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=Gde(t.label,e);return[i].concat(Ode(s))}ei.renderCallByParent=Hde;function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Yde(t,"string");return Ef(e)=="symbol"?e:e+""}function Yde(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jde=function(e,n){var r=Ln(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},dp=function(e){var n=e.cx,r=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ng,h=u?i:i+o*f,x=yt(n,r,d,h),b=yt(n,r,s,h),w=u?i-o*f:i,v=yt(n,r,d*Math.cos(f*Ng),w);return{center:x,circleTangency:b,lineTangency:v,theta:f}},v6=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Jde(o,l),u=o+c,d=yt(n,r,i,o),f=yt(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=yt(n,r,s,o),b=yt(n,r,s,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Xde=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ln(d-u),h=dp({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,b=h.lineTangency,w=h.theta,v=dp({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,_=v.lineTangency,N=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-w-N;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):v6({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var A=dp({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=A.circleTangency,j=A.lineTangency,E=A.theta,R=dp({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=R.circleTangency,O=R.lineTangency,P=R.theta,H=c?Math.abs(u-d):Math.abs(u-d)-E-P;if(H<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Qde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b6=function(e){var n=OC(OC({},Qde),e),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var x=Ve("recharts-sector",h),b=o-i,w=$n(l,b,0,!0),v;return w>0&&Math.abs(d-f)<360?v=Xde({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=v6({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",kw({},Te(n,!0),{className:x,d:v,role:"img"}))};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){Zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e,n){return e=efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return Tf(e)=="symbol"?e:e+""}function tfe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $C={curveBasisClosed:ZJ,curveBasisOpen:eX,curveBasis:QJ,curveBumpX:$J,curveBumpY:UJ,curveLinearClosed:tX,curveLinear:nx,curveMonotoneX:nX,curveMonotoneY:rX,curveNatural:sX,curveStep:iX,curveStepAfter:oX,curveStepBefore:aX},fp=function(e){return e.x===+e.x&&e.y===+e.y},Du=function(e){return e.x},Lu=function(e){return e.y},nfe=function(e,n){if(je(e))return e;var r="curve".concat(ex(e));return(r==="curveMonotone"||r==="curveBump")&&n?$C["".concat(r).concat(n==="vertical"?"Y":"X")]:$C[r]||nx},rfe=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=nfe(r,l),f=u?i.filter(function(w){return fp(w)}):i,h;if(Array.isArray(o)){var x=u?o.filter(function(w){return fp(w)}):o,b=f.map(function(w,v){return LC(LC({},w),{},{base:x[v]})});return l==="vertical"?h=np().y(Lu).x1(Du).x0(function(w){return w.base.x}):h=np().x(Du).y1(Lu).y0(function(w){return w.base.y}),h.defined(fp).curve(d),h(b)}return l==="vertical"&&de(o)?h=np().y(Lu).x1(Du).x0(o):de(o)?h=np().x(Du).y1(Lu).y0(o):h=mD().x(Du).y(Lu),h.defined(fp).curve(d),h(f)},Ll=function(e){var n=e.className,r=e.points,s=e.path,i=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?rfe(e):s;return D.createElement("path",Cw({},Te(e,!1),Km(e),{className:Ve("recharts-curve",n),d:o,ref:i}))},w6={exports:{}},sfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ife=sfe,afe=ife;function _6(){}function N6(){}N6.resetWarningCache=_6;var ofe=function(){function t(r,s,i,o,l,c){if(c!==afe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:N6,resetWarningCache:_6};return n.PropTypes=n,n};w6.exports=ofe();var lfe=w6.exports;const rt=ot(lfe),{getOwnPropertyNames:cfe,getOwnPropertySymbols:ufe}=Object,{hasOwnProperty:dfe}=Object.prototype;function iv(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function hp(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function ffe(t){return t!=null?t[Symbol.toStringTag]:void 0}function UC(t){return cfe(t).concat(ufe(t))}const hfe=Object.hasOwn||((t,e)=>dfe.call(t,e));function Lo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const pfe="__v",mfe="__o",gfe="_owner",{getOwnPropertyDescriptor:FC,keys:VC}=Object;function xfe(t,e){return t.byteLength===e.byteLength&&Eg(new Uint8Array(t),new Uint8Array(e))}function yfe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vfe(t,e){return t.byteLength===e.byteLength&&Eg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function bfe(t,e){return Lo(t.getTime(),e.getTime())}function wfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _fe(t,e){return t===e}function BC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Nfe=Lo;function Sfe(t,e,n){const r=VC(t);let s=r.length;if(VC(e).length!==s)return!1;for(;s-- >0;)if(!S6(t,e,n,r[s]))return!1;return!0}function $u(t,e,n){const r=UC(t);let s=r.length;if(UC(e).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=r[s],!S6(t,e,n,i)||(o=FC(t,i),l=FC(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Efe(t,e){return Lo(t.valueOf(),e.valueOf())}function Tfe(t,e){return t.source===e.source&&t.flags===e.flags}function qC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Eg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Afe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function S6(t,e,n,r){return(r===gfe||r===mfe||r===pfe)&&(t.$$typeof||e.$$typeof)?!0:hfe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const kfe="[object ArrayBuffer]",Cfe="[object Arguments]",jfe="[object Boolean]",Ife="[object DataView]",Pfe="[object Date]",Rfe="[object Error]",Mfe="[object Map]",Ofe="[object Number]",Dfe="[object Object]",Lfe="[object RegExp]",$fe="[object Set]",Ufe="[object String]",Ffe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Vfe="[object URL]",Bfe=Object.prototype.toString;function qfe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:b}){return function(v,y,_){if(v===y)return!0;if(v==null||y==null)return!1;const N=typeof v;if(N!==typeof y)return!1;if(N!=="object")return N==="number"?l(v,y,_):N==="function"?i(v,y,_):!1;const C=v.constructor;if(C!==y.constructor)return!1;if(C===Object)return c(v,y,_);if(Array.isArray(v))return e(v,y,_);if(C===Date)return r(v,y,_);if(C===RegExp)return d(v,y,_);if(C===Map)return o(v,y,_);if(C===Set)return f(v,y,_);const T=Bfe.call(v);if(T===Pfe)return r(v,y,_);if(T===Lfe)return d(v,y,_);if(T===Mfe)return o(v,y,_);if(T===$fe)return f(v,y,_);if(T===Dfe)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,_);if(T===Vfe)return x(v,y,_);if(T===Rfe)return s(v,y,_);if(T===Cfe)return c(v,y,_);if(Ffe[T])return h(v,y,_);if(T===kfe)return t(v,y,_);if(T===Ife)return n(v,y,_);if(T===jfe||T===Ofe||T===Ufe)return u(v,y,_);if(b){let A=b[T];if(!A){const S=ffe(v);S&&(A=b[S])}if(A)return A(v,y,_)}return!1}}function zfe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:xfe,areArraysEqual:n?$u:yfe,areDataViewsEqual:vfe,areDatesEqual:bfe,areErrorsEqual:wfe,areFunctionsEqual:_fe,areMapsEqual:n?iv(BC,$u):BC,areNumbersEqual:Nfe,areObjectsEqual:n?$u:Sfe,arePrimitiveWrappersEqual:Efe,areRegExpsEqual:Tfe,areSetsEqual:n?iv(qC,$u):qC,areTypedArraysEqual:n?iv(Eg,$u):Eg,areUrlsEqual:Afe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=hp(r.areArraysEqual),i=hp(r.areMapsEqual),o=hp(r.areObjectsEqual),l=hp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function Gfe(t){return function(e,n,r,s,i,o,l){return t(e,n,l)}}function Hfe({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const Wfe=Ea();Ea({strict:!0});Ea({circular:!0});Ea({circular:!0,strict:!0});Ea({createInternalComparator:()=>Lo});Ea({strict:!0,createInternalComparator:()=>Lo});Ea({circular:!0,createInternalComparator:()=>Lo});Ea({circular:!0,createInternalComparator:()=>Lo,strict:!0});function Ea(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=zfe(t),o=qfe(i),l=n?n(o):Gfe(o);return Hfe({circular:e,comparator:o,createState:r,equals:l,strict:s})}function Kfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):Kfe(s)};requestAnimationFrame(r)}function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function Yfe(t){return Zfe(t)||Qfe(t)||Xfe(t)||Jfe()}function Jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(t,e){if(t){if(typeof t=="string")return GC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zfe(t){if(Array.isArray(t))return t}function ehe(){var t={},e=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Yfe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){zC(s.bind(null,u),c);return}s(c),zC(s.bind(null,u));return}jw(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){E6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6(t,e,n){return e=the(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return Af(e)==="symbol"?e:String(e)}function nhe(t,e){if(Af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rhe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},she=function(e){return e},ihe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wd=function(e,n){return Object.keys(n).reduce(function(r,s){return WC(WC({},r),{},E6({},s,e(s,n[s])))},{})},KC=function(e,n,r){return e.map(function(s){return"".concat(ihe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function ahe(t,e){return che(t)||lhe(t,e)||T6(t,e)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function che(t){if(Array.isArray(t))return t}function uhe(t){return hhe(t)||fhe(t)||T6(t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function fhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hhe(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tg=1e-4,A6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},k6=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},YC=function(e,n){return function(r){var s=A6(e,n);return k6(s,r)}},phe=function(e,n){return function(r){var s=A6(e,n),i=[].concat(uhe(s.map(function(o,l){return o*l}).slice(1)),[0]);return k6(i,r)}},JC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ahe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=YC(s,o),h=YC(i,l),x=phe(s,o),b=function(y){return y>1?1:y<0?0:y},w=function(y){for(var _=y>1?1:y,N=_,C=0;C<8;++C){var T=f(N)-_,A=x(N);if(Math.abs(T-_)<Tg||A<Tg)return h(N);N=b(N-T/A)}return h(N)};return w.isStepper=!1,w},mhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,b=h*i,w=h+(x-b)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Tg&&Math.abs(w)<Tg?[f,0]:[v,w]};return c.isStepper=!0,c.dt=l,c},ghe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JC(s);case"spring":return mhe();default:if(s.split("(")[0]==="cubic-bezier")return JC(s)}return typeof s=="function"?s:null};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function XC(t){return vhe(t)||yhe(t)||C6(t)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vhe(t){if(Array.isArray(t))return Rw(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pw(t,e,n){return e=bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=whe(t,"string");return kf(e)==="symbol"?e:String(e)}function whe(t,e){if(kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _he(t,e){return Ehe(t)||She(t,e)||C6(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function She(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ehe(t){if(Array.isArray(t))return t}var Ag=function(e,n,r){return e+(n-e)*r},Mw=function(e){var n=e.from,r=e.to;return n!==r},The=function t(e,n,r){var s=wd(function(i,o){if(Mw(o)){var l=e(o.from,o.to,o.velocity),c=_he(l,2),u=c[0],d=c[1];return cn(cn({},o),{},{from:u,velocity:d})}return o},n);return r<1?wd(function(i,o){return Mw(o)?cn(cn({},o),{},{velocity:Ag(o.velocity,s[i].velocity,r),from:Ag(o.from,s[i].from,r)}):o},n):t(e,s,r-1)};const Ahe=function(t,e,n,r,s){var i=rhe(t,e),o=i.reduce(function(v,y){return cn(cn({},v),{},Pw({},y,[t[y],e[y]]))},{}),l=i.reduce(function(v,y){return cn(cn({},v),{},Pw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wd(function(y,_){return _.from},l)},x=function(){return!Object.values(l).filter(Mw).length},b=function(y){u||(u=y);var _=y-u,N=_/n.dt;l=The(n,l,N),s(cn(cn(cn({},t),e),h())),u=y,x()||(c=requestAnimationFrame(f))},w=function(y){d||(d=y);var _=(y-d)/r,N=wd(function(T,A){return Ag.apply(void 0,XC(A).concat([n(_)]))},o);if(s(cn(cn(cn({},t),e),N)),_<1)c=requestAnimationFrame(f);else{var C=wd(function(T,A){return Ag.apply(void 0,XC(A).concat([n(1)]))},o);s(cn(cn(cn({},t),e),C))}};return f=n.isStepper?b:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var khe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Che(t,e){if(t==null)return{};var n=jhe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function av(t){return Mhe(t)||Rhe(t)||Phe(t)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Phe(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Rhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mhe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qu(t,e,n){return e=j6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j6(r.key),r)}}function Lhe(t,e,n){return e&&Dhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j6(t){var e=$he(t,"string");return yc(e)==="symbol"?e:String(e)}function $he(t,e){if(yc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dw(t,e)}function Fhe(t){var e=Vhe();return function(){var r=kg(t),s;if(e){var i=kg(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Lw(this,s)}}function Lw(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $w(t)}function $w(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}var Cs=function(t){Uhe(n,t);var e=Fhe(n);function n(r,s){var i;Ohe(this,n),i=e.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind($w(i)),i.changeStyle=i.changeStyle.bind($w(i)),!l||x<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Lw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Lw(i);i.state={style:c?Qu({},c,u):u}}else i.state={style:{}};return i}return Lhe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var x={style:c?Qu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(Wfe(s.to,d)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||u?f:s.to;if(this.state&&h){var v={style:c?Qu({},c,w):w};(c&&h[c]!==w||!c&&h!==w)&&this.setState(v)}this.runAnimation(Gr(Gr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,x=Ahe(o,l,ghe(u),c,this.changeStyle),b=function(){i.stopJSAnimation=x()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(w,v,y){if(y===0)return w;var _=v.duration,N=v.easing,C=N===void 0?"ease":N,T=v.style,A=v.properties,S=v.onAnimationEnd,j=y>0?o[y-1]:v,E=A||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(av(w),[i.runJSAnimation.bind(i,{from:j.style,to:T,duration:_,easing:C}),_]);var R=KC(E,_,C),I=Gr(Gr(Gr({},j.style),T),{},{transition:R});return[].concat(av(w),[I,_,S]).filter(she)};return this.manager.start([c].concat(av(o.reduce(x,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=ehe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,x=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var w=l?Qu({},l,c):c,v=KC(Object.keys(w),o,u);b.start([d,i,Gr(Gr({},w),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Che(s,khe),u=D.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(x){var b=x.props,w=b.style,v=w===void 0?{}:w,y=b.className,_=D.cloneElement(x,Gr(Gr({},c),{},{style:Gr(Gr({},v),d),className:y}));return _};return u===1?f(D.Children.only(i)):q.createElement("div",null,D.Children.map(i,function(h){return f(h)}))}}]),n}(D.PureComponent);Cs.displayName="Animate";Cs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cs.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function Bhe(t,e){return Hhe(t)||Ghe(t,e)||zhe(t,e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,e){if(t){if(typeof t=="string")return ej(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(t,e)}}function ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ghe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hhe(t){if(Array.isArray(t))return t}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Yhe(t,"string");return Cf(e)=="symbol"?e:e+""}function Yhe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rj=function(e,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=i[h]>o?o:i[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+s)),d+="L ".concat(e+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+s-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-c*b,",").concat(n+s,`
            L `).concat(e+c*b,",").concat(n+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*b," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},Jhe=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},Xhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wS=function(e){var n=nj(nj({},Xhe),e),r=D.useRef(),s=D.useState(-1),i=Bhe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,b=n.animationEasing,w=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=Ve("recharts-rectangle",x);return _?q.createElement(Cs,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:w,animationEasing:b,isActive:_},function(C){var T=C.width,A=C.height,S=C.x,j=C.y;return q.createElement(Cs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:y,easing:b},q.createElement("path",Cg({},Te(n,!0),{className:N,d:rj(S,j,T,A,h),ref:r})))}):q.createElement("path",Cg({},Te(n,!0),{className:N,d:rj(c,u,d,f,h)}))},Qhe=["points","className","baseLinePoints","connectNulls"];function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}function Zhe(t,e){if(t==null)return{};var n=epe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sj(t){return spe(t)||rpe(t)||npe(t)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(t,e){if(t){if(typeof t=="string")return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(t,e)}}function rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function spe(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ij=function(e){return e&&e.x===+e.x&&e.y===+e.y},ipe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){ij(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ij(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},_d=function(e,n){var r=ipe(e);n&&(r=[r.reduce(function(i,o){return[].concat(sj(i),sj(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},ape=function(e,n,r){var s=_d(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(_d(n.reverse(),r).slice(1))},ope=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,i=e.connectNulls,o=Zhe(e,Qhe);if(!n||!n.length)return null;var l=Ve("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=ape(n,s,i);return q.createElement("g",{className:l},q.createElement("path",gl({},Te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",gl({},Te(o,!0),{fill:"none",d:_d(n,i)})):null,c?q.createElement("path",gl({},Te(o,!0),{fill:"none",d:_d(s,i)})):null)}var d=_d(n,i);return q.createElement("path",gl({},Te(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}var vx=function(e){var n=e.cx,r=e.cy,s=e.r,i=e.className,o=Ve("recharts-dot",i);return n===+n&&r===+r&&s===+s?D.createElement("circle",Fw({},Te(e,!1),Km(e),{className:o,cx:n,cy:r,r:s})):null};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}var lpe=["x","y","top","left","width","height","className"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=fpe(t,"string");return jf(e)=="symbol"?e:e+""}function fpe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hpe(t,e){if(t==null)return{};var n=ppe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ppe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mpe=function(e,n,r,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},gpe=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,b=e.className,w=hpe(e,lpe),v=cpe({x:r,y:i,top:l,left:u,width:f,height:x},w);return!de(r)||!de(i)||!de(f)||!de(x)||!de(l)||!de(u)?null:q.createElement("path",Vw({},Te(v,!0),{className:Ve("recharts-cross",b),d:mpe(r,i,f,x,l,u)}))},xpe=px,ype=BL,vpe=Rs;function bpe(t,e){return t&&t.length?xpe(t,vpe(e),ype):void 0}var wpe=bpe;const _pe=ot(wpe);var Npe=px,Spe=Rs,Epe=qL;function Tpe(t,e){return t&&t.length?Npe(t,Spe(e),Epe):void 0}var Ape=Tpe;const kpe=ot(Ape);var Cpe=["cx","cy","angle","ticks","axisLine"],jpe=["ticks","tick","angle","tickFormatter","stroke"];function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e){if(t==null)return{};var n=Ipe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ipe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function Rpe(t,e,n){return e&&cj(t.prototype,e),n&&cj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mpe(t,e,n){return e=jg(e),Ope(t,I6()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function Ope(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(t)}function Dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bw(t,e)}function bx(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=$pe(t,"string");return vc(e)=="symbol"?e:e+""}function $pe(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wx=function(t){function e(){return Ppe(this,e),Mpe(this,e,arguments)}return Lpe(e,t),Rpe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return yt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=_pe(l,function(d){return d.coordinate||0}),u=kpe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=lj(r,Cpe),d=l.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),f=yt(s,i,d[0],o),h=yt(s,i,d[1],o),x=Ra(Ra(Ra({},Te(u,!1)),{},{fill:"none"},Te(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return q.createElement("line",Nd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=lj(s,jpe),f=this.getTickTextAnchor(),h=Te(d,!1),x=Te(o,!1),b=i.map(function(w,v){var y=r.getTickValueCoord(w),_=Ra(Ra(Ra(Ra({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:v},y),{},{payload:w});return q.createElement(Ke,Nd({className:Ve("recharts-polar-radius-axis-tick",x6(o)),key:"tick-".concat(w.coordinate)},_o(r.props,w,v)),e.renderTickItem(o,_,c?c(w.value,v):w.value))});return q.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:q.createElement(Ke,{className:Ve("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):je(r)?o=r(s):o=q.createElement(No,Nd({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(D.PureComponent);bx(wx,"displayName","PolarRadiusAxis");bx(wx,"axisType","radiusAxis");bx(wx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){_x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function Fpe(t,e,n){return e&&dj(t.prototype,e),n&&dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vpe(t,e,n){return e=Ig(e),Bpe(t,R6()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function Bpe(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R6=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},qw(t,e)}function _x(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=Gpe(t,"string");return bc(e)=="symbol"?e:e+""}function Gpe(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hpe=Math.PI/180,fj=1e-5,Nx=function(t){function e(){return Upe(this,e),Vpe(this,e,arguments)}return zpe(e,t),Fpe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=yt(i,o,l,r.coordinate),h=yt(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*Hpe),o;return i>fj?o=s==="outer"?"start":"end":i<-fj?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Ma(Ma({},Te(this.props,!1)),{},{fill:"none"},Te(l,!1));if(c==="circle")return q.createElement(vx,Ba({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return yt(s,i,o,h.coordinate)});return q.createElement(ope,Ba({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Te(this.props,!1),f=Te(o,!1),h=Ma(Ma({},d),{},{fill:"none"},Te(l,!1)),x=i.map(function(b,w){var v=r.getTickLineCoord(b),y=r.getTickTextAnchor(b),_=Ma(Ma(Ma({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:w,payload:b,x:v.x2,y:v.y2});return q.createElement(Ke,Ba({className:Ve("recharts-polar-angle-axis-tick",x6(o)),key:"tick-".concat(b.coordinate)},_o(r.props,b,w)),l&&q.createElement("line",Ba({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,_,c?c(b.value,w):b.value))});return q.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:q.createElement(Ke,{className:Ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):je(r)?o=r(s):o=q.createElement(No,Ba({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(D.PureComponent);_x(Nx,"displayName","PolarAngleAxis");_x(Nx,"axisType","angleAxis");_x(Nx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Wpe=UD,Kpe=Wpe(Object.getPrototypeOf,Object),Ype=Kpe,Jpe=yi,Xpe=Ype,Qpe=vi,Zpe="[object Object]",eme=Function.prototype,tme=Object.prototype,O6=eme.toString,nme=tme.hasOwnProperty,rme=O6.call(Object);function sme(t){if(!Qpe(t)||Jpe(t)!=Zpe)return!1;var e=Xpe(t);if(e===null)return!0;var n=nme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&O6.call(n)==rme}var ime=sme;const ame=ot(ime);var ome=yi,lme=vi,cme="[object Boolean]";function ume(t){return t===!0||t===!1||lme(t)&&ome(t)==cme}var dme=ume;const fme=ot(dme);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function hme(t,e){return xme(t)||gme(t,e)||mme(t,e)||pme()}function pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mme(t,e){if(t){if(typeof t=="string")return hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(t,e)}}function hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xme(t){if(Array.isArray(t))return t}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=bme(t,"string");return If(e)=="symbol"?e:e+""}function bme(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gj=function(e,n,r,s,i){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+i),l+="L ".concat(e+r-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},wme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_me=function(e){var n=mj(mj({},wme),e),r=D.useRef(),s=D.useState(-1),i=hme(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,b=n.animationEasing,w=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Ve("recharts-trapezoid",x);return y?q.createElement(Cs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:w,animationEasing:b,isActive:y},function(N){var C=N.upperWidth,T=N.lowerWidth,A=N.height,S=N.x,j=N.y;return q.createElement(Cs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:b},q.createElement("path",Pg({},Te(n,!0),{className:_,d:gj(S,j,C,T,A),ref:r})))}):q.createElement("g",null,q.createElement("path",Pg({},Te(n,!0),{className:_,d:gj(c,u,d,f,h)})))},Nme=["option","shapeType","propTransformer","activeClassName","isActive"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Sme(t,e){if(t==null)return{};var n=Eme(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ame(t){var e=kme(t,"string");return Pf(e)=="symbol"?e:e+""}function kme(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cme(t,e){return Rg(Rg({},e),t)}function jme(t,e){return t==="symbols"}function yj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(wS,n);case"trapezoid":return q.createElement(_me,n);case"sector":return q.createElement(b6,n);case"symbols":if(jme(e))return q.createElement(FN,n);break;default:return null}}function Ime(t){return D.isValidElement(t)?t.props:t}function D6(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?Cme:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Sme(t,Nme),u;if(D.isValidElement(e))u=D.cloneElement(e,Rg(Rg({},c),Ime(e)));else if(je(e))u=e(c);else if(ame(e)&&!fme(e)){var d=s(e,c);u=q.createElement(yj,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(yj,{shapeType:n,elementProps:f})}return l?q.createElement(Ke,{className:o},u):u}function Sx(t,e){return e!=null&&"trapezoids"in t.props}function Ex(t,e){return e!=null&&"sectors"in t.props}function Rf(t,e){return e!=null&&"points"in t.props}function Pme(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&i}function Rme(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Mme(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function Ome(t,e){var n;return Sx(t,e)?n=Pme:Ex(t,e)?n=Rme:Rf(t,e)&&(n=Mme),n}function Dme(t,e){var n;return Sx(t,e)?n="trapezoids":Ex(t,e)?n="sectors":Rf(t,e)&&(n="points"),n}function Lme(t,e){if(Sx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ex(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Rf(t,e)?e.payload:{}}function $me(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=Dme(n,e),i=Lme(n,e),o=r.filter(function(c,u){var d=gc(i,c),f=n.props[s].filter(function(b){var w=Ome(n,e);return w(b,e)}),h=n.props[s].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var Gp;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$6(r.key),r)}}function Fme(t,e,n){return e&&bj(t.prototype,e),n&&bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vme(t,e,n){return e=Mg(e),Bme(t,L6()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function Bme(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L6=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zw(t,e)}function Sr(t,e,n){return e=$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6(t){var e=Gme(t,"string");return wc(e)=="symbol"?e:e+""}function Gme(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=function(t){function e(n){var r;return Ume(this,e),r=Vme(this,e,[n]),Sr(r,"pieRef",null),Sr(r,"sectorRefs",[]),Sr(r,"id",Jc("recharts-pie-")),Sr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),je(s)&&s()}),Sr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),je(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return zme(e,t),Fme(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Te(this.props,!1),f=Te(o,!1),h=Te(l,!1),x=o&&o.offsetRadius||20,b=r.map(function(w,v){var y=(w.startAngle+w.endAngle)/2,_=yt(w.cx,w.cy,w.outerRadius+x,y),N=pt(pt(pt(pt({},d),w),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,w.cx)},_),C=pt(pt(pt(pt({},d),w),{},{fill:"none",stroke:w.fill},h),{},{index:v,points:[yt(w.cx,w.cy,w.outerRadius,y),_]}),T=c;return Ue(c)&&Ue(u)?T="value":Ue(c)&&(T=u),q.createElement(Ke,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,N,Wt(w,T)))});return q.createElement(Ke,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,x=f?o:h,b=pt(pt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Ke,xl({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},_o(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(D6,xl({option:x,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return q.createElement(Cs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,v=[],y=i&&i[0],_=y.startAngle;return i.forEach(function(N,C){var T=h&&h[C],A=C>0?fr(N,"paddingAngle",0):0;if(T){var S=Jn(T.endAngle-T.startAngle,N.endAngle-N.startAngle),j=pt(pt({},N),{},{startAngle:_+A,endAngle:_+S(w)+A});v.push(j),_=j.endAngle}else{var E=N.endAngle,R=N.startAngle,I=Jn(0,E-R),O=I(w),P=pt(pt({},N),{},{startAngle:_+A,endAngle:_+O+A});v.push(P),_=P.endAngle}}),q.createElement(Ke,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!gc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,x=s.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!de(u)||!de(d)||!de(f)||!de(h))return null;var w=Ve("recharts-pie",l);return q.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:w,ref:function(y){r.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),rn.renderCallByParent(this.props,null,!1),(!x||b)&&ei.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);if(je(r))return r(s);var o=Ve("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(Ll,xl({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);var o=i;if(je(r)&&(o=r(s),q.isValidElement(o)))return o;var l=Ve("recharts-pie-label-text",typeof r!="boolean"&&!je(r)?r.className:"");return q.createElement(No,xl({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Gp=wi;Sr(wi,"displayName","Pie");Sr(wi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Sr(wi,"parseDeltaAngle",function(t,e){var n=Ln(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Sr(wi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Te(t,!1),s=Ir(n,ox);return e&&e.length?e.map(function(i,o){return pt(pt(pt({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return pt(pt({},r),i.props)}):[]});Sr(wi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,i=e.height,o=g6(s,i),l=r+$n(t.cx,s,s/2),c=n+$n(t.cy,i,i/2),u=$n(t.innerRadius,o,0),d=$n(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Sr(wi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?pt(pt({},e.type.defaultProps),e.props):e.props,s=Gp.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),b=Gp.parseCoordinateOfPie(r,n),w=Gp.parseDeltaAngle(o,l),v=Math.abs(w),y=u;Ue(u)&&Ue(f)?(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ue(u)&&(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var _=s.filter(function(j){return Wt(j,y,0)!==0}).length,N=(v>=360?_:_-1)*c,C=v-_*x-N,T=s.reduce(function(j,E){var R=Wt(E,y,0);return j+(de(R)?R:0)},0),A;if(T>0){var S;A=s.map(function(j,E){var R=Wt(j,y,0),I=Wt(j,d,E),O=(de(R)?R:0)/T,P;E?P=S.endAngle+Ln(w)*c*(R!==0?1:0):P=o;var H=P+Ln(w)*((R!==0?x:0)+O*C),V=(P+H)/2,L=(b.innerRadius+b.outerRadius)/2,B=[{name:I,value:R,payload:j,dataKey:y,type:h}],G=yt(b.cx,b.cy,L,V);return S=pt(pt(pt({percent:O,cornerRadius:i,name:I,tooltipPayload:B,midAngle:V,middleRadius:L,tooltipPosition:G},j),b),{},{value:Wt(j,y),startAngle:P,endAngle:H,payload:j,paddingAngle:Ln(w)*c}),S})}return pt(pt({},b),{},{sectors:A,data:s})});var Hme=Math.ceil,Wme=Math.max;function Kme(t,e,n,r){for(var s=-1,i=Wme(Hme((e-t)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=t,t+=n;return o}var Yme=Kme,Jme=sL,wj=1/0,Xme=17976931348623157e292;function Qme(t){if(!t)return t===0?t:0;if(t=Jme(t),t===wj||t===-wj){var e=t<0?-1:1;return e*Xme}return t===t?t:0}var U6=Qme,Zme=Yme,ege=ax,ov=U6;function tge(t){return function(e,n,r){return r&&typeof r!="number"&&ege(e,n,r)&&(n=r=void 0),e=ov(e),n===void 0?(n=e,e=0):n=ov(n),r=r===void 0?e<n?1:-1:ov(r),Zme(e,n,r,t)}}var nge=tge,rge=nge,sge=rge(),ige=sge;const Og=ot(ige);function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){F6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F6(t,e,n){return e=age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=oge(t,"string");return Mf(e)=="symbol"?e:e+""}function oge(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=["Webkit","Moz","O","ms"],cge=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=lge.reduce(function(i,o){return Nj(Nj({},i),{},F6({},o+r,n))},{});return s[e]=n,s};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B6(r.key),r)}}function dge(t,e,n){return e&&Ej(t.prototype,e),n&&Ej(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fge(t,e,n){return e=Lg(e),hge(t,V6()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function hge(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pge(t)}function pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function mge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Gw(t,e)}function ir(t,e,n){return e=B6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B6(t){var e=gge(t,"string");return _c(e)=="symbol"?e:e+""}function gge(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xge=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=vd().domain(Og(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},Tj=function(e){return e.changedTouches&&!!e.changedTouches.length},Nc=function(t){function e(n){var r;return uge(this,e),r=fge(this,e,[n]),ir(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),ir(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(s){var i=Tj(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mge(e,t),dge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),x=e.getIndexInRange(o,f),b=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Wt(i[r],l,r);return je(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,b=c.onChange,w=r.pageX-i;w>0?w=Math.min(w,u+d-f-l,u+d-f-o):w<0&&(w=Math.max(w,u-o,u-l));var v=this.getIndex({startX:o+w,endX:l+w});(v.startIndex!==h||v.endIndex!==x)&&b&&b(v),this.setState({startX:o+w,endX:l+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=Tj(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,b=d.onChange,w=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-i;_>0?_=Math.min(_,f+h-x-u):_<0&&(_=Math.max(_,f-u)),y[o]=u+_;var N=this.getIndex(y),C=N.startIndex,T=N.endIndex,A=function(){var j=v.length-1;return o==="startX"&&(l>c?C%w===0:T%w===0)||l<c&&T===j||o==="endX"&&(l>c?T%w===0:C%w===0)||l>c&&T===j};this.setState(ir(ir({},o,u+_),"brushMoveStartX",r.pageX),function(){b&&A()&&b(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];s==="startX"&&x>=u||s==="endX"&&x<=c||this.setState(ir({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?q.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,b=c.data,w=c.startIndex,v=c.endIndex,y=Math.max(r,this.props.x),_=lv(lv({},Te(this.props,!1)),{},{x:y,y:u,width:d,height:f}),N=x||"Min value: ".concat((i=b[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[v])===null||o===void 0?void 0:o.name);return q.createElement(Ke,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,b={pointerEvents:"none",fill:u};return q.createElement(Ke,{className:"recharts-brush-texts"},q.createElement(No,Dg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},b),this.getTextOfTick(s)),q.createElement(No,Dg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,b=h.endX,w=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,_=h.isTravellerFocused;if(!s||!s.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var N=Ve("recharts-brush",i),C=q.Children.count(o)===1,T=cge("userSelect","none");return q.createElement(Ke,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(w||v||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return q.isValidElement(r)?i=q.cloneElement(r,s):je(r)?i=r(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return lv({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?xge({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(D.PureComponent);ir(Nc,"displayName","Brush");ir(Nc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yge=WN;function vge(t,e){var n;return yge(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var bge=vge,wge=ID,_ge=Rs,Nge=bge,Sge=rr,Ege=ax;function Tge(t,e,n){var r=Sge(t)?wge:Nge;return n&&Ege(t,e,n)&&(e=void 0),r(t,_ge(e))}var Age=Tge;const kge=ot(Age);var Es=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},Aj=ZD;function Cge(t,e,n){e=="__proto__"&&Aj?Aj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jge=Cge,Ige=jge,Pge=XD,Rge=Rs;function Mge(t,e){var n={};return e=Rge(e),Pge(t,function(r,s,i){Ige(n,s,e(r,s,i))}),n}var Oge=Mge;const Dge=ot(Oge);function Lge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $ge=Lge,Uge=WN;function Fge(t,e){var n=!0;return Uge(t,function(r,s,i){return n=!!e(r,s,i),n}),n}var Vge=Fge,Bge=$ge,qge=Vge,zge=Rs,Gge=rr,Hge=ax;function Wge(t,e,n){var r=Gge(t)?Bge:qge;return n&&Hge(t,e,n)&&(e=void 0),r(t,zge(e))}var Kge=Wge;const q6=ot(Kge);var Yge=["x","y"];function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){Jge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jge(t,e,n){return e=Xge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xge(t){var e=Qge(t,"string");return Of(e)=="symbol"?e:e+""}function Qge(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zge(t,e){if(t==null)return{};var n=e0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t0e(t,e){var n=t.x,r=t.y,s=Zge(t,Yge),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),h=parseInt(f,10);return Uu(Uu(Uu(Uu(Uu({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function Cj(t){return q.createElement(D6,Hw({shapeType:"rectangle",propTransformer:t0e,activeClassName:"recharts-active-bar"},t))}var n0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var i=de(r)||NY(r);return i?e(r,s):(i||Eo(),n)}},r0e=["value","background"],z6;function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function s0e(t,e){if(t==null)return{};var n=i0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){Gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function o0e(t,e,n){return e&&Ij(t.prototype,e),n&&Ij(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,n){return e=Ug(e),c0e(t,G6()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ww(t,e)}function Gi(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=f0e(t,"string");return Sc(e)=="symbol"?e:e+""}function f0e(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var es=function(t){function e(){var n;a0e(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=l0e(this,e,[].concat(s)),Gi(n,"state",{isAnimationFinished:!1}),Gi(n,"id",Jc("recharts-bar-")),Gi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Gi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return d0e(e,t),o0e(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Te(this.props,!1);return r&&r.map(function(f,h){var x=h===c,b=x?u:o,w=Ut(Ut(Ut({},d),f),{},{isActive:x,option:b,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(Ke,$g({className:"recharts-bar-rectangle"},_o(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(Cj,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return q.createElement(Cs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,w=i.map(function(v,y){var _=h&&h[y];if(_){var N=Jn(_.x,v.x),C=Jn(_.y,v.y),T=Jn(_.width,v.width),A=Jn(_.height,v.height);return Ut(Ut({},v),{},{x:N(b),y:C(b),width:T(b),height:A(b)})}if(o==="horizontal"){var S=Jn(0,v.height),j=S(b);return Ut(Ut({},v),{},{y:v.y+v.height-j,height:j})}var E=Jn(0,v.width),R=E(b);return Ut(Ut({},v),{},{width:R})});return q.createElement(Ke,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!gc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Te(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=s0e(u,r0e);if(!f)return null;var x=Ut(Ut(Ut(Ut(Ut({},h),{},{fill:"#eee"},f),c),_o(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(Cj,$g({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ir(d,yx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(v,y){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Wt(v,y)}},b={clipPath:r?"url(#clipPath-".concat(s,")"):null};return q.createElement(Ke,b,f.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,b=r.background,w=r.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Ve("recharts-bar",o),_=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=_||N,T=Ue(w)?this.id:w;return q.createElement(Ke,{className:y},_||N?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(T)},q.createElement("rect",{x:_?u:u-f/2,y:N?d:d-h/2,width:_?f:f*2,height:N?h:h*2}))):null,q.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!x||v)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(D.PureComponent);z6=es;Gi(es,"displayName","Bar");Gi(es,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gi(es,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=Bue(r,n);if(!x)return null;var b=e.layout,w=n.type.defaultProps,v=w!==void 0?Ut(Ut({},w),n.props):n.props,y=v.dataKey,_=v.children,N=v.minPointSize,C=b==="horizontal"?o:i,T=u?C.scale.domain():null,A=Yue({numericAxis:C}),S=Ir(_,ox),j=f.map(function(E,R){var I,O,P,H,V,L;u?I=que(u[d+R],T):(I=Wt(E,y),Array.isArray(I)||(I=[A,I]));var B=n0e(N,z6.defaultProps.minPointSize)(I[1],R);if(b==="horizontal"){var G,U=[o.scale(I[0]),o.scale(I[1])],F=U[0],Y=U[1];O=NC({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:E,index:R}),P=(G=Y??F)!==null&&G!==void 0?G:void 0,H=x.size;var ee=F-Y;if(V=Number.isNaN(ee)?0:ee,L={x:O,y:o.y,width:H,height:o.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var z=Ln(V||B)*(Math.abs(B)-Math.abs(V));P-=z,V+=z}}else{var ae=[i.scale(I[0]),i.scale(I[1])],W=ae[0],he=ae[1];if(O=W,P=NC({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:E,index:R}),H=he-W,V=x.size,L={x:i.x,y:P,width:i.width,height:V},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var _e=Ln(H||B)*(Math.abs(B)-Math.abs(H));H+=_e}}return Ut(Ut(Ut({},E),{},{x:O,y:P,width:H,height:V,value:u?I:I[1],payload:E,background:L},S&&S[R]&&S[R].props),{},{tooltipPayload:[p6(n,E)],tooltipPosition:{x:O+H/2,y:P+V/2}})});return Ut({data:j,layout:b},h)});function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function h0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6(r.key),r)}}function p0e(t,e,n){return e&&Pj(t.prototype,e),n&&Pj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tx(t,e,n){return e=W6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6(t){var e=m0e(t,"string");return Df(e)=="symbol"?e:e+""}function m0e(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K6=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!or(u,es);return d.reduce(function(x,b){var w=n[b],v=w.orientation,y=w.domain,_=w.padding,N=_===void 0?{}:_,C=w.mirror,T=w.reversed,A="".concat(v).concat(C?"Mirror":""),S,j,E,R,I;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var O=y[1]-y[0],P=1/0,H=w.categoricalDomain.sort(TY);if(H.forEach(function(ae,W){W>0&&(P=Math.min((ae||0)-(H[W-1]||0),P))}),Number.isFinite(P)){var V=P/O,L=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=V*L/2),w.padding==="no-gap"){var B=$n(e.barCategoryGap,V*L),G=V*L/2;S=G-B-(G-B)/L*B}}}s==="xAxis"?j=[r.left+(N.left||0)+(S||0),r.left+r.width-(N.right||0)-(S||0)]:s==="yAxis"?j=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(S||0),r.top+r.height-(N.bottom||0)-(S||0)]:j=w.range,T&&(j=[j[1],j[0]]);var U=u6(w,i,h),F=U.scale,Y=U.realScaleType;F.domain(y).range(j),d6(F);var ee=f6(F,Kr(Kr({},w),{},{realScaleType:Y}));s==="xAxis"?(I=v==="top"&&!C||v==="bottom"&&C,E=r.left,R=f[A]-I*w.height):s==="yAxis"&&(I=v==="left"&&!C||v==="right"&&C,E=f[A]-I*w.width,R=r.top);var z=Kr(Kr(Kr({},w),ee),{},{realScaleType:Y,x:E,y:R,scale:F,width:s==="xAxis"?r.width:w.width,height:s==="yAxis"?r.height:w.height});return z.bandSize=_g(z,ee),!w.hide&&s==="xAxis"?f[A]+=(I?-1:1)*z.height:w.hide||(f[A]+=(I?-1:1)*z.width),Kr(Kr({},x),{},Tx({},b,z))},{})},Y6=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},g0e=function(e){var n=e.x1,r=e.y1,s=e.x2,i=e.y2;return Y6({x:n,y:r},{x:s,y:i})},J6=function(){function t(e){h0e(this,t),this.scale=e}return p0e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();Tx(J6,"EPS",1e-4);var _S=function(e){var n=Object.keys(e).reduce(function(r,s){return Kr(Kr({},r),{},Tx({},s,J6.create(e[s])))},{});return Kr(Kr({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Dge(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return q6(s,function(i,o){return n[o].isInRange(i)})}})};function x0e(t){return(t%180+180)%180}var y0e=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=x0e(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},v0e=Rs,b0e=ch,w0e=sx;function _0e(t){return function(e,n,r){var s=Object(e);if(!b0e(e)){var i=v0e(n);e=w0e(e),n=function(l){return i(s[l],l,s)}}var o=t(e,n,r);return o>-1?s[i?e[o]:o]:void 0}}var N0e=_0e,S0e=U6;function E0e(t){var e=S0e(t),n=e%1;return e===e?n?e-n:e:0}var T0e=E0e,A0e=GD,k0e=Rs,C0e=T0e,j0e=Math.max;function I0e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:C0e(n);return s<0&&(s=j0e(r+s,0)),A0e(t,k0e(e),s)}var P0e=I0e,R0e=N0e,M0e=P0e,O0e=R0e(M0e),D0e=O0e;const L0e=ot(D0e);var $0e=CK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),NS=D.createContext(void 0),SS=D.createContext(void 0),X6=D.createContext(void 0),Q6=D.createContext({}),Z6=D.createContext(void 0),e$=D.createContext(0),t$=D.createContext(0),Mj=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=$0e(i);return q.createElement(NS.Provider,{value:r},q.createElement(SS.Provider,{value:s},q.createElement(Q6.Provider,{value:i},q.createElement(X6.Provider,{value:d},q.createElement(Z6.Provider,{value:o},q.createElement(e$.Provider,{value:u},q.createElement(t$.Provider,{value:c},l)))))))},U0e=function(){return D.useContext(Z6)},n$=function(e){var n=D.useContext(NS);n==null&&Eo();var r=n[e];return r==null&&Eo(),r},F0e=function(){var e=D.useContext(NS);return Ui(e)},V0e=function(){var e=D.useContext(SS),n=L0e(e,function(r){return q6(r.domain,Number.isFinite)});return n||Ui(e)},r$=function(e){var n=D.useContext(SS);n==null&&Eo();var r=n[e];return r==null&&Eo(),r},B0e=function(){var e=D.useContext(X6);return e},q0e=function(){return D.useContext(Q6)},ES=function(){return D.useContext(t$)},TS=function(){return D.useContext(e$)};function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function z0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function H0e(t,e,n){return e&&G0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W0e(t,e,n){return e=Fg(e),K0e(t,s$()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function K0e(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0e(t)}function Y0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function J0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Kw(t,e)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){AS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AS(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=X0e(t,"string");return Ec(e)=="symbol"?e:e+""}function X0e(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q0e(t,e){return nxe(t)||txe(t,e)||exe(t,e)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(t,e){if(t){if(typeof t=="string")return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function txe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nxe(t){if(Array.isArray(t))return t}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}var rxe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):je(e)?r=e(n):r=q.createElement("line",Yw({},n,{className:"recharts-reference-line-line"})),r},sxe=function(e,n,r,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,x=i.height;if(r){var b=u.y,w=e.y.apply(b,{position:o});if(Es(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:d+h,y:w},{x:d,y:w}];return c==="left"?v.reverse():v}if(n){var y=u.x,_=e.x.apply(y,{position:o});if(Es(u,"discard")&&!e.x.isInRange(_))return null;var N=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?N.reverse():N}if(s){var C=u.segment,T=C.map(function(A){return e.apply(A,{position:o})});return Es(u,"discard")&&kge(T,function(A){return!e.isInRange(A)})?null:T}return null};function ixe(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=U0e(),d=n$(s),f=r$(i),h=B0e();if(!u||!h)return null;Zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=_S({x:d.scale,y:f.scale}),b=Yt(e),w=Yt(n),v=r&&r.length===2,y=sxe(x,b,w,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var _=Q0e(y,2),N=_[0],C=N.x,T=N.y,A=_[1],S=A.x,j=A.y,E=Es(t,"hidden")?"url(#".concat(u,")"):void 0,R=Dj(Dj({clipPath:E},Te(t,!0)),{},{x1:C,y1:T,x2:S,y2:j});return q.createElement(Ke,{className:Ve("recharts-reference-line",l)},rxe(o,R),rn.renderCallByParent(t,g0e({x1:C,y1:T,x2:S,y2:j})))}var kS=function(t){function e(){return z0e(this,e),W0e(this,e,arguments)}return J0e(e,t),H0e(e,[{key:"render",value:function(){return q.createElement(ixe,this.props)}}])}(q.Component);AS(kS,"displayName","ReferenceLine");AS(kS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){Ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function lxe(t,e,n){return e&&oxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cxe(t,e,n){return e=Vg(e),uxe(t,a$()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function uxe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function fxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xw(t,e)}function Ax(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=hxe(t,"string");return Tc(e)=="symbol"?e:e+""}function hxe(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pxe=function(e){var n=e.x,r=e.y,s=e.xAxis,i=e.yAxis,o=_S({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Es(e,"discard")&&!o.isInRange(l)?null:l},kx=function(t){function e(){return axe(this,e),cxe(this,e,arguments)}return fxe(e,t),lxe(e,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Yt(s),d=Yt(i);if(Zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=pxe(this.props);if(!f)return null;var h=f.x,x=f.y,b=this.props,w=b.shape,v=b.className,y=Es(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Uj(Uj({clipPath:y},Te(this.props,!0)),{},{cx:h,cy:x});return q.createElement(Ke,{className:Ve("recharts-reference-dot",v)},e.renderDot(w,_),rn.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(q.Component);Ax(kx,"displayName","ReferenceDot");Ax(kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ax(kx,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):je(t)?n=t(e):n=q.createElement(vx,Jw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){Cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function xxe(t,e,n){return e&&gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yxe(t,e,n){return e=Bg(e),vxe(t,l$()?Reflect.construct(e,n||[],Bg(t).constructor):e.apply(t,n))}function vxe(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bxe(t)}function bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(t)}function wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Zw(t,e)}function Cx(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=_xe(t,"string");return Ac(e)=="symbol"?e:e+""}function _xe(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nxe=function(e,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=_S({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Es(i,"discard")&&(!h.isInRange(x)||!h.isInRange(b))?null:Y6(x,b)},jx=function(t){function e(){return mxe(this,e),yxe(this,e,arguments)}return wxe(e,t),xxe(e,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yt(s),h=Yt(i),x=Yt(o),b=Yt(l),w=this.props.shape;if(!f&&!h&&!x&&!b&&!w)return null;var v=Nxe(f,h,x,b,this.props);if(!v&&!w)return null;var y=Es(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Ke,{className:Ve("recharts-reference-area",c)},e.renderRect(w,Vj(Vj({clipPath:y},Te(this.props,!0)),v)),rn.renderCallByParent(this.props,v))}}])}(q.Component);Cx(jx,"displayName","ReferenceArea");Cx(jx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cx(jx,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):je(t)?n=t(e):n=q.createElement(wS,Qw({},e,{className:"recharts-reference-area-rect"})),n});function u$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function Sxe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return y0e(r,n)}function Exe(t,e,n){var r=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function qg(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function Txe(t,e){return u$(t,e+1)}function Axe(t,e,n,r,s){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:u$(r,u)};var w=c,v,y=function(){return v===void 0&&(v=n(b,w)),v},_=b.coordinate,N=c===0||qg(t,_,y,d,l);N||(c=0,d=o,u+=1),N&&(d=_+t*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){kxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kxe(t,e,n){return e=Cxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cxe(t){var e=jxe(t,"string");return Lf(e)=="symbol"?e:e+""}function jxe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ixe(t,e,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(h){var x=i[h],b,w=function(){return b===void 0&&(b=n(x,h)),b};if(h===o-1){var v=t*(x.coordinate+t*w()/2-c);i[h]=x=Sn(Sn({},x),{},{tickCoord:v>0?x.coordinate-v*t:x.coordinate})}else i[h]=x=Sn(Sn({},x),{},{tickCoord:x.coordinate});var y=qg(t,x.tickCoord,w,l,c);y&&(c=x.tickCoord-t*(w()/2+s),i[h]=Sn(Sn({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Pxe(t,e,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=Sn(Sn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=qg(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+s),o[l-1]=Sn(Sn({},d),{},{isShow:!0}))}for(var b=i?l-1:l,w=function(_){var N=o[_],C,T=function(){return C===void 0&&(C=n(N,_)),C};if(_===0){var A=t*(N.coordinate-t*T()/2-c);o[_]=N=Sn(Sn({},N),{},{tickCoord:A<0?N.coordinate-A*t:N.coordinate})}else o[_]=N=Sn(Sn({},N),{},{tickCoord:N.coordinate});var S=qg(t,N.tickCoord,T,c,u);S&&(c=N.tickCoord+t*(T()/2+s),o[_]=Sn(Sn({},N),{},{isShow:!0}))},v=0;v<b;v++)w(v);return o}function CS(t,e,n){var r=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!r)return[];if(de(c)||Mo.isSsr)return Txe(s,typeof c=="number"&&de(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",b=d&&x==="width"?yd(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(N,C){var T=je(u)?u(N.value,C):N.value;return x==="width"?Sxe(yd(T,{fontSize:e,letterSpacing:n}),b,f):yd(T,{fontSize:e,letterSpacing:n})[x]},v=s.length>=2?Ln(s[1].coordinate-s[0].coordinate):1,y=Exe(i,v,x);return c==="equidistantPreserveStart"?Axe(v,y,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Pxe(v,y,w,s,o,c==="preserveStartEnd"):h=Ixe(v,y,w,s,o),h.filter(function(_){return _.isShow}))}var Rxe=["viewBox"],Mxe=["viewBox"],Oxe=["ticks"];function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){jS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cv(t,e){if(t==null)return{};var n=Dxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function $xe(t,e,n){return e&&zj(t.prototype,e),n&&zj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uxe(t,e,n){return e=zg(e),Fxe(t,d$()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function Fxe(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vxe(t)}function Vxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function Bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},e1(t,e)}function jS(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=qxe(t,"string");return kc(e)=="symbol"?e:e+""}function qxe(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=function(t){function e(n){var r;return Lxe(this,e),r=Uxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Bxe(e,t),$xe(e,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=cv(r,Rxe),l=this.props,c=l.viewBox,u=cv(l,Mxe);return!Ml(i,c)||!Ml(o,u)||!Ml(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,x,b,w,v,y,_,N=f?-1:1,C=r.tickSize||d,T=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=b=r.coordinate,v=o+ +!f*c,w=v-N*C,_=w-N*h,y=T;break;case"left":w=v=r.coordinate,b=i+ +!f*l,x=b-N*C,y=x-N*h,_=T;break;case"right":w=v=r.coordinate,b=i+ +f*l,x=b+N*C,y=x+N*h,_=T;break;default:x=b=r.coordinate,v=o+ +f*c,w=v+N*C,_=w+N*h,y=T;break}return{line:{x1:x,y1:w,x2:b,y2:v},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=zt(zt(zt({},Te(this.props,!1)),Te(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=zt(zt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=zt(zt({},f),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return q.createElement("line",yl({},f,{className:Ve("recharts-cartesian-axis-line",fr(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=CS(zt(zt({},this.props),{},{ticks:r}),s,i),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=Te(this.props,!1),y=Te(d,!1),_=zt(zt({},v),{},{fill:"none"},Te(c,!1)),N=x.map(function(C,T){var A=o.getTickLineCoord(C),S=A.line,j=A.tick,E=zt(zt(zt(zt({textAnchor:b,verticalAnchor:w},v),{},{stroke:"none",fill:u},y),j),{},{index:T,payload:C,visibleTicksCount:x.length,tickFormatter:f});return q.createElement(Ke,yl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},_o(o.props,C,T)),c&&q.createElement("line",yl({},_,S,{className:Ve("recharts-cartesian-axis-tick-line",fr(c,"className"))})),d&&e.renderTickItem(d,E,"".concat(je(f)?f(C.value,T):C.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,x=cv(f,Oxe),b=h;return je(c)&&(b=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:q.createElement(Ke,{className:Ve("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=Ve(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,zt(zt({},s),{},{className:l})):je(r)?o=r(zt(zt({},s),{},{className:l})):o=q.createElement(No,yl({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(D.Component);jS(ru,"displayName","CartesianAxis");jS(ru,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zxe=["x1","y1","x2","y2","key"],Gxe=["offset"];function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hxe(t,e,n){return e=Wxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wxe(t){var e=Kxe(t,"string");return To(e)=="symbol"?e:e+""}function Kxe(t,e){if(To(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(To(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function Hj(t,e){if(t==null)return{};var n=Yxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function h$(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(je(t))n=t(e);else{var r=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=Hj(e,zxe),u=Te(c,!1);u.offset;var d=Hj(u,Gxe);n=q.createElement("line",Xa({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function Xxe(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return h$(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Qxe(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return h$(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Zxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?s+o-h:d[x+1]-h;if(w<=0)return null;var v=x%e.length;return q.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:w,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function eye(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?i+l-h:d[x+1]-h;if(w<=0)return null;var v=x%r.length;return q.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:w,height:c,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var tye=function(e,n){var r=e.xAxis,s=e.width,i=e.height,o=e.offset;return c6(CS(kn(kn(kn({},ru.defaultProps),r),{},{ticks:Ks(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},nye=function(e,n){var r=e.yAxis,s=e.width,i=e.height,o=e.offset;return c6(CS(kn(kn(kn({},ru.defaultProps),r),{},{ticks:Ks(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},Ko={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $f(t){var e,n,r,s,i,o,l=ES(),c=TS(),u=q0e(),d=kn(kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ko.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ko.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ko.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Ko.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Ko.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ko.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,b=d.height,w=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,_=F0e(),N=V0e();if(!de(x)||x<=0||!de(b)||b<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||tye,T=d.horizontalCoordinatesGenerator||nye,A=d.horizontalPoints,S=d.verticalPoints;if((!A||!A.length)&&je(T)){var j=v&&v.length,E=T({yAxis:N?kn(kn({},N),{},{ticks:j?v:N.ticks}):void 0,width:l,height:c,offset:u},j?!0:w);Zr(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(To(E),"]")),Array.isArray(E)&&(A=E)}if((!S||!S.length)&&je(C)){var R=y&&y.length,I=C({xAxis:_?kn(kn({},_),{},{ticks:R?y:_.ticks}):void 0,width:l,height:c,offset:u},R?!0:w);Zr(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(To(I),"]")),Array.isArray(I)&&(S=I)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(Jxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(Xxe,Xa({},d,{offset:u,horizontalPoints:A,xAxis:_,yAxis:N})),q.createElement(Qxe,Xa({},d,{offset:u,verticalPoints:S,xAxis:_,yAxis:N})),q.createElement(Zxe,Xa({},d,{horizontalPoints:A})),q.createElement(eye,Xa({},d,{verticalPoints:S})))}$f.displayName="CartesianGrid";var rye=["layout","type","stroke","connectNulls","isRange","ref"],sye=["key"],p$;function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function m$(t,e){if(t==null)return{};var n=iye(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function oye(t,e,n){return e&&Kj(t.prototype,e),n&&Kj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lye(t,e,n){return e=Gg(e),cye(t,g$()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function cye(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(t)}function uye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function dye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},t1(t,e)}function ms(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=fye(t,"string");return Cc(e)=="symbol"?e:e+""}function fye(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var as=function(t){function e(){var n;aye(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=lye(this,e,[].concat(s)),ms(n,"state",{isAnimationFinished:!0}),ms(n,"id",Jc("recharts-area-")),ms(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(o)&&o()}),ms(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(o)&&o()}),n}return dye(e,t),oye(e,[{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Te(this.props,!1),x=Te(u,!0),b=d.map(function(v,y){var _=Ci(Ci(Ci({key:"dot-".concat(y),r:3},h),x),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,_)}),w={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(Ke,Qa({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=zi(o.map(function(h){return h.y||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(zi(i.map(function(h){return h.y||0})),f)),de(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=zi(o.map(function(h){return h.x||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(zi(i.map(function(h){return h.x||0})),f)),de(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=m$(l,rye);return q.createElement(Ke,{clipPath:i?"url(#clipPath-".concat(o,")"):null},q.createElement(Ll,Qa({},Te(x,!0),{points:r,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement(Ll,Qa({},Te(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&q.createElement(Ll,Qa({},Te(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,b=this.state,w=b.prevPoints,v=b.prevBaseLine;return q.createElement(Cs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t;if(w){var N=w.length/l.length,C=l.map(function(j,E){var R=Math.floor(E*N);if(w[R]){var I=w[R],O=Jn(I.x,j.x),P=Jn(I.y,j.y);return Ci(Ci({},j),{},{x:O(_),y:P(_)})}return j}),T;if(de(c)&&typeof c=="number"){var A=Jn(v,c);T=A(_)}else if(Ue(c)||Yc(c)){var S=Jn(v,0);T=S(_)}else T=c.map(function(j,E){var R=Math.floor(E*N);if(v[R]){var I=v[R],O=Jn(I.x,j.x),P=Jn(I.y,j.y);return Ci(Ci({},j),{},{x:O(_),y:P(_)})}return j});return i.renderAreaStatically(C,T,r,s)}return q.createElement(Ke,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(_))),q.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,r,s)))})}},{key:"renderArea",value:function(r,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!gc(d,o)||!gc(f,l))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(o,l,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,x=s.width,b=s.height,w=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,_=l.length===1,N=Ve("recharts-area",c),C=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,A=C||T,S=Ue(v)?this.id:v,j=(r=Te(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=j.r,R=E===void 0?3:E,I=j.strokeWidth,O=I===void 0?2:I,P=OY(o)?o:{},H=P.clipDot,V=H===void 0?!0:H,L=R*2+O;return q.createElement(Ke,{className:N},C||T?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(S)},q.createElement("rect",{x:C?d:d-x/2,y:T?u:u-b/2,width:C?x:x*2,height:T?b:b*2})),!V&&q.createElement("clipPath",{id:"clipPath-dots-".concat(S)},q.createElement("rect",{x:d-L/2,y:u-L/2,width:x+L,height:b+L}))):null,_?null:this.renderArea(A,S),(o||_)&&this.renderDots(A,V,S),(!w||y)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);p$=as;ms(as,"displayName","Area");ms(as,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ms(as,"getBaseValue",function(t,e,n,r){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(de(l)&&typeof l=="number")return l;var c=s==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ms(as,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,b=u&&u.length,w=p$.getBaseValue(e,n,r,s),v=x==="horizontal",y=!1,_=f.map(function(C,T){var A;b?A=u[d+T]:(A=Wt(C,c),Array.isArray(A)?y=!0:A=[w,A]);var S=A[1]==null||b&&Wt(C,c)==null;return v?{x:_C({axis:r,ticks:i,bandSize:l,entry:C,index:T}),y:S?null:s.scale(A[1]),value:A,payload:C}:{x:S?null:r.scale(A[1]),y:_C({axis:s,ticks:o,bandSize:l,entry:C,index:T}),value:A,payload:C}}),N;return b||y?N=_.map(function(C){var T=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:T!=null&&C.y!=null?s.scale(T):null}:{x:T!=null?r.scale(T):null,y:C.y}}):N=v?s.scale(w):r.scale(w),Ci({points:_,baseLine:N,layout:x,isRange:y},h)});ms(as,"renderDotItem",function(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(je(t))n=t(e);else{var r=Ve("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=m$(e,sye);n=q.createElement(vx,Qa({},i,{key:s,className:r}))}return n});function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function mye(t,e,n){return e&&pye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gye(t,e,n){return e=Hg(e),xye(t,y$()?Reflect.construct(e,n||[],Hg(t).constructor):e.apply(t,n))}function xye(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yye(t)}function yye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hg(t)}function vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},n1(t,e)}function v$(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=bye(t,"string");return jc(e)=="symbol"?e:e+""}function bye(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(this,arguments)}function wye(t){var e=t.xAxisId,n=ES(),r=TS(),s=n$(e);return s==null?null:D.createElement(ru,r1({},s,{className:Ve("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ks(o,!0)}}))}var ga=function(t){function e(){return hye(this,e),gye(this,e,arguments)}return vye(e,t),mye(e,[{key:"render",value:function(){return D.createElement(wye,this.props)}}])}(D.Component);v$(ga,"displayName","XAxis");v$(ga,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function _ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function Sye(t,e,n){return e&&Nye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,n){return e=Wg(e),Tye(t,w$()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function Tye(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(t)}function Aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},s1(t,e)}function _$(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Cye(t,"string");return Ic(e)=="symbol"?e:e+""}function Cye(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}var jye=function(e){var n=e.yAxisId,r=ES(),s=TS(),i=r$(n);return i==null?null:D.createElement(ru,i1({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ks(l,!0)}}))},xa=function(t){function e(){return _ye(this,e),Eye(this,e,arguments)}return kye(e,t),Sye(e,[{key:"render",value:function(){return D.createElement(jye,this.props)}}])}(D.Component);_$(xa,"displayName","YAxis");_$(xa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Yj(t){return Mye(t)||Rye(t)||Pye(t)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(t,e){if(t){if(typeof t=="string")return a1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a1(t,e)}}function Rye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mye(t){if(Array.isArray(t))return a1(t)}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o1=function(e,n,r,s,i){var o=Ir(e,kS),l=Ir(e,kx),c=[].concat(Yj(o),Yj(l)),u=Ir(e,jx),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(w,v){if(v.props[d]===r&&Es(v.props,"extendDomain")&&de(v.props[f])){var y=v.props[f];return[Math.min(w[0],y),Math.max(w[1],y)]}return w},h)),u.length){var x="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(w,v){if(v.props[d]===r&&Es(v.props,"extendDomain")&&de(v.props[x])&&de(v.props[b])){var y=v.props[x],_=v.props[b];return[Math.min(w[0],y,_),Math.max(w[1],y,_)]}return w},h)}return i&&i.length&&(h=i.reduce(function(w,v){return de(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},S$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new s(d,f||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,b=new Array(x);h<x;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,b){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],y=arguments.length,_,N;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,x),!0;case 6:return v.fn.call(v.context,d,f,h,x,b),!0}for(N=1,_=new Array(y-1);N<y;N++)_[N-1]=arguments[N];v.fn.apply(v.context,_)}else{var C=v.length,T;for(N=0;N<C;N++)switch(v[N].once&&this.removeListener(u,v[N].fn,void 0,!0),y){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,d);break;case 3:v[N].fn.call(v[N].context,d,f);break;case 4:v[N].fn.call(v[N].context,d,f,h);break;default:if(!_)for(T=1,_=new Array(y-1);T<y;T++)_[T-1]=arguments[T];v[N].fn.apply(v[N].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,x);else{for(var w=0,v=[],y=b.length;w<y;w++)(b[w].fn!==d||h&&!b[w].once||f&&b[w].context!==f)&&v.push(b[w]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(S$);var Oye=S$.exports;const Dye=ot(Oye);var uv=new Dye,dv="recharts.syncMouseEvents";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function Uye(t,e,n){return e&&$ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fv(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=Fye(t,"string");return Uf(e)=="symbol"?e:e+""}function Fye(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vye=function(){function t(){Lye(this,t),fv(this,"activeIndex",0),fv(this,"coordinateList",[]),fv(this,"layout","horizontal")}return Uye(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Bye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&de(r)&&de(s))return!0}return!1}function qye(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function T$(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,i=t.endAngle,o=yt(e,n,r,s),l=yt(e,n,r,i);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function zye(t,e,n){var r,s,i,o;if(t==="horizontal")r=e.x,i=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=yt(l,c,u,f),x=yt(l,c,d,f);r=h.x,s=h.y,i=x.x,o=x.y}else return T$(e);return[{x:r,y:s},{x:i,y:o}]}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){Gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gye(t,e,n){return e=Hye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hye(t){var e=Wye(t,"string");return Ff(e)=="symbol"?e:e+""}function Wye(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kye(t){var e,n,r=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var b,w=Ll;if(h==="ScatterChart")b=o,w=gpe;else if(h==="BarChart")b=qye(f,o,c,d),w=wS;else if(f==="radial"){var v=T$(o),y=v.cx,_=v.cy,N=v.radius,C=v.startAngle,T=v.endAngle;b={cx:y,cy:_,startAngle:C,endAngle:T,innerRadius:N,outerRadius:N},w=b6}else b={points:zye(f,o,c)},w=Ll;var A=pp(pp(pp(pp({stroke:"#ccc",pointerEvents:"none"},c),b),Te(x,!1)),{},{payload:l,payloadIndex:u,className:Ve("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,A):D.createElement(w,A)}var Yye=["item"],Jye=["children","className","width","height","style","compact","title","desc"];function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}function Xj(t,e){return Zye(t)||Qye(t,e)||k$(t,e)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zye(t){if(Array.isArray(t))return t}function Qj(t,e){if(t==null)return{};var n=eve(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function rve(t,e,n){return e&&nve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sve(t,e,n){return e=Kg(e),ive(t,A$()?Reflect.construct(e,n||[],Kg(t).constructor):e.apply(t,n))}function ive(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ave(t)}function ave(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function ove(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},l1(t,e)}function Rc(t){return uve(t)||cve(t)||k$(t)||lve()}function lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k$(t,e){if(t){if(typeof t=="string")return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}}function cve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uve(t){if(Array.isArray(t))return c1(t)}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ce(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=dve(t,"string");return Pc(e)=="symbol"?e:e+""}function dve(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fve={xAxis:["bottom","top"],yAxis:["left","right"]},hve={width:"100%",height:"100%"},j$={x:0,y:0};function mp(t){return t}var pve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},mve=function(e,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return se(se(se({},s),yt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return se(se(se({},s),yt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return j$},Ix=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Rc(l),Rc(u)):l},[]);return o.length>0?o:e&&e.length&&de(s)&&de(i)?e.slice(s,i+1):[]};function I$(t){return t==="number"?[0,"auto"]:void 0}var u1=function(e,n,r,s){var i=e.graphicalItems,o=e.tooltipAxis,l=Ix(n,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=Wm(x,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(Rc(c),[p6(u,h)]):c},[])},eI=function(e,n,r,s){var i=s||{x:e.chartX,y:e.chartY},o=pve(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Due(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=u1(e,n,d,f),x=mve(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},gve=function(e,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=l6(d,i);return r.reduce(function(b,w){var v,y=w.type.defaultProps!==void 0?se(se({},w.type.defaultProps),w.props):w.props,_=y.type,N=y.dataKey,C=y.allowDataOverflow,T=y.allowDuplicatedCategory,A=y.scale,S=y.ticks,j=y.includeHidden,E=y[o];if(b[E])return b;var R=Ix(e.data,{graphicalItems:s.filter(function(ee){var z,ae=o in ee.props?ee.props[o]:(z=ee.type.defaultProps)===null||z===void 0?void 0:z[o];return ae===E}),dataStartIndex:c,dataEndIndex:u}),I=R.length,O,P,H;Bye(y.domain,C,_)&&(O=Ew(y.domain,null,C),x&&(_==="number"||A!=="auto")&&(H=bd(R,N,"category")));var V=I$(_);if(!O||O.length===0){var L,B=(L=y.domain)!==null&&L!==void 0?L:V;if(N){if(O=bd(R,N,_),_==="category"&&x){var G=EY(O);T&&G?(P=O,O=Og(0,I)):T||(O=TC(B,O,w).reduce(function(ee,z){return ee.indexOf(z)>=0?ee:[].concat(Rc(ee),[z])},[]))}else if(_==="category")T?O=O.filter(function(ee){return ee!==""&&!Ue(ee)}):O=TC(B,O,w).reduce(function(ee,z){return ee.indexOf(z)>=0||z===""||Ue(z)?ee:[].concat(Rc(ee),[z])},[]);else if(_==="number"){var U=Vue(R,s.filter(function(ee){var z,ae,W=o in ee.props?ee.props[o]:(z=ee.type.defaultProps)===null||z===void 0?void 0:z[o],he="hide"in ee.props?ee.props.hide:(ae=ee.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return W===E&&(j||!he)}),N,i,d);U&&(O=U)}x&&(_==="number"||A!=="auto")&&(H=bd(R,N,"category"))}else x?O=Og(0,I):l&&l[E]&&l[E].hasStack&&_==="number"?O=h==="expand"?[0,1]:h6(l[E].stackGroups,c,u):O=o6(R,s.filter(function(ee){var z=o in ee.props?ee.props[o]:ee.type.defaultProps[o],ae="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return z===E&&(j||!ae)}),_,d,!0);if(_==="number")O=o1(f,O,E,i,S),B&&(O=Ew(B,O,C));else if(_==="category"&&B){var F=B,Y=O.every(function(ee){return F.indexOf(ee)>=0});Y&&(O=F)}}return se(se({},b),{},Ce({},E,se(se({},y),{},{axisType:i,domain:O,categoricalDomain:H,duplicateDomain:P,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:x,layout:d})))},{})},xve=function(e,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Ix(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,b=l6(d,i),w=-1;return r.reduce(function(v,y){var _=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,N=_[o],C=I$("number");if(!v[N]){w++;var T;return b?T=Og(0,x):l&&l[N]&&l[N].hasStack?(T=h6(l[N].stackGroups,c,u),T=o1(f,T,N,i)):(T=Ew(C,o6(h,r.filter(function(A){var S,j,E=o in A.props?A.props[o]:(S=A.type.defaultProps)===null||S===void 0?void 0:S[o],R="hide"in A.props?A.props.hide:(j=A.type.defaultProps)===null||j===void 0?void 0:j.hide;return E===N&&!R}),"number",d),s.defaultProps.allowDataOverflow),T=o1(f,T,N,i)),se(se({},v),{},Ce({},N,se(se({axisType:i},s.defaultProps),{},{hide:!0,orientation:fr(fve,"".concat(i,".").concat(w%2),null),domain:T,originalDomain:C,isCategorical:b,layout:d})))}return v},{})},yve=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(s,"Id"),h=Ir(d,i),x={};return h&&h.length?x=gve(e,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=xve(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},vve=function(e){var n=Ui(e),r=Ks(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:KN(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_g(n,r)}},tI=function(e){var n=e.children,r=e.defaultShowTooltip,s=or(n,Nc),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},bve=function(e){return!e||!e.length?!1:e.some(function(n){var r=Qs(n&&n.type);return r&&r.indexOf("Bar")>=0})},nI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wve=function(e,n){var r=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=or(f,Nc),b=or(f,io),w=Object.keys(c).reduce(function(T,A){var S=c[A],j=S.orientation;return!S.mirror&&!S.hide?se(se({},T),{},Ce({},j,T[j]+S.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,A){var S=o[A],j=S.orientation;return!S.mirror&&!S.hide?se(se({},T),{},Ce({},j,fr(T,"".concat(j))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),y=se(se({},v),w),_=y.bottom;x&&(y.bottom+=x.props.height||Nc.defaultProps.height),b&&n&&(y=Uue(y,s,r,n));var N=u-y.left-y.right,C=d-y.top-y.bottom;return se(se({brushBottom:_},y),{},{width:Math.max(N,0),height:Math.max(C,0)})},_ve=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},IS=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,_){var N=_.graphicalItems,C=_.stackGroups,T=_.offset,A=_.updateId,S=_.dataStartIndex,j=_.dataEndIndex,E=y.barSize,R=y.layout,I=y.barGap,O=y.barCategoryGap,P=y.maxBarSize,H=nI(R),V=H.numericAxisName,L=H.cateAxisName,B=bve(N),G=[];return N.forEach(function(U,F){var Y=Ix(y.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:j}),ee=U.type.defaultProps!==void 0?se(se({},U.type.defaultProps),U.props):U.props,z=ee.dataKey,ae=ee.maxBarSize,W=ee["".concat(V,"Id")],he=ee["".concat(L,"Id")],_e={},Ie=c.reduce(function(dt,qt){var Gn=_["".concat(qt.axisType,"Map")],re=ee["".concat(qt.axisType,"Id")];Gn&&Gn[re]||qt.axisType==="zAxis"||Eo();var ye=Gn[re];return se(se({},dt),{},Ce(Ce({},qt.axisType,ye),"".concat(qt.axisType,"Ticks"),Ks(ye)))},_e),ce=Ie[L],Ne=Ie["".concat(L,"Ticks")],Z=C&&C[W]&&C[W].hasStack&&Jue(U,C[W].stackGroups),Q=Qs(U.type).indexOf("Bar")>=0,K=_g(ce,Ne),X=[],me=B&&Lue({barSize:E,stackGroups:C,totalSize:_ve(Ie,L)});if(Q){var oe,ke,Ye=Ue(ae)?P:ae,ct=(oe=(ke=_g(ce,Ne,!0))!==null&&ke!==void 0?ke:Ye)!==null&&oe!==void 0?oe:0;X=$ue({barGap:I,barCategoryGap:O,bandSize:ct!==K?ct:K,sizeList:me[he],maxBarSize:Ye}),ct!==K&&(X=X.map(function(dt){return se(se({},dt),{},{position:se(se({},dt.position),{},{offset:dt.position.offset-ct/2})})}))}var nt=U&&U.type&&U.type.getComposedData;nt&&G.push({props:se(se({},nt(se(se({},Ie),{},{displayedData:Y,props:y,dataKey:z,item:U,bandSize:K,barPosition:X,offset:T,stackedData:Z,layout:R,dataStartIndex:S,dataEndIndex:j}))),{},Ce(Ce(Ce({key:U.key||"item-".concat(F)},V,Ie[V]),L,Ie[L]),"animationId",A)),childIndex:$Y(U,y.children),item:U})}),G},x=function(y,_){var N=y.props,C=y.dataStartIndex,T=y.dataEndIndex,A=y.updateId;if(!vA({props:N}))return null;var S=N.children,j=N.layout,E=N.stackOffset,R=N.data,I=N.reverseStackOrder,O=nI(j),P=O.numericAxisName,H=O.cateAxisName,V=Ir(S,r),L=Kue(R,V,"".concat(P,"Id"),"".concat(H,"Id"),E,I),B=c.reduce(function(ee,z){var ae="".concat(z.axisType,"Map");return se(se({},ee),{},Ce({},ae,yve(N,se(se({},z),{},{graphicalItems:V,stackGroups:z.axisType===P&&L,dataStartIndex:C,dataEndIndex:T}))))},{}),G=wve(se(se({},B),{},{props:N,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(ee){B[ee]=d(N,B[ee],G,ee.replace("Map",""),n)});var U=B["".concat(H,"Map")],F=vve(U),Y=h(N,se(se({},B),{},{dataStartIndex:C,dataEndIndex:T,updateId:A,graphicalItems:V,stackGroups:L,offset:G}));return se(se({formattedGraphicalItems:Y,graphicalItems:V,offset:G,stackGroups:L},F),B)},b=function(v){function y(_){var N,C,T;return tve(this,y),T=sve(this,y,[_]),Ce(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(T,"accessibilityManager",new Vye),Ce(T,"handleLegendBBoxUpdate",function(A){if(A){var S=T.state,j=S.dataStartIndex,E=S.dataEndIndex,R=S.updateId;T.setState(se({legendBBox:A},x({props:T.props,dataStartIndex:j,dataEndIndex:E,updateId:R},se(se({},T.state),{},{legendBBox:A}))))}}),Ce(T,"handleReceiveSyncEvent",function(A,S,j){if(T.props.syncId===A){if(j===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),Ce(T,"handleBrushChange",function(A){var S=A.startIndex,j=A.endIndex;if(S!==T.state.dataStartIndex||j!==T.state.dataEndIndex){var E=T.state.updateId;T.setState(function(){return se({dataStartIndex:S,dataEndIndex:j},x({props:T.props,dataStartIndex:S,dataEndIndex:j,updateId:E},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:j})}}),Ce(T,"handleMouseEnter",function(A){var S=T.getMouseInfo(A);if(S){var j=se(se({},S),{},{isTooltipActive:!0});T.setState(j),T.triggerSyncEvent(j);var E=T.props.onMouseEnter;je(E)&&E(j,A)}}),Ce(T,"triggeredAfterMouseMove",function(A){var S=T.getMouseInfo(A),j=S?se(se({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(j),T.triggerSyncEvent(j);var E=T.props.onMouseMove;je(E)&&E(j,A)}),Ce(T,"handleItemMouseEnter",function(A){T.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ce(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Ce(T,"handleMouseMove",function(A){A.persist(),T.throttleTriggeredAfterMouseMove(A)}),Ce(T,"handleMouseLeave",function(A){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var j=T.props.onMouseLeave;je(j)&&j(S,A)}),Ce(T,"handleOuterEvent",function(A){var S=LY(A),j=fr(T.props,"".concat(S));if(S&&je(j)){var E,R;/.*touch.*/i.test(S)?R=T.getMouseInfo(A.changedTouches[0]):R=T.getMouseInfo(A),j((E=R)!==null&&E!==void 0?E:{},A)}}),Ce(T,"handleClick",function(A){var S=T.getMouseInfo(A);if(S){var j=se(se({},S),{},{isTooltipActive:!0});T.setState(j),T.triggerSyncEvent(j);var E=T.props.onClick;je(E)&&E(j,A)}}),Ce(T,"handleMouseDown",function(A){var S=T.props.onMouseDown;if(je(S)){var j=T.getMouseInfo(A);S(j,A)}}),Ce(T,"handleMouseUp",function(A){var S=T.props.onMouseUp;if(je(S)){var j=T.getMouseInfo(A);S(j,A)}}),Ce(T,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ce(T,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseDown(A.changedTouches[0])}),Ce(T,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseUp(A.changedTouches[0])}),Ce(T,"handleDoubleClick",function(A){var S=T.props.onDoubleClick;if(je(S)){var j=T.getMouseInfo(A);S(j,A)}}),Ce(T,"handleContextMenu",function(A){var S=T.props.onContextMenu;if(je(S)){var j=T.getMouseInfo(A);S(j,A)}}),Ce(T,"triggerSyncEvent",function(A){T.props.syncId!==void 0&&uv.emit(dv,T.props.syncId,A,T.eventEmitterSymbol)}),Ce(T,"applySyncEvent",function(A){var S=T.props,j=S.layout,E=S.syncMethod,R=T.state.updateId,I=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)T.setState(se({dataStartIndex:I,dataEndIndex:O},x({props:T.props,dataStartIndex:I,dataEndIndex:O,updateId:R},T.state)));else if(A.activeTooltipIndex!==void 0){var P=A.chartX,H=A.chartY,V=A.activeTooltipIndex,L=T.state,B=L.offset,G=L.tooltipTicks;if(!B)return;if(typeof E=="function")V=E(G,A);else if(E==="value"){V=-1;for(var U=0;U<G.length;U++)if(G[U].value===A.activeLabel){V=U;break}}var F=se(se({},B),{},{x:B.left,y:B.top}),Y=Math.min(P,F.x+F.width),ee=Math.min(H,F.y+F.height),z=G[V]&&G[V].value,ae=u1(T.state,T.props.data,V),W=G[V]?{x:j==="horizontal"?G[V].coordinate:Y,y:j==="horizontal"?ee:G[V].coordinate}:j$;T.setState(se(se({},A),{},{activeLabel:z,activeCoordinate:W,activePayload:ae,activeTooltipIndex:V}))}else T.setState(A)}),Ce(T,"renderCursor",function(A){var S,j=T.state,E=j.isTooltipActive,R=j.activeCoordinate,I=j.activePayload,O=j.offset,P=j.activeTooltipIndex,H=j.tooltipAxisBandSize,V=T.getTooltipEventType(),L=(S=A.props.active)!==null&&S!==void 0?S:E,B=T.props.layout,G=A.key||"_recharts-cursor";return q.createElement(Kye,{key:G,activeCoordinate:R,activePayload:I,activeTooltipIndex:P,chartName:n,element:A,isActive:L,layout:B,offset:O,tooltipAxisBandSize:H,tooltipEventType:V})}),Ce(T,"renderPolarAxis",function(A,S,j){var E=fr(A,"type.axisType"),R=fr(T.state,"".concat(E,"Map")),I=A.type.defaultProps,O=I!==void 0?se(se({},I),A.props):A.props,P=R&&R[O["".concat(E,"Id")]];return D.cloneElement(A,se(se({},P),{},{className:Ve(E,P.className),key:A.key||"".concat(S,"-").concat(j),ticks:Ks(P,!0)}))}),Ce(T,"renderPolarGrid",function(A){var S=A.props,j=S.radialLines,E=S.polarAngles,R=S.polarRadius,I=T.state,O=I.radiusAxisMap,P=I.angleAxisMap,H=Ui(O),V=Ui(P),L=V.cx,B=V.cy,G=V.innerRadius,U=V.outerRadius;return D.cloneElement(A,{polarAngles:Array.isArray(E)?E:Ks(V,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(R)?R:Ks(H,!0).map(function(F){return F.coordinate}),cx:L,cy:B,innerRadius:G,outerRadius:U,key:A.key||"polar-grid",radialLines:j})}),Ce(T,"renderLegend",function(){var A=T.state.formattedGraphicalItems,S=T.props,j=S.children,E=S.width,R=S.height,I=T.props.margin||{},O=E-(I.left||0)-(I.right||0),P=i6({children:j,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!P)return null;var H=P.item,V=Qj(P,Yye);return D.cloneElement(H,se(se({},V),{},{chartWidth:E,chartHeight:R,margin:I,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Ce(T,"renderTooltip",function(){var A,S=T.props,j=S.children,E=S.accessibilityLayer,R=or(j,Kn);if(!R)return null;var I=T.state,O=I.isTooltipActive,P=I.activeCoordinate,H=I.activePayload,V=I.activeLabel,L=I.offset,B=(A=R.props.active)!==null&&A!==void 0?A:O;return D.cloneElement(R,{viewBox:se(se({},L),{},{x:L.left,y:L.top}),active:B,label:V,payload:B?H:[],coordinate:P,accessibilityLayer:E})}),Ce(T,"renderBrush",function(A){var S=T.props,j=S.margin,E=S.data,R=T.state,I=R.offset,O=R.dataStartIndex,P=R.dataEndIndex,H=R.updateId;return D.cloneElement(A,{key:A.key||"_recharts-brush",onChange:up(T.handleBrushChange,A.props.onChange),data:E,x:de(A.props.x)?A.props.x:I.left,y:de(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(j.bottom||0),width:de(A.props.width)?A.props.width:I.width,startIndex:O,endIndex:P,updateId:"brush-".concat(H)})}),Ce(T,"renderReferenceElement",function(A,S,j){if(!A)return null;var E=T,R=E.clipPathId,I=T.state,O=I.xAxisMap,P=I.yAxisMap,H=I.offset,V=A.type.defaultProps||{},L=A.props,B=L.xAxisId,G=B===void 0?V.xAxisId:B,U=L.yAxisId,F=U===void 0?V.yAxisId:U;return D.cloneElement(A,{key:A.key||"".concat(S,"-").concat(j),xAxis:O[G],yAxis:P[F],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:R})}),Ce(T,"renderActivePoints",function(A){var S=A.item,j=A.activePoint,E=A.basePoint,R=A.childIndex,I=A.isRange,O=[],P=S.props.key,H=S.item.type.defaultProps!==void 0?se(se({},S.item.type.defaultProps),S.item.props):S.item.props,V=H.activeDot,L=H.dataKey,B=se(se({index:R,dataKey:L,cx:j.x,cy:j.y,r:4,fill:bS(S.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Te(V,!1)),Km(V));return O.push(y.renderActiveDot(V,B,"".concat(P,"-activePoint-").concat(R))),E?O.push(y.renderActiveDot(V,se(se({},B),{},{cx:E.x,cy:E.y}),"".concat(P,"-basePoint-").concat(R))):I&&O.push(null),O}),Ce(T,"renderGraphicChild",function(A,S,j){var E=T.filterFormatItem(A,S,j);if(!E)return null;var R=T.getTooltipEventType(),I=T.state,O=I.isTooltipActive,P=I.tooltipAxis,H=I.activeTooltipIndex,V=I.activeLabel,L=T.props.children,B=or(L,Kn),G=E.props,U=G.points,F=G.isRange,Y=G.baseLine,ee=E.item.type.defaultProps!==void 0?se(se({},E.item.type.defaultProps),E.item.props):E.item.props,z=ee.activeDot,ae=ee.hide,W=ee.activeBar,he=ee.activeShape,_e=!!(!ae&&O&&B&&(z||W||he)),Ie={};R!=="axis"&&B&&B.props.trigger==="click"?Ie={onClick:up(T.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(Ie={onMouseLeave:up(T.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:up(T.handleItemMouseEnter,A.props.onMouseEnter)});var ce=D.cloneElement(A,se(se({},E.props),Ie));function Ne(qt){return typeof P.dataKey=="function"?P.dataKey(qt.payload):null}if(_e)if(H>=0){var Z,Q;if(P.dataKey&&!P.allowDuplicatedCategory){var K=typeof P.dataKey=="function"?Ne:"payload.".concat(P.dataKey.toString());Z=Wm(U,K,V),Q=F&&Y&&Wm(Y,K,V)}else Z=U==null?void 0:U[H],Q=F&&Y&&Y[H];if(he||W){var X=A.props.activeIndex!==void 0?A.props.activeIndex:H;return[D.cloneElement(A,se(se(se({},E.props),Ie),{},{activeIndex:X})),null,null]}if(!Ue(Z))return[ce].concat(Rc(T.renderActivePoints({item:E,activePoint:Z,basePoint:Q,childIndex:H,isRange:F})))}else{var me,oe=(me=T.getItemByXY(T.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:ce},ke=oe.graphicalItem,Ye=ke.item,ct=Ye===void 0?A:Ye,nt=ke.childIndex,dt=se(se(se({},E.props),Ie),{},{activeIndex:nt});return[D.cloneElement(ct,dt),null,null]}return F?[ce,null,null]:[ce,null]}),Ce(T,"renderCustomized",function(A,S,j){return D.cloneElement(A,se(se({key:"recharts-customized-".concat(j)},T.props),T.state))}),Ce(T,"renderMap",{CartesianGrid:{handler:mp,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:mp},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:mp},YAxis:{handler:mp},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((N=_.id)!==null&&N!==void 0?N:Jc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=iL(T.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return ove(y,v),rve(y,[{key:"componentDidMount",value:function(){var N,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,C=N.children,T=N.data,A=N.height,S=N.layout,j=or(C,Kn);if(j){var E=j.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=u1(this.state,T,E,R),O=this.state.tooltipTicks[E].coordinate,P=(this.state.offset.top+A)/2,H=S==="horizontal",V=H?{x:O,y:P}:{y:O,x:P},L=this.state.formattedGraphicalItems.find(function(G){var U=G.item;return U.type.name==="Scatter"});L&&(V=se(se({},V),L.props.points[E].tooltipPosition),I=L.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:V};this.setState(B),this.renderCursor(j),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var T,A;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){Fb([or(N.children,Kn)],[or(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=or(this.props.children,Kn);if(N&&typeof N.props.shared=="boolean"){var C=N.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),A=uae(T),S={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},j=T.width/C.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,j);if(!E)return null;var R=this.state,I=R.xAxisMap,O=R.yAxisMap,P=this.getTooltipEventType(),H=eI(this.state,this.props.data,this.props.layout,E);if(P!=="axis"&&I&&O){var V=Ui(I).scale,L=Ui(O).scale,B=V&&V.invert?V.invert(S.chartX):null,G=L&&L.invert?L.invert(S.chartY):null;return se(se({},S),{},{xValue:B,yValue:G},H)}return H?se(se({},S),H):null}},{key:"inRange",value:function(N,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,S=N/T,j=C/T;if(A==="horizontal"||A==="vertical"){var E=this.state.offset,R=S>=E.left&&S<=E.left+E.width&&j>=E.top&&j<=E.top+E.height;return R?{x:S,y:j}:null}var I=this.state,O=I.angleAxisMap,P=I.radiusAxisMap;if(O&&P){var H=Ui(O);return CC({x:S,y:j},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,C=this.getTooltipEventType(),T=or(N,Kn),A={};T&&C==="axis"&&(T.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Km(this.props,this.handleOuterEvent);return se(se({},S),A)}},{key:"addListener",value:function(){uv.on(dv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uv.removeListener(dv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,C,T){for(var A=this.state.formattedGraphicalItems,S=0,j=A.length;S<j;S++){var E=A[S];if(E.item===N||E.props.key===N.key||C===Qs(E.item.type)&&T===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,C=this.state.offset,T=C.left,A=C.top,S=C.height,j=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:N},q.createElement("rect",{x:T,y:A,height:S,width:j})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(C,T){var A=Xj(T,2),S=A[0],j=A[1];return se(se({},C),{},Ce({},S,j.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(C,T){var A=Xj(T,2),S=A[0],j=A[1];return se(se({},C),{},Ce({},S,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var C=this.state,T=C.formattedGraphicalItems,A=C.activeItem;if(T&&T.length)for(var S=0,j=T.length;S<j;S++){var E=T[S],R=E.props,I=E.item,O=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,P=Qs(I.type);if(P==="Bar"){var H=(R.data||[]).find(function(G){return Jhe(N,G)});if(H)return{graphicalItem:E,payload:H}}else if(P==="RadialBar"){var V=(R.data||[]).find(function(G){return CC(N,G)});if(V)return{graphicalItem:E,payload:V}}else if(Sx(E,A)||Ex(E,A)||Rf(E,A)){var L=$me({graphicalItem:E,activeTooltipItem:A,itemData:O.data}),B=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:se(se({},E),{},{childIndex:B}),payload:Rf(E,A)?O.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var N=this;if(!vA(this))return null;var C=this.props,T=C.children,A=C.className,S=C.width,j=C.height,E=C.style,R=C.compact,I=C.title,O=C.desc,P=Qj(C,Jye),H=Te(P,!1);if(R)return q.createElement(Mj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Bb,vl({},H,{width:S,height:j,title:I,desc:O}),this.renderClipPath(),wA(T,this.renderMap)));if(this.props.accessibilityLayer){var V,L;H.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,H.role=(L=this.props.role)!==null&&L!==void 0?L:"application",H.onKeyDown=function(G){N.accessibilityManager.keyboardEvent(G)},H.onFocus=function(){N.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return q.createElement(Mj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",vl({className:Ve("recharts-wrapper",A),style:se({position:"relative",cursor:"default",width:S,height:j},E)},B,{ref:function(U){N.container=U}}),q.createElement(Bb,vl({},H,{width:S,height:j,title:I,desc:O,style:hve}),this.renderClipPath(),wA(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Ce(b,"displayName",n),Ce(b,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ce(b,"getDerivedStateFromProps",function(v,y){var _=v.dataKey,N=v.data,C=v.children,T=v.width,A=v.height,S=v.layout,j=v.stackOffset,E=v.margin,R=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var O=tI(v);return se(se(se({},O),{},{updateId:0},x(se(se({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:N,prevWidth:T,prevHeight:A,prevLayout:S,prevStackOffset:j,prevMargin:E,prevChildren:C})}if(_!==y.prevDataKey||N!==y.prevData||T!==y.prevWidth||A!==y.prevHeight||S!==y.prevLayout||j!==y.prevStackOffset||!Ml(E,y.prevMargin)){var P=tI(v),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=se(se({},eI(y,N,S)),{},{updateId:y.updateId+1}),L=se(se(se({},P),H),V);return se(se(se({},L),x(se({props:v},L),y)),{},{prevDataKey:_,prevData:N,prevWidth:T,prevHeight:A,prevLayout:S,prevStackOffset:j,prevMargin:E,prevChildren:C})}if(!Fb(C,y.prevChildren)){var B,G,U,F,Y=or(C,Nc),ee=Y&&(B=(G=Y.props)===null||G===void 0?void 0:G.startIndex)!==null&&B!==void 0?B:R,z=Y&&(U=(F=Y.props)===null||F===void 0?void 0:F.endIndex)!==null&&U!==void 0?U:I,ae=ee!==R||z!==I,W=!Ue(N),he=W&&!ae?y.updateId:y.updateId+1;return se(se({updateId:he},x(se(se({props:v},y),{},{updateId:he,dataStartIndex:ee,dataEndIndex:z}),y)),{},{prevChildren:C,dataStartIndex:ee,dataEndIndex:z})}return null}),Ce(b,"renderActiveDot",function(v,y,_){var N;return D.isValidElement(v)?N=D.cloneElement(v,y):je(v)?N=v(y):N=q.createElement(vx,y),q.createElement(Ke,{className:"recharts-active-dot",key:_},N)});var w=D.forwardRef(function(y,_){return q.createElement(b,vl({},y,{ref:_}))});return w.displayName=b.displayName,w},P$=IS({chartName:"BarChart",GraphicalChild:es,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ga},{axisType:"yAxis",AxisComp:xa}],formatAxisMap:K6}),Nve=IS({chartName:"PieChart",GraphicalChild:wi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nx},{axisType:"radiusAxis",AxisComp:wx}],formatAxisMap:ade,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),R$=IS({chartName:"AreaChart",GraphicalChild:as,axisComponents:[{axisType:"xAxis",AxisComp:ga},{axisType:"yAxis",AxisComp:xa}],formatAxisMap:K6});const Sve=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Eve=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:Dm,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:C5,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:_s,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:Qd,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:is,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Is,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:_s,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:In,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(rf,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>a.jsxs("button",{onClick:()=>t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[a.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),a.jsx(Bc,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(xd,{width:"100%",height:"100%",children:a.jsxs(R$,{data:Sve,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx($f,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ga,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(xa,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(Kn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(as,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(as,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ef,{className:"w-6 h-6 text-orange-500"}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),a.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?a.jsx(nn,{className:"w-4 h-4 text-green-400"}):a.jsx($0,{className:"w-4 h-4 text-orange-500"})]},r))}),a.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[a.jsx(pa,{className:"w-4 h-4"})," Aadir Requisito"]})]}),a.jsx(Bm,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(_s,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[a.jsx(sc,{className:"w-5 h-5 text-orange-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Tve=20,Ave=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:s,fetchProductsPaginatedAndFiltered:i}=Ot(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,x]=D.useState(!1),[b,w]=D.useState([]),[v,y]=D.useState(null),[_,N]=D.useState(!0),[C,T]=D.useState(!1),A=D.useRef(null),[S,j]=D.useState(null),[E,R]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[I,O]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[P,H]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[V,L]=D.useState({isFractionable:!1,saleUnitConversionFactor:1}),[B,G]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),U=D.useCallback(async(W=!1,he=o,_e=v)=>{T(!0);try{const Ie={limit:Tve,searchTerm:he.toLowerCase().trim(),startAfterDoc:W?void 0:_e,orderByField:"name",orderDirection:"asc"},{products:ce,lastVisible:Ne,hasMore:Z}=await i(Ie);w(Q=>W?ce:[...Q,...ce]),y(Ne),N(Z)}catch(Ie){console.error("Error loading products:",Ie)}finally{T(!1)}},[o,v,i]);D.useEffect(()=>{t||U(!0,o,null)},[o,t,U]);const F=q.useMemo(()=>{let W=I.baseCost;I.discounts.forEach(ce=>{ce>0&&(W=W*(1-ce/100))});const he=W*(1+I.markup/100),_e=he*(1+I.ivaRate/100),Ie=V.isFractionable&&V.saleUnitConversionFactor?_e*V.saleUnitConversionFactor:_e;return{netCost:W,priceWithoutIva:he,finalSalePricePrimaryUnit:_e,finalSalePriceSaleUnit:Ie}},[I,V]),Y=()=>{j(null),R({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),H({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),L({isFractionable:!1,saleUnitConversionFactor:1}),G({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},ee=W=>{j(W),W?(R({name:W.name,sku:W.sku,category:W.category,brand:W.brand,saleCurrency:W.saleCurrency||"ARS",supplierProductCode:W.supplierProductCode||"",imageUrl:W.imageUrl||"",primaryUnit:W.primaryUnit||"unidad",saleUnit:W.saleUnit||"unidad"}),O({baseCost:W.costPrice||0,ivaRate:21,discounts:[],markup:W.salePrice&&W.costPrice?(W.salePrice/(W.costPrice*1.21)-1)*100:30,supplierId:W.supplierId||"",purchaseCurrency:W.purchaseCurrency||"ARS"}),H({stock:W.stock,minStock:W.minStock||5,location:W.location||"",reorderPoint:W.reorderPoint||0,targetStock:W.targetStock||0,packQuantity:W.packQuantity||1}),L({isFractionable:W.isFractionable||!1,saleUnitConversionFactor:W.saleUnitConversionFactor||1}),G({isOnline:W.isOnline||!1,onlinePriceAdjustment:W.onlinePriceAdjustment||0,mlSync:W.mlSync||!1})):Y(),u(!0)},z=W=>{var _e;const he=(_e=W.target.files)==null?void 0:_e[0];if(he){const Ie=new FileReader;Ie.onload=ce=>{R(Ne=>{var Z;return{...Ne,imageUrl:(Z=ce.target)==null?void 0:Z.result}})},Ie.readAsDataURL(he)}},ae=async()=>{if(x(!0),!E.name||!E.sku||!E.primaryUnit||!E.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),x(!1);return}if(I.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),x(!1);return}if(V.isFractionable&&(V.saleUnitConversionFactor===void 0||V.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),x(!1);return}const W={sku:E.sku||"",name:E.name||"",supplierId:I.supplierId||"",costPrice:I.baseCost,salePrice:F.finalSalePricePrimaryUnit,stock:P.stock,category:E.category||"General",brand:E.brand||"N/A",reorderPoint:P.reorderPoint,targetStock:P.targetStock,packQuantity:P.packQuantity,purchaseCurrency:I.purchaseCurrency,saleCurrency:E.saleCurrency||"ARS",supplierProductCode:E.supplierProductCode||"",minStock:P.minStock,location:P.location,imageUrl:E.imageUrl,primaryUnit:E.primaryUnit,saleUnit:E.saleUnit,isFractionable:V.isFractionable,saleUnitConversionFactor:V.isFractionable?V.saleUnitConversionFactor:void 0,isOnline:B.isOnline,onlinePriceAdjustment:B.isOnline?B.onlinePriceAdjustment:void 0,mlSync:B.mlSync};try{S?await n(S.id,W):await e(W),u(!1),Y(),U(!0)}catch(he){alert("Error al guardar"),console.error("Error saving product:",he)}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),a.jsxs("button",{onClick:()=>{ee(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[a.jsx(tt,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:o,onChange:W=>l(W.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",E.primaryUnit,")"]}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",E.saleUnit,")"]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(W=>{var he;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:W.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:W.sku})]}),a.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[W.stock," ",W.primaryUnit]}),a.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(he=W.salePrice)==null?void 0:he.toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right font-black",children:W.isFractionable&&W.saleUnitConversionFactor&&W.salePrice?`$${(W.salePrice*W.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("button",{onClick:()=>ee(W),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(di,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(W.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(yn,{className:"w-4 h-4"})})]})]},W.id)})})]}),C&&a.jsxs("div",{className:"p-10 text-center",children:[a.jsx(Le,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[a.jsx("h2",{className:"text-xl font-black uppercase",children:S?"Editar Producto":"Nuevo Producto"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[600px]",children:[" ",a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:sc},{id:"costs",label:"Costos y Precios",icon:In},{id:"inventory",label:"Inventario Fsico",icon:Hm},{id:"fractioned",label:"Venta Fraccionada",icon:bo},{id:"ecommerce",label:"E-commerce",icon:vo}].map(W=>a.jsxs("button",{onClick:()=>f(W.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===W.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[a.jsx(W.icon,{className:"w-4 h-4 inline-block mr-2"}),W.label]},W.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(sc,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:E.name||"",onChange:W=>R({...E,name:W.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:E.sku||"",onChange:W=>R({...E,sku:W.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:E.primaryUnit||"unidad",onChange:W=>R({...E,primaryUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:E.saleUnit||"unidad",onChange:W=>R({...E,saleUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),a.jsx("input",{value:E.category||"",onChange:W=>R({...E,category:W.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsx("input",{value:E.brand||"",onChange:W=>R({...E,brand:W.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),a.jsx("input",{value:E.supplierProductCode||"",onChange:W=>R({...E,supplierProductCode:W.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),a.jsxs("select",{value:E.saleCurrency||"ARS",onChange:W=>R({...E,saleCurrency:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Db,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:[E.imageUrl?a.jsx("img",{src:E.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):a.jsx(Db,{className:"w-8 h-8 text-slate-300"}),E.imageUrl&&a.jsx("button",{onClick:()=>R(W=>({...W,imageUrl:""})),className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(qe,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{var W;return(W=A.current)==null?void 0:W.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Gm,{className:"w-4 h-4"})," Subir Imagen"]}),a.jsx("input",{ref:A,type:"file",className:"hidden",accept:"image/*",onChange:z}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"Formatos: JPG, PNG. Max 2MB."})]})]})]})]}),d==="costs"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(In,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) (",E.primaryUnit,") ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:I.baseCost||"",onChange:W=>O({...I,baseCost:Number(W.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Porcentaje de IVA (%)"}),a.jsx("input",{type:"number",value:I.ivaRate||"",onChange:W=>O({...I,ivaRate:Number(W.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(wN,{className:"w-4 h-4 text-blue-600"})," Descuentos en Cascada"]}),a.jsx("p",{className:"text-[10px] text-slate-500 italic ml-1",children:"Aplica descuentos sucesivos al costo base (ej: 10% + 5% + 2%)."}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:I.discounts.map((W,he)=>a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:W||"",onChange:_e=>{const Ie=[...I.discounts];Ie[he]=Number(_e.target.value),O({...I,discounts:Ie})},placeholder:"%",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-center"}),W>0&&a.jsx("button",{onClick:()=>{const _e=I.discounts.filter((Ie,ce)=>ce!==he);O({...I,discounts:_e.concat(0).slice(0,3)})},className:"absolute top-1/2 right-2 -translate-y-1/2 p-1 text-red-500 hover:text-red-700",children:a.jsx(qe,{className:"w-4 h-4"})})]},he))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen de Ganancia (Markup %)"}),a.jsx("input",{type:"number",value:I.markup||"",onChange:W=>O({...I,markup:Number(W.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),a.jsxs("select",{value:I.supplierId||"",onChange:W=>O({...I,supplierId:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Ninguno"}),s.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Compra"}),a.jsxs("select",{value:I.purchaseCurrency||"ARS",onChange:W=>O({...I,purchaseCurrency:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Precio de Venta Sugerido (IVA Incl.) por ",E.primaryUnit]}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",F.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(F5,{className:"w-4 h-4"}),a.jsxs("span",{children:["Margen Neto: ",I.markup,"%"]})]}),V.isFractionable&&V.saleUnitConversionFactor&&a.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Precio por ",E.saleUnit," (Fraccionada)"]}),a.jsxs("p",{className:"text-2xl font-black text-white",children:["$",F.finalSalePriceSaleUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx(In,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Hm,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Actual (",E.primaryUnit,")"]}),a.jsx("input",{type:"number",value:P.stock||"",onChange:W=>H({...P,stock:Number(W.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Mnimo de Alerta (",E.primaryUnit,")"]}),a.jsx("input",{type:"number",value:P.minStock||"",onChange:W=>H({...P,minStock:Number(W.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin en Depsito"}),a.jsx("input",{value:P.location||"",onChange:W=>H({...P,location:W.target.value}),placeholder:"Ej: A-05-Estante 2",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Punto de Reorden (",E.primaryUnit,")"]}),a.jsx("input",{type:"number",value:P.reorderPoint||"",onChange:W=>H({...P,reorderPoint:Number(W.target.value)}),placeholder:"10",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Deseado (",E.primaryUnit,")"]}),a.jsx("input",{type:"number",value:P.targetStock||"",onChange:W=>H({...P,targetStock:Number(W.target.value)}),placeholder:"20",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Cantidad por Bulto/Pack (",E.primaryUnit,")"]}),a.jsx("input",{type:"number",value:P.packQuantity||"",onChange:W=>H({...P,packQuantity:Number(W.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(bo,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada (por unidad de medida)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Permite vender este producto en unidades diferentes a su unidad primaria de stock (ej. comprar en m2, vender en tablas)."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:V.isFractionable||!1,onChange:W=>L({...V,isFractionable:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Venta Fraccionada"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'Si est activo, podrs vender por la "Unidad de Venta" configurada en el tab General, que es diferente a la "Unidad Primaria" de stock.'})]})]}),V.isFractionable&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin: 1 ",E.saleUnit," equivale a... (",E.primaryUnit,") ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:V.saleUnitConversionFactor||"",onChange:W=>L({...V,saleUnitConversionFactor:Number(W.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"bg-purple-50 p-6 rounded-[2rem] border border-purple-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-purple-900",children:"Ejemplo: Madera"}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Si la unidad primaria es 'm2' y la unidad de venta es 'tabla', y 1 tabla equivale a 0.43 m2, ingresa `0.43`."})]})]})]})]}),d==="ecommerce"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(vo,{className:"w-4 h-4 text-yellow-600"})," Configuracin E-Commerce"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la presencia online de este producto en tu tienda web y MercadoLibre."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.isOnline||!1,onChange:W=>G({...B,isOnline:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar en Tienda Web Propia"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, el producto aparecer en tu tienda online."})]})]}),B.isOnline&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajuste de Precio Online (%)"}),a.jsx("input",{type:"number",value:B.onlinePriceAdjustment||"",onChange:W=>G({...B,onlinePriceAdjustment:Number(W.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ej: +5% para cubrir costos de pasarela de pago."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sincronizar con MercadoLibre"}),a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.mlSync||!1,onChange:W=>G({...B,mlSync:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-yellow-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase flex items-center gap-2",children:[a.jsx(rf,{className:"w-4 h-4 text-yellow-500"}),"ML Auto-Sync"]})})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-6 rounded-[2rem] border border-yellow-100 flex items-start gap-4",children:[a.jsx(_s,{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"MercadoLibre:"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"La sincronizacin de precios y stock con ML se configura en el mdulo de E-commerce."})]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ae,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[h?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),h?"Guardando...":"Guardar Producto"]})]})]})})]})},kve=()=>{const{addSale:t,addOrder:e,fetchProductsPaginatedAndFiltered:n,clients:r,updateProduct:s}=Ot(),[i,o]=D.useState(""),[l,c]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,b]=D.useState(!1),[w,v]=D.useState({name:"",price:0,quantity:1}),[y,_]=D.useState(null),[N,C]=D.useState(""),[T,A]=D.useState(!1),[S,j]=D.useState("ticket"),[E,R]=D.useState([]),[I,O]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""}),[P,H]=D.useState([]),[V,L]=D.useState(!1),[B,G]=D.useState(null),[U,F]=D.useState("primary"),Y=D.useRef(null),ee=D.useCallback(K=>{Y.current&&clearTimeout(Y.current),Y.current=setTimeout(async()=>{if(K.length<2){H([]);return}L(!0);try{const{products:X}=await n({limit:8,searchTerm:K.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});H(X)}finally{L(!1)}},300)},[n]),z=K=>{K.isFractionable&&K.saleUnitConversionFactor&&K.saleUnit!==K.primaryUnit?(G(K),F("primary")):(W(K,K.primaryUnit),G(null))},ae=()=>{if(B&&U){let K=B.primaryUnit;U!=="primary"&&(K=B.saleUnit),W(B,K),G(null),F("primary")}},W=(K,X)=>{let me=K.salePrice,oe=1;X===K.saleUnit&&K.isFractionable&&K.saleUnitConversionFactor&&(me=K.salePrice*K.saleUnitConversionFactor,oe=K.saleUnitConversionFactor);const ke=l.findIndex(Ye=>Ye.id===K.id&&Ye.selectedSaleUnit===X);c(ke!==-1?l.map((Ye,ct)=>ct===ke?{...Ye,quantity:Ye.quantity+1}:Ye):[...l,{id:K.id,sku:K.sku,name:K.name,brand:K.brand,price:parseFloat(me.toFixed(2)),quantity:1,stockBeforeSale:K.stock,primaryUnit:K.primaryUnit,selectedSaleUnit:X,saleUnitConversionFactor:oe}]),o(""),H([]),G(null)},he=()=>{if(!w.name||w.price<=0)return;const K={id:`manual-${Date.now()}`,sku:"MANUAL",name:w.name,brand:"Venta Libre",price:w.price,quantity:w.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1};c([...l,K]),h(!1),v({name:"",price:0,quantity:1})},_e=l.reduce((K,X)=>K+X.price*X.quantity,0),Ie=E.reduce((K,X)=>K+X.amount,0),ce=_e-Ie,Ne=D.useMemo(()=>N?r.filter(K=>{var X;return K.name.toLowerCase().includes(N.toLowerCase())||K.cuit.includes(N)||((X=K.email)==null?void 0:X.toLowerCase().includes(N.toLowerCase()))}).slice(0,5):[],[r,N]),Z=()=>{if(!(I.amount<=0)){if((I.method==="cheque"||I.method==="echeq")&&(!I.bank||!I.checkNumber||!I.dueDate)){alert("Por favor, completa los datos del cheque (Banco, Nmero y Vencimiento).");return}R([...E,{...I,id:Date.now().toString()}]),O({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""})}},Q=async()=>{if(S!=="presupuesto"&&Math.abs(ce)>.01){alert(`Falta cubrir $${ce.toLocaleString()} del total.`);return}b(!0);try{const K=[],X=[];for(const oe of l)if(K.push({id:oe.id,sku:oe.sku,name:oe.name,brand:oe.brand,price:oe.price,quantity:oe.quantity,subtotal:parseFloat((oe.price*oe.quantity).toFixed(2)),isManual:oe.isManual,selectedSaleUnit:oe.selectedSaleUnit}),!oe.isManual&&S!=="presupuesto"){const ke=oe.quantity*oe.saleUnitConversionFactor;X.push(s(oe.id,{stock:oe.stockBeforeSale-ke}))}await Promise.all(X);const me={clientName:(y==null?void 0:y.name)||"Mostrador",clientId:(y==null?void 0:y.id)||null,items:K,total:_e,paymentDetails:E,docType:S,date:new Date().toISOString(),status:S==="presupuesto"?"pendiente":"completado",seller:"Vendedor Demo",remitoIds:[]};S==="presupuesto"?(await e({clientId:(y==null?void 0:y.id)||"mostrador",clientName:(y==null?void 0:y.name)||"Mostrador",items:l.map(oe=>({productId:oe.id,sku:oe.sku,name:oe.name,brand:oe.brand,quantity:oe.quantity,unitPrice:oe.price,subtotal:oe.price*oe.quantity,originalProduct:null,selectedSaleUnit:oe.selectedSaleUnit})),total:_e,status:"pendiente_preparacion",dateCreated:new Date().toISOString()}),alert("Presupuesto guardado con xito.")):(await t(me),alert(`Operacin "${S.toUpperCase()}" finalizada con xito.`)),c([]),d(!1),R([]),_(null),C("")}catch(K){console.error(K),alert("Error al procesar la operacin.")}finally{b(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Punto de venta integrado con stock y AFIP."})]}),a.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2 border border-slate-200",children:[a.jsx(pa,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por nombre, SKU o escanea cdigo...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:i,onChange:K=>{o(K.target.value),ee(K.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[V&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(Le,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),P.map(K=>a.jsxs("div",{onClick:()=>z(K),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(U5,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:K.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[K.sku,"  Stock: ",a.jsxs("span",{className:K.stock<(K.reorderPoint||0)?"text-red-500":"text-green-600",children:[K.stock," ",K.primaryUnit]})]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",K.salePrice.toLocaleString()," / ",K.primaryUnit]})]},K.id)),!V&&i.length>2&&P.length===0&&a.jsx("div",{className:"col-span-2 py-10 text-center text-slate-400 font-medium italic",children:"No se encontraron productos."})]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Cliente de la Venta"}),a.jsx("div",{className:"relative",children:y?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(so,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:y.name}),a.jsx("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest truncate",children:y.cuit})]})]}),a.jsx("button",{onClick:()=>_(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(qe,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente (Nombre o CUIT)...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:N,onChange:K=>{C(K.target.value),A(!0)},onFocus:()=>A(!0)}),T&&N.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden animate-in fade-in slide-in-from-top-2",children:a.jsxs("div",{className:"p-1 space-y-1",children:[Ne.map(K=>a.jsxs("button",{onClick:()=>{_(K),C(""),A(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between group transition-all text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-600 transition-colors",children:a.jsx(so,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-xs",children:K.name}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:K.cuit})]})]}),a.jsx(As,{className:"w-3 h-3 text-slate-300 group-hover:text-orange-500"})]},K.id)),Ne.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron clientes"}),a.jsxs("button",{onClick:()=>{_(null),C(""),A(!1)},className:"w-full p-3 border-t border-slate-50 hover:bg-slate-50 rounded-xl flex items-center gap-3 text-slate-500 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(Is,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-xs",children:"Usar Cliente Mostrador"})]})]})})]})})]}),a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(oc,{className:"w-5 h-5 text-orange-600"})," Carrito"]}),a.jsx("button",{onClick:()=>c([]),className:"text-[10px] font-black uppercase text-red-500 hover:underline",children:"Vaciar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:l.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 space-y-4",children:[a.jsx(oc,{className:"w-16 h-16"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-widest text-center",children:"Sin artculos"})]}):l.map((K,X)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:K.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:K.quantity,onChange:me=>{const oe=parseFloat(me.target.value)||0;c(l.map((ke,Ye)=>Ye===X?{...ke,quantity:oe}:ke))},className:"w-20 bg-transparent font-black text-orange-600 outline-none",step:"0.01"}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["x $",K.price.toLocaleString()," /",K.selectedSaleUnit]})]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",(K.price*K.quantity).toLocaleString()]}),a.jsx("button",{onClick:()=>c(l.filter((me,oe)=>oe!==X)),className:"p-1 text-slate-300 hover:text-red-500",children:a.jsx(yn,{className:"w-4 h-4"})})]})]},`${K.id}-${K.selectedSaleUnit}`))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total Cobrar"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",_e.toLocaleString()]})]}),a.jsxs("button",{disabled:l.length===0,onClick:()=>d(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl shadow-orange-600/20 hover:bg-orange-500 active:scale-95 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(As,{className:"w-6 h-6"})]})]})]})]}),B&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-xl flex items-center justify-center",children:a.jsx(bo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-slate-900",children:"Seleccionar Unidad"}),a.jsx("p",{className:"text-sm font-medium text-orange-700",children:B.name})]})]}),a.jsx("button",{onClick:()=>G(null),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(qe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"En qu unidad deseas vender?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"unitSelection",value:"primary",checked:U==="primary",onChange:()=>F("primary"),className:"form-radio h-5 w-5 text-orange-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-slate-800 text-sm",children:[B.primaryUnit," (Stock)"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["$",B.salePrice.toLocaleString()," / ",B.primaryUnit]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-2xl border border-orange-200 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"unitSelection",value:B.saleUnit,checked:U===B.saleUnit,onChange:()=>F(B.saleUnit),className:"form-radio h-5 w-5 text-orange-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-bold text-orange-900 text-sm",children:[B.saleUnit," (Fraccionado)"]}),a.jsxs("p",{className:"text-xs text-orange-700",children:["$",((B.salePrice||0)*(B.saleUnitConversionFactor||1)).toLocaleString()," / ",B.saleUnit,a.jsxs("span",{className:"ml-1 text-slate-500 text-[10px] italic",children:[" (1 ",B.saleUnit," = ",B.saleUnitConversionFactor," ",B.primaryUnit,")"]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex gap-3",children:[a.jsx("button",{onClick:()=>G(null),className:"flex-1 py-3 bg-white border border-slate-200 rounded-xl font-black text-slate-500 uppercase text-xs",children:"Cancelar"}),a.jsx("button",{onClick:ae,className:"flex-1 py-3 bg-orange-600 text-white rounded-xl font-black shadow-lg hover:bg-orange-500 uppercase text-xs",children:"Confirmar"})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Venta"}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(qe,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(so,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"text-xl font-black text-slate-800",children:(y==null?void 0:y.name)||"Mostrador"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:(y==null?void 0:y.cuit)||"Sin CUIT registrado"})]})]}),a.jsx("button",{onClick:()=>{d(!1),A(!0)},className:"text-blue-600 text-xs font-black uppercase hover:underline",children:"Cambiar"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Comprobante"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{id:"ticket",label:"Ticket",icon:_N},{id:"factura_a",label:"Fact. A",icon:nA},{id:"factura_b",label:"Fact. B",icon:nA},{id:"remito",label:"Remito",icon:vN},{id:"presupuesto",label:"Presup.",icon:tf}].map(K=>a.jsxs("button",{onClick:()=>j(K.id),className:`p-4 border-2 rounded-2xl flex flex-col items-center gap-2 transition-all ${S===K.id?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"}`,children:[a.jsx(K.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:K.label})]},K.id))})]}),S!=="presupuesto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:E.map(K=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:K.method.replace("_"," ")}),(K.method==="cheque"||K.method==="echeq")&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[K.bank," #",K.checkNumber," - Vence: ",K.dueDate]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",K.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>R(E.filter(X=>X.id!==K.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(yn,{className:"w-4 h-4"})})]})]},K.id))}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-3 border border-slate-200 rounded-xl font-bold",value:I.method,onChange:K=>O({...I,method:K.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque Fsico"}),a.jsx("option",{value:"echeq",children:"E-Cheq"}),a.jsx("option",{value:"cuenta_corriente",disabled:!y,children:"Cta. Corriente"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",placeholder:"Monto",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold",value:I.amount||"",onChange:K=>O({...I,amount:parseFloat(K.target.value)||0})})]})]}),(I.method==="cheque"||I.method==="echeq")&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Banco"}),a.jsxs("div",{className:"relative",children:[a.jsx(v7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400"}),a.jsx("input",{placeholder:"Ej: Galicia",className:"w-full pl-8 pr-3 py-2 border rounded-lg text-xs font-bold",value:I.bank,onChange:K=>O({...I,bank:K.target.value})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"N Cheque"}),a.jsx("input",{placeholder:"000123",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:I.checkNumber,onChange:K=>O({...I,checkNumber:K.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Vencimiento"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:I.dueDate,onChange:K=>O({...I,dueDate:K.target.value})})]})]}),a.jsxs("button",{onClick:Z,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(tt,{className:"w-4 h-4"})," Registrar Pago"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Resumen"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:S.replace("_"," ")})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"Neto Gravado"}),a.jsxs("span",{children:["$",(_e/1.21).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",(_e-_e/1.21).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-4",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",_e.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Pagado:"}),a.jsxs("span",{className:"text-green-400",children:["$",Ie.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center font-black text-lg",children:[a.jsx("span",{className:"text-slate-400 uppercase text-xs tracking-widest",children:"Restante:"}),a.jsxs("span",{className:ce>0?"text-red-500":"text-orange-500",children:["$",ce.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[Math.abs(ce)>.01&&S!=="presupuesto"&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[a.jsx(ui,{className:"w-5 h-5 text-red-500"}),a.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase leading-tight",children:"El pago debe cubrir el 100%."})]}),a.jsxs("button",{onClick:Q,disabled:x||S!=="presupuesto"&&Math.abs(ce)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-orange-600/40 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[x?a.jsx(Le,{className:"w-6 h-6"}):a.jsx(nn,{className:"w-6 h-6"}),x?"CONFIRMANDO...":"FINALIZAR"]})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>h(!1),children:a.jsx(qe,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:w.name,onChange:K=>v({...w,name:K.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Descripcin del servicio/item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:w.price||"",onChange:K=>v({...w,price:parseFloat(K.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cant."}),a.jsx("input",{type:"number",value:w.quantity,onChange:K=>v({...w,quantity:parseInt(K.target.value)||1}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsx("button",{onClick:he,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest mt-4 shadow-lg active:scale-95",children:"Aadir al Carrito"})]})]})})]})};var rI;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(rI||(rI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sI;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(sI||(sI={}));var iI;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iI||(iI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=["user","model","function","system"];var oI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(oI||(oI={}));var lI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lI||(lI={}));var cI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cI||(cI={}));var uI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(uI||(uI={}));var Sd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Sd||(Sd={}));var dI;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(dI||(dI={}));var fI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(fI||(fI={}));var hI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hI||(hI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Yo extends Cn{constructor(e,n){super(e),this.response=n}}class M$ extends Cn{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class oa extends Cn{}class O$ extends Cn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cve="https://generativelanguage.googleapis.com",jve="v1beta",Ive="0.24.1",Pve="genai-js";var Ao;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ao||(Ao={}));class Rve{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||jve;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Cve}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Mve(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Pve}/${Ive}`),e.join(" ")}async function Ove(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Mve(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new oa(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new oa(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new oa(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function Dve(t,e,n,r,s,i){const o=new Rve(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Fve(i)),{method:"POST",headers:await Ove(o),body:s})}}async function ph(t,e,n,r,s,i={},o=fetch){const{url:l,fetchOptions:c}=await Dve(t,e,n,r,s,i);return Lve(l,c,o)}async function Lve(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){$ve(s,t)}return r.ok||await Uve(r,t),r}function $ve(t,e){let n=t;throw n.name==="AbortError"?(n=new O$(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof M$||t instanceof oa||(n=new Cn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Uve(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new M$(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Fve(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Hp(t.candidates[0]))throw new Yo(`${Ri(t)}`,t);return Vve(t)}else if(t.promptFeedback)throw new Yo(`Text not available. ${Ri(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hp(t.candidates[0]))throw new Yo(`${Ri(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),pI(t)[0]}else if(t.promptFeedback)throw new Yo(`Function call not available. ${Ri(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hp(t.candidates[0]))throw new Yo(`${Ri(t)}`,t);return pI(t)}else if(t.promptFeedback)throw new Yo(`Function call not available. ${Ri(t)}`,t)},t}function Vve(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function pI(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const Bve=[Sd.RECITATION,Sd.SAFETY,Sd.LANGUAGE];function Hp(t){return!!t.finishReason&&Bve.includes(t.finishReason)}function Ri(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Hp(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Vf(t){return this instanceof Vf?(this.v=t,this):new Vf(t)}function qve(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(x){return new Promise(function(b,w){i.push([h,x,b,w])>1||l(h,x)})})}function l(h,x){try{c(r[h](x))}catch(b){f(i[0][3],b)}}function c(h){h.value instanceof Vf?Promise.resolve(h.value.v).then(u,d):f(i[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,x){h(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function zve(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Wve(e),[r,s]=n.tee();return{stream:Hve(r),response:Gve(s)}}async function Gve(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return PS(Kve(e));e.push(s)}}function Hve(t){return qve(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Vf(n.read());if(s)break;yield yield Vf(PS(r))}})}function Wve(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:l})=>{if(l){if(s.trim()){r.error(new Cn("Failed to parse stream"));return}r.close();return}s+=o;let c=s.match(mI),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new Cn(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),s=s.substring(c[0].length),c=s.match(mI)}return i()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new O$("Request aborted when reading from the stream"):l=new Cn("Error reading from the stream"),l})}}})}function Kve(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e,n,r){const s=await ph(e,Ao.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return zve(s)}async function L$(t,e,n,r){const i=await(await ph(e,Ao.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:PS(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Bf(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Yve(e)}function Yve(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new Cn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Cn("No content is provided for sending chat message.");return r?e:n}function Jve(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new oa("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=Bf(t);r.contents=[i]}return{generateContentRequest:r}}function gI(t){let e;return t.contents?e=t:e={contents:[Bf(t)]},t.systemInstruction&&(e.systemInstruction=$$(t.systemInstruction)),e}function Xve(t){return typeof t=="string"||Array.isArray(t)?{content:Bf(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Qve={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Zve(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new Cn(`First content should be with role 'user', got ${r}`);if(!aI.includes(r))throw new Cn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(aI)}`);if(!Array.isArray(s))throw new Cn("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Cn("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of xI)c in l&&(i[c]+=1);const o=Qve[r];for(const l of xI)if(!o.includes(l)&&i[l]>0)throw new Cn(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function yI(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="SILENT_ERROR";class ebe{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Zve(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,l,c;await this._sendPromise;const u=Bf(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n);let h;return this._sendPromise=this._sendPromise.then(()=>L$(this._apiKey,this.model,d,f)).then(x=>{var b;if(yI(x.response)){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(b=x.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(w)}else{const w=Ri(x.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}h=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,h}async sendMessageStream(e,n={}){var r,s,i,o,l,c;await this._sendPromise;const u=Bf(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n),h=D$(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(x=>{throw new Error(vI)}).then(x=>x.response).then(x=>{if(yI(x)){this._history.push(u);const b=Object.assign({},x.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=Ri(x);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(x=>{x.message!==vI&&console.error(x)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tbe(t,e,n,r){return(await ph(e,Ao.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nbe(t,e,n,r){return(await ph(e,Ao.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function rbe(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await ph(e,Ao.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=$$(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=gI(e),i=Object.assign(Object.assign({},this._requestOptions),n);return L$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=gI(e),i=Object.assign(Object.assign({},this._requestOptions),n);return D$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new ebe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Jve(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return tbe(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=Xve(e),s=Object.assign(Object.assign({},this._requestOptions),n);return nbe(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return rbe(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Cn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bI(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new oa("Cached content must contain a `name` field.");if(!e.model)throw new oa("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===c)continue}throw new oa(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new bI(this.apiKey,i,r)}}const U$=new sbe(""),ibe=async(t,e)=>{var n;try{const o=await(await U$.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent(['Analiza esta factura de ferretera y devuelve un JSON: { "invoiceNumber": string, "supplierName": string, "date": string, "items": [{ "description": string, "quantity": number, "unitPrice": number, "total": number, "sku": string }] }',{inlineData:{data:t,mimeType:e}}])).response;return JSON.parse(((n=o.text().match(/\{[\s\S]*\}/))==null?void 0:n[0])||"{}")}catch(r){throw console.error("Error en IA Compras:",r),r}},abe=async t=>{var e;try{const n=U$.getGenerativeModel({model:"gemini-pro"}),r=`Convierte este pedido de ferretera en un listado JSON: { "items": [{ "description": string, "quantity": number }] }. Texto: "${t}"`,i=await(await n.generateContent(r)).response;return JSON.parse(((e=i.text().match(/\{[\s\S]*\}/))==null?void 0:e[0])||'{"items":[]}')}catch(n){return console.error("Error en IA Cotizaciones:",n),{items:[]}}},obe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Ot(),n=D.useRef(null),[r,s]=D.useState("ia"),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),x=y=>{var N;const _=(N=y.target.files)==null?void 0:N[0];if(_){const C=new FileReader;C.onload=T=>{var A;d({name:_.name,type:_.type,preview:(A=T.target)==null?void 0:A.result})},C.readAsDataURL(_)}},b=async()=>{if(u){o(!0);try{const y=u.preview.split(",")[1],_=await ibe(y,u.type),N=await Promise.all(_.items.map(async C=>{const{products:T}=await e({limit:1,searchTerm:C.sku||C.description.split(" ")[0],orderByField:"name"});return{...C,matchedProduct:T[0]}}));h({invoiceNumber:_.invoiceNumber||"",supplierName:_.supplierName||"",date:_.date||new Date().toISOString().split("T")[0],items:N})}catch(y){console.error(y),alert("Error al procesar el documento con IA.")}finally{o(!1)}}},w=async()=>{c(!0);try{for(const y of f.items)if(y.matchedProduct){const _=(y.matchedProduct.stock||0)+y.quantity;await t(y.matchedProduct.id,{costPrice:y.unitPrice,stock:_})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),d(null)}finally{c(!1)}},v=f.items.reduce((y,_)=>y+_.unitPrice*_.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>s("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Bm,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(tt,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B5,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?a.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Or,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),a.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(qe,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:i,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[i?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Bm,{className:"w-5 h-5"}),i?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var y;return(y=n.current)==null?void 0:y.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Or,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:x})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(jr,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:f.supplierName,onChange:y=>h({...f,supplierName:y.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:f.invoiceNumber,onChange:y=>h({...f,invoiceNumber:y.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:f.date,onChange:y=>h({...f,date:y.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(U5,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(Db,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((y,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.description}),y.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(nn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",y.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(_s,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:y.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",y.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",y.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(yn,{className:"w-4 h-4"})})})]},_))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",v.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(v*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:w,disabled:l||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[l?a.jsx(Le,{className:"animate-spin w-6 h-6"}):a.jsx(Xt,{className:"w-6 h-6"}),l?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})};var lbe={};const wI=lbe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function cbe(t,e){if(await new Promise(n=>setTimeout(n,2e3)),e<=0)throw new Error("El importe a liquidar debe ser mayor a cero.");return{status:"success",cuil:"20-"+t.id+"-9",protocolNumber:"LSD-"+Math.floor(Math.random()*1e6),timestamp:new Date().toISOString(),message:"Liquidacin validada correctamente en Libro de Sueldos Digital."}}async function F$(t,e){await new Promise(s=>setTimeout(s,Math.random()*1500+500)),(wI.includes("DEMO_KEY")||wI.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const ube=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:s,deleteClient:i}=Ot(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[b,w]=D.useState(""),[v,y]=D.useState(!1);q.useEffect(()=>{n.length>0&&!h.priceListId&&x(I=>{var O,P;return{...I,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((P=n[0])==null?void 0:P.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}y(!0);try{const I=await F$(h.cuit,"client");x(O=>{var P,H;return{...O,name:I.name,email:I.email,whatsapp:I.phone,priceListId:((P=n.find(V=>V.isBase))==null?void 0:P.id)||((H=n[0])==null?void 0:H.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(I){alert(`Error al buscar CUIT en ARCA: ${I.message}`),console.error("ARCA CUIT Lookup Error:",I)}finally{y(!1)}},N=()=>{b.trim()&&(x(I=>({...I,authorizedPersons:[...I.authorizedPersons||[],b.trim()]})),w(""))},C=I=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(P=>P!==I)}))},T=async()=>{var I,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await s(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((I=n.find(P=>P.isBase))==null?void 0:I.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w("")}catch(P){alert("Error al guardar el cliente."),console.error(P)}},A=async I=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await i(I),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},S=I=>{var O,P;f(I),x(I||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((P=n[0])==null?void 0:P.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w(""),u("general"),l(!0)},j=()=>{t&&(l(!1),t("balances"))},E=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},R=I=>{var O;return I&&((O=n.find(P=>P.id===I))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(I=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:I.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:I.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(L5,{className:"w-4 h-4 text-slate-300"})," ",I.email]}),I.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(D7,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${I.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:I.balance<0?`DEBE $${Math.abs(I.balance).toLocaleString()}`:`SALDO $${I.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",I.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:I.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:I.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:j,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(Ns,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>S(I),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(Mb,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>A(I.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(yn,{className:"w-5 h-5"})})]})})]},I.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:$m}].map(I=>a.jsxs("button",{onClick:()=>u(I.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===I.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[I.icon&&a.jsx(I.icon,{className:"w-4 h-4 inline-block mr-2"})," ",I.label]},I.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:I=>x({...h,cuit:I.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:v,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:v?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:I=>x({...h,name:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:I=>x({...h,email:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:I=>x({...h,whatsapp:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:I=>x({...h,specialDiscount:Number(I.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:I=>x({...h,priceListId:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Lb,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(Lb,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:R(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:I=>x({...h,priceListId:I.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:I=>x({...h,specialDiscount:Number(I.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(q5,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:b,onChange:I=>w(I.target.value),onKeyPress:I=>{I.key==="Enter"&&N()}}),a.jsx("button",{onClick:N,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((I,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:I}),a.jsx("button",{onClick:()=>C(I),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(yn,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ns,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(ui,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(In,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(Mb,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:E,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(wN,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($m,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:I=>x({...h,pointsEnabled:I.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nf,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:I=>x({...h,accumulatedPoints:Number(I.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:T,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},dbe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Ot(),[s,i]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),b=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const C=await F$(c.cuit,"supplier");u(T=>({...T,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{x(!1)}},w=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),i(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},v=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(T){alert("Error al eliminar el proveedor."),console.error(T)}},y=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),i(!0)},_=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},N=C=>{u(T=>({...T,discounts:(T.discounts||[]).filter((A,S)=>S!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>y(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((T,A)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",T,"%"]},A)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>y(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(M7,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(yn,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(As,{className:"w-5 h-5"})})]})]},C.id))})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:b,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,T)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>N(T),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(qe,{className:"w-3 h-3"})})]},T))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},fbe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:s,addTransaction:i}=Ot(),[o,l]=D.useState("boxes"),[c,u]=D.useState({show:!1,type:null}),[d,f]=D.useState(!1),[h,x]=D.useState(!1),[b,w]=D.useState(null),[v,y]=D.useState(null),[_,N]=D.useState(!1),C=D.useMemo(()=>e.reduce((E,R)=>E+R.balance,0),[e]),T=D.useMemo(()=>e.filter(E=>E.type==="efectivo").reduce((E,R)=>E+R.balance,0),[e]),A=async E=>{E.preventDefault();const R=new FormData(E.currentTarget),I=parseFloat(R.get("amount")),O=R.get("boxId"),P=c.type,H=e.find(V=>V.id===O);if(!H){alert("Debes seleccionar una caja de origen.");return}try{await i({date:new Date().toISOString(),amount:I,type:P,boxId:O,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:I}]});const V=P==="egreso"?H.balance-I:H.balance+I;await r(O,{balance:V}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async E=>{E.preventDefault(),N(!0);const R=new FormData(E.currentTarget),I=R.get("name"),O=R.get("type"),P=R.get("responsible"),H=parseFloat(R.get("balance"))||0;try{v?await r(v.id,{name:I,type:O,responsible:P}):await n({name:I,type:O,responsible:P,balance:H,status:"abierta"}),x(!1),y(null)}finally{N(!1)}},j=async E=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await s(E)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[a.jsx(C5,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[a.jsx(f7,{className:"w-5 h-5"})," Ingreso Manual"]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>l("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),a.jsx("button",{onClick:()=>l("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",C.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(ac,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(In,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(Xd,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",T.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Um,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(E=>E.type==="banco").reduce((E,R)=>E+R.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Ns,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(E=>E.type==="virtual").reduce((E,R)=>E+R.balance,0).toLocaleString()]})]})]})]}),o==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(E=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${E.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:E.type==="banco"?a.jsx(Um,{className:"w-6 h-6"}):E.type==="virtual"?a.jsx(Ns,{className:"w-6 h-6"}):a.jsx(ma,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{y(E),x(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(di,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(E.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(yn,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:E.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",E.balance.toLocaleString()]}),E.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(Is,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:E.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{w(E),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(xN,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(p7,{className:"w-4 h-4"})," Transferir"]})]})]}),E.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",E.lastClosed]}),a.jsxs("button",{onClick:()=>r(E.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(tt,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},E.id)),a.jsxs("button",{onClick:()=>{y(null),x(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(tt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(is,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(jr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),a.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(I5,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(E=>{var R;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(E.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(E.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(I=>I.id===E.boxId))==null?void 0:R.name)||"Mostrador"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:E.category||"Varios"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:E.description})]}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${E.type==="egreso"?"text-red-600":"text-green-600"}`,children:[E.type==="egreso"?"-":"+","$",E.amount.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:a.jsx(qc,{className:"w-5 h-5"})})})]},E.id)})})]})})]}),c.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${c.type==="ingreso"?"bg-green-600":c.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Xd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",c.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),a.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[a.jsx("option",{value:"",children:"Elegir caja..."}),e.map(E=>a.jsxs("option",{value:E.id,children:[E.name," ($",E.balance.toLocaleString(),")"]},E.id))]}),a.jsx(Zd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",c.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"gasto",children:"Gasto General"}),a.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),a.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),a.jsx("option",{value:"venta",children:"Venta / Cobranza"}),a.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${c.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:v?"Editar Fondo":"Nueva Caja / Fondo"}),a.jsx("button",{onClick:()=>x(!1),children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),a.jsx("input",{name:"name",defaultValue:v==null?void 0:v.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:v==null?void 0:v.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!v&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:v==null?void 0:v.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),a.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:_?a.jsx(Le,{className:"animate-spin w-5 h-5 mx-auto"}):v?"Guardar Cambios":"Crear Fondo"})]})]})})]})},hbe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(s,i,o)=>{const l=new Blob([s],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const s=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const s=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(pl,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(xd,{width:"100%",height:"100%",children:a.jsxs(P$,{data:t,children:[a.jsx($f,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ga,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(xa,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{}),a.jsx(es,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(es,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(xN,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:Wa},{label:"Ranking de Productos",icon:is},{label:"Libro IVA Ventas (AFIP)",icon:Or},{label:"Libro IVA Compras",icon:Or},{label:"CITI IVA Ventas (AFIP)",icon:pl,action:n},{label:"CITI IVA Compras (AFIP)",icon:pl,action:r}].map((s,i)=>a.jsxs("button",{onClick:s.action||(()=>alert(`Generar reporte: ${s.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(s.icon,{className:"w-4 h-4"}),s.label]}),s.action?a.jsx(pl,{className:"w-4 h-4 text-slate-400"}):a.jsx(Zd,{className:"w-4 h-4 text-slate-300"})]},i))]})]})]})]})},pbe=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:s,setCompanyInfo:i})=>{const o=D.useRef(null),l=D.useRef(null),[c,u]=D.useState(t),[d,f]=D.useState(!1),{exportAllData:h,importAllData:x,deleteAllDocumentsInCollection:b}=Ot(),[w,v]=D.useState(!1),[y,_]=D.useState(!1),[N,C]=D.useState(!1),[T,A]=D.useState(!1),[S,j]=D.useState(!1),[E,R]=D.useState(""),[I,O]=D.useState(!1),[P,H]=D.useState(null),V="BORRARTODO",L="sistemsnova@gmail.com",[B,G]=D.useState("factura");if(D.useEffect(()=>{u(t)},[t]),!s||!s.printConfigs)return a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-slate-400",children:[a.jsx(Le,{className:"w-10 h-10 animate-spin mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando configuracin..."})]});const U=s.printConfigs[B],F=X=>{var oe;const me=(oe=X.target.files)==null?void 0:oe[0];if(me){const ke=new FileReader;ke.onload=Ye=>{i(ct=>{var nt;return{...ct,logo:(nt=Ye.target)==null?void 0:nt.result}})},ke.readAsDataURL(me)}},Y=X=>{const{name:me,value:oe,type:ke}=X.target,Ye=X.target.checked;i(ct=>({...ct,[me]:ke==="checkbox"?Ye:oe}))},ee=X=>{const{name:me,value:oe,type:ke}=X.target,Ye=X.target.checked;i(ct=>({...ct,arca:{...ct.arca,[me]:ke==="checkbox"?Ye:oe}}))},z=(X,me)=>{i(oe=>({...oe,printConfigs:{...oe.printConfigs,[B]:{...oe.printConfigs[B],[X]:me}}}))},ae=(X,me)=>{i(oe=>({...oe,printConfigs:{...oe.printConfigs,margins:{...oe.printConfigs[B].margins,[X]:me}}}))},W=()=>{f(!0),setTimeout(()=>{f(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},he=async(X,me)=>{_(!0),C(!1);try{await new Promise(oe=>setTimeout(oe,3e3)),console.log(`Backup "${me}" enviado exitosamente a ${L}`),C(!0)}catch(oe){console.error("Error al enviar backup por email:",oe)}finally{_(!1),setTimeout(()=>C(!1),5e3)}},_e=async()=>{v(!0);try{const me=await h(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks","remitos","boxes","installmentPlans"]),oe=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,ke=JSON.stringify(me,null,2),Ye=new Blob([ke],{type:"application/json"}),ct=URL.createObjectURL(Ye),nt=document.createElement("a");nt.href=ct,nt.download=oe,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(ct),await he(me,oe)}catch(X){console.error("Error al generar backup:",X),alert("Error al generar backup. Consulte la consola para ms detalles.")}finally{v(!1)}},Ie=async()=>{if(P){if(E!==V){alert("Debe ingresar la contrasea de seguridad para confirmar la restauracin total.");return}A(!0);try{const X=new FileReader;X.onload=async me=>{var oe;try{const ke=JSON.parse((oe=me.target)==null?void 0:oe.result);await x(ke),alert("Sistema restaurado al 100% con xito! La pgina se recargar para reflejar los cambios."),window.location.reload()}catch(ke){console.error("Error al procesar JSON de backup:",ke),alert("El archivo no tiene un formato de respaldo vlido."),A(!1)}},X.readAsText(P)}catch(X){console.error("Error al importar:",X),alert("Error al importar backup."),A(!1)}}},ce=async()=>{if(E!==V){alert("Contrasea de seguridad incorrecta.");return}j(!0),O(!1);try{const X=["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks","remitos","boxes","installmentPlans"];for(const me of X)await b(me);alert("Todos los datos han sido eliminados del sistema.")}catch(X){console.error("Error al eliminar todos los datos:",X),alert("Error al eliminar todos los datos. Consulte la consola para ms detalles.")}finally{j(!1),R("")}},Ne=()=>{let X=210,me=297,oe=1.2;if(!U)return{width:X,height:me,scale:oe};switch(U.pageSize){case"A5":X=148,me=210,oe=1.6;break;case"A6":X=105,me=148,oe=2;break;case"80mm":X=80,me=250,oe=1.8;break}return U.orientation==="landscape"?{width:me,height:X,scale:oe*.8}:{width:X,height:me,scale:oe}},{width:Z,height:Q,scale:K}=Ne();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>u("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(y7,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>u("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Rb,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>u("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Vm,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>u("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(tA,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>u("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Fm,{className:"w-5 h-5"})," Mdulos"]})]}),c==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:s.name,onChange:Y,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:s.cuit,onChange:Y,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Condicin IVA"}),a.jsxs("select",{name:"ivaCondition",value:s.ivaCondition,onChange:Y,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold bg-white",children:[a.jsx("option",{children:"Responsable Inscripto"}),a.jsx("option",{children:"Monotributista"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin"}),a.jsx("input",{name:"address",value:s.address,onChange:Y,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[s.logo?a.jsx("img",{src:s.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx(b7,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var X;return(X=o.current)==null?void 0:X.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Gm,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:F})]})]})})]}),c==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(V7,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${s.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"}),a.jsxs("div",{className:"space-y-4 bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Certificado:"}),a.jsx("span",{className:"text-green-400 font-black",children:"VLIDO"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Vencimiento:"}),a.jsx("span",{className:"text-white font-bold",children:new Date(s.arca.crtValidUntil).toLocaleDateString()})]})]})]})]}),a.jsxs("button",{onClick:W,disabled:d,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(ic,{className:`w-6 h-6 ${d?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(As,{className:"w-5 h-5 text-slate-300"})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Venta"}),a.jsx("input",{type:"number",name:"puntoVenta",value:s.arca.puntoVenta,onChange:ee,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ingresos Brutos"}),a.jsx("input",{name:"iibb",value:s.arca.iibb,onChange:ee,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-bold"})]})]})})})]})}),c==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(F7,{className:"w-4 h-4 text-purple-600"})," Comprobante a Configurar"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(X=>a.jsx("button",{onClick:()=>G(X),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${B===X?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:X},X))})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(k7,{className:"w-4 h-4 text-purple-600"})," Formato de Hoja"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tamao de Papel"}),a.jsxs("select",{value:U.pageSize,onChange:X=>z("pageSize",X.target.value),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-xl font-bold bg-white outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"A4",children:"A4 (Oficina)"}),a.jsx("option",{value:"A5",children:"A5 (Media Hoja)"}),a.jsx("option",{value:"A6",children:"A6 (1/4 A4 - Folleto)"}),a.jsx("option",{value:"80mm",children:"Ticket 80mm (Trmica)"}),a.jsx("option",{value:"58mm",children:"Ticket 58mm (Trmica)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Orientacin"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>z("orientation","portrait"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${U.orientation==="portrait"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Vertical"}),a.jsx("button",{onClick:()=>z("orientation","landscape"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${U.orientation==="landscape"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Horizontal"})]})]})]})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(A7,{className:"w-4 h-4 text-purple-600"})," Mrgenes (mm)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["top","bottom","left","right"].map(X=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest capitalize",children:X}),a.jsx("input",{type:"number",value:U.margins[X],onChange:me=>ae(X,parseInt(me.target.value)||0),className:"w-full px-4 py-2 border-2 border-slate-50 rounded-lg font-bold text-center outline-none focus:ring-2 focus:ring-purple-500"})]},X))})]})]}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(z7,{className:"w-6 h-6 text-purple-600"})," Informacin a Mostrar"]}),a.jsxs("div",{className:"space-y-4",children:[[{key:"showLogo",label:"Logo de Empresa"},{key:"showCuit",label:"CUIT y Datos Fiscales"},{key:"showAddress",label:"Domicilio Comercial"},{key:"showLegal",label:"Leyendas Legales / Pie"},{key:"showQr",label:"QR ARCA (Factura E)"},{key:"showPrices",label:"Mostrar Precios / Importes"}].map(X=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:X.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:U[X.key],onChange:me=>z(X.key,me.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},X.key)),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nmero de Copias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"1",max:"5",value:U.copies,onChange:X=>z("copies",parseInt(X.target.value)),className:"flex-1 accent-purple-600"}),a.jsx("span",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-black",children:U.copies})]})]})]})]}),a.jsxs("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:[a.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 text-slate-400",children:[a.jsx(qc,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest italic",children:["Simulacin: ",B]})]}),a.jsxs("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${Z}px`,height:`${Q}px`,transform:`scale(${K})`,paddingTop:`${U.margins.top/3}px`,paddingBottom:`${U.margins.bottom/3}px`,paddingLeft:`${U.margins.left/3}px`,paddingRight:`${U.margins.right/3}px`},children:[a.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[U.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),U.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]}),a.jsxs("div",{className:"text-[6px] font-black text-slate-300",children:["N ",B==="factura"?"0005-00001234":"RE-001234"]})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("div",{className:"w-full h-2 bg-slate-50 rounded"}),a.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[a.jsx("div",{className:"h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"h-1 bg-slate-100 rounded col-span-2"}),U.showPrices&&a.jsx("div",{className:"h-1 bg-slate-100 rounded text-right"})]}),[1,2,3,4,5].map(X=>a.jsxs("div",{className:"flex justify-between py-0.5 border-b border-slate-50 border-dotted",children:[a.jsx("div",{className:"w-20 h-1 bg-slate-50 rounded"}),U.showPrices&&a.jsx("div",{className:"w-4 h-1 bg-slate-50 rounded"})]},X))]}),a.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex flex-col gap-1 items-end",children:[U.showPrices&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"w-16 h-2 bg-purple-100 rounded"})]}),U.showQr&&a.jsx("div",{className:"w-6 h-6 bg-slate-900 self-start mt-1 rounded-sm flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full animate-pulse"})})]})]}),a.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center gap-1",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[U.pageSize,"  ",U.orientation==="portrait"?"Vertical":"Horizontal"]}),a.jsxs("button",{className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl opacity-0 group-hover:opacity-100 transition-all flex items-center gap-2",children:[a.jsx(Vm,{className:"w-4 h-4"})," Imprimir Prueba"]})]})]})]})})]}),c==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_7,{className:"w-6 h-6 text-green-600"})," Exportar Datos (Backup)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Genera un archivo JSON con todos los datos de tu ferretera para guardarlo de forma segura."}),y&&a.jsxs("div",{className:"p-5 bg-blue-50 border border-blue-200 rounded-3xl flex items-center gap-4 animate-pulse",children:[a.jsx(Le,{className:"w-6 h-6 text-blue-600 animate-spin"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-blue-900 uppercase",children:"Seguridad Redundante"}),a.jsxs("p",{className:"text-xs text-blue-700",children:["Enviando copia a ",a.jsx("span",{className:"font-bold",children:L}),"..."]})]})]}),N&&a.jsxs("div",{className:"p-5 bg-green-50 border border-green-200 rounded-3xl flex items-center gap-4 animate-in fade-in duration-300",children:[a.jsx(nn,{className:"w-6 h-6 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-green-900 uppercase",children:"Respaldo Protegido"}),a.jsx("p",{className:"text-xs text-green-700",children:"Backup enviado con xito a la casilla de soporte."})]})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Este respaldo permite restaurar el sistema al estado actual. Se descargar un archivo y se enviar una copia a su soporte."})]})]}),a.jsxs("button",{onClick:_e,disabled:w||y,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[w?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(tA,{className:"w-5 h-5"}),w?"Generando Backup...":"Generar Backup & Enviar Email"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(B5,{className:"w-6 h-6 text-orange-600"})," Importar Backup (Restaurar)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Carga un archivo de respaldo para restaurar el sistema al 100%. **Esto sobrescribir los datos actuales.**"}),a.jsxs("div",{onClick:()=>{var X;return(X=l.current)==null?void 0:X.click()},className:`border-4 border-dashed rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer transition-all ${P?"border-orange-500 bg-orange-50":"border-slate-100 hover:border-orange-200 hover:bg-orange-50/20"}`,children:[a.jsx("div",{className:`p-4 rounded-full mb-4 ${P?"bg-orange-600 text-white":"bg-slate-50 text-slate-300"}`,children:a.jsx(S7,{className:"w-10 h-10"})}),a.jsx("p",{className:`text-sm font-bold ${P?"text-orange-900":"text-slate-400"}`,children:P?P.name:"Haz clic para seleccionar el archivo JSON"}),a.jsx("input",{ref:l,type:"file",className:"hidden",accept:".json",onChange:X=>{var me;return H(((me=X.target.files)==null?void 0:me[0])||null)}})]}),P&&a.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Confirmar con Contrasea Maestra"}),a.jsx("input",{type:"password",value:E,onChange:X=>R(X.target.value),placeholder:"Escribe 'BORRARTODO' para restaurar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("button",{onClick:Ie,disabled:T||E!==V,className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[T?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(ic,{className:"w-5 h-5 text-orange-500"}),"RESTAURAR TODO EL SISTEMA"]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 col-span-full",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(N7,{className:"w-6 h-6 text-red-600"})," Borrado Total"]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("p",{className:"text-slate-500 text-sm",children:"Esta accin es **IRREVERSIBLE**. Eliminar todos los productos, clientes, proveedores, ventas, etc. de tu sistema."}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 flex items-start gap-4",children:[a.jsx(ui,{className:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:"ADVERTENCIA CRTICA:"}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"No hay marcha atrs. Asegrate de tener un backup reciente antes de proceder."})]})]})]}),a.jsxs("button",{onClick:()=>O(!0),className:"px-10 py-5 bg-red-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-red-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:[a.jsx(yn,{className:"w-5 h-5"})," Borrar Base de Datos"]})]})]}),I&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[150] flex items-center justify-center p-4 text-center",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl animate-in zoom-in duration-200",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/10",children:a.jsx(ui,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"ATENCIN! Eliminacin Irreversible"}),a.jsx("p",{className:"text-slate-500 font-medium mb-8 px-4",children:"Ests a punto de borrar **TODOS** los datos de tu empresa (productos, clientes, ventas, etc.). Esta accin no se puede deshacer. Ests absolutamente seguro?"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"password",value:E,onChange:X=>R(X.target.value),placeholder:"Escribe 'BORRARTODO' para confirmar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-red-500 outline-none font-bold text-red-600 text-center"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:ce,disabled:E!==V||S,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-red-600/20 hover:bg-red-500 transition-all disabled:opacity-50",children:"S, ENTIENDO Y QUIERO BORRAR TODO"}),a.jsx("button",{onClick:()=>{O(!1),R("")},className:"w-full py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-200 transition-all",children:"CANCELAR"})]})]})]})})]}),c==="system"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-left duration-500",children:r?a.jsxs("section",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Fm,{className:"w-5 h-5 text-orange-500"})," Plan de Suscripcin Actual"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"basic",name:"Basic",price:"$15.000/mes",color:"bg-slate-50 border-slate-200"},{id:"premium",name:"Premium",price:"$25.000/mes",color:"bg-orange-50 border-orange-200"},{id:"enterprise",name:"Enterprise",price:"$45.000/mes",color:"bg-purple-50 border-purple-200"}].map(X=>a.jsxs("button",{onClick:()=>n(X.id),className:`p-6 rounded-2xl border-2 text-left transition-all group ${e===X.id?"ring-4 ring-orange-500/20 border-orange-500 "+X.color:"bg-white border-slate-100 opacity-60 hover:opacity-100"}`,children:[a.jsx("h4",{className:"font-bold text-xl text-slate-800",children:X.name}),a.jsx("p",{className:"text-slate-500 mb-4",children:X.price}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${e===X.id?"bg-orange-600 text-white":"bg-slate-200 text-slate-500"}`,children:e===X.id?"Activo":"Seleccionar"})]},X.id))})]}):a.jsxs("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center",children:[a.jsx(O5,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Control Restringido"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Solo administradores gestionan el plan."})]})}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada en FerroGest"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3 active:scale-95",children:[a.jsx(Xt,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})},mbe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:s,deleteBranch:i}=Ot(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const b=N=>{const{name:C,value:T,type:A}=N.target,S=N.target.checked;x(j=>({...j,[C]:A==="checkbox"?S:T}))},w=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await s(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(N){alert("Error al guardar la sucursal."),console.error("Error saving branch:",N)}},v=N=>{f(N),u(!0)},y=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Le,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(ui,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(ic,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((N,C)=>N+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:y,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(N=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${N.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Ju,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${N.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:N.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(P7,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:N.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx($5,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:N.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[N.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Is,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:N.manager})]})]})})]}),a.jsxs("button",{onClick:()=>v(N),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(As,{className:"w-4 h-4"})]})]},N.id)),a.jsxs("button",{onClick:y,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(tt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(is,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(N=>N.dailySales>0).map(N=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:N.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${N.dailySales/_*100}%`}})})]},N.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Bc,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Ju,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Ju,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(nn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ju,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Or,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($0,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:N=>x(C=>({...C,status:N.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(is,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Xt,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},gbe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:s,addTransaction:i,boxes:o,updateBox:l}=Ot(),[c,u]=D.useState("staff"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState(null),[v,y]=D.useState({}),[_,N]=D.useState("general"),[C,T]=D.useState(!1),[A,S]=D.useState(null),[j,E]=D.useState({}),[R,I]=D.useState({show:!1,title:"",message:"",onConfirm:()=>{},type:"info"}),[O,P]=D.useState({amount:0,description:"",type:"adelanto",boxId:""}),H=z=>(z.advances||[]).reduce((ae,W)=>W.type==="adelanto"||W.type==="descuento"?ae+W.amount:ae,0),V=z=>(z.advances||[]).reduce((ae,W)=>W.type==="bono"?ae+W.amount:ae,0),L=z=>{const ae=z.salary||0,W=H(z),he=V(z);return ae-W+he},B=async z=>{const ae=L(z);S(String(z.id));try{const W=await cbe(z,ae);I({show:!0,title:"Validacin ARCA Exitosa",message:`${W.message}
Protocolo: ${W.protocolNumber}
CUIL: ${W.cuil}`,type:"arca",onConfirm:()=>I(he=>({...he,show:!1}))})}catch(W){alert(W.message)}finally{S(null)}},G=z=>{const ae=L(z);if(!z.salary||z.salary<=0){I({show:!0,title:"Sueldo no configurado",message:`${z.name} no tiene un sueldo base asignado.`,type:"danger",onConfirm:()=>I(he=>({...he,show:!1}))});return}const W=o.find(he=>he.status==="abierta")||o[0];I({show:!0,title:"Liquidar Haberes",message:`Registrar pago de $${ae.toLocaleString()} para ${z.name}.`,type:"success",showBoxSelector:!0,selectedBoxId:W==null?void 0:W.id,onConfirm:()=>{}})},U=async(z,ae)=>{const W=L(z),he=o.find(_e=>_e.id===ae);if(he){I(_e=>({..._e,show:!1})),E(_e=>({..._e,[String(z.id)]:!0}));try{await i({date:new Date().toISOString(),amount:W,type:"egreso",boxId:ae,category:"sueldo",description:`Liquidacin Haberes: ${z.name} (Libro Sueldos Digital)`,paymentDetails:[{id:`pay-${Date.now()}`,method:"efectivo",amount:W}]}),await l(ae,{balance:he.balance-W}),await n(String(z.id),{advances:[]}),alert(`Liquidacin completada. Se gener egreso en ${he.name}.`)}finally{E(_e=>({..._e,[String(z.id)]:!1}))}}},F=async()=>{if(!h||O.amount<=0)return;if(O.type==="adelanto"&&!O.boxId){alert("Para un adelanto de efectivo, debes seleccionar una caja de origen.");return}const z=o.find(ae=>ae.id===O.boxId);try{O.type==="adelanto"&&z&&(await i({date:new Date().toISOString(),amount:O.amount,type:"egreso",boxId:O.boxId,category:"sueldo",description:`Vale/Adelanto: ${h.name}`,paymentDetails:[{id:`pm-${Date.now()}`,method:"efectivo",amount:O.amount}]}),await l(O.boxId,{balance:z.balance-O.amount}));const ae={id:`adv-${Date.now()}`,date:new Date().toISOString().split("T")[0],amount:O.amount,description:O.description||(O.type==="adelanto"?"Adelanto de sueldo":"Bono/Premio"),type:O.type};await n(String(h.id),{advances:[...h.advances||[],ae]}),alert("Movimiento registrado con xito."),x(null),P({amount:0,description:"",type:"adelanto",boxId:""})}catch(ae){console.error(ae),alert("Error al registrar el movimiento.")}},Y=z=>{var ae;w(z),y(z||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((ae=s[0])==null?void 0:ae.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),N("general"),f(!0)},ee=D.useMemo(()=>t.reduce((z,ae)=>z+L(ae),0),[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"Personal & Nmina Digital"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Libro de Sueldos Digital (ARCA) y control de haberes."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>u("staff"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="staff"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Staff"}),a.jsx("button",{onClick:()=>u("payroll"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="payroll"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Nmina ARCA"})]}),a.jsxs("button",{onClick:()=>Y(null),className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(q5,{className:"w-5 h-5 text-orange-500"})," Nuevo Colaborador"]})]})]}),c==="payroll"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Costo Operativo Nmina"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",ee.toLocaleString()]}),a.jsx(Rb,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(In,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Neto Estimado"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",ee.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(ac,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Certificados ARCA"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:t.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-2xl",children:a.jsx(NN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Vales/Adel."}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",t.reduce((z,ae)=>z+H(ae),0).toLocaleString()]})]})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5",children:"Rol / Funcin"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5 text-right",children:"Sueldo Base"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Descuentos/Vales"}),a.jsx("th",{className:"px-8 py-5 text-right font-black text-slate-900",children:"Neto a Liquidar"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Sincro ARCA"})]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(z=>{const ae=L(z),W=j[String(z.id)],he=A===String(z.id);return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 flex items-center justify-center font-black text-white text-sm",children:z.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:z.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:z.role})]})]})}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:z.role}),a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:z.branchName}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${z.status==="Activo"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:z.status})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-slate-500",children:["$",(z.salary||0).toLocaleString()]}),a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-red-500",children:["-$",H(z).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:"text-lg font-black text-slate-900",children:["$",ae.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{onClick:()=>B(z),disabled:he,className:`p-2 rounded-xl transition-all ${he?"bg-slate-100":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,children:he?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(Rb,{className:"w-4 h-4"})})})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c==="payroll"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{var _e;P({amount:0,description:"",type:"adelanto",boxId:((_e=o.find(Ie=>Ie.status==="abierta"))==null?void 0:_e.id)||""}),x(z)},className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm",children:a.jsx(tt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>G(z),disabled:W,className:`p-2.5 rounded-xl transition-all shadow-sm ${W?"bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-600 hover:text-white"}`,children:W?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(Xd,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:()=>Y(z),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-orange-600 shadow-sm",children:a.jsx(di,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(String(z.id)),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-red-600 shadow-sm",children:a.jsx(yn,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),R.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl p-10 text-center space-y-6 animate-in zoom-in duration-200",children:[a.jsx("div",{className:`w-20 h-20 mx-auto rounded-[2rem] flex items-center justify-center shadow-xl ${R.type==="danger"?"bg-red-100 text-red-600":R.type==="arca"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:R.type==="arca"?a.jsx(ac,{className:"w-10 h-10"}):a.jsx(Xd,{className:"w-10 h-10"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:R.title}),a.jsx("p",{className:"text-slate-500 font-medium leading-relaxed whitespace-pre-wrap",children:R.message})]}),R.showBoxSelector&&a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen de Fondos"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:R.selectedBoxId,onChange:z=>I(ae=>({...ae,selectedBoxId:z.target.value})),className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-orange-500 appearance-none",children:o.map(z=>a.jsxs("option",{value:z.id,children:[z.name," ($",z.balance.toLocaleString(),")"]},z.id))}),a.jsx(Zd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{onClick:()=>I(z=>({...z,show:!1})),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cerrar"}),R.showBoxSelector&&a.jsx("button",{onClick:()=>{const z=t.find(ae=>R.message.includes(ae.name));z&&R.selectedBoxId&&U(z,R.selectedBoxId)},className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Confirmar Pago"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-orange-600 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(ma,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Registrar Movimiento"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest",children:h.name})]})]}),a.jsx("button",{onClick:()=>x(null),children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Registro"}),a.jsxs("select",{value:O.type,onChange:z=>P({...O,type:z.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",children:[a.jsx("option",{value:"adelanto",children:"Adelanto (Resta del Sueldo)"}),a.jsx("option",{value:"bono",children:"Bono / Premio (Suma al Sueldo)"}),a.jsx("option",{value:"descuento",children:"Inasistencia (Resta del Sueldo)"})]})]}),O.type==="adelanto"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja de Origen (Egreso Fsico)"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:O.boxId,onChange:z=>P({...O,boxId:z.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-slate-50 outline-none appearance-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Seleccione una caja..."}),o.map(z=>a.jsxs("option",{value:z.id,children:[z.name," ($",z.balance.toLocaleString(),")"]},z.id))]}),a.jsx(Zd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{type:"number",value:O.amount||"",onChange:z=>P({...O,amount:parseFloat(z.target.value)||0}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-3xl text-center focus:ring-2 focus:ring-orange-500 outline-none text-orange-600",placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo / Descripcin"}),a.jsx("input",{type:"text",value:O.description,onChange:z=>P({...O,description:z.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",placeholder:"Ej: Vale para almuerzo, Premio puntualidad..."})]}),a.jsxs("button",{onClick:F,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3",children:[a.jsx(Xt,{className:"w-5 h-5 text-orange-500"})," Guardar Registro"]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col h-[85vh]",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(SN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:b?"Perfil del Colaborador":"Nuevo Ingreso"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:v.name||"Staff FerroGest"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2 shrink-0",children:[a.jsx("button",{onClick:()=>N("general"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="general"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Datos de Acceso"}),a.jsx("button",{onClick:()=>N("financial"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="financial"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Finanzas & Sueldo"})]}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar bg-white",children:[_==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:v.name||"",onChange:z=>y({...v,name:z.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:v.email||"",onChange:z=>y({...v,email:z.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:v.branchName,onChange:z=>y({...v,branchName:z.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl outline-none font-bold",children:s.map(z=>a.jsx("option",{value:z.name,children:z.name},z.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha de Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:v.joiningDate||"",onChange:z=>y({...v,joiningDate:z.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl font-bold"})]})]})]}),_==="financial"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border-2 border-orange-200 flex items-center justify-between shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(ma,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-black text-orange-900 uppercase text-xs tracking-widest italic",children:"Sueldo Base Mensual"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-bold",children:"Importe fijo antes de descuentos/premios."})]})]}),a.jsxs("div",{className:"relative w-48",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600"}),a.jsx("input",{type:"number",value:v.salary||"",onChange:z=>y({...v,salary:parseFloat(z.target.value)||0}),className:"w-full pl-12 pr-4 py-4 border-2 border-white rounded-2xl font-black text-xl text-slate-800 outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Historial de Adelantos del Mes"}),a.jsx("div",{className:"border border-slate-100 rounded-3xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[9px] font-black text-slate-400 uppercase border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3",children:"Concepto"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[(v.advances||[]).map((z,ae)=>a.jsxs("tr",{className:"text-xs",children:[a.jsx("td",{className:"px-6 py-3 font-bold",children:z.date}),a.jsx("td",{className:"px-6 py-3 font-medium text-slate-500",children:z.description}),a.jsxs("td",{className:`px-6 py-3 text-right font-black ${z.type==="bono"?"text-green-600":"text-red-600"}`,children:[z.type==="bono"?"+":"-","$",z.amount.toLocaleString()]})]},ae)),(v.advances||[]).length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-slate-400 italic",children:"Sin movimientos registrados este mes."})})]})]})})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400 hover:bg-slate-100 transition-all",children:"Descartar"}),a.jsxs("button",{onClick:async()=>{T(!0);try{b?await n(String(b.id),v):await e(v),f(!1)}finally{T(!1)}},disabled:C,className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-black flex items-center gap-3",children:[C?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5 text-orange-500"}),b?"Guardar Perfil":"Dar de Alta"]})]})]})})]})},xbe=[{id:"h1",date:"2024-05-20 08:00",source:"Sinteplast (Web)",status:"success",itemsUpdated:120,itemsAdded:5,errors:0,log:"Proceso completado sin errores."},{id:"h2",date:"2024-05-19 23:00",source:"Alba (Email)",status:"error",itemsUpdated:0,itemsAdded:0,errors:2,log:"Error: Adjunto no reconocido o malformado."},{id:"h3",date:"2024-05-18 08:00",source:"Stanley (Web)",status:"success",itemsUpdated:85,itemsAdded:0,errors:0,log:"Proceso completado sin errores."}],ybe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r,suppliers:s}=Ot(),[i,o]=D.useState("lists"),[l,c]=D.useState(1),[u,d]=D.useState(""),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,v]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),[y,_]=D.useState({enabled:!1,frequency:"diario",executionTime:"03:00"}),[N,C]=D.useState({}),[T,A]=D.useState(!1),[S,j]=D.useState(null);D.useEffect(()=>{if(s.length>0){const U={};s.forEach(F=>{N[F.id]||(U[F.id]={supplierId:F.id,sourceType:"manual",enabled:!1})}),C(F=>({...F,...U}))}},[s,N]);const E=[{id:1,name:"Seleccionar Proveedor",icon:Or},{id:2,name:"Configurar Plantilla",icon:Js},{id:3,name:"Cargar Excel",icon:Gm},{id:4,name:"Previsualizacin",icon:Ob},{id:5,name:"Anlisis y Ejecucin",icon:U7}],R=async()=>{if(!w.name){alert("El nombre de la lista es obligatorio.");return}try{if(w.isBase){const U=t.find(F=>F.isBase&&F.id!==(x==null?void 0:x.id));U&&await n(U.id,{isBase:!1})}x!=null&&x.id?(await n(x.id,w),alert("Lista de precios actualizada con xito!")):(await e(w),alert("Lista de precios creada con xito!")),h(!1),b(null),v({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(U){alert("Error al guardar la lista de precios."),console.error(U)}},I=async U=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(U),alert("Lista de precios eliminada con xito.")}catch(F){alert("Error al eliminar la lista de precios."),console.error(F)}},O=U=>{b(U),v(U||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),h(!0)},P=()=>{A(!0),setTimeout(()=>{alert("Configuracin de automatizacin guardada."),A(!1)},1e3)},H=(U,F,Y)=>{C(ee=>({...ee,[U]:{...ee[U],[F]:Y}}))},V=U=>{j(U),setTimeout(()=>{var F;alert(`Actualizacin manual disparada para ${((F=s.find(Y=>Y.id===U))==null?void 0:F.name)||"proveedor"}.`),C(Y=>({...Y,[U]:{...Y[U],lastRun:new Date().toLocaleString(),lastRunStatus:Math.random()>.2?"success":"error",lastRunMessage:Math.random()>.2?"Proceso completado.":"Error: Contactar soporte."}})),j(null)},2e3)},L=()=>{var U;switch(l){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.map(F=>a.jsxs("button",{onClick:()=>{d(F.id),c(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Or,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:F.name})]},F.id)),s.length===0&&a.jsx("div",{className:"col-span-full text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados."})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",((U=s.find(F=>F.id===u))==null?void 0:U.name)||"Proveedor"]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>c(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((F,Y)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:F.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",F.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",F.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:F.diff})]},Y))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Gm,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>c(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},B=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Xu,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>O(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(tt,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(U=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${U.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[U.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${U.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:U.isBase?a.jsx(Lb,{className:"w-6 h-6"}):a.jsx(wN,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>O(U),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(di,{className:"w-4 h-4"})}),!U.isBase&&a.jsx("button",{onClick:()=>I(U.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(yn,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:U.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:U.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:U.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F5,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[U.value>0?"+":"",U.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${U.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:U.isBase?"Configuracin Base":"Ajustar Modificador"})]},U.id)),a.jsxs("button",{onClick:()=>O(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(tt,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(h7,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(nn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Xu,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]}),G=()=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(zp,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin General de Automatizacin"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{htmlFor:"enableAutomation",className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:"enableAutomation",checked:y.enabled,onChange:U=>_(F=>({...F,enabled:U.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"enableAutomation",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Procesamiento Automtico"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Activa las tareas programadas para actualizar precios de forma recurrente."})]})]}),y.enabled&&a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Frecuencia de Ejecucin"}),a.jsxs("select",{value:y.frequency,onChange:U=>_(F=>({...F,frequency:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"diario",children:"Diario"}),a.jsx("option",{value:"semanal",children:"Semanal"}),a.jsx("option",{value:"mensual",children:"Mensual"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Horario de Ejecucin (Hora Argentina)"}),a.jsx("input",{type:"time",value:y.executionTime,onChange:U=>_(F=>({...F,executionTime:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white"})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,disabled:T,className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[T?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(Xt,{className:"w-4 h-4"}),T?"Guardando...":"Guardar Configuracin General"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Xu,{className:"w-6 h-6 text-orange-600"})," Fuentes por Proveedor"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Configura cmo se obtendrn las listas de precios de cada uno de tus proveedores."}),a.jsx("div",{className:"space-y-6",children:s.length===0?a.jsx("div",{className:"text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados para configurar."}):s.map(U=>{const F=N[U.id]||{supplierId:U.id,sourceType:"manual",enabled:!1};return a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 space-y-4 group",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[9px] font-black px-2 py-1 rounded-full uppercase ${F.lastRunStatus==="success"?"bg-green-50 text-green-700":F.lastRunStatus==="error"?"bg-red-50 text-red-700":"bg-slate-100 text-slate-400"}`,children:F.lastRun?`${F.lastRunStatus==="success"?"xito":"Error"}`:"Sin Ejecucin"}),a.jsxs("button",{onClick:()=>V(U.id),disabled:S===U.id,className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-xs font-black uppercase flex items-center gap-2 shadow-lg hover:bg-orange-500 disabled:opacity-50",children:[S===U.id?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(ro,{className:"w-4 h-4"}),"Actualizar Ahora"]})]})]}),F.lastRun&&F.lastRunStatus==="error"&&a.jsxs("div",{className:"bg-red-100 text-red-800 text-xs p-3 rounded-xl flex items-center gap-2",children:[a.jsx(ui,{className:"w-4 h-4"}),a.jsxs("span",{children:["ltima ejecucin (",F.lastRun,"): ",F.lastRunMessage]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fuente Principal"}),a.jsxs("select",{value:F.sourceType,onChange:Y=>H(U.id,"sourceType",Y.target.value),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"manual",children:"Manual (Excel)"}),a.jsx("option",{value:"web",children:"Web (Scraping)"}),a.jsx("option",{value:"email",children:"Email (Adjunto)"})]})]}),F.sourceType==="web"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(vo,{className:"w-3 h-3"})," URL del Proveedor"]}),a.jsx("input",{type:"url",value:F.url||"",onChange:Y=>H(U.id,"url",Y.target.value),placeholder:"https://proveedor.com/listaprecios",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),F.sourceType==="email"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(L5,{className:"w-3 h-3"})," Email de Origen"]}),a.jsx("input",{type:"email",value:F.emailSource||"",onChange:Y=>H(U.id,"emailSource",Y.target.value),placeholder:"listaprecios@proveedor.com",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100",children:[a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:`enable-${U.id}`,checked:F.enabled,onChange:Y=>H(U.id,"enabled",Y.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Activar Fuente Automtica"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Esta fuente se procesar automticamente segn la configuracin general."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>alert("Se abrira una interfaz para configurar el mapeo de columnas/campos de esta fuente."),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Js,{className:"w-4 h-4"})," Editar Mapeo de Campos"]}),a.jsxs("button",{onClick:()=>alert("Configuracin guardada para "+U.name),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-orange-500"})," Guardar"]})]})]},U.id)})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(rc,{className:"w-6 h-6 text-purple-600"})," Historial de Procesos Automticos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el resultado de las ltimas ejecuciones automticas de precios."}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha/Hora"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Fuente"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Items Act."}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Errores"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:xbe.map(U=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:U.date}),a.jsx("td",{className:"px-6 py-4 text-slate-700",children:U.source}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${U.status==="success"?"bg-green-50 text-green-700 border-green-100":U.status==="error"?"bg-red-50 text-red-700 border-red-100":"bg-slate-100 text-slate-400"}`,children:U.status==="success"?"xito":"Fallo"})}),a.jsxs("td",{className:"px-6 py-4 text-center text-slate-700",children:[U.itemsUpdated," / ",U.itemsAdded]}),a.jsx("td",{className:"px-6 py-4 text-center text-red-600 font-bold",children:U.errors}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>alert(`Log detallado para ${U.source}:
${U.log}`),className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Log",children:a.jsx(qc,{className:"w-4 h-4"})})})]},U.id))})]})})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>o("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(ro,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>o("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Xu,{className:"w-5 h-5"})," Gestin de Listas de Venta"]}),a.jsxs("button",{onClick:()=>o("automation"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="automation"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(zp,{className:"w-5 h-5"})," Automatizacin & Fuentes"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:i==="update"?E.map((U,F)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${l===U.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${l>=U.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:l>U.id?a.jsx(nn,{className:"w-6 h-6"}):a.jsx(U.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${l===U.id?"":"hidden md:block"}`,children:U.name})]}),F<E.length-1&&a.jsx(As,{className:"w-5 h-5 text-slate-100"})]},U.id)):i==="lists"?a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Js,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]}):a.jsxs("div",{className:"flex items-center gap-3 text-blue-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500 bg-blue-50 flex items-center justify-center",children:a.jsx(zp,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Configuracin de Fuentes Automticas"})]})}),i==="update"?L():i==="lists"?B():G(),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(tt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:w.name||"",onChange:U=>v({...w,name:U.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:w.description||"",onChange:U=>v({...w,description:U.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:w.modifierType,onChange:U=>v({...w,modifierType:U.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:w.value||"",onChange:U=>v({...w,value:parseFloat(U.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:w.isBase||!1,onChange:U=>v({...w,isBase:U.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:R,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[x?"Actualizar Lista":"Crear Lista"," ",a.jsx(Xt,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},vbe=()=>{var w;const t=D.useRef(null),[e,n]=D.useState(1),[r,s]=D.useState(null),[i,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Qd,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:Is,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:Dr,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:zm,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:bN,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=v=>{switch(v){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=v=>{var _;const y=(_=v.target.files)==null?void 0:_[0];o(y||null)},b=()=>{if(!i)return;c(!0);let v=0;const y=setInterval(()=>{v+=10,d(v),v>=100&&(clearInterval(y),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(k5,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Js},{id:2,label:"Cargar Archivo",icon:Lm},{id:3,label:"Mapear Columnas",icon:Mt},{id:4,label:"Anlisis y Carga",icon:nn}].map((v,y)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===v.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=v.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>v.id?a.jsx(nn,{className:"w-6 h-6"}):v.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:v.label})]}),y<3&&a.jsx(As,{className:"w-5 h-5 text-slate-100"})]},v.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(v=>a.jsxs("button",{onClick:()=>{s(v.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${v.bg} ${v.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(v.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:v.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:v.desc})]},v.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(Ob,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(w=f.find(v=>v.id===r))==null?void 0:w.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var v;return(v=t.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[i?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Ob,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:i.name}),a.jsxs("button",{onClick:v=>{v.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(qe,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Lm,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(pl,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!i,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Js,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(v=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[v.label," ",v.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(As,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},v.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(jr,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(nn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(nn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(nn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:b,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(Le,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(ui,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(ui,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(nn,{className:"w-5 h-5"})]})]})]})]})]})},bbe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[s]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),i=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=s.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(Oy,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(g7,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:s.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(_s,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:s.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(is,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(I5,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),i.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(sc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),i.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(_s,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(rc,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(di,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(I7,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Oy,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(qe,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(Oy,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(Dr,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},wbe=10,_be=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Ot(),[n,r]=D.useState("sugerencias"),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:wbe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{s&&d(s)},[s,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(tt,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:s,onChange:f=>i(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(pa,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(Le,{className:"animate-spin mx-auto"})]})]})]})},Nbe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Ot(),[s,i]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),b=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],w=A=>{const S=encodeURIComponent(`Hola ${A.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(A.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${A.whatsapp}?text=${S}`,"_blank")},v=t.filter(A=>(A.name.toLowerCase().includes(o.toLowerCase())||A.cuit.includes(o))&&(s==="clients"?A.balance<0:!0)),y=e.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.cuit.includes(o)),_=t.filter(A=>A.balance<0).reduce((A,S)=>A+Math.abs(S.balance),0),N=e.reduce((A,S)=>A+Math.abs(S.balance),0),C=()=>{u(null),f(null)},T=()=>{const A=h.type==="RECIBO",S=A?c:d;return S?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${A?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(_N,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:A?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[S.name,"  ",S.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${A?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",A?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:ma},{id:"transfer",label:"Transferencia",icon:Um},{id:"check",label:"Cheque",icon:Or}].map(j=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(j.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:j.label})]},j.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${A?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(Xt,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const A=!!c,S=A?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&T(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(k5,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:A?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${A?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(tt,{className:"w-4 h-4"})," ",A?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${A?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${A?"bg-orange-600":"bg-blue-600"}`,children:S.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:S.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:S.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:A?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(S.balance).toLocaleString()]})]})]}),a.jsx(In,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rc,{className:`w-5 h-5 ${A?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(j=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(j.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:j.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:j.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${j.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(j.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(qc,{className:"w-4 h-4"})," Ver"]})})]},j.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(NN,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(is,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",N.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(In,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-N).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>i("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Is,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Dr,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:A=>l(A.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s==="clients"?v.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(A),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:A.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:S=>{S.stopPropagation(),w(A)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(C7,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(As,{className:"w-5 h-5 text-slate-300"})]})})]},A.id)):y.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(A),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:A.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(As,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},A.id))})]})]})]})};var Sbe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ebe,Tbe;function Abe(){return{geminiUrl:Ebe,vertexUrl:Tbe}}function kbe(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=Abe();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _i{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(i+1),n[u])}else for(const u of c)g(u,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Cbe(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let l=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){const u=i[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}d1(t,s,i,0,o)}}function d1(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])d1(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!s.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;i in o&&d1(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jbe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Ibe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Rbe(o)),e}function Pbe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],Mbe(o)),e}function Rbe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Obe(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function Mbe(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dbe(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function Obe(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],Bbe(n)),e}function Dbe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],qbe(n)),e}function Lbe(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function $be(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Ube(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],Fbe(o)),e}function Fbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function V$(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],Vbe(o)),e}function Vbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function Bbe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],RS(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function qbe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],RS(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _I;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_I||(_I={}));var NI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(NI||(NI={}));var SI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(SI||(SI={}));var Hi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Hi||(Hi={}));var EI;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(EI||(EI={}));var TI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(TI||(TI={}));var AI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(AI||(AI={}));var kI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kI||(kI={}));var CI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(CI||(CI={}));var jI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jI||(jI={}));var II;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(II||(II={}));var PI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(PI||(PI={}));var RI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(RI||(RI={}));var MI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(MI||(MI={}));var OI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(OI||(OI={}));var DI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(DI||(DI={}));var LI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(LI||(LI={}));var $I;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($I||($I={}));var UI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UI||(UI={}));var FI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(FI||(FI={}));var VI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(VI||(VI={}));var Yg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yg||(Yg={}));var BI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(BI||(BI={}));var qI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qI||(qI={}));var zI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zI||(zI={}));var f1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(f1||(f1={}));var GI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GI||(GI={}));var HI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(HI||(HI={}));var h1;(function(t){t.COLLECTION="COLLECTION"})(h1||(h1={}));var WI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(WI||(WI={}));var KI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(KI||(KI={}));var YI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(YI||(YI={}));var JI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(JI||(JI={}));var XI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(XI||(XI={}));var QI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(QI||(QI={}));var ZI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ZI||(ZI={}));var eP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(eP||(eP={}));var tP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tP||(tP={}));var nP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(nP||(nP={}));var rP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(rP||(rP={}));var sP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sP||(sP={}));var iP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(iP||(iP={}));var aP;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(aP||(aP={}));var oP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(oP||(oP={}));var lP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(lP||(lP={}));var cP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(cP||(cP={}));var uP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uP||(uP={}));var dP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(dP||(dP={}));var fP;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(fP||(fP={}));var hP;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(hP||(hP={}));var pP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pP||(pP={}));var mP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mP||(mP={}));var gP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gP||(gP={}));var xP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xP||(xP={}));var yP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yP||(yP={}));var vP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(vP||(vP={}));var bl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bl||(bl={}));class p1{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fu{get text(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,b]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class bP{}class wP{}class zbe{}class Gbe{}class Hbe{}class Wbe{}class _P{}class NP{}class SP{}class Kbe{}class Jg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jg;let s;const i=e;return n?s=Pbe(i):s=Ibe(i),Object.assign(r,s),r}}class EP{}class TP{}class AP{}class kP{}class Ybe{}class Jbe{}class Xbe{}class MS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new MS,i=Ube(e);return Object.assign(r,i),r}}class Qbe{}class Zbe{}class ewe{}class CP{}class twe{get text(){var e,n,r;let s="",i=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,s+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class nwe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class OS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new OS,i=V$(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function et(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function B$(t,e){const n=et(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function q$(t){return Array.isArray(t)?t.map(e=>Xg(e)):[Xg(t)]}function Xg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function z$(t){const e=Xg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function G$(t){const e=Xg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function H$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jP(e)):[jP(t)]}function m1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function IP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function PP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function jn(t){if(t==null)throw new Error("ContentUnion is required");return m1(t)?t:{role:"user",parts:H$(t)}}function DS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>jn(n)):[jn(e)]}function Pr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(IP(t)||PP(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jn(t)]}const e=[],n=[],r=m1(t[0]);for(const s of t){const i=m1(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(IP(s)||PP(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:H$(n)}),e}function rwe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Hi).includes(n[0].toUpperCase())?n[0].toUpperCase():Hi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Hi).includes(r.toUpperCase())?r.toUpperCase():Hi.TYPE_UNSPECIFIED})}}function $l(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&rwe(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Hi).includes(l.toUpperCase())?l.toUpperCase():Hi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=$l(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push($l(u))}e[o]=c}else if(s.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=$l(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function LS(t){return $l(t)}function $S(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function US(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function su(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$l(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$l(e.response));return t}function iu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function swe(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return swe(t,e,"cachedContents")}function W$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ta(t){return RS(t)}function iwe(t){return t!=null&&typeof t=="object"&&"name"in t}function awe(t){return t!=null&&typeof t=="object"&&"video"in t}function owe(t){return t!=null&&typeof t=="object"&&"uri"in t}function K$(t){var e;let n;if(iwe(t)&&(n=t.name),!(owe(t)&&(n=t.uri,n===void 0))&&!(awe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Y$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function J$(t){for(const e of["models","tunedModels","publisherModels"])if(lwe(t,e))return t[e];return[]}function lwe(t,e){return t!==null&&typeof t=="object"&&e in t}function cwe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function uwe(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=cwe(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function X$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function dwe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Q$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function au(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Z$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fwe(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Hwe(o))),g(e,["inlinedResponses"],i)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["inlinedEmbedContentResponses"],i)}return e}function hwe(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function pwe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],Z$(s));const i=p(t,["metadata","createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],fwe(Q$(u))),e}function g1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],Z$(s));const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],mwe(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],hwe(Q$(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function mwe(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function gwe(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Gwe(t,o))),g(n,["requests","requests"],i)}return n}function xwe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ywe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function bwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function wwe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],_we(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function _we(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function e3(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Zwe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Nwe(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Swe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],pwe(dwe(s))),n}function RP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],gwe(t,X$(t,s)));const i=p(e,["config"]);return i!=null&&Nwe(i,n),n}function Ewe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],et(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],xwe(X$(t,s)));const i=p(e,["config"]);return i!=null&&Swe(i,n),n}function Twe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Awe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],Mwe(t,s));const i=p(e,["config"]);return i!=null&&Twe(i,n),n}function kwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function Cwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function jwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Iwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Pwe(t,e){const n={},r=p(e,["contents"]);if(r!=null){let i=DS(t,r);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["requests[]","request","content"],i)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],Rwe(s,n)),Cbe(n,{"requests[].*":"requests[].request.*"})),n}function Rwe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mwe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],Pwe(t,s)),n}function Owe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Dwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lwe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $we(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],e3(jn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const y=p(e,["responseSchema"]);y!=null&&g(r,["responseSchema"],LS(y));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let P=N;Array.isArray(P)&&(P=P.map(H=>e1e(H))),g(n,["safetySettings"],P)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let P=iu(C);Array.isArray(P)&&(P=P.map(H=>n1e(su(H)))),g(n,["tools"],P)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],t1e(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=p(e,["cachedContent"]);n!==void 0&&A!=null&&g(n,["cachedContent"],Ni(t,A));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const E=p(e,["speechConfig"]);if(E!=null&&g(r,["speechConfig"],$S(E)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const I=p(e,["imageConfig"]);I!=null&&g(r,["imageConfig"],zwe(I));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Uwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>wwe(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function Fwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function Vwe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],au(t,r)),n}function Bwe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function qwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function zwe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Gwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let l=Pr(s);Array.isArray(l)&&(l=l.map(c=>e3(c))),g(n,["request","contents"],l)}const i=p(e,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],$we(t,o,p(n,["request"],{}))),n}function Hwe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],Uwe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function Wwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Kwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const i=p(t,["filter"]);return e!==void 0&&i!=null&&g(e,["_query","filter"],i),n}function Ywe(t){const e={},n=p(t,["config"]);return n!=null&&Wwe(n,e),e}function Jwe(t){const e={},n=p(t,["config"]);return n!=null&&Kwe(n,e),e}function Xwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Wp(o))),g(e,["batchJobs"],i)}return e}function Qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>g1(o))),g(e,["batchJobs"],i)}return e}function Zwe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],Owe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Dwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],ywe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function e1e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function t1e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Lwe(r)),e}function n1e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Bwe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],qwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mi||(mi={}));class $o{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r1e extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(mi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=RP(this.apiClient,e),r=n._url,s=xe("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ewe(this.apiClient,e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>g1(d))}else{const u=RP(this.apiClient,e);return l=xe("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Wp(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Awe(this.apiClient,e);return i=xe("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Wp(c))}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Vwe(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>g1(d))}else{const u=Fwe(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Wp(d))}}async cancel(e){var n,r,s,i;let o="",l={};if(this.apiClient.isVertexAI()){const c=bwe(this.apiClient,e);o=xe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=vwe(this.apiClient,e);o=xe("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Jwe(e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Qwe(d),h=new CP;return Object.assign(h,f),h})}else{const u=Ywe(e);return l=xe("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Xwe(d),h=new CP;return Object.assign(h,f),h})}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Cwe(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Iwe(d))}else{const u=kwe(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>jwe(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1e(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function MP(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>A1e(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function i1e(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=Pr(o);Array.isArray(d)&&(d=d.map(f=>MP(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],MP(jn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>C1e(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],k1e(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function a1e(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=Pr(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],jn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>j1e(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function o1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],B$(t,r));const s=p(e,["config"]);return s!=null&&i1e(s,n),n}function l1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],B$(t,r));const s=p(e,["config"]);return s!=null&&a1e(s,n),n}function c1e(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ni(t,r)),n}function u1e(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ni(t,r)),n}function d1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function f1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function h1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function p1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function g1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function x1e(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ni(t,r)),n}function y1e(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ni(t,r)),n}function v1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function b1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function w1e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function _1e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function N1e(t){const e={},n=p(t,["config"]);return n!=null&&w1e(n,e),e}function S1e(t){const e={},n=p(t,["config"]);return n!=null&&_1e(n,e),e}function E1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function T1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function A1e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],h1e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],p1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],s1e(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function k1e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],m1e(r)),e}function C1e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],v1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],b1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function j1e(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>g1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function I1e(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function P1e(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function R1e(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ni(t,r));const s=p(e,["config"]);return s!=null&&I1e(s,n),n}function M1e(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ni(t,r));const s=p(e,["config"]);return s!=null&&P1e(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1e extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(mi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=l1e(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=o1e(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=y1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=x1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=u1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=f1e(d),h=new AP;return Object.assign(h,f),h})}else{const u=c1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=d1e(d),h=new AP;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=M1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=R1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=S1e(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=T1e(d),h=new kP;return Object.assign(h,f),h})}else{const u=N1e(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=E1e(d),h=new kP;return Object.assign(h,f),h})}}}function Qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(t){return this instanceof Me?(this.v=t,this):new Me(t)}function ts(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(b){return Promise.resolve(b).then(x,f)}}function l(x,b){r[x]&&(s[x]=function(w){return new Promise(function(v,y){i.push([x,w,v,y])>1||c(x,w)})},b&&(s[x]=b(s[x])))}function c(x,b){try{u(r[x](b))}catch(w){h(i[0][3],w)}}function u(x){x.value instanceof Me?Promise.resolve(x.value.v).then(d,f):h(i[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,b){x(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ns(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof OP=="function"?OP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D1e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:t3(n)}function t3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function L1e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function DP(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!t3(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class $1e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new U1e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class U1e{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),L1e(i)}async sendMessage(e){var n;await this.sendPromise;const r=jn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,l;const c=await s,u=(o=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=jn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?DP(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ts(this,arguments,function*(){var s,i,o,l,c,u;const d=[];try{for(var f=!0,h=ns(e),x;x=yield Me(h.next()),s=x.done,!s;f=!0){l=x.value,f=!1;const b=l;if(D1e(b)){const w=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;w!==void 0&&d.push(w)}yield yield Me(b)}}catch(b){i={error:b}}finally{try{!f&&!s&&(o=h.return)&&(yield Me(o.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...DP(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F1e(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function V1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function B1e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],K$(n)),e}function q1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function z1e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],K$(n)),e}function G1e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function H1e(t){const e={},n=p(t,["config"]);return n!=null&&G1e(n,e),e}function W1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K1e extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(mi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=H1e(e);return i=xe("files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=W1e(c),d=new Qbe;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F1e(e);return i=xe("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=V1e(c),d=new Zbe;return Object.assign(d,u),d})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=z1e(e);return i=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=B1e(e);return i=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=q1e(c),d=new ewe;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Y1e(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>d_e(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function J1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function X1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Z1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const y=p(t,["seed"]);y!=null&&g(e,["seed"],y);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const A=p(t,["topK"]);A!=null&&g(e,["topK"],A);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function e_e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function t_e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function n_e(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],US(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],Y1e(jn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let A=iu(w);Array.isArray(A)&&(A=A.map(S=>h_e(su(S)))),g(e,["setup","tools"],A)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],f_e(v));const y=p(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&g(e,["setup","inputAudioTranscription"],y);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function r_e(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],Z1e(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],US(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],jn(b));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let S=iu(w);Array.isArray(S)&&(S=S.map(j=>p_e(su(j)))),g(e,["setup","tools"],S)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const y=p(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&g(e,["setup","inputAudioTranscription"],y);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);e!==void 0&&T!=null&&g(e,["setup","proactivity"],T);const A=p(t,["explicitVadSignal"]);return e!==void 0&&A!=null&&g(e,["setup","explicitVadSignal"],A),n}function s_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],et(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],n_e(s,n)),n}function i_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],et(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],r_e(s,n)),n}function a_e(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function o_e(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function l_e(t){const e={},n=p(t,["media"]);if(n!=null){let u=q$(n);Array.isArray(u)&&(u=u.map(d=>Kp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Kp(G$(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],Kp(z$(i)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function c_e(t){const e={},n=p(t,["media"]);if(n!=null){let u=q$(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],G$(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],z$(i));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function u_e(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const i=p(t,["toolCallCancellation"]);i!=null&&g(e,["toolCallCancellation"],i);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],m_e(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],g_e(d)),e}function d_e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],J1e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],X1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Kp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function f_e(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],e_e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],t_e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function p_e(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Q1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function m_e(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const i=p(t,["toolUsePromptTokenCount"]);i!=null&&g(e,["toolUsePromptTokenCount"],i);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function g_e(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_e(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function y_e(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],v_e(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function v_e(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function b_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let i=Pr(s);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["contents"],i)}return n}function w_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["tokensInfo"],s)}return e}function __e(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],N_e(r)),e}function N_e(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function Px(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>PNe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function S_e(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function E_e(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function T_e(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],jn(r));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>i3(l))),g(e,["tools"],o)}const i=p(t,["generationConfig"]);return e!==void 0&&i!=null&&g(e,["generationConfig"],xNe(i)),n}function A_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let o=Pr(s);Array.isArray(o)&&(o=o.map(l=>Px(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&E_e(i),n}function k_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let o=Pr(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&T_e(i,n),n}function C_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const s=p(t,["cachedContentTokenCount"]);return s!=null&&g(e,["cachedContentTokenCount"],s),e}function j_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function I_e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],et(t,r)),n}function P_e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],et(t,r)),n}function R_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function M_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function O_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function D_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>$Ne(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&O_e(o,n),n}function L_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Rx(i))),g(e,["generatedImages"],s)}return e}function $_e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U_e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const i=p(t,["outputDimensionality"]);e!==void 0&&i!=null&&g(e,["parameters","outputDimensionality"],i);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function F_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let l=DS(t,s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const i=p(e,["config"]);i!=null&&$_e(i,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],et(t,o)),n}function V_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let o=DS(t,s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const i=p(e,["config"]);return i!=null&&U_e(i,n),n}function B_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function q_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>__e(o))),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function z_e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function G_e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function H_e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function W_e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function K_e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Y_e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Px(jn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const y=p(e,["responseSchema"]);y!=null&&g(r,["responseSchema"],LS(y));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let P=N;Array.isArray(P)&&(P=P.map(H=>UNe(H))),g(n,["safetySettings"],P)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let P=iu(C);Array.isArray(P)&&(P=P.map(H=>HNe(su(H)))),g(n,["tools"],P)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],GNe(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=p(e,["cachedContent"]);n!==void 0&&A!=null&&g(n,["cachedContent"],Ni(t,A));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const E=p(e,["speechConfig"]);if(E!=null&&g(r,["speechConfig"],$S(E)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const I=p(e,["imageConfig"]);I!=null&&g(r,["imageConfig"],_Ne(I));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function J_e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],jn(s));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const y=p(e,["responseSchema"]);y!=null&&g(r,["responseSchema"],LS(y));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const N=p(e,["routingConfig"]);N!=null&&g(r,["routingConfig"],N);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const T=p(e,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(G=>G)),g(n,["safetySettings"],B)}const A=p(e,["tools"]);if(n!==void 0&&A!=null){let B=iu(A);Array.isArray(B)&&(B=B.map(G=>i3(su(G)))),g(n,["tools"],B)}const S=p(e,["toolConfig"]);n!==void 0&&S!=null&&g(n,["toolConfig"],S);const j=p(e,["labels"]);n!==void 0&&j!=null&&g(n,["labels"],j);const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&g(n,["cachedContent"],Ni(t,E));const R=p(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],$S(O));const P=p(e,["audioTimestamp"]);P!=null&&g(r,["audioTimestamp"],P);const H=p(e,["thinkingConfig"]);H!=null&&g(r,["thinkingConfig"],H);const V=p(e,["imageConfig"]);if(V!=null&&g(r,["imageConfig"],NNe(V)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const L=p(e,["modelArmorConfig"]);return n!==void 0&&L!=null&&g(n,["modelArmorConfig"],L),r}function LP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let o=Pr(s);Array.isArray(o)&&(o=o.map(l=>Px(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],Y_e(t,i,n)),n}function $P(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["contents"]);if(s!=null){let o=Pr(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],J_e(t,i,n)),n}function UP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>y_e(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function FP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function X_e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const i=p(t,["guidanceScale"]);if(e!==void 0&&i!=null&&g(e,["parameters","guidanceScale"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Q_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function Z_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&X_e(i,n),n}function eNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&Q_e(i,n),n}function tNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>hNe(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],r3(s)),e}function nNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rx(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],s3(s)),e}function rNe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],Mx(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>iSe(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function sNe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const i=p(t,["fps"]);e!==void 0&&i!=null&&g(e,["parameters","fps"],i);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const b=p(t,["generateAudio"]);e!==void 0&&b!=null&&g(e,["parameters","generateAudio"],b);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],ls(w));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(C=>aSe(C))),g(e,["instances[0]","referenceImages"],N)}const y=p(t,["mask"]);e!==void 0&&y!=null&&g(e,["instances[0]","mask"],sSe(y));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function iNe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],cNe(o)),e}function aNe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],uNe(o)),e}function oNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Mx(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],a3(o));const l=p(e,["source"]);l!=null&&dNe(l,n);const c=p(e,["config"]);return c!=null&&rNe(c,n),n}function lNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],ls(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],o3(o));const l=p(e,["source"]);l!=null&&fNe(l,n);const c=p(e,["config"]);return c!=null&&sNe(c,n),n}function cNe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mNe(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function uNe(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gNe(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function dNe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],Mx(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],a3(i)),n}function fNe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],ls(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],o3(i)),n}function hNe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],SNe(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);return s!=null&&g(e,["safetyAttributes"],r3(s)),e}function Rx(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],n3(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);s!=null&&g(e,["safetyAttributes"],s3(s));const i=p(t,["prompt"]);return i!=null&&g(e,["enhancedPrompt"],i),e}function pNe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],n3(n));const r=p(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["labels"],s)}return e}function mNe(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],nSe(n)),e}function gNe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],rSe(n)),e}function xNe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const y=p(t,["seed"]);y!=null&&g(e,["seed"],y);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const A=p(t,["topK"]);A!=null&&g(e,["topK"],A);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yNe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],et(t,r)),n}function vNe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],et(t,r)),n}function bNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function wNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function _Ne(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NNe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const s=p(t,["personGeneration"]);s!=null&&g(e,["personGeneration"],s);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function SNe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Ta(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function n3(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Ta(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function Mx(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Ta(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ls(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ta(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function ENe(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Y$(t,l)),r}function TNe(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Y$(t,l)),r}function ANe(t,e){const n={},r=p(e,["config"]);return r!=null&&ENe(t,r,n),n}function kNe(t,e){const n={},r=p(e,["config"]);return r!=null&&TNe(t,r,n),n}function CNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=J$(s);Array.isArray(i)&&(i=i.map(o=>x1(o))),g(e,["models"],i)}return e}function jNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=J$(s);Array.isArray(i)&&(i=i.map(o=>y1(o))),g(e,["models"],i)}return e}function INe(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const s=p(t,["maskDilation"]);return s!=null&&g(e,["dilation"],s),e}function x1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["version"]);i!=null&&g(e,["version"],i);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],WNe(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const b=p(t,["thinking"]);return b!=null&&g(e,["thinking"],b),e}function y1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["versionId"]);i!=null&&g(e,["version"],i);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>z_e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],KNe(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function PNe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],G_e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],H_e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],x_e(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function RNe(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],ls(n)),e}function MNe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function ONe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["source"]);s!=null&&LNe(s,n);const i=p(e,["config"]);return i!=null&&MNe(i,n),n}function DNe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Rx(s))),g(e,["generatedImages"],r)}return e}function LNe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],ls(s));const i=p(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>RNe(l))),g(e,["instances[0]","productImages"],o)}return n}function $Ne(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],ls(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const s=p(t,["referenceType"]);s!=null&&g(e,["referenceType"],s);const i=p(t,["maskImageConfig"]);i!=null&&g(e,["maskImageConfig"],INe(i));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],S_e(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function r3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function s3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function UNe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function FNe(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],ls(n)),e}function VNe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const i=p(t,["confidenceThreshold"]);e!==void 0&&i!=null&&g(e,["parameters","confidenceThreshold"],i);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function BNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["source"]);s!=null&&zNe(s,n);const i=p(e,["config"]);return i!=null&&VNe(i,n),n}function qNe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pNe(s))),g(e,["generatedMasks"],r)}return e}function zNe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],ls(s));const i=p(t,["scribbleImage"]);return e!==void 0&&i!=null&&g(e,["instances[0]","scribble"],FNe(i)),n}function GNe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],W_e(r)),e}function HNe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],bNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],wNe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function i3(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>K_e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function WNe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function KNe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function YNe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function JNe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function XNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],et(t,r));const s=p(e,["config"]);return s!=null&&YNe(s,n),n}function QNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["config"]);return s!=null&&JNe(s,n),n}function ZNe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const i=p(t,["personGeneration"]);e!==void 0&&i!=null&&g(e,["parameters","personGeneration"],i);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function eSe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],et(t,r));const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],ls(s));const i=p(e,["upscaleFactor"]);i!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=p(e,["config"]);return o!=null&&ZNe(o,n),n}function tSe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Rx(i))),g(e,["generatedImages"],s)}return e}function nSe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Ta(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function rSe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Ta(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function sSe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],ls(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function iSe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Mx(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function aSe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ls(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function a3(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],Ta(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["encoding"],s),e}function o3(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ta(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oSe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function lSe(t){const e={},n=p(t,["config"]);return n!=null&&oSe(n,e),e}function cSe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function uSe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&cSe(r,e),e}function dSe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function fSe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["customMetadata"],i)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function hSe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],mSe(o)),e}function pSe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&fSe(s,e),e}function mSe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function gSe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function xSe(t){const e={},n=p(t,["config"]);return n!=null&&gSe(n,e),e}function ySe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["fileSearchStores"],i)}return e}function l3(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function vSe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&l3(r,e),e}function bSe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wSe="Content-Type",_Se="X-Server-Timeout",NSe="User-Agent",v1="x-goog-api-client",SSe="1.38.0",ESe=`google-genai-sdk/${SSe}`,TSe="v1beta1",ASe="v1beta";class kSe{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:TSe}else{if(!this.clientOptions.apiKey)throw new qf({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:ASe,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===h1.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))s.searchParams.append(o,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&CSe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await VP(s),new p1(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await VP(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return ts(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Me(s.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(d,{stream:!0});try{const b=JSON.parse(f);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),v=w.status,y=w.code,_=`got status: ${v}. ${JSON.stringify(b)}`;if(y>=400&&y<600)throw new qf({message:_,status:y})}}catch(b){if(b.name==="ApiError")throw b}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const v of c){const y=o.indexOf(v);y!==-1&&(h===-1||y<h)&&(h=y,x=v.length)}if(h===-1)break;const b=o.substring(0,h);o=o.substring(h+x);const w=b.trim();if(w.startsWith(l)){const v=w.substring(l.length).trim();try{const y=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Me(new p1(y))}catch(y){throw new Error(`exception parsing stream chunk ${v}. ${y}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ESe+" "+this.clientOptions.userAgentExtra;return e[NSe]=n,e[v1]=n,e[wSe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(_Se,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=l;const c={file:s},u=this.getFileName(e),d=xe("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,u,c,n==null?void 0:n.httpOptions);return i.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),l=String(o.size),c=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&l3(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const u=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function VP(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new qf({message:s,status:n}):new Error(s)}}function CSe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const l=Object.assign({},i);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jSe="mcp_used/unknown";let ISe=!1;function c3(t){for(const e of t)if(PSe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ISe}function u3(t){var e;const n=(e=t[v1])!==null&&e!==void 0?e:"";t[v1]=(n+` ${jSe}`).trimStart()}function PSe(t){return t!==null&&typeof t=="object"&&t instanceof FS}function RSe(t){return ts(this,arguments,function*(n,r=100){let s,i=0;for(;i<r;){const o=yield Me(n.listTools({cursor:s}));for(const l of o.tools)yield yield Me(l),i++;if(!o.nextCursor)break;s=o.nextCursor}})}class FS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new FS(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,ns(RSe(d))),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const f=s;o.push(f);const h=f.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),uwe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MSe(t,e,n){const r=new nwe;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class OSe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=$Se(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(N=>{u=N}),f=e.callbacks,h=function(){u({})},x=this.apiClient,b={onopen:h,onmessage:N=>{MSe(x,f.onmessage,N)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(N){}},w=this.webSocketFactory.create(c,LSe(o),b);w.connect(),await d;const _={setup:{model:et(this.apiClient,e.model)}};return w.send(JSON.stringify(_)),new DSe(w,this.apiClient)}}class DSe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=o_e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=a_e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bl.PLAY)}pause(){this.sendPlaybackControl(bl.PAUSE)}stop(){this.sendPlaybackControl(bl.STOP)}resetContext(){this.sendPlaybackControl(bl.RESET_CONTEXT)}close(){this.conn.close()}}function LSe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function $Se(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const USe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FSe(t,e,n){const r=new twe;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=u_e(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class VSe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new OSe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&c3(e.config.tools)&&u3(f);const h=GSe(f);if(this.apiClient.isVertexAI()){const E=this.apiClient.getProject(),R=this.apiClient.getLocation(),I=this.apiClient.getApiKey(),O=!!E&&!!R||!!I;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const E=this.apiClient.getApiKey();let R="BidiGenerateContent",I="key";E!=null&&E.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",I="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${I}=${E}`}let x=()=>{};const b=new Promise(E=>{x=E}),w=e.callbacks,v=function(){var E;(E=w==null?void 0:w.onopen)===null||E===void 0||E.call(w),x({})},y=this.apiClient,_={onopen:v,onmessage:E=>{FSe(y,w.onmessage,E)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(E){}},N=this.webSocketFactory.create(d,zSe(h),_);N.connect(),await b;let C=et(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const E=this.apiClient.getProject(),R=this.apiClient.getLocation();E&&R&&(C=`projects/${E}/locations/${R}/`+C)}let T={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yg.AUDIO]}:e.config.responseModalities=[Yg.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],S=[];for(const E of A)if(this.isCallableTool(E)){const R=E;S.push(await R.tool())}else S.push(E);S.length>0&&(e.config.tools=S);const j={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=i_e(this.apiClient,j):T=s_e(this.apiClient,j),delete T.config,N.send(JSON.stringify(T)),new qSe(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BSe={turnComplete:!0};class qSe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Pr(n.turns),e.isVertexAI()||(r=r.map(s=>Px(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(USe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},BSe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:c_e(e)}:n={realtimeInput:l_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zSe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function GSe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BP=10;function qP(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ul(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Ul(t){return"callTool"in t&&typeof t.callTool=="function"}function HSe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Ul(s)))!==null&&r!==void 0?r:!1}function zP(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(Ul(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function GP(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WSe extends _i{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!HSe(n)||qP(n.config))return await this.generateContentInternal(c);const u=zP(n);if(u.length>0){const w=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let d,f;const h=Pr(c.contents),x=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:BP;let b=0;for(;b<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,v=[];for(const y of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Ul(y)){const N=await y.callTool(d.functionCalls);v.push(...N)}b++,f={role:"user",parts:v},c.contents=Pr(c.contents),c.contents.push(w),c.contents.push(f),GP(c.config)&&(h.push(w),h.push(f))}return GP(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,s,i,o,l;if(this.maybeMoveToResponseJsonSchem(n),qP(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=zP(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((s=c==null?void 0:c.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:o.push(c);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new $o(mi.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async c=>Ul(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&c3(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),u3(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ul(o)){const l=o,c=await l.tool();for(const u of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:BP;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return ts(this,arguments,function*(){for(var h,x,b,w,v,y;l<i;){o&&(l++,o=!1);const T=yield Me(u.processParamsMaybeAddMcpUsage(f)),A=yield Me(u.generateContentStreamInternal(T)),S=[],j=[];try{for(var _=!0,N=(x=void 0,ns(A)),C;C=yield Me(N.next()),h=C.done,!h;_=!0){w=C.value,_=!1;const E=w;if(yield yield Me(E),E.candidates&&(!((v=E.candidates[0])===null||v===void 0)&&v.content)){j.push(E.candidates[0].content);for(const R of(y=E.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<i&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){const I=yield Me(d.get(R.functionCall.name).callTool([R.functionCall]));S.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(E){x={error:E}}finally{try{!_&&!h&&(b=N.return)&&(yield Me(b.call(N)))}finally{if(x)throw x.error}}if(S.length>0){o=!0;const E=new Fu;E.candidates=[{content:{role:"user",parts:S}}],yield yield Me(E);const R=[];R.push(...j),R.push({role:"user",parts:S});const I=Pr(f.contents).concat(R);f.contents=I}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$P(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=FP(d),h=new Fu;return Object.assign(h,f),h})}else{const u=LP(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=UP(d),h=new Fu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$P(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return ts(this,arguments,function*(){var h,x,b,w;try{for(var v=!0,y=ns(f),_;_=yield Me(y.next()),h=_.done,!h;v=!0){w=_.value,v=!1;const N=w,C=FP(yield Me(N.json()));C.sdkHttpResponse={headers:N.headers};const T=new Fu;Object.assign(T,C),yield yield Me(T)}}catch(N){x={error:N}}finally{try{!v&&!h&&(b=y.return)&&(yield Me(b.call(y)))}finally{if(x)throw x.error}}})})}else{const u=LP(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return ts(this,arguments,function*(){var h,x,b,w;try{for(var v=!0,y=ns(f),_;_=yield Me(y.next()),h=_.done,!h;v=!0){w=_.value,v=!1;const N=w,C=UP(yield Me(N.json()));C.sdkHttpResponse={headers:N.headers};const T=new Fu;Object.assign(T,C),yield yield Me(T)}}catch(N){x={error:N}}finally{try{!v&&!h&&(b=y.return)&&(yield Me(b.call(y)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=V_e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=q_e(d),h=new bP;return Object.assign(h,f),h})}else{const u=F_e(this.apiClient,e);return l=xe("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=B_e(d),h=new bP;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=eNe(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=nNe(d),h=new wP;return Object.assign(h,f),h})}else{const u=Z_e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=tNe(d),h=new wP;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=D_e(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=L_e(c),d=new zbe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=eSe(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=tSe(c),d=new Gbe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=ONe(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=DNe(c),d=new Hbe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=BNe(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=qNe(c),d=new Wbe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=vNe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>y1(d))}else{const u=yNe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>x1(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=kNe(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=jNe(d),h=new _P;return Object.assign(h,f),h})}else{const u=ANe(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=CNe(d),h=new _P;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=QNe(this.apiClient,e);return l=xe("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>y1(d))}else{const u=XNe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>x1(d))}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=P_e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=M_e(d),h=new NP;return Object.assign(h,f),h})}else{const u=I_e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=R_e(d),h=new NP;return Object.assign(h,f),h})}}async countTokens(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=k_e(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=j_e(d),h=new SP;return Object.assign(h,f),h})}else{const u=A_e(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=C_e(d),h=new SP;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=b_e(this.apiClient,e);return i=xe("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=w_e(c),d=new Kbe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=lNe(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=aNe(d),h=new Jg;return Object.assign(h,f),h})}else{const u=oNe(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const f=iNe(d),h=new Jg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KSe extends _i{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$be(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=Lbe(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=jbe(e);return i=xe("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YSe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function JSe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>iEe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function XSe(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const i=p(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&g(n,["newSessionExpireTime"],i);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],sEe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function QSe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],XSe(t,r,n)),n}function ZSe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function eEe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tEe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nEe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function rEe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],US(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],JSe(jn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let A=iu(w);Array.isArray(A)&&(A=A.map(S=>oEe(su(S)))),g(e,["setup","tools"],A)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],aEe(v));const y=p(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&g(e,["setup","inputAudioTranscription"],y);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function sEe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],et(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],rEe(s,n)),n}function iEe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],ZSe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],eEe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],YSe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function aEe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oEe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],tEe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],nEe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lEe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function cEe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=lEe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];s.length>0&&(l=s.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class uEe extends _i{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=QSe(this.apiClient,e);i=xe("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=cEe(l,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dEe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function fEe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&dEe(r,e),e}function hEe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function pEe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function mEe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&pEe(r,e),e}function gEe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xEe extends _i{constructor(e){super(),this.apiClient=e,this.list=async n=>new $o(mi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hEe(e);return i=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=fEe(e);s=xe("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mEe(e);return i=xe("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=gEe(c),d=new Ybe;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yEe extends _i{constructor(e,n=new xEe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $o(mi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lSe(e);return i=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dSe(e);return i=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uSe(e);s=xe("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xSe(e);return i=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=ySe(c),d=new Jbe;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vSe(e);return i=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=bSe(c),d=new Xbe;return Object.assign(d,u),d})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pSe(e);return i=xe("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=hSe(c),d=new MS;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let d3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return d3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const vEe=()=>d3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b1(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const w1=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $r extends Error{}class Bn extends $r{constructor(e,n,r,s){super(`${Bn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Ox({message:r,cause:w1(n)});const i=n;return e===400?new h3(e,i,r,s):e===401?new p3(e,i,r,s):e===403?new m3(e,i,r,s):e===404?new g3(e,i,r,s):e===409?new x3(e,i,r,s):e===422?new y3(e,i,r,s):e===429?new v3(e,i,r,s):e>=500?new b3(e,i,r,s):new Bn(e,i,r,s)}}class _1 extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ox extends Bn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class f3 extends Ox{constructor({message:e}={}){super({message:e??"Request timed out."})}}class h3 extends Bn{}class p3 extends Bn{}class m3 extends Bn{}class g3 extends Bn{}class x3 extends Bn{}class y3 extends Bn{}class v3 extends Bn{}class b3 extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bEe=/^[a-z][a-z0-9+.-]*:/i,wEe=t=>bEe.test(t);let N1=t=>(N1=Array.isArray,N1(t));const _Ee=N1;let NEe=_Ee;const HP=NEe;function SEe(t){if(!t)return!0;for(const e in t)return!1;return!0}function EEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const TEe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $r(`${t} must be an integer`);if(e<0)throw new $r(`${t} must be a positive integer`);return e},AEe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kEe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const el="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CEe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jEe=()=>{var t,e,n,r,s;const i=CEe();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":el,"X-Stainless-OS":KP(Deno.build.os),"X-Stainless-Arch":WP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":el,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":el,"X-Stainless-OS":KP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":WP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const o=IEe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":el,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":el,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function IEe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const WP=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",KP=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let gp;const PEe=()=>gp??(gp=jEe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function REe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function w3(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function MEe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return w3({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function _3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OEe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DEe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N3=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hv(t,e,n){return N3(),new File(t,e??"unknown_file",n)}function LEe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const $Ee=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",UEe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&S3(t),FEe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function VEe(t,e,n){if(N3(),t=await t,UEe(t))return t instanceof File?t:hv([await t.arrayBuffer()],t.name);if(FEe(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hv(await S1(s),e,n)}const r=await S1(t);if(e||(e=LEe(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return hv(r,e,n)}async function S1(t){var e,n,r,s,i;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(S3(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if($Ee(t))try{for(var l=!0,c=ns(t),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const d=s;o.push(...await S1(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${BEe(t)}`)}return o}function BEe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E3{constructor(e){this._client=e}}E3._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T3(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const YP=Object.freeze(Object.create(null)),qEe=(t=T3)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],o=n.reduce((d,f,h)=>{var x,b,w;/[?#]/.test(f)&&(s=!0);const v=r[h];let y=(s?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((x=v.hasOwnProperty)!==null&&x!==void 0?x:YP))!==null&&b!==void 0?b:YP))===null||w===void 0?void 0:w.toString))&&(y=v+"",i.push({start:d.length+f.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":y)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,f)=>d.start-f.start),i.length>0){let d=0;const f=i.reduce((h,x)=>{const b=" ".repeat(x.start-d),w="^".repeat(x.length);return d=x.start+x.length,h+b+w},"");throw new $r(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},xp=qEe(T3);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A3 extends E3{create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,i=Qg(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new $r("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new $r("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xp`/${s}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(xp`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(xp`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const i=n??{},{api_version:o=this._client.apiVersion}=i,l=Qg(i,["api_version"]);return this._client.get(xp`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}A3._key=Object.freeze(["interactions"]);class k3 extends A3{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zEe(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let yp;function VS(t){let e;return(yp??(e=new globalThis.TextEncoder,yp=e.encode.bind(e)))(t)}let vp;function JP(t){let e;return(vp??(e=new globalThis.TextDecoder,vp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dx{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?VS(e):e;this.buffer=zEe([this.buffer,n]);const r=[];let s;for(;(s=GEe(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(JP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,o=JP(this.buffer.subarray(0,i));r.push(o),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Dx.NEWLINE_CHARS=new Set([`
`,"\r"]);Dx.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function GEe(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function HEe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zg={off:0,error:200,warn:300,info:400,debug:500},XP=(t,e,n)=>{if(t){if(EEe(Zg,t))return t;On(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Zg))}`)}};function Zu(){}function bp(t,e,n){return!e||Zg[t]>Zg[n]?Zu:e[t].bind(e)}const WEe={error:Zu,warn:Zu,info:Zu,debug:Zu};let QP=new WeakMap;function On(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return WEe;const s=QP.get(n);if(s&&s[0]===r)return s[1];const i={error:bp("error",n,r),warn:bp("warn",n,r),info:bp("info",n,r),debug:bp("debug",n,r)};return QP.set(n,[r,i]),i}const Va=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const i=r?On(r):console;function o(){return ts(this,arguments,function*(){var c,u,d,f;if(s)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,b=ns(KEe(e,n)),w;w=yield Me(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Me(JSON.parse(v.data))}catch(y){throw i.error("Could not parse message into JSON:",v.data),i.error("From chunk:",v.raw),y}}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=b.return)&&(yield Me(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(v){if(b1(v))return yield Me(void 0);throw v}finally{h||n.abort()}})}return new wl(o,n,r)}static fromReadableStream(e,n,r){let s=!1;function i(){return ts(this,arguments,function*(){var c,u,d,f;const h=new Dx,x=_3(e);try{for(var b=!0,w=ns(x),v;v=yield Me(w.next()),c=v.done,!c;b=!0){f=v.value,b=!1;const y=f;for(const _ of h.decode(y))yield yield Me(_)}}catch(y){u={error:y}}finally{try{!b&&!c&&(d=w.return)&&(yield Me(d.call(w)))}finally{if(u)throw u.error}}for(const y of h.flush())yield yield Me(y)})}function o(){return ts(this,arguments,function*(){var c,u,d,f;if(s)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,b=ns(i()),w;w=yield Me(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const v=f;h||v&&(yield yield Me(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=b.return)&&(yield Me(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(v){if(b1(v))return yield Me(void 0);throw v}finally{h||n.abort()}})}return new wl(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new wl(()=>s(e),this.controller,this.client),new wl(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return w3({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const o=VS(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function KEe(t,e){return ts(this,arguments,function*(){var r,s,i,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $r("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $r("Attempted to iterate over a response with no body");const l=new JEe,c=new Dx,u=_3(t.body);try{for(var d=!0,f=ns(YEe(u)),h;h=yield Me(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const b of c.decode(x)){const w=l.decode(b);w&&(yield yield Me(w))}}}catch(x){s={error:x}}finally{try{!d&&!r&&(i=f.return)&&(yield Me(i.call(f)))}finally{if(s)throw s.error}}for(const x of c.flush()){const b=l.decode(x);b&&(yield yield Me(b))}})}function YEe(t){return ts(this,arguments,function*(){var n,r,s,i;let o=new Uint8Array;try{for(var l=!0,c=ns(t),u;u=yield Me(c.next()),n=u.done,!n;l=!0){i=u.value,l=!1;const d=i;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?VS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=HEe(o))!==-1;)yield yield Me(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(s=c.return)&&(yield Me(s.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Me(o))})}class JEe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=XEe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function XEe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QEe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,o=await(async()=>{var l;if(e.options.stream)return On(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return On(t).debug(`[${r}] response parsed`,Va({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-i})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends Promise{constructor(e,n,r=QEe){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new BS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C3=Symbol("brand.privateNullableHeaders");function*ZEe(t){if(!t)return;if(C3 in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():HP(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=HP(r[1])?r[1]:[r[1]];let o=!1;for(const l of i)l!==void 0&&(e&&!o&&(o=!0,yield[s,null]),yield[s,l])}}const Vu=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,o]of ZEe(r)){const l=i.toLowerCase();s.has(l)||(e.delete(i),s.add(l)),o===null?(e.delete(i),n.add(l)):(e.append(i,o),n.delete(l))}}return{[C3]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pv=t=>{var e,n,r,s,i,o;if(typeof globalThis.process<"u")return(r=(n=(e=Sbe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(i=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||i===void 0?void 0:i.call(s,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var j3;class Lx{constructor(e){var n,r,s,i,o,l,c,{baseURL:u=pv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=pv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Qg(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:Lx.DEFAULT_TIMEOUT,this.logger=(s=x.logger)!==null&&s!==void 0?s:console;const b="warn";this.logLevel=b,this.logLevel=(o=(i=XP(x.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:XP(pv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:REe(),this.encoder=DEe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Vu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Vu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Vu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $r(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${el}`}defaultIdempotencyKey(){return`stainless-node-retry-${vEe()}`}makeStatusError(e,n,r,s){return Bn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,i=wEe(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return SEe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new BS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,i,o;const l=await e,c=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(On(this).debug(`[${h}] sending request`,Va({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((i=l.signal)===null||i===void 0)&&i.aborted)throw new _1;const w=new AbortController,v=await this.fetchWithTimeout(d,u,f,w).catch(w1),y=Date.now();if(v instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new _1;const C=b1(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return On(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${N}`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${N})`,Va({retryOfRequestLogID:r,url:d,durationMs:y-b,message:v.message})),this.retryRequest(l,n,r??h);throw On(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Va({retryOfRequestLogID:r,url:d,durationMs:y-b,message:v.message})),C?new f3:new Ox({cause:v})}const _=`[${h}${x}] ${u.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${y-b}ms`;if(!v.ok){const N=await this.shouldRetry(v);if(n&&N){const E=`retrying, ${n} attempts remaining`;return await OEe(v.body),On(this).info(`${_} - ${E}`),On(this).debug(`[${h}] response error (${E})`,Va({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:y-b})),this.retryRequest(l,n,r??h,v.headers)}const C=N?"error; no more retries left":"error; not retryable";On(this).info(`${_} - ${C}`);const T=await v.text().catch(E=>w1(E).message),A=AEe(T),S=A?void 0:T;throw On(this).debug(`[${h}] response error (${C})`,Va({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:S,durationMs:Date.now()-b})),this.makeStatusError(v.status,A,S,v.headers)}return On(this).info(_),On(this).debug(`[${h}] response start`,Va({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:y-b})),{response:v,options:l,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,n,r,s){const i=n||{},{signal:o,method:l}=i,c=Qg(i,["signal","method"]);o&&o.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var i;let o;const l=s==null?void 0:s.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=s==null?void 0:s.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await kEe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,i;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&TEe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),b=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(i=o.fetchOptions)!==null&&i!==void 0?i:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=Vu([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),PEe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Vu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:MEe(e)}:this.encoder({body:e,headers:r})}}Lx.DEFAULT_TIMEOUT=6e4;class on extends Lx{constructor(){super(...arguments),this.interactions=new k3(this)}}j3=on;on.GeminiNextGenAPIClient=j3;on.GeminiNextGenAPIClientError=$r;on.APIError=Bn;on.APIConnectionError=Ox;on.APIConnectionTimeoutError=f3;on.APIUserAbortError=_1;on.NotFoundError=g3;on.ConflictError=x3;on.RateLimitError=v3;on.BadRequestError=h3;on.AuthenticationError=p3;on.InternalServerError=b3;on.PermissionDeniedError=m3;on.UnprocessableEntityError=y3;on.toFile=VEe;on.Interactions=k3;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e2e(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function t2e(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function n2e(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function r2e(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function s2e(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function i2e(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],ZP(x))}else if(s==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],ZP(x))}const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function a2e(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&x2e(i);const o=p(t,["config"]);return o!=null&&s2e(o,n),n}function o2e(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&y2e(i,n,e);const o=p(t,["config"]);return o!=null&&i2e(o,n,e),n}function l2e(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function c2e(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function u2e(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function d2e(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function f2e(t,e){const n={},r=p(t,["config"]);return r!=null&&u2e(r,n),n}function h2e(t,e){const n={},r=p(t,["config"]);return r!=null&&d2e(r,n),n}function p2e(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>I3(l))),g(n,["tuningJobs"],o)}return n}function m2e(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>E1(l))),g(n,["tuningJobs"],o)}return n}function g2e(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function x2e(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(n,["examples","examples"],s)}return n}function y2e(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function I3(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],W$(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],g2e(h)),n}function E1(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],W$(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const b=p(t,["preTunedModel"]);b!=null&&g(n,["preTunedModel"],b);const w=p(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const y=p(t,["tuningDataStats"]);y!=null&&g(n,["tuningDataStats"],y);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const T=p(t,["experiment"]);T!=null&&g(n,["experiment"],T);const A=p(t,["labels"]);A!=null&&g(n,["labels"],A);const S=p(t,["outputUri"]);S!=null&&g(n,["outputUri"],S);const j=p(t,["pipelineJob"]);j!=null&&g(n,["pipelineJob"],j);const E=p(t,["serviceAccount"]);E!=null&&g(n,["serviceAccount"],E);const R=p(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const I=p(t,["veoTuningSpec"]);return I!=null&&g(n,["veoTuningSpec"],I),n}function v2e(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function ZP(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b2e extends _i{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(mi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:f1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=c2e(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>E1(d))}else{const u=l2e(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>I3(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=h2e(e);return l=xe("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=m2e(d),h=new EP;return Object.assign(h,f),h})}else{const u=f2e(e);return l=xe("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=p2e(d),h=new EP;return Object.assign(h,f),h})}}async cancel(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=t2e(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=r2e(d),h=new TP;return Object.assign(h,f),h})}else{const u=e2e(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=n2e(d),h=new TP;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=o2e(e,e);return i=xe("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>E1(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a2e(e);return i=xe("tunedModels",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>v2e(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w2e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _2e=1024*1024*8,N2e=3,S2e=1e3,E2e=2,e0="x-goog-upload-status";async function T2e(t,e,n){var r;const s=await P3(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[e0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function A2e(t,e,n){var r;const s=await P3(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[e0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=V$(i),l=new OS;return Object.assign(l,o),l}async function P3(t,e,n){var r,s;let i=0,o=0,l=new p1(new Response),c="upload";for(i=t.size;o<i;){const u=Math.min(_2e,i-o),d=t.slice(o,o+u);o+u>=i&&(c+=", finalize");let f=0,h=S2e;for(;f<N2e&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[e0]));)f++,await C2e(h),h=h*E2e;if(o+=u,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[e0])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function k2e(t){return{size:t.size,type:t.type}}function C2e(t){return new Promise(e=>setTimeout(e,t))}class j2e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T2e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await A2e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await k2e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I2e{create(e,n,r){return new P2e(e,n,r)}}class P2e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eR="x-goog-api-key";class R2e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(eR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M2e="gl-node/";class O2e{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new on({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=kbe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new R2e(this.apiKey);this.apiClient=new kSe({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:M2e+"web",uploader:new j2e,downloader:new w2e}),this.models=new WSe(this.apiClient),this.live=new VSe(this.apiClient,s,new I2e),this.batches=new r1e(this.apiClient),this.chats=new $1e(this.models,this.apiClient),this.caches=new O1e(this.apiClient),this.files=new K1e(this.apiClient),this.operations=new KSe(this.apiClient),this.authTokens=new uEe(this.apiClient),this.tunings=new b2e(this.apiClient),this.fileSearchStores=new yEe(this.apiClient)}}var D2e={};const L2e=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Ot(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=[{id:1,date:"2024-06-05",concept:"Sueldos Personal",amount:145e4,status:"urgent"},{id:2,date:"2024-06-10",concept:"Alquiler Local Central",amount:35e4,status:"pending"},{id:3,date:"2024-06-15",concept:"IVA Mayo (AFIP)",amount:254100,status:"pending"},{id:4,date:"2024-06-20",concept:"Luz y Gas (Sucursales)",amount:85e3,status:"pending"}],x=D.useMemo(()=>{const y=e.reduce((N,C)=>N+C.stock*C.costPrice,0),_=n.reduce((N,C)=>N+(C.balance>0?C.balance:0),0);return y+_+25e5},[e,n]),b=D.useMemo(()=>r.reduce((y,_)=>y+Math.abs(_.balance<0?_.balance:0),0),[r]),w=x-b,v=async()=>{l(!0);try{const y=new O2e({apiKey:D2e.API_KEY}),_=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${x}, 
      Pasivos: $${b}, 
      Patrimonio Neto: $${w}. 
      Dame recomendaciones estratgicas para pagar sueldos y vencimientos.`,N=await y.models.generateContent({model:"gemini-3-flash-preview",contents:_});u(N.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:bo},{id:"cashflow",label:"Cash Flow",icon:eA},{id:"breakeven",label:"Punto de Equilibrio",icon:xN},{id:"accounting",label:"Libro Diario",icon:Or}].map(y=>a.jsxs("button",{onClick:()=>i(y.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===y.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Bc,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(Um,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",b.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(ac,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(NN,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",w.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(eA,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(In,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(is,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(L7,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),s==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(is,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]})}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(xd,{width:"100%",height:"100%",children:a.jsxs(R$,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx($f,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ga,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(xa,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Kn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(as,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(as,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx($0,{className:"w-5 h-5 text-indigo-600"})," Prximos Vencimientos (Nmina y Fijos)"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(y=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 flex justify-between items-center group hover:border-indigo-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${y.status==="urgent"?"bg-red-100 text-red-600":"bg-white text-indigo-600 shadow-sm"}`,children:a.jsx(Rl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.concept}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date(y.date).toLocaleDateString("es-AR",{day:"2-digit",month:"long"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",y.amount.toLocaleString()]}),y.status==="urgent"&&a.jsx("span",{className:"text-[9px] font-black text-red-500 uppercase tracking-widest",children:"Urgente"})]})]},y.id))})]})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(x7,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Estrategia IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Cmo cubrimos los prximos sueldos y el alquiler del local central?"}),a.jsxs("button",{onClick:v,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(ic,{className:"w-4 h-4"}),"Consultar Plan de Pagos"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Distribucin de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(xd,{width:"100%",height:"100%",children:a.jsxs(Nve,{children:[a.jsx(wi,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((y,_)=>a.jsx(ox,{fill:y.color},`cell-${_}`))}),a.jsx(Kn,{})]})})})]})]})]}),s==="cashflow"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx(xd,{width:"100%",height:"100%",children:a.jsxs(P$,{data:d,children:[a.jsx($f,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ga,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(xa,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(io,{iconType:"circle"}),a.jsx(es,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(es,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(es,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]})}),s==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-12",children:a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales"}),a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]})]})})}),s==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Or,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Sueldos Pagados",debe:0,haber:145e3,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",debe:0,haber:85200,status:"Auditado"}].map((y,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:y.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:y.account})}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:y.debe>0?`$${y.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:y.haber>0?`$${y.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${y.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:y.status})})]},_))})]})})]})]})},$2e=10,U2e=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],F2e=()=>{const{fetchProductsPaginatedAndFiltered:t}=Ot(),[e,n]=D.useState("dashboard"),[r,s]=D.useState("mobile"),[i,o]=D.useState([{id:"1",name:"Martillo Stanley 20oz Pro",price:15500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650 13mm",price:88500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=300",mlStatus:"none"},{id:"3",name:"Pintura Alba Latex 20L",price:42300,stock:20,visits:245,status:"publicado",img:"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"4",name:"Juego de Llaves Combinadas",price:12900,stock:12,visits:56,status:"publicado",img:"https://images.unsplash.com/photo-1621905252507-b35222028781?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,b]=D.useState("login"),[w,v]=D.useState(null),[y,_]=D.useState(""),[N,C]=D.useState([]),[T,A]=D.useState(null),[S,j]=D.useState(!0),[E,R]=D.useState(!1),I=D.useRef(null),O=D.useCallback(async(L=!1,B=y,G=T)=>{R(!0);try{const U={limit:$2e,searchTerm:B.toLowerCase().trim(),startAfterDoc:L?void 0:G,orderByField:"name",orderDirection:"asc"},{products:F,lastVisible:Y,hasMore:ee}=await t(U);C(z=>L?F:[...z,...F]),A(Y),j(ee)}catch(U){console.error("Error loading products for picker:",U)}finally{R(!1)}},[y,T,t]),P=D.useCallback(L=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{O(!0,L,null)},300)},[O]),H=L=>{o([...i,{id:L.id,name:L.name,price:L.salePrice||0,stock:L.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),alert(`${L.name} agregado a la tienda.`)},V=L=>a.jsxs("div",{className:`bg-white h-full flex flex-col ${L==="mobile"?"w-full max-w-[375px] mx-auto shadow-2xl border-[8px] border-slate-900 rounded-[3rem] overflow-hidden":"w-full"}`,children:[a.jsxs("header",{className:`p-4 flex justify-between items-center bg-white border-b sticky top-0 z-[60] ${L==="mobile"?"rounded-t-[2rem]":""}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-orange-600 rounded-lg text-white",children:a.jsx(Wa,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-lg font-black text-slate-800 tracking-tighter uppercase italic",children:"FERRO-GEST"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{className:"relative",children:[a.jsx(oc,{className:"w-5 h-5 text-slate-700"}),a.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-orange-600 text-white text-[8px] font-black w-4 h-4 rounded-full flex items-center justify-center",children:"2"})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50 pb-20",children:[a.jsx("section",{className:"p-4",children:a.jsxs("div",{className:"w-full aspect-[16/9] bg-slate-900 rounded-2xl relative overflow-hidden flex items-center p-6",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Super Oferta"}),a.jsx("h1",{className:"text-xl font-black text-white leading-tight",children:"TODO EN HERRAMIENTAS"}),a.jsx("button",{className:"bg-white text-slate-900 px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-xl",children:"Ver ms"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=400",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 to-transparent"})]})}),a.jsx("section",{className:"px-4 py-2 overflow-x-auto no-scrollbar flex gap-4",children:["Pinturas","Elctricas","Buloneria","Plomeria"].map(B=>a.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-full shadow-sm border border-slate-100 flex items-center justify-center text-orange-600 font-bold text-[8px]",children:a.jsx(sc,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase",children:B})]},B))}),a.jsxs("section",{className:"px-4 mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:"Los ms vendidos"}),a.jsx("button",{className:"text-orange-600 font-bold text-[10px] uppercase",children:"Ver todos"})]}),a.jsx("div",{className:`grid ${L==="mobile"?"grid-cols-2":"grid-cols-4"} gap-4`,children:i.map(B=>a.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden border border-slate-100 shadow-sm flex flex-col",children:[a.jsxs("div",{className:"aspect-square relative bg-slate-50 overflow-hidden",children:[a.jsx("img",{src:B.img,className:"w-full h-full object-cover"}),a.jsx("button",{className:"absolute top-2 right-2 p-1.5 bg-white/80 backdrop-blur-md rounded-full shadow-sm text-slate-400 hover:text-red-500 transition-colors",children:a.jsx(E7,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"p-3 flex flex-col flex-1 justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800 text-[11px] leading-tight line-clamp-2",children:B.name}),a.jsxs("p",{className:"text-xs font-black text-slate-900 mt-1",children:["$",B.price.toLocaleString()]})]}),a.jsx("button",{className:"w-full py-1.5 bg-orange-600 text-white rounded-lg font-black text-[9px] uppercase tracking-widest shadow-md",children:"Comprar"})]})]},B.id))})]})]}),a.jsxs("nav",{className:`bg-white border-t p-3 flex justify-around items-center sticky bottom-0 z-[60] ${L==="mobile"?"rounded-b-[2rem]":""}`,children:[a.jsxs("button",{className:"flex flex-col items-center gap-1 text-orange-600",children:[a.jsx(P5,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Inicio"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(Mt,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Buscar"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400 relative",children:[a.jsx(oc,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-600 text-white text-[7px] w-3 h-3 rounded-full flex items-center justify-center",children:"2"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Carrito"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(so,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Perfil"})]})]}),L==="mobile"&&a.jsx("div",{className:"absolute bottom-20 right-6 z-[70] flex flex-col gap-3",children:a.jsx("button",{className:"p-3 bg-green-500 text-white rounded-full shadow-2xl animate-bounce",children:a.jsx(sA,{className:"w-5 h-5"})})})]});return a.jsxs("div",{className:"space-y-6",children:[u&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/95 z-[200] flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center bg-slate-800 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(vo,{className:"w-5 h-5 text-orange-500"}),a.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Vista Previa: Ferretera Norte Tienda Online"})]}),a.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-xl",children:[a.jsx("button",{onClick:()=>s("mobile"),className:`p-2 rounded-lg transition-all ${r==="mobile"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(Xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s("desktop"),className:`p-2 rounded-lg transition-all ${r==="desktop"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(iA,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>d(!1),className:"bg-white/10 hover:bg-white/20 p-2 rounded-xl transition-all",children:a.jsx(qe,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-hidden p-8 flex items-center justify-center",children:V(r)})]}),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(vo,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"E-Commerce & Mobile Store"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Tu ferretera abierta las 24hs en el bolsillo del cliente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{d(!0),s("mobile")},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Xs,{className:"w-4 h-4 text-orange-600"})," Ver en Celular"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-black transition-all shadow-lg",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"App Dashboard",icon:T7},{id:"catalogo",label:"Catlogo Online",icon:zm},{id:"pedidos",label:"Pedidos Web",icon:Wa},{id:"diseno",label:"UX Mobile Custom",icon:Fm}].map(L=>a.jsxs("button",{onClick:()=>n(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Wa,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Ventas Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"124"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Is,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Clientes Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"482"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(rf,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Sincronizacin"}),a.jsx("h3",{className:"text-lg font-black text-white",children:"ACTIVA 100%"})]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(iA,{className:"w-6 h-6 text-blue-600"})," Rendimiento Multicanal"]}),a.jsx("div",{className:"space-y-6",children:[{name:"Tienda Directa",val:"65%",color:"bg-orange-500"},{name:"MercadoLibre",val:"25%",color:"bg-yellow-400"},{name:"WhatsApp Bot",val:"10%",color:"bg-green-500"}].map(L=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase tracking-widest",children:[a.jsx("span",{className:"text-slate-500",children:L.name}),a.jsx("span",{className:"text-slate-900",children:L.val})]}),a.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${L.color}`,style:{width:L.val}})})]},L.name))})]})]}),a.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-6 border-2 border-slate-100 flex flex-col items-center",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Mobile Mockup"}),a.jsxs("div",{className:"w-full max-w-[280px] aspect-[9/18.5] bg-slate-900 rounded-[2.5rem] border-[6px] border-slate-800 shadow-2xl relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 inset-x-0 h-4 flex justify-center",children:a.jsx("div",{className:"w-16 h-4 bg-slate-800 rounded-b-xl"})}),V("mobile"),a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{onClick:()=>{d(!0),s("mobile")},className:"bg-white text-slate-900 px-4 py-2 rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 shadow-xl scale-110",children:[a.jsx(qc,{className:"w-4 h-4"})," Expandir"]})})]})]})})]}),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(tt,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:L.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:L.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:L.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",L.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:L.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Js,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(yn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),e==="pedidos"&&a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Wa,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:U2e.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx($5,{className:"inline w-3 h-3 mr-1"})," ",L.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:L.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",L.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(Mb,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(Dr,{className:"w-4 h-4"})})]})})]},L.id))})]})]})}),e==="diseno"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-12 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Fm,{className:"w-6 h-6 text-orange-600"})," Personalizacin Mobile UI"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color de Marca (Botones y TabBar)"}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-14 h-14 rounded-2xl border-none p-0 cursor-pointer shadow-lg"}),a.jsx("input",{className:"flex-1 px-5 py-4 border-2 border-slate-100 rounded-2xl font-black uppercase outline-none focus:ring-2 focus:ring-orange-500",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Botones de Accin Flotante (Mobile)"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:a.jsx(sA,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn WhatsApp Flotante"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:a.jsx(R7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:'Botn "Como llegar" (Maps)'})]}),a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:a.jsx(O7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn Llamar Ahora"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 flex flex-col items-center justify-center text-center space-y-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-orange-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"p-6 bg-white/5 rounded-full backdrop-blur-md mb-4 border border-white/10",children:a.jsx(Xs,{className:"w-16 h-16 text-orange-500"})}),a.jsx("h4",{className:"text-white font-black text-xl uppercase tracking-tight",children:"Experiencia Optimizada"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed max-w-xs",children:"El diseo mobile-first asegura que tus clientes compren cmodamente desde la obra o su casa."}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx("button",{onClick:()=>{d(!0),s("mobile")},className:"px-8 py-4 bg-white text-slate-900 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-orange-500 hover:text-white transition-all",children:"Abrir Simulador"})})]})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(tt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:y,onChange:L=>{_(L.target.value),P(L.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E?a.jsx("div",{className:"text-center py-10",children:a.jsx(Le,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"})}):N.length>0?N.map(L=>{var B;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>H(L),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(zm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:L.sku})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(B=L.salePrice)==null?void 0:B.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",L.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(tt,{className:"w-5 h-5"})})]})]},L.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(jr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos"})]})})]}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:a.jsx("button",{onClick:()=>c(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})})]})})]})},V2e=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(q7,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(Is,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(Ly,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(nf,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Ly,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Ly,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),B2e=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[b,w]=D.useState(!1),[v,y]=D.useState(!1),[_,N]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,T]=D.useState(!1),[A,S]=D.useState(!1),j="https://ferrogest.app/ml-callback";D.useEffect(()=>{const L=localStorage.getItem("mlClientId")||"",B=localStorage.getItem("mlClientSecret")||"",G=localStorage.getItem("mlUserId")||null,U=localStorage.getItem("mlNickname")||null,F=localStorage.getItem("mlAutoSyncStock")==="true",Y=localStorage.getItem("mlAutoSyncPrices")==="true";r(L),i(B),l(G),u(U),f(F),x(Y);const ee=localStorage.getItem("andreaniConfig");ee&&N(JSON.parse(ee))},[]);const E=()=>{y(!0),setTimeout(()=>{y(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},R=async()=>{if(!n||!s){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}w(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise(L=>setTimeout(L,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch(L){console.error("Error al conectar con MercadoLibre:",L),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{w(!1)}},I=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:L,clientSecret:B,accountNumber:G,branchCode:U}=_;if(!L||!B||!G||!U){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}T(!0);try{await new Promise(Y=>setTimeout(Y,2500));const F={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};N(F),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(F))}catch(F){console.error("Error al conectar con Andreani:",F),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{T(!1)}},P=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},H=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(rf,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:E,disabled:v||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[v?a.jsx(ro,{className:"w-5 h-5 animate-spin"}):a.jsx(ro,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(rA,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:L=>r(L.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:s,onChange:L=>i(L.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(Dy,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:j}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(j),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:R,disabled:b||!n||!s,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[b?a.jsx(Le,{className:"w-5 h-5"}):a.jsx(zp,{className:"w-5 h-5"}),b?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Js,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:L=>f(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:L=>x(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:I,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),V=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(gd,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(ro,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rA,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:L=>N(B=>({...B,clientId:L.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:L=>N(B=>({...B,clientSecret:L.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:L=>N(B=>({...B,accountNumber:L.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:L=>N(B=>({...B,branchCode:L.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx(Le,{className:"w-5 h-5"}):a.jsx(gd,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:P,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Xt,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(gd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:rf},{id:"andreani",label:"Andreani Envos",icon:Dr},{id:"other",label:"Otras Conexiones",icon:Dy}].map(L=>a.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&H(),t==="andreani"&&V(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(Dy,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(nf,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},q2e=10,z2e=()=>{const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Ot(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,b]=D.useState(!1),[w,v]=D.useState(""),[y,_]=D.useState([]),[N,C]=D.useState(null),[T,A]=D.useState(!0),[S,j]=D.useState(!1),E=D.useRef(null),R=D.useCallback((F,Y)=>{let ee=F.salePrice;if(!Y||!F.costPrice)return ee||0;const z=e.find(ae=>ae.id===Y.priceListId);if(z){const ae=F.costPrice;z.modifierType==="margin"?ee=ae*(1+z.value/100):z.modifierType==="percentage_over_base"&&(ee=(F.salePrice||0)*(1+z.value/100))}return Y.specialDiscount>0&&(ee=ee*(1-Y.specialDiscount/100)),parseFloat(ee.toFixed(2))},[e]),I=async()=>{if(!r.trim()){h("Por favor, ingresa un mensaje para analizar.");return}o(!0),h(null),c([]);try{const F=await abe(r),Y=[];for(const ee of F){const{products:z}=await n({limit:1,searchTerm:ee.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(z.length>0){const ae=z[0],W=R(ae,u);Y.push({productId:ae.id,sku:ae.sku,name:ae.name,brand:ae.brand,quantity:ee.quantity,unitPrice:W,subtotal:parseFloat((W*ee.quantity).toFixed(2)),originalProduct:ae})}else Y.push({productId:`unmatched-${Date.now()}-${ee.productName}`,sku:"N/A",name:ee.productName,brand:"N/A",quantity:ee.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:ee.productName})}c(Y)}catch(F){console.error("Error al analizar el mensaje:",F),h("Ocurri un error al procesar el mensaje con la IA.")}finally{o(!1)}};D.useEffect(()=>{c(F=>F.map(Y=>({...Y,unitPrice:Y.originalProduct?R(Y.originalProduct,u):Y.unitPrice,subtotal:Y.originalProduct?parseFloat((R(Y.originalProduct,u)*Y.quantity).toFixed(2)):Y.subtotal})))},[u,R]);const O=(F,Y)=>{c(ee=>ee.map(z=>z.productId===F?{...z,quantity:Y,subtotal:parseFloat((z.unitPrice*Y).toFixed(2))}:z))},P=F=>{c(Y=>Y.filter(ee=>ee.productId!==F))},H=D.useCallback(async(F=!1,Y=w,ee=N)=>{j(!0);try{const z={limit:q2e,searchTerm:Y.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:F?void 0:ee},{products:ae,lastVisible:W,hasMore:he}=await n(z);_(_e=>F?ae:[..._e,...ae]),C(W),A(he)}catch(z){console.error("Error loading products for picker:",z)}finally{j(!1)}},[w,N,n]),V=D.useCallback(F=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{H(!0,F,null)},300)},[H]);D.useEffect(()=>{x&&H(!0,w,null)},[x,H,w]);const L=(F,Y)=>{if(l.find(z=>z.productId===F.id))c(z=>z.map(ae=>ae.productId===F.id?{...ae,quantity:ae.quantity+1,subtotal:parseFloat((ae.unitPrice*(ae.quantity+1)).toFixed(2))}:ae));else{const z=R(F,u);c(ae=>[...ae,{productId:F.id,sku:F.sku,name:F.name,brand:F.brand,quantity:1,unitPrice:z,subtotal:parseFloat(z.toFixed(2)),originalProduct:F}])}b(!1)},B=D.useMemo(()=>l.reduce((F,Y)=>F+Y.subtotal,0),[l]),G=B*.21,U=B+G;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(tf,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsxs("button",{onClick:()=>{s(""),c([]),d(null),h(null)},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(ic,{className:"w-4 h-4"})," Limpiar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(tf,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:F=>s(F.target.value)}),f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(_s,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:f})]}),a.jsxs("button",{onClick:I,disabled:i||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[i?a.jsx(Le,{className:"w-6 h-6 animate-spin"}):a.jsx(Bm,{className:"w-6 h-6"}),i?"Analizando...":"Analizar Mensaje"]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cliente"}),a.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:F=>d(t.find(Y=>Y.id===F.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(F=>a.jsxs("option",{value:F.id,children:[F.name," (",F.cuit,")"]},F.id))]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:l.map(F=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:F.originalProduct?a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:F.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:F.sku})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(_s,{className:"w-4 h-4"})," ",F.name,a.jsx("button",{onClick:()=>{b(!0)},className:"ml-2 px-2 py-1 bg-red-50 text-[10px] rounded",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:F.quantity,onChange:Y=>O(F.productId,Number(Y.target.value)),className:"w-16 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",F.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>P(F.productId),className:"text-slate-300 hover:text-red-600",children:a.jsx(yn,{className:"w-4 h-4"})})})]},F.productId))})]})}),a.jsxs("button",{onClick:()=>b(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 flex items-center justify-center gap-2",children:[a.jsx(tt,{className:"w-4 h-4"})," Aadir Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-2 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",B.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",U.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{disabled:l.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(Xt,{className:"w-5 h-5"})," Guardar"]}),a.jsxs("button",{disabled:l.length===0||!(u!=null&&u.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(V5,{className:"w-5 h-5"})," WhatsApp"]})]})]})})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase",children:"Buscar Producto"}),a.jsx("button",{onClick:()=>b(!1),children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50",value:w,onChange:F=>{v(F.target.value),V(F.target.value)}})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:S?a.jsx("div",{className:"text-center py-10",children:a.jsx(Le,{className:"w-10 h-10 text-slate-200 mx-auto animate-spin"})}):y.map(F=>{var Y;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 cursor-pointer",onClick:()=>L(F),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:F.sku})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(Y=F.salePrice)==null?void 0:Y.toLocaleString()]}),a.jsx(tt,{className:"w-5 h-5 text-orange-600"})]})]},F.id)})})]})]})})]})},Jo={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},wp={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},G2e=10,H2e=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:s,fetchProductsPaginatedAndFiltered:i,addRemito:o}=Ot(),[l,c]=D.useState(""),[u,d]=D.useState("all"),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,v]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[y,_]=D.useState([]),[N,C]=D.useState(!1),[T,A]=D.useState(!1),[S,j]=D.useState(""),[E,R]=D.useState([]),[I,O]=D.useState(null),[P,H]=D.useState(!0),[V,L]=D.useState(!1),B=D.useRef(null),[G,U]=D.useState(!1),[F,Y]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),[ee,z]=D.useState(!1),[ae,W]=D.useState(!1),[he,_e]=D.useState(null),Ie=D.useCallback(async(re=!1,ye=S,Fe=I)=>{L(!0);try{const Be={limit:G2e,searchTerm:ye.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:re?void 0:Fe},{products:Hn,lastVisible:gr,hasMore:Vr}=await i(Be);R(ou=>re?Hn:[...ou,...Hn]),O(gr),H(Vr)}catch(Be){console.error("Error loading products for picker:",Be)}finally{L(!1)}},[S,I,i]),ce=D.useCallback(re=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{Ie(!0,re,null)},300)},[Ie]);D.useEffect(()=>{T&&(R([]),O(null),H(!0),Ie(!0,S,null))},[S,T,Ie]),D.useEffect(()=>{if(w.clientId){const re=t.find(ye=>ye.id===w.clientId);re&&v(ye=>({...ye,clientName:re.name}))}else v(re=>({...re,clientName:""}))},[w.clientId,t]),D.useEffect(()=>{const re=y.reduce((ye,Fe)=>ye+Fe.subtotal,0);v(ye=>({...ye,total:parseFloat(re.toFixed(2))}))},[y]);const Ne=re=>{re?(b(re),v(re),_(re.items)):(b(null),v({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),_([])),h(!0)},Z=(re,ye)=>{_(Fe=>Fe.map((Be,Hn)=>{if(Hn===re){const gr=Math.max(1,ye),Vr=Be.unitPrice*gr;return{...Be,quantity:gr,subtotal:parseFloat(Vr.toFixed(2))}}return Be}))},Q=re=>{_(ye=>ye.filter((Fe,Be)=>Be!==re))},K=re=>{const ye=y.findIndex(Fe=>Fe.productId===re.id&&!Fe.isService);if(ye!==-1)Z(ye,y[ye].quantity+1);else{const Fe=re.salePrice;_(Be=>[...Be,{productId:re.id,sku:re.sku,name:re.name,brand:re.brand,quantity:1,unitPrice:Fe,subtotal:parseFloat(Fe.toFixed(2)),originalProduct:re}])}A(!1),j("")},X=()=>{if(!F.name||F.unitPrice<=0||F.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const re=F.unitPrice*F.quantity;_(ye=>[...ye,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:F.name,brand:"N/A",quantity:F.quantity,unitPrice:F.unitPrice,subtotal:parseFloat(re.toFixed(2)),isService:!0,serviceDescription:F.serviceDescription,originalProduct:null}]),U(!1),Y({name:"",serviceDescription:"",unitPrice:0,quantity:1})},me=async()=>{if(!w.clientId||y.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}C(!0);try{const re={clientId:w.clientId,clientName:w.clientName||"Cliente",items:y,total:y.reduce((ye,Fe)=>ye+Fe.subtotal,0),status:w.status||"pendiente_preparacion",dateCreated:w.dateCreated||new Date().toISOString().split("T")[0],dateDue:w.dateDue,notes:w.notes,isServiceOrder:y.some(ye=>ye.isService)};x?await r(x.id,re):await n(re),alert("Pedido guardado con xito!"),h(!1)}catch(re){console.error("Error al guardar el pedido:",re),alert("Ocurri un error al guardar el pedido.")}finally{C(!1)}},oe=async re=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await s(re),alert("Pedido eliminado con xito.")}catch(ye){console.error("Error al eliminar el pedido:",ye),alert("Ocurri un error al eliminar el pedido.")}},ke=async(re,ye)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${Jo[ye]}"?`))try{await r(re,{status:ye}),alert("Estado del pedido actualizado.")}catch(Fe){console.error("Error al actualizar estado del pedido:",Fe),alert("Ocurri un error al actualizar el estado.")}},Ye=re=>{_e(re),z(!0)},ct=async()=>{if(he){W(!0);try{const re=he.items.map(Be=>{var Hn,gr,Vr;return{id:Be.productId,sku:Be.sku,name:Be.name,quantity:Be.quantity,price:Be.unitPrice,brand:Be.brand,selectedSaleUnit:Be.selectedSaleUnit||"unidad",originalPrimaryUnit:((Hn=Be.originalProduct)==null?void 0:Hn.primaryUnit)||"unidad",originalSaleUnit:((gr=Be.originalProduct)==null?void 0:gr.saleUnit)||"unidad",originalSaleUnitConversionFactor:((Vr=Be.originalProduct)==null?void 0:Vr.saleUnitConversionFactor)||1}}),ye={date:new Date().toISOString().split("T")[0],client:he.clientName,clientId:he.clientId,itemsCount:re.length,itemsList:re,total:he.total,status:"pendiente"},Fe=await o(ye);await r(he.id,{status:"en_camino"}),alert(`Remito N ${Fe} generado con xito para el pedido ${he.id}!`),z(!1),_e(null)}catch(re){console.error("Error al generar remito desde pedido:",re),alert("Ocurri un error al generar el remito.")}finally{W(!1)}}},nt=D.useMemo(()=>e.filter(re=>{const ye=re.clientName.toLowerCase().includes(l.toLowerCase())||re.id.toLowerCase().includes(l.toLowerCase()),Fe=u==="all"||re.status===u;return ye&&Fe}).sort((re,ye)=>new Date(ye.dateCreated).getTime()-new Date(re.dateCreated).getTime()),[e,l,u]),dt=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(tt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:S,onChange:re=>{j(re.target.value),ce(re.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:V&&S.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Le,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):E.length>0?E.map(re=>{var ye;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>K(re),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(zm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:re.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[re.sku,"  ",re.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(ye=re.salePrice)==null?void 0:ye.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",re.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(tt,{className:"w-5 h-5"})})]})]},re.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(jr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!V&&P&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>Ie(!1,S,I),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Bc,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(jr,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>A(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),qt=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:F.name,onChange:re=>Y(ye=>({...ye,name:re.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:F.serviceDescription,onChange:re=>Y(ye=>({...ye,serviceDescription:re.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:F.unitPrice||"",onChange:re=>Y(ye=>({...ye,unitPrice:parseFloat(re.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:F.quantity||"",onChange:re=>Y(ye=>({...ye,quantity:parseInt(re.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:X,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(tt,{className:"w-5 h-5"})]})]})]})}),Gn=()=>he?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-500 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Generar Remito"}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Para Pedido N ",he.id]})]})]}),a.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Detalles del Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:he.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha Pedido"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(he.dateCreated).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Total"}),a.jsxs("p",{className:"font-bold text-slate-900",children:["$",he.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado Actual"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${wp[he.status]}`,children:Jo[he.status]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems a Incluir en Remito"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:he.items.map((re,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:re.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:re.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:re.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",re.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",re.subtotal.toLocaleString()]})]},ye))})]})}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Nota:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este remito incluir todos los tems del pedido. El stock se deducir del inventario al generar el remito."})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ct,disabled:ae,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[ae?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),ae?"Generando Remito...":"Confirmar Generacin de Remito"]})]})]})}):null;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ef,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>Ne(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:l,onChange:re=>c(re.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(re=>a.jsx("button",{onClick:()=>d(re),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${u===re?"bg-orange-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:re==="all"?"Todos":Jo[re]},re))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:nt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(ef,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):nt.map(re=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:re.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:re.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:re.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Rl,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(re.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:re.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Rl,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(re.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[re.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${wp[re.status]}`,children:Jo[re.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",re.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>Ne(re),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(di,{className:"w-4 h-4"})}),["pendiente_preparacion","listo_retiro","en_camino"].includes(re.status)&&a.jsx("button",{onClick:()=>Ye(re),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors",title:"Generar Remito",children:a.jsx(Dr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>oe(re.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(ic,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(Jo).map(ye=>a.jsxs("button",{onClick:()=>ke(re.id,ye),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${wp[ye].split(" ")[0]} ${wp[ye].split(" ")[1]}`}),Jo[ye]]},ye))})]})]})})]},re.id))})]})})]}),f&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[T&&dt(),G&&qt(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(tt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(so,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:w.clientId||"",onChange:re=>v(ye=>({...ye,clientId:re.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(re=>a.jsx("option",{value:re.id,children:re.name},re.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Rl,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:w.dateDue||"",onChange:re=>v(ye=>({...ye,dateDue:re.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>A(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(tt,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>U(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(tt,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):y.map((re,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:re.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:re.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:re.quantity,onChange:Fe=>Z(ye,parseInt(Fe.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",re.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",re.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>Q(ye),className:"text-red-400 hover:text-red-600",children:a.jsx(yn,{className:"w-4 h-4"})})})]},ye))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:w.notes||"",onChange:re=>v(ye=>({...ye,notes:re.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(w.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:me,disabled:N,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[N?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),x?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]}),ee&&Gn()]})},tR={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},W2e={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},K2e=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:s,addTransaction:i}=Ot(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[v,y]=D.useState(!1),[_,N]=D.useState(!1),[C,T]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[A,S]=D.useState(!1);D.useEffect(()=>{const L=(b.totalAmount||0)-(b.downPayment||0),B=b.installmentsCount>0?b.installmentsCount:1,G=parseFloat((L/B).toFixed(2));w(U=>({...U,amountPerInstallment:G,remainingAmount:h?h.remainingAmount:parseFloat(L.toFixed(2))}))},[b.totalAmount,b.downPayment,b.installmentsCount,h]),D.useEffect(()=>{if(b.clientId){const L=t.find(B=>B.id===b.clientId);L&&w(B=>({...B,clientName:L.name}))}else w(L=>({...L,clientName:""}))},[b.clientId,t]);const j=L=>{L?(x(L),w(L)):(x(null),w({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},E=async()=>{if(!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}y(!0);try{const L={clientId:b.clientId,clientName:b.clientName||"Cliente",totalAmount:b.totalAmount,downPayment:b.downPayment||0,installmentsCount:Math.max(1,b.installmentsCount||1),amountPerInstallment:b.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:b.totalAmount-(b.downPayment||0),payments:b.payments||[],status:b.status||"activo",startDate:b.startDate||new Date().toISOString().split("T")[0],nextDueDate:b.nextDueDate,description:b.description};h?await r(h.id,L):await n(L),alert("Plan de cuotas guardado con xito!"),f(!1)}catch(L){console.error("Error al guardar el plan de cuotas:",L),alert("Ocurri un error al guardar el plan de cuotas.")}finally{y(!1)}},R=async L=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await s(L),alert("Plan de cuotas eliminado con xito.")}catch(B){console.error("Error al eliminar el plan de cuotas:",B),alert("Ocurri un error al eliminar el plan de cuotas.")}},I=L=>{x(L),T({amountPaid:Math.min(L.amountPerInstallment,L.remainingAmount),method:"efectivo",notes:""}),N(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}S(!0);try{const L=h.remainingAmount-C.amountPaid,B=L<=0?"pagado":"activo",G={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},U=[...h.payments,G],F=t.find(Y=>Y.id===h.clientId);F&&await P(h.clientId,F.balance+C.amountPaid),await i({amount:C.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:L,payments:U,status:B,nextDueDate:B==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),N(!1),x(null)}catch(L){console.error("Error al registrar pago:",L),alert("Ocurri un error al registrar el pago.")}finally{S(!1)}},P=async(L,B)=>{console.log(`Simulating client ${L} balance update to: $${B}`)},H=D.useMemo(()=>e.filter(L=>{const B=L.clientName.toLowerCase().includes(o.toLowerCase())||L.id.toLowerCase().includes(o.toLowerCase()),G=c==="all"||L.status===c;return B&&G}).sort((L,B)=>new Date(B.startDate).getTime()-new Date(L.startDate).getTime()),[e,o,c]),V=D.useMemo(()=>e.filter(L=>L.status==="activo"||L.status==="mora").reduce((L,B)=>L+B.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Ns,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>j(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(tt,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(bo,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter(L=>L.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(ui,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter(L=>L.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(is,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",V.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:L=>l(L.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map(L=>a.jsx("button",{onClick:()=>u(L),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===L?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:L==="all"?"Todos":tR[L]},L))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:H.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Ns,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):H.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[L.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:L.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:L.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:L.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[L.payments.filter(B=>B.amountPaid>0).length,"/",L.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",L.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",L.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${L.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",L.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:L.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Rl,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(L.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${W2e[L.status]}`,children:tR[L.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>j(L),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(di,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>I(L),disabled:L.status==="pagado"||L.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(In,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>R(L.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(yn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ns,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(so,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:b.clientId||"",onChange:L=>w(B=>({...B,clientId:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(L=>a.jsxs("option",{value:L.id,children:[L.name," (",L.cuit,")"]},L.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:b.description||"",onChange:L=>w(B=>({...B,description:L.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:b.totalAmount||"",onChange:L=>w(B=>({...B,totalAmount:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:b.downPayment||"",onChange:L=>w(B=>({...B,downPayment:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:b.installmentsCount||"",onChange:L=>w(B=>({...B,installmentsCount:parseInt(L.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Rl,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:b.startDate||"",onChange:L=>w(B=>({...B,startDate:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((b.totalAmount||0)-(b.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(b.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rc,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map((L,B)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date(L.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",L.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:L.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:L.notes||"-"})]},L.id||B))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:E,disabled:v||!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[v?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),v?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(In,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:L=>T(B=>({...B,amountPaid:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:L=>T(B=>({...B,method:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:L=>T(B=>({...B,notes:L.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:A||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[A?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(nn,{className:"w-5 h-5"}),A?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},Y2e=()=>{const{products:t,suppliers:e,updateProduct:n}=Ot(),[r,s]=D.useState(""),[i,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,b=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&b}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(yN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Vm,{className:"w-4 h-4"})," Imprimir"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(pa,{className:"w-4 h-4"})," Generar Pedidos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>s(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(nn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(Dr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(V5,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(_s,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:a.jsx("span",{className:x.stock<=0?"text-red-600":"text-orange-600",children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:i===x.id,onChange:b=>u(x.id,b.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),i===x.id&&a.jsx(Le,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg",title:"Aadir",children:a.jsx(pa,{className:"w-4 h-4"})})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu cuando su stock actual es menor al ",a.jsx("b",{children:"Punto de Reorden"}),"."]})]})]})]})},J2e=20,X2e=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Ot(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,b]=D.useState(!1),[w,v]=D.useState([]),[y,_]=D.useState(null),[N,C]=D.useState(!0),[T,A]=D.useState(!1),S=D.useRef(null),j=D.useCallback(P=>{S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{s(P)},300)},[]),E=D.useCallback(async(P=!1,H=r,V=y)=>{A(!0);try{const L={limit:J2e,searchTerm:H.toLowerCase().trim(),startAfterDoc:P?void 0:V,orderByField:"name",orderDirection:"asc"},{products:B,lastVisible:G,hasMore:U}=await n(L);v(F=>P?B:[...F,...B]),_(G),C(U)}catch(L){console.error("Error loading products:",L)}finally{A(!1)}},[r,y,n]);D.useEffect(()=>{e||(v([]),_(null),C(!0),E(!0,r,null))},[r,e,E]);const R=P=>{c(P),d(0),h(""),o(!0)},I=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}b(!0);try{const P=(l.stock||0)+u;await t(l.id,{stock:P}),alert(`Stock de "${l.name}" ajustado a ${P} unidades.`),o(!1),c(null),v(H=>H.map(V=>V.id===l.id?{...V,stock:P}:V))}catch(P){console.error("Error al guardar el ajuste de stock:",P),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{b(!1)}}};return(e||T)&&w.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Le,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:P=>{s(P.target.value),j(P.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[w.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(sc,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:P.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[P.sku,"  ",P.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${P.stock<(P.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:P.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:P.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>R(P),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(di,{className:"w-5 h-5"})," Ajustar"]})})]},P.id)),w.length===0&&!T&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),T&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Le,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!T&&N&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>E(!1,r,y),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Bc,{className:"w-4 h-4 -rotate-90"})]})})]}),i&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(di,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(P=>P-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(j7,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:P=>d(Number(P.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(P=>P+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(pa,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:P=>h(P.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:I,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},Q2e=20,Z2e=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Ot(),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[b,w]=D.useState(null),[v,y]=D.useState(!0),[_,N]=D.useState(!1),C=D.useRef(null),T=D.useCallback(V=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{i(V)},300)},[]),A=D.useCallback(async(V=!1,L=s,B=b)=>{N(!0);try{const G={limit:Q2e,searchTerm:L.toLowerCase().trim(),startAfterDoc:V?void 0:B,orderByField:"name",orderDirection:"asc"},{products:U,lastVisible:F,hasMore:Y}=await r(G);x(ee=>V?U:[...ee,...U]),w(F),y(Y)}catch(G){console.error("Error loading products:",G)}finally{N(!1)}},[s,b,r]);D.useEffect(()=>{n||(x([]),w(null),y(!0),A(!0,s,null),l([]))},[s,n,A]);const S=D.useMemo(()=>{const V=new Set;return h.forEach(L=>L.category&&V.add(L.category)),Array.from(V).sort()},[h]),j=D.useMemo(()=>{const V=new Set;return h.forEach(L=>L.brand&&V.add(L.brand)),Array.from(V).sort()},[h]),E=V=>{l(L=>L.includes(V)?L.filter(B=>B!==V):[...L,V])},R=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(V=>V.id))},I=(V,L)=>{f(B=>({...B,[V]:L}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},P=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const V={};if(d.supplierId&&(V.supplierId=d.supplierId),d.category&&(V.category=d.category),d.brand&&(V.brand=d.brand),d.reorderPoint!==""&&(V.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(V.targetStock=Number(d.targetStock)),Object.keys(V).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const L=new Map;for(const B of o){const G=h.find(F=>F.id===B);if(!G)continue;const U={...V};if(d.markup!==""){const F=Number(d.markup);!isNaN(F)&&G.costPrice!==void 0&&(U.salePrice=G.costPrice*(1+F/100))}await e(B,U),L.set(B,{...G,...U})}x(B=>B.map(G=>L.has(G.id)?L.get(G.id):G)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch(L){console.error("Error al aplicar cambios masivos:",L),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Le,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:s,onChange:V=>{i(V.target.value),T(V.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(md,{className:"w-5 h-5 text-orange-600"}):a.jsx(qm,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(V=>{var L,B;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>E(V.id),className:"p-1",children:o.includes(V.id)?a.jsx(md,{className:"w-5 h-5 text-orange-600"}):a.jsx(qm,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:V.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:((L=t.find(G=>G.id===V.supplierId))==null?void 0:L.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:V.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:V.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${V.stock<(V.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:V.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(B=V.salePrice)==null?void 0:B.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:V.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:V.targetStock||"N/A"})]},V.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Le,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&v&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>A(!1,s,b),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Bc,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:V=>I("supplierId",V.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(V=>a.jsx("option",{value:V.id,children:V.name},V.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:V=>I("markup",V.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:V=>I("category",V.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),S.map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:V=>I("brand",V.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),j.map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:V=>I("reorderPoint",V.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:V=>I("targetStock",V.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(Le,{className:"w-4 h-4 animate-spin"}):a.jsx(Xt,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},mv=[{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",clientId:"client-456",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"},{id:"R-0003",date:"2024-05-22",client:"Alberto Gimenez",clientId:"client-789",itemsCount:2,itemsList:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:25e3,status:"facturado",invoiceId:"F-INV-001"},{id:"R-0004",date:"2024-05-23",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:3,itemsList:[{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:4e3,status:"pendiente"},{id:"R-0005",date:"2024-05-24",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:8,itemsList:[{id:"p8",sku:"TUER-M8",name:"Tuercas M8",quantity:100,price:3,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p9",sku:"LIJA-F100",name:"Lija Grano 100",quantity:10,price:150,brand:"3M",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:1800,status:"pendiente"}],eTe=[{id:"F-INV-001",clientName:"Alberto Gimenez",clientId:"client-789",items:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",subtotal:25e3,selectedSaleUnit:"litro"}],total:25e3,paymentDetails:[{id:"pd1",method:"efectivo",amount:25e3}],docType:"factura_a",date:"2024-05-22T10:00:00Z",status:"completado",seller:"Sistema",remitoIds:["R-0003"]},{id:"F-INV-002",clientName:"Juan Perez S.R.L.",clientId:"client-123",items:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",subtotal:11e3,selectedSaleUnit:"unidad"},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",subtotal:1500,selectedSaleUnit:"metro_lineal"},{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",subtotal:500,selectedSaleUnit:"unidad"},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",subtotal:3500,selectedSaleUnit:"unidad"}],total:16500,paymentDetails:[{id:"pd2",method:"transferencia",amount:16500}],docType:"factura_b",date:"2024-05-25T11:30:00Z",status:"completado",seller:"Usuario Actual",remitoIds:["R-0001","R-0004"]}],tTe=()=>{const{addSale:t,clients:e,remitos:n,updateRemito:r,sales:s}=Ot(),[i,o]=D.useState(""),[l,c]=D.useState("todos"),[u,d]=D.useState([]),[f,h]=D.useState(!1),[x,b]=D.useState(!1),[w,v]=D.useState(null),[y,_]=D.useState(null),[N,C]=D.useState([]),[T,A]=D.useState({method:"efectivo",amount:0,notes:""}),[S,j]=D.useState("factura_a"),[E,R]=D.useState(0),[I,O]=D.useState(""),[P,H]=D.useState([]);D.useEffect(()=>{if(n&&n.length>0){const Z=new Map(n.map(X=>[X.id,X])),Q=mv.map(X=>Z.get(X.id)||X),K=n.filter(X=>!mv.some(me=>me.id===X.id));H([...Q,...K])}else H(mv)},[n]);const[V,L]=D.useState(!1),B=Z=>{switch(Z){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";case"facturado":return"bg-blue-50 text-blue-700 border-blue-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},G=P.filter(Z=>{const Q=Z.client.toLowerCase().includes(i.toLowerCase())||Z.id.toLowerCase().includes(i.toLowerCase()),K=l==="todos"||Z.status===l;return Q&&K}),U=Z=>{d(Q=>Q.includes(Z)?Q.filter(K=>K!==Z):[...Q,Z])},F=()=>{const Z=G.filter(Q=>Q.status!=="facturado").map(Q=>Q.id);u.length===Z.length&&Z.length>0?d([]):d(Z)},Y=D.useMemo(()=>P.filter(Z=>u.includes(Z.id)),[P,u]),ee=D.useMemo(()=>w?w.total:Y.reduce((Z,Q)=>Z+Q.total,0),[w,Y]),z=ee+E,ae=N.reduce((Z,Q)=>Z+Q.amount,0),W=z-ae,he=()=>{if(T.amount<=0){alert("Por favor, ingresa un monto mayor a cero.");return}C(Z=>[...Z,{...T,id:Date.now().toString()}]),A({method:"efectivo",amount:0,notes:""})},_e=(Z=null,Q=!1)=>{if(console.log("openBillingModal called:",{remito:Z,isBulk:Q,selectedIds:u,selectedRemitosData:Y}),Q&&u.length===0){alert("No hay remitos seleccionados para facturar.");return}if(Q&&u.length>1){const K=Y[0],X=K==null?void 0:K.clientId,me=K==null?void 0:K.client;if(!Y.every(ke=>ke.clientId===X)){alert(`Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes (ej. "${me}" y otros).`);return}}else if(!Z&&!Q){alert("No se ha seleccionado ningn remito para facturar.");return}v(Z),C([]),A({method:"efectivo",amount:0,notes:""}),j("factura_a"),R(0),O(""),h(!0)},Ie=async()=>{var X,me;console.log("handleConfirmInvoice called.");const Z=Y.length>0?Y:w?[w]:[];if(Z.length===0){alert("No hay remitos seleccionados para facturar."),L(!1);return}const Q=(X=Z[0])==null?void 0:X.clientId;if(!Z.every(oe=>oe.clientId===Q)){alert("Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes."),L(!1);return}if(N.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(W)>.01){alert(`Falta asignar $${W.toLocaleString()}`);return}L(!0);try{const oe=[];for(const nt of Z)for(const dt of nt.itemsList){const qt=oe.findIndex(Gn=>Gn.id===dt.id&&Gn.selectedSaleUnit===dt.selectedSaleUnit);qt!==-1?(oe[qt].quantity+=dt.quantity,oe[qt].subtotal=parseFloat((oe[qt].quantity*oe[qt].price).toFixed(2))):oe.push({id:dt.id,sku:dt.sku,name:dt.name,brand:dt.brand,price:dt.price,quantity:dt.quantity,subtotal:parseFloat((dt.price*dt.quantity).toFixed(2)),selectedSaleUnit:dt.selectedSaleUnit})}const ke=e.find(nt=>nt.id===Q),Ye={clientName:(ke==null?void 0:ke.name)||((me=Z[0])==null?void 0:me.client)||"Consumidor Final",clientId:(ke==null?void 0:ke.id)||null,items:oe,total:z,paymentDetails:N,docType:S,date:new Date().toISOString(),status:"completado",seller:"Usuario Actual",remitoIds:Z.map(nt=>nt.id)},ct=await t(Ye);for(const nt of Z)await r(nt.id,{invoiceId:ct,status:"facturado"});alert(`Facturacin completada! Se gener el comprobante N ${ct}.`),d([]),h(!1),C([]),v(null)}catch(oe){console.error("Error al confirmar factura:",oe),alert("Error al procesar la facturacin.")}finally{L(!1)}},ce=async Z=>{console.log('Clicked "Ver Factura" for invoiceId:',Z);let Q=s.find(K=>K.id===Z);Q||(Q=eTe.find(K=>K.id===Z)),Q?(console.log("Found invoice:",Q),_(Q),b(!0)):(console.log("Invoice not found for invoiceId:",Z),alert("No se encontr la factura."))},Ne=()=>{if(!y)return null;const Z=P.filter(K=>{var X;return(X=y.remitoIds)==null?void 0:X.includes(K.id)}),Q=e.find(K=>K.id===y.clientId);return a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Cu,{className:"w-6 h-6","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Comprobante N ",y.id]}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Detalle del comprobante ",y.docType.replace("_"," ").toUpperCase()]})]})]}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(qe,{className:"w-6 h-6","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informacin General"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:y.clientName}),Q&&a.jsx("p",{className:"text-xs text-slate-600",children:Q.cuit})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(y.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tipo de Doc."}),a.jsx("p",{className:"font-bold text-slate-900",children:y.docType.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${y.status==="completado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:y.status})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems del Comprobante"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.items.map((K,X)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:K.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[K.sku,"  ",K.brand]})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:K.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",K.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",K.subtotal.toLocaleString()]})]},X))})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remitos Vinculados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Z.length>0?Z.map(K=>a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["Remito N ",K.id]}),a.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:new Date(K.date).toLocaleDateString()})]}),a.jsxs("span",{className:"font-black text-blue-900",children:["$",K.total.toLocaleString()]})]},K.id)):a.jsx("div",{className:"col-span-full p-4 text-center text-slate-400 italic",children:"No hay remitos vinculados a este comprobante."})})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Total Comprobante"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",y.total.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Total Pagado"}),a.jsxs("span",{children:["$",y.paymentDetails.reduce((K,X)=>K+X.amount,0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cerrar"}),a.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Vm,{className:"w-5 h-5","aria-hidden":"true"})," Imprimir Comprobante"]})]})]})})};return a.jsxs("div",{className:"space-y-6 pb-24",children:[x&&Ne()," ",a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]}),a.jsxs("button",{onClick:()=>alert("Aqu se abrira un modal para crear un nuevo remito."),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(tt,{className:"w-5 h-5","aria-hidden":"true"})," Nuevo Remito"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:i,onChange:Z=>o(Z.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado","facturado"].map(Z=>a.jsx("button",{onClick:()=>c(Z),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${l===Z?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:Z},Z))}),u.length>0&&a.jsxs("button",{onClick:()=>_e(null,!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 ml-4",children:[a.jsx(Cu,{className:"w-5 h-5","aria-hidden":"true"})," Facturar Seleccionados (",u.length,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:F,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:u.length===G.filter(Z=>Z.status!=="facturado").length&&G.filter(Z=>Z.status!=="facturado").length>0?a.jsx(md,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(qm,{className:"w-5 h-5 text-slate-300","aria-hidden":"true"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(Z=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${u.includes(Z.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>Z.status!=="facturado"&&U(Z.id),children:Z.status==="facturado"?a.jsx("span",{title:"Remito ya facturado",children:a.jsx(md,{className:"w-5 h-5 text-blue-600 opacity-50","aria-hidden":"true"})}):u.includes(Z.id)?a.jsx(md,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(qm,{className:"w-5 h-5 text-slate-200","aria-hidden":"true"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:Z.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:Z.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:Z.itemsCount}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${B(Z.status)}`,children:Z.status}),Z.invoiceId&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Cu,{className:"w-3 h-3 text-blue-600","aria-hidden":"true"}),a.jsxs("button",{onClick:Q=>{Q.stopPropagation(),ce(Z.invoiceId)},className:"text-[9px] font-black uppercase text-blue-600 hover:underline",children:["Factura ",Z.invoiceId]})]})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",Z.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:Z.status==="facturado"?a.jsx("button",{onClick:Q=>{Q.stopPropagation(),ce(Z.invoiceId)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Ver Factura",children:a.jsx(qc,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx("button",{onClick:Q=>{Q.stopPropagation(),_e(Z,!1)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(Cu,{className:"w-5 h-5","aria-hidden":"true"})})})]},Z.id))})]})})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(w==null?void 0:w.client)||(Y.length>0?Y[0].client:"N/A")})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-3 text-slate-400",children:a.jsx(qe,{className:"w-7 h-7","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tipo de Comprobante"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_a",checked:S==="factura_a",onChange:Z=>j(Z.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura A"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_b",checked:S==="factura_b",onChange:Z=>j(Z.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura B"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"ticket",checked:S==="ticket",onChange:Z=>j(Z.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Ticket / Venta Simple"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total a Facturar: $",ee.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:N.map(Z=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:Z.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",Z.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(N.filter(Q=>Q.id!==Z.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(yn,{className:"w-4 h-4","aria-hidden":"true"})})]})]},Z.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:T.method,onChange:Z=>A({...T,method:Z.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:T.amount||"",onChange:Z=>A({...T,amount:parseFloat(Z.target.value)||0})})]}),a.jsx("button",{onClick:he,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",z.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:V||Math.abs(W)>.01,onClick:Ie,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[V?a.jsx(Le,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(Cu,{className:"w-5 h-5","aria-hidden":"true"}),V?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},nTe=({client:t,onLogout:e,companyInfo:n})=>{var h;const{sales:r}=Ot(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),d=D.useMemo(()=>r.filter(x=>x.clientId===t.id).sort((x,b)=>new Date(b.date).getTime()-new Date(x.date).getTime()),[r,t.id]),f=()=>{u(!0),setTimeout(()=>{u(!1),l(!1),alert("Gracias! El aviso de pago ha sido enviado. Un asesor lo validar a la brevedad.")},2e3)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white border-b border-slate-100 p-6 flex justify-between items-center sticky top-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-xl text-white rotate-2",children:a.jsx(Wa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tighter italic uppercase",children:n.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Portal de Clientes"})]})]}),a.jsxs("button",{onClick:e,className:"flex items-center gap-2 p-3 bg-slate-50 text-slate-500 rounded-2xl hover:bg-red-50 hover:text-red-600 transition-all font-bold text-xs",children:[a.jsx(D5,{className:"w-4 h-4"})," ",a.jsx("span",{className:"hidden md:inline uppercase tracking-widest",children:"Salir"})]})]}),a.jsxs("main",{className:"flex-1 p-6 md:p-10 max-w-4xl mx-auto w-full space-y-8 pb-32",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-orange-500 font-black uppercase text-[10px] tracking-widest",children:"Bienvenido de nuevo"}),a.jsx("h2",{className:"text-3xl font-black",children:t.name}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:t.cuit})]}),a.jsxs("div",{className:"mt-8 flex gap-4",children:[a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Puntos Club"}),a.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[a.jsx(nf,{className:"w-5 h-5 fill-orange-500"}),a.jsx("span",{className:"text-2xl font-black",children:t.accumulatedPoints||0})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm flex-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Lista de Precios"}),a.jsx("span",{className:"text-sm font-bold text-slate-200",children:"Preferencial Gremio"})]})]}),a.jsx(Xs,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsx("nav",{className:"flex bg-white p-2 rounded-[2rem] shadow-sm border border-slate-100 gap-2",children:[{id:"overview",label:"Resumen",icon:ma},{id:"history",label:"Mis Compras",icon:rc},{id:"payments",label:"Informar Pago",icon:Xd}].map(x=>a.jsxs("button",{onClick:()=>i(x.id),className:`flex-1 flex flex-col items-center gap-2 py-4 rounded-[1.5rem] transition-all ${s===x.id?"bg-orange-600 text-white shadow-xl shadow-orange-600/30":"text-slate-400 hover:bg-slate-50 hover:text-slate-600"}`,children:[a.jsx(x.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:x.label})]},x.id))}),a.jsxs("div",{className:"space-y-6",children:[s==="overview"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"text-center md:text-left space-y-2",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Saldo a Pagar"}),a.jsxs("h3",{className:`text-5xl font-black ${t.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(t.balance).toLocaleString()]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t.balance<0?"Tienes facturas pendientes de pago.":"Tu cuenta est al da o tienes saldo a favor."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-10 py-5 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 active:scale-95",children:[a.jsx(Ns,{className:"w-5 h-5 text-orange-500"})," Pagar Saldo Ahora"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-blue-600 shadow-sm",children:a.jsx(nn,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest leading-tight",children:"ltima Compra"}),a.jsx("h3",{className:"text-lg font-black text-blue-900",children:(h=d[0])!=null&&h.date?new Date(d[0].date).toLocaleDateString():"N/A"})]})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-green-600 shadow-sm",children:a.jsx(nf,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-green-400 uppercase tracking-widest leading-tight",children:"Beneficio Club"}),a.jsx("h3",{className:"text-lg font-black text-green-900",children:"5% OFF Prxima Compra"})]})]})]})]}),s==="history"&&a.jsx("div",{className:"space-y-4 animate-in slide-in-from-right duration-500",children:d.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] text-center space-y-4",children:[a.jsx(rc,{className:"w-12 h-12 text-slate-200 mx-auto"}),a.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Sin historial de compras"})]}):d.map(x=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row justify-between items-center gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-5 w-full md:w-auto",children:[a.jsx("div",{className:"p-3 bg-slate-50 text-slate-400 rounded-2xl group-hover:bg-orange-50 group-hover:text-orange-600 transition-all",children:a.jsx(_N,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:[x.docType.replace("_"," ").toUpperCase()," N ",x.id.slice(-6)]}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx($0,{className:"w-3 h-3"})," ",new Date(x.date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-10",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-black text-slate-900",children:["$",x.total.toLocaleString()]}),a.jsx("span",{className:"text-[9px] font-black text-green-600 uppercase tracking-widest",children:"Pagado"})]}),a.jsx("button",{className:"p-3 bg-slate-50 text-slate-400 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all",children:a.jsx(pl,{className:"w-5 h-5"})})]})]},x.id))}),s==="payments"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 animate-in slide-in-from-left duration-500",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Informar un Pago"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ya realizaste una transferencia? Adjunta el comprobante aqu para que actualicemos tu saldo."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Pagado"}),a.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-2xl font-black outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 flex flex-col items-center justify-center text-center group hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer",children:[a.jsx(Xs,{className:"w-12 h-12 text-slate-200 mb-4 group-hover:text-orange-500"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Subir foto del comprobante"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Formatos: JPG, PNG, PDF"})]}),a.jsx("button",{onClick:f,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-700 transition-all flex items-center justify-center gap-3",children:"Enviar Notificacin"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Datos para Pago"}),a.jsx("button",{onClick:()=>l(!1),children:a.jsx(qe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alias CBU"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"FERROGEST.PRO.PAGOS"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Banco / Billetera"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"Banco Galicia / Mercado Pago"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:["Una vez realizada la transferencia, puedes informar el pago en la pestaa ",a.jsx("b",{children:'"Informar Pago"'})," para una acreditacin rpida."]})]}),a.jsxs("button",{onClick:f,disabled:c,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 disabled:opacity-50",children:[c?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(ac,{className:"w-5 h-5 text-orange-500"}),"Ya realic la transferencia"]})]})]})}),a.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-8 right-8 p-5 bg-green-500 text-white rounded-full shadow-2xl shadow-green-500/40 animate-bounce transition-all hover:scale-110 z-50",children:a.jsx(Xs,{className:"w-8 h-8"})})]})},rTe=({onLoginSuccess:t})=>{const[e,n]=D.useState("employee"),[r,s]=D.useState(""),[i,o]=D.useState(""),[l,c]=D.useState(""),[u,d]=D.useState(!1),[f,h]=D.useState(null),x="admin",b="admin123",w=async y=>{y.preventDefault(),d(!0),h(null);const _=r.trim(),N=i.trim();try{if(_.toLowerCase()===x&&N===b){t("admin","Administrador Maestro");return}if(!_.includes("@")||!_.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),d(!1);return}const C=st(Ae,"users"),T=fd(C,Py("email","==",_),Py("password","==",N)),A=await hd(T);if(A.empty)h("Credenciales de empleado incorrectas.");else{const S=A.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(C){h(`Error de conexin: ${C.message}`)}finally{d(!1)}},v=async y=>{y.preventDefault(),d(!0),h(null);const _=l.trim();if(!_){h("Por favor ingrese su CUIT o DNI."),d(!1);return}try{const N=st(Ae,"clients"),C=fd(N,Py("cuit","==",_)),T=await hd(C);if(T.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const A={id:T.docs[0].id,...T.docs[0].data()};t("customer",A.name,A)}}catch{h("Error al validar cliente.")}finally{d(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:a.jsx(Wa,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),a.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[a.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(ac,{className:"w-4 h-4"})," Personal"]}),a.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Xs,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[a.jsx(qe,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(so,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(O5,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:i,onChange:y=>o(y.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(m7,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):a.jsxs("form",{onSubmit:v,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx(Le,{className:"w-5 h-5 animate-spin"}):a.jsx(Xs,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})},_p={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},sTe={name:"FerroGest Pro",cuit:"30-71122334-9",ivaCondition:"Responsable Inscripto",address:"Av. Rivadavia 1234, CABA",logo:null,showLogoInSidebar:!0,arca:{enabled:!0,puntoVenta:5,iibb:"901-123456-7",crtValidUntil:"2025-12-31"},printConfigs:{factura:{..._p},remito:{..._p},recibo:{..._p},etiqueta:{..._p,pageSize:"80mm"}}},iTe={dashboard:{label:"Dashboard",icon:R5},inventory:{label:"Inventario",icon:Qd},sales:{label:"Ventas",icon:Dm},purchases:{label:"Compras",icon:oc},clients:{label:"Clientes",icon:Is},suppliers:{label:"Proveedores",icon:Dr},cashier:{label:"Cajas",icon:ma},reports:{label:"Informes",icon:j5},settings:{label:"Configuracin",icon:Js},branches:{label:"Sucursales",icon:Ju},prices:{label:"Precios",icon:ro},"bulk-import":{label:"Importar",icon:Lm},warehouse:{label:"Depsito",icon:Hm},"purchase-orders":{label:"Pedidos Compra",icon:M5},ecommerce:{label:"E-Commerce",icon:vo},loyalty:{label:"Fidelizacin",icon:$m},remitos:{label:"Remitos",icon:vN},integrations:{label:"Integraciones",icon:gd},quotes:{label:"Cotizaciones",icon:tf},orders:{label:"Pedidos",icon:ef},installments:{label:"Cuotas",icon:Ns},balances:{label:"Saldos",icon:bo},"missing-items":{label:"Faltantes",icon:yN},"stock-adjustment":{label:"Ajuste Stock",icon:pa},"bulk-modification":{label:"Modif. Masiva",icon:bN},users:{label:"Personal y Accesos",icon:SN}},aTe=()=>{const[t,e]=D.useState(["dashboard"]),[n,r]=D.useState("dashboard"),[s,i]=D.useState(!1),[o,l]=D.useState({name:"",role:"vendedor"}),[c,u]=D.useState("premium"),[d,f]=D.useState(sTe),h=(y,_,N)=>{l({name:_,role:y,data:N}),i(!0)},x=()=>{i(!1),l({name:"",role:"vendedor"}),e(["dashboard"]),r("dashboard")},b=y=>{t.includes(y)||e(_=>[..._,y]),r(y)},w=y=>{if(y==="dashboard")return;const _=t.filter(N=>N!==y);e(_),n===y&&r(_[_.length-1])};if(!s)return a.jsx(rTe,{onLoginSuccess:h});if(o.role==="customer")return a.jsx(nTe,{client:o.data,onLogout:x,companyInfo:d});const v=y=>{switch(y){case"dashboard":return a.jsx(Eve,{openTab:b});case"inventory":return a.jsx(Ave,{});case"missing-items":return a.jsx(Y2e,{});case"stock-adjustment":return a.jsx(X2e,{});case"bulk-modification":return a.jsx(Z2e,{});case"sales":return a.jsx(kve,{});case"purchases":return a.jsx(obe,{});case"clients":return a.jsx(ube,{onNavigate:b});case"suppliers":return a.jsx(dbe,{});case"cashier":return a.jsx(fbe,{});case"balances":return a.jsx(Nbe,{});case"installments":return a.jsx(K2e,{});case"finance":return a.jsx(L2e,{});case"reports":return a.jsx(hbe,{});case"branches":return a.jsx(mbe,{});case"users":return a.jsx(gbe,{});case"prices":return a.jsx(ybe,{});case"bulk-import":return a.jsx(vbe,{});case"warehouse":return a.jsx(bbe,{});case"purchase-orders":return a.jsx(_be,{});case"ecommerce":return a.jsx(F2e,{});case"loyalty":return a.jsx(V2e,{});case"remitos":return a.jsx(tTe,{});case"integrations":return a.jsx(B2e,{});case"quotes":return a.jsx(z2e,{});case"orders":return a.jsx(H2e,{});case"settings":return a.jsx(pbe,{plan:c,setPlan:u,isAdmin:o.role==="admin",companyInfo:d,setCompanyInfo:f});default:return null}};return a.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden",children:[a.jsx(G7,{activeTab:n,setActiveTab:b,companyInfo:d,currentUser:o,onLogout:x}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(H7,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:w}),a.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative bg-slate-50/50",children:a.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t.map(y=>a.jsx("div",{className:`h-full transition-all duration-300 ${y===n?"block animate-in fade-in zoom-in-95":"hidden"}`,children:v(y)},y))})})]})]})},oTe=()=>a.jsx(c7,{children:a.jsx(aTe,{})}),R3=document.getElementById("root");if(!R3)throw new Error("Could not find root element to mount to");const lTe=gv.createRoot(R3);lTe.render(a.jsx(q.StrictMode,{children:a.jsx(oTe,{})}));
