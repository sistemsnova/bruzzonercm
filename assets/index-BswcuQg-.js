(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gj={exports:{}},hg={},yj={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=Symbol.for("react.element"),d3=Symbol.for("react.portal"),f3=Symbol.for("react.fragment"),h3=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),m3=Symbol.for("react.provider"),g3=Symbol.for("react.context"),y3=Symbol.for("react.forward_ref"),x3=Symbol.for("react.suspense"),v3=Symbol.for("react.memo"),b3=Symbol.for("react.lazy"),iE=Symbol.iterator;function w3(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var xj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vj=Object.assign,bj={};function uc(t,e,n){this.props=t,this.context=e,this.refs=bj,this.updater=n||xj}uc.prototype.isReactComponent={};uc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wj(){}wj.prototype=uc.prototype;function zw(t,e,n){this.props=t,this.context=e,this.refs=bj,this.updater=n||xj}var Gw=zw.prototype=new wj;Gw.constructor=zw;vj(Gw,uc.prototype);Gw.isPureReactComponent=!0;var sE=Array.isArray,_j=Object.prototype.hasOwnProperty,Hw={current:null},Nj={key:!0,ref:!0,__self:!0,__source:!0};function Sj(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_j.call(e,r)&&!Nj.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:cf,type:t,key:s,ref:o,props:i,_owner:Hw.current}}function _3(t,e){return{$$typeof:cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf}function N3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aE=/\/+/g;function fy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N3(""+t.key):e.toString(36)}function Lh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cf:case d3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fy(o,0):r,sE(i)?(n="",t!=null&&(n=t.replace(aE,"$&/")+"/"),Lh(i,e,n,"",function(u){return u})):i!=null&&(Ww(i)&&(i=_3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sE(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+fy(s,l);o+=Lh(s,e,n,c,i)}else if(c=w3(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+fy(s,l++),o+=Lh(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yf(t,e,n){if(t==null)return t;var r=[],i=0;return Lh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},$h={transition:null},E3={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:$h,ReactCurrentOwner:Hw};function Ej(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Yf,forEach:function(t,e,n){Yf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yf(t,function(){e++}),e},toArray:function(t){return Yf(t,function(e){return e})||[]},only:function(t){if(!Ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=uc;De.Fragment=f3;De.Profiler=p3;De.PureComponent=zw;De.StrictMode=h3;De.Suspense=x3;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E3;De.act=Ej;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vj({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_j.call(e,c)&&!Nj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:cf,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:g3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m3,_context:t},t.Consumer=t};De.createElement=Sj;De.createFactory=function(t){var e=Sj.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:y3,render:t}};De.isValidElement=Ww;De.lazy=function(t){return{$$typeof:b3,_payload:{_status:-1,_result:t},_init:S3}};De.memo=function(t,e){return{$$typeof:v3,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=$h.transition;$h.transition={};try{t()}finally{$h.transition=e}};De.unstable_act=Ej;De.useCallback=function(t,e){return Dn.current.useCallback(t,e)};De.useContext=function(t){return Dn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Dn.current.useEffect(t,e)};De.useId=function(){return Dn.current.useId()};De.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Dn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};De.useRef=function(t){return Dn.current.useRef(t)};De.useState=function(t){return Dn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Dn.current.useTransition()};De.version="18.3.1";yj.exports=De;var D=yj.exports;const U=et(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=D,A3=Symbol.for("react.element"),k3=Symbol.for("react.fragment"),C3=Object.prototype.hasOwnProperty,I3=T3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P3={key:!0,ref:!0,__self:!0,__source:!0};function Tj(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)C3.call(e,r)&&!P3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:A3,type:t,key:s,ref:o,props:i,_owner:I3.current}}hg.Fragment=k3;hg.jsx=Tj;hg.jsxs=Tj;gj.exports=hg;var a=gj.exports,Ix={},Aj={exports:{}},cr={},kj={exports:{}},Cj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var K=V.length;V.push(G);e:for(;0<K;){var B=K-1>>>1,J=V[B];if(0<i(J,G))V[B]=G,V[K]=J,K=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],K=V.pop();if(K!==G){V[0]=K;e:for(var B=0,J=V.length,te=J>>>1;B<te;){var xe=2*(B+1)-1,we=V[xe],Q=xe+1,ne=V[Q];if(0>i(we,K))Q<J&&0>i(ne,we)?(V[B]=ne,V[Q]=K,B=Q):(V[B]=we,V[xe]=K,B=xe);else if(Q<J&&0>i(ne,K))V[B]=ne,V[Q]=K,B=Q;else break e}}return G}function i(V,G){var K=V.sortIndex-G.sortIndex;return K!==0?K:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,x=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function C(V){if(b=!1,S(V),!x)if(n(c)!==null)x=!0,$(T);else{var G=n(u);G!==null&&q(C,G.startTime-V)}}function T(V,G){x=!1,b&&(b=!1,N(A),A=-1),y=!0;var K=h;try{for(S(G),f=n(c);f!==null&&(!(f.expirationTime>G)||V&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var J=B(f.expirationTime<=G);G=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),S(G)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var xe=n(u);xe!==null&&q(C,xe.startTime-G),te=!1}return te}finally{f=null,h=K,y=!1}}var w=!1,E=null,A=-1,I=5,R=-1;function P(){return!(t.unstable_now()-R<I)}function O(){if(E!==null){var V=t.unstable_now();R=V;var G=!0;try{G=E(!0,V)}finally{G?M():(w=!1,E=null)}}else w=!1}var M;if(typeof _=="function")M=function(){_(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=O,M=function(){F.postMessage(null)}}else M=function(){v(O,0)};function $(V){E=V,w||(w=!0,M())}function q(V,G){A=v(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,$(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var K=h;h=G;try{return V()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=h;h=V;try{return G()}finally{h=K}},t.unstable_scheduleCallback=function(V,G,K){var B=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,V={id:d++,callback:G,priorityLevel:V,startTime:K,expirationTime:J,sortIndex:-1},K>B?(V.sortIndex=K,e(u,V),n(c)===null&&V===n(u)&&(b?(N(A),A=-1):b=!0,q(C,K-B))):(V.sortIndex=J,e(c,V),x||y||(x=!0,$(T))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var G=h;return function(){var K=h;h=G;try{return V.apply(this,arguments)}finally{h=K}}}})(Cj);kj.exports=Cj;var j3=kj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=D,ar=j3;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ij=new Set,Ju={};function uo(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(Ju[t]=e,t=0;t<e.length;t++)Ij.add(e[t])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Px=Object.prototype.hasOwnProperty,M3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oE={},lE={};function O3(t){return Px.call(lE,t)?!0:Px.call(oE,t)?!1:M3.test(t)?lE[t]=!0:(oE[t]=!0,!1)}function D3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L3(t,e,n,r){if(e===null||typeof e>"u"||D3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kw=/[\-:]([a-z])/g;function Jw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kw,Jw);cn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kw,Jw);cn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kw,Jw);cn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yw(t,e,n,r){var i=cn.hasOwnProperty(e)?cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L3(e,n,i,r)&&(n=null),r||i===null?O3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ss=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xf=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),jx=Symbol.for("react.profiler"),Pj=Symbol.for("react.provider"),jj=Symbol.for("react.context"),Qw=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Mx=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),Rj=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,hy;function gu(t){if(hy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hy=e&&e[1]||""}return`
`+hy+t}var py=!1;function my(t,e){if(!t||py)return"";py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{py=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gu(t):""}function $3(t){switch(t.tag){case 5:return gu(t.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return t=my(t.type,!1),t;case 11:return t=my(t.type.render,!1),t;case 1:return t=my(t.type,!0),t;default:return""}}function Ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Mo:return"Portal";case jx:return"Profiler";case Xw:return"StrictMode";case Rx:return"Suspense";case Mx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jj:return(t.displayName||"Context")+".Consumer";case Pj:return(t._context.displayName||"Context")+".Provider";case Qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zw:return e=t.displayName||null,e!==null?e:Ox(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return Ox(t(e))}catch{}}return null}function V3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ox(e);case 8:return e===Xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F3(t){var e=Mj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qf(t){t._valueTracker||(t._valueTracker=F3(t))}function Oj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dx(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dj(t,e){e=e.checked,e!=null&&Yw(t,"checked",e,!1)}function Lx(t,e){Dj(t,e);var n=Ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$x(t,e.type,n):e.hasOwnProperty("defaultValue")&&$x(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $x(t,e,n){(e!=="number"||up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yu=Array.isArray;function el(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(yu(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ys(n)}}function Lj(t,e){var n=Ys(e.value),r=Ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $j(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$j(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zf,Vj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zf=Zf||document.createElement("div"),Zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(t){U3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Au[e]=Au[t]})});function Fj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Au.hasOwnProperty(t)&&Au[t]?(""+e).trim():e+"px"}function Uj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B3=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ux(t,e){if(e){if(B3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Bx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qx=null;function e1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zx=null,tl=null,nl=null;function pE(t){if(t=ff(t)){if(typeof zx!="function")throw Error(le(280));var e=t.stateNode;e&&(e=xg(e),zx(t.stateNode,t.type,e))}}function Bj(t){tl?nl?nl.push(t):nl=[t]:tl=t}function qj(){if(tl){var t=tl,e=nl;if(nl=tl=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function zj(t,e){return t(e)}function Gj(){}var gy=!1;function Hj(t,e,n){if(gy)return t(e,n);gy=!0;try{return zj(t,e,n)}finally{gy=!1,(tl!==null||nl!==null)&&(Gj(),qj())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=xg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var Gx=!1;if(qi)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Gx=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Gx=!1}function q3(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ku=!1,dp=null,fp=!1,Hx=null,z3={onError:function(t){ku=!0,dp=t}};function G3(t,e,n,r,i,s,o,l,c){ku=!1,dp=null,q3.apply(z3,arguments)}function H3(t,e,n,r,i,s,o,l,c){if(G3.apply(this,arguments),ku){if(ku){var u=dp;ku=!1,dp=null}else throw Error(le(198));fp||(fp=!0,Hx=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(fo(t)!==t)throw Error(le(188))}function W3(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mE(i),t;if(s===r)return mE(i),e;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function Kj(t){return t=W3(t),t!==null?Jj(t):null}function Jj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jj(t);if(e!==null)return e;t=t.sibling}return null}var Yj=ar.unstable_scheduleCallback,gE=ar.unstable_cancelCallback,K3=ar.unstable_shouldYield,J3=ar.unstable_requestPaint,Ct=ar.unstable_now,Y3=ar.unstable_getCurrentPriorityLevel,t1=ar.unstable_ImmediatePriority,Xj=ar.unstable_UserBlockingPriority,hp=ar.unstable_NormalPriority,X3=ar.unstable_LowPriority,Qj=ar.unstable_IdlePriority,pg=null,oi=null;function Q3(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(pg,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:tV,Z3=Math.log,eV=Math.LN2;function tV(t){return t>>>=0,t===0?32:31-(Z3(t)/eV|0)|0}var eh=64,th=4194304;function xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=xu(l):(s&=o,s!==0&&(r=xu(s)))}else o=n&~i,o!==0?r=xu(o):s!==0&&(r=xu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),i=1<<n,r|=t[n],e&=~i;return r}function nV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=nV(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Wx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zj(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function yy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function iV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function n1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function eR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tR,r1,nR,rR,iR,Kx=!1,nh=[],Os=null,Ds=null,Ls=null,Qu=new Map,Zu=new Map,_s=[],sV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function Yc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ff(e),e!==null&&r1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aV(t,e,n,r,i){switch(e){case"focusin":return Os=Yc(Os,t,e,n,r,i),!0;case"dragenter":return Ds=Yc(Ds,t,e,n,r,i),!0;case"mouseover":return Ls=Yc(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qu.set(s,Yc(Qu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zu.set(s,Yc(Zu.get(s)||null,t,e,n,r,i)),!0}return!1}function sR(t){var e=Ia(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=Wj(n),e!==null){t.blockedOn=e,iR(t.priority,function(){nR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qx=r,n.target.dispatchEvent(r),qx=null}else return e=ff(n),e!==null&&r1(e),t.blockedOn=n,!1;e.shift()}return!0}function xE(t,e,n){Vh(t)&&n.delete(e)}function oV(){Kx=!1,Os!==null&&Vh(Os)&&(Os=null),Ds!==null&&Vh(Ds)&&(Ds=null),Ls!==null&&Vh(Ls)&&(Ls=null),Qu.forEach(xE),Zu.forEach(xE)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,Kx||(Kx=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,oV)))}function ed(t){function e(i){return Xc(i,t)}if(0<nh.length){Xc(nh[0],t);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&Xc(Os,t),Ds!==null&&Xc(Ds,t),Ls!==null&&Xc(Ls,t),Qu.forEach(e),Zu.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)sR(n),n.blockedOn===null&&_s.shift()}var rl=ss.ReactCurrentBatchConfig,mp=!0;function lV(t,e,n,r){var i=Qe,s=rl.transition;rl.transition=null;try{Qe=1,i1(t,e,n,r)}finally{Qe=i,rl.transition=s}}function cV(t,e,n,r){var i=Qe,s=rl.transition;rl.transition=null;try{Qe=4,i1(t,e,n,r)}finally{Qe=i,rl.transition=s}}function i1(t,e,n,r){if(mp){var i=Jx(t,e,n,r);if(i===null)Ay(t,e,r,gp,n),yE(t,r);else if(aV(i,t,e,n,r))r.stopPropagation();else if(yE(t,r),e&4&&-1<sV.indexOf(t)){for(;i!==null;){var s=ff(i);if(s!==null&&tR(s),s=Jx(t,e,n,r),s===null&&Ay(t,e,r,gp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ay(t,e,r,null,n)}}var gp=null;function Jx(t,e,n,r){if(gp=null,t=e1(r),t=Ia(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gp=t,null}function aR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y3()){case t1:return 1;case Xj:return 4;case hp:case X3:return 16;case Qj:return 536870912;default:return 16}default:return 16}}var Cs=null,s1=null,Fh=null;function oR(){if(Fh)return Fh;var t,e=s1,n=e.length,r,i="value"in Cs?Cs.value:Cs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fh=i.slice(t,1<r?1-r:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function vE(){return!1}function ur(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rh:vE,this.isPropagationStopped=vE,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),e}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a1=ur(dc),df=wt({},dc,{view:0,detail:0}),uV=ur(df),xy,vy,Qc,mg=wt({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qc&&(Qc&&t.type==="mousemove"?(xy=t.screenX-Qc.screenX,vy=t.screenY-Qc.screenY):vy=xy=0,Qc=t),xy)},movementY:function(t){return"movementY"in t?t.movementY:vy}}),bE=ur(mg),dV=wt({},mg,{dataTransfer:0}),fV=ur(dV),hV=wt({},df,{relatedTarget:0}),by=ur(hV),pV=wt({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),mV=ur(pV),gV=wt({},dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yV=ur(gV),xV=wt({},dc,{data:0}),wE=ur(xV),vV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _V(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wV[t])?!!e[t]:!1}function o1(){return _V}var NV=wt({},df,{key:function(t){if(t.key){var e=vV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o1,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SV=ur(NV),EV=wt({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_E=ur(EV),TV=wt({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o1}),AV=ur(TV),kV=wt({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),CV=ur(kV),IV=wt({},mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PV=ur(IV),jV=[9,13,27,32],l1=qi&&"CompositionEvent"in window,Cu=null;qi&&"documentMode"in document&&(Cu=document.documentMode);var RV=qi&&"TextEvent"in window&&!Cu,lR=qi&&(!l1||Cu&&8<Cu&&11>=Cu),NE=" ",SE=!1;function cR(t,e){switch(t){case"keyup":return jV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function MV(t,e){switch(t){case"compositionend":return uR(e);case"keypress":return e.which!==32?null:(SE=!0,NE);case"textInput":return t=e.data,t===NE&&SE?null:t;default:return null}}function OV(t,e){if(Do)return t==="compositionend"||!l1&&cR(t,e)?(t=oR(),Fh=s1=Cs=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lR&&e.locale!=="ko"?null:e.data;default:return null}}var DV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DV[t.type]:e==="textarea"}function dR(t,e,n,r){Bj(r),e=yp(e,"onChange"),0<e.length&&(n=new a1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,td=null;function LV(t){_R(t,0)}function gg(t){var e=Vo(t);if(Oj(e))return t}function $V(t,e){if(t==="change")return e}var fR=!1;if(qi){var wy;if(qi){var _y="oninput"in document;if(!_y){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),_y=typeof TE.oninput=="function"}wy=_y}else wy=!1;fR=wy&&(!document.documentMode||9<document.documentMode)}function AE(){Iu&&(Iu.detachEvent("onpropertychange",hR),td=Iu=null)}function hR(t){if(t.propertyName==="value"&&gg(td)){var e=[];dR(e,td,t,e1(t)),Hj(LV,e)}}function VV(t,e,n){t==="focusin"?(AE(),Iu=e,td=n,Iu.attachEvent("onpropertychange",hR)):t==="focusout"&&AE()}function FV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gg(td)}function UV(t,e){if(t==="click")return gg(e)}function BV(t,e){if(t==="input"||t==="change")return gg(e)}function qV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:qV;function nd(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Px.call(e,i)||!Wr(t[i],e[i]))return!1}return!0}function kE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CE(t,e){var n=kE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kE(n)}}function pR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mR(){for(var t=window,e=up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=up(t.document)}return e}function c1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zV(t){var e=mR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pR(n.ownerDocument.documentElement,n)){if(r!==null&&c1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=CE(n,s);var o=CE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GV=qi&&"documentMode"in document&&11>=document.documentMode,Lo=null,Yx=null,Pu=null,Xx=!1;function IE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xx||Lo==null||Lo!==up(r)||(r=Lo,"selectionStart"in r&&c1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&nd(Pu,r)||(Pu=r,r=yp(Yx,"onSelect"),0<r.length&&(e=new a1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lo)))}function ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Ny={},gR={};qi&&(gR=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function yg(t){if(Ny[t])return Ny[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gR)return Ny[t]=e[n];return t}var yR=yg("animationend"),xR=yg("animationiteration"),vR=yg("animationstart"),bR=yg("transitionend"),wR=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){wR.set(t,e),uo(e,[t])}for(var Sy=0;Sy<PE.length;Sy++){var Ey=PE[Sy],HV=Ey.toLowerCase(),WV=Ey[0].toUpperCase()+Ey.slice(1);ia(HV,"on"+WV)}ia(yR,"onAnimationEnd");ia(xR,"onAnimationIteration");ia(vR,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(bR,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KV=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function jE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H3(r,e,void 0,t),t.currentTarget=null}function _R(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;jE(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;jE(i,l,u),s=c}}}if(fp)throw t=Hx,fp=!1,Hx=null,t}function ft(t,e){var n=e[nv];n===void 0&&(n=e[nv]=new Set);var r=t+"__bubble";n.has(r)||(NR(e,t,2,!1),n.add(r))}function Ty(t,e,n){var r=0;e&&(r|=4),NR(n,t,r,e)}var sh="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[sh]){t[sh]=!0,Ij.forEach(function(n){n!=="selectionchange"&&(KV.has(n)||Ty(n,!1,t),Ty(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sh]||(e[sh]=!0,Ty("selectionchange",!1,e))}}function NR(t,e,n,r){switch(aR(e)){case 1:var i=lV;break;case 4:i=cV;break;default:i=i1}n=i.bind(null,e,n,t),i=void 0,!Gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ay(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ia(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Hj(function(){var u=s,d=e1(n),f=[];e:{var h=wR.get(t);if(h!==void 0){var y=a1,x=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":y=SV;break;case"focusin":x="focus",y=by;break;case"focusout":x="blur",y=by;break;case"beforeblur":case"afterblur":y=by;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=AV;break;case yR:case xR:case vR:y=mV;break;case bR:y=CV;break;case"scroll":y=uV;break;case"wheel":y=PV;break;case"copy":case"cut":case"paste":y=yV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_E}var b=(e&4)!==0,v=!b&&t==="scroll",N=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,S;_!==null;){S=_;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,N!==null&&(C=Xu(_,N),C!=null&&b.push(id(_,C,S)))),v)break;_=_.return}0<b.length&&(h=new y(h,x,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==qx&&(x=n.relatedTarget||n.fromElement)&&(Ia(x)||x[zi]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?Ia(x):null,x!==null&&(v=fo(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(b=bE,C="onMouseLeave",N="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=_E,C="onPointerLeave",N="onPointerEnter",_="pointer"),v=y==null?h:Vo(y),S=x==null?h:Vo(x),h=new b(C,_+"leave",y,n,d),h.target=v,h.relatedTarget=S,C=null,Ia(d)===u&&(b=new b(N,_+"enter",x,n,d),b.target=S,b.relatedTarget=v,C=b),v=C,y&&x)t:{for(b=y,N=x,_=0,S=b;S;S=To(S))_++;for(S=0,C=N;C;C=To(C))S++;for(;0<_-S;)b=To(b),_--;for(;0<S-_;)N=To(N),S--;for(;_--;){if(b===N||N!==null&&b===N.alternate)break t;b=To(b),N=To(N)}b=null}else b=null;y!==null&&RE(f,h,y,b,!1),x!==null&&v!==null&&RE(f,v,x,b,!0)}}e:{if(h=u?Vo(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var T=$V;else if(EE(h))if(fR)T=BV;else{T=FV;var w=VV}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=UV);if(T&&(T=T(t,u))){dR(f,T,n,d);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&$x(h,"number",h.value)}switch(w=u?Vo(u):window,t){case"focusin":(EE(w)||w.contentEditable==="true")&&(Lo=w,Yx=u,Pu=null);break;case"focusout":Pu=Yx=Lo=null;break;case"mousedown":Xx=!0;break;case"contextmenu":case"mouseup":case"dragend":Xx=!1,IE(f,n,d);break;case"selectionchange":if(GV)break;case"keydown":case"keyup":IE(f,n,d)}var E;if(l1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Do?cR(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(lR&&n.locale!=="ko"&&(Do||A!=="onCompositionStart"?A==="onCompositionEnd"&&Do&&(E=oR()):(Cs=d,s1="value"in Cs?Cs.value:Cs.textContent,Do=!0)),w=yp(u,A),0<w.length&&(A=new wE(A,t,null,n,d),f.push({event:A,listeners:w}),E?A.data=E:(E=uR(n),E!==null&&(A.data=E)))),(E=RV?MV(t,n):OV(t,n))&&(u=yp(u,"onBeforeInput"),0<u.length&&(d=new wE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}_R(f,e)})}function id(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xu(t,n),s!=null&&r.unshift(id(t,s,i)),s=Xu(t,e),s!=null&&r.push(id(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Xu(n,s),c!=null&&o.unshift(id(n,c,l))):i||(c=Xu(n,s),c!=null&&o.push(id(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JV=/\r\n?/g,YV=/\u0000|\uFFFD/g;function ME(t){return(typeof t=="string"?t:""+t).replace(JV,`
`).replace(YV,"")}function ah(t,e,n){if(e=ME(e),ME(t)!==e&&n)throw Error(le(425))}function xp(){}var Qx=null,Zx=null;function ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tv=typeof setTimeout=="function"?setTimeout:void 0,XV=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(t){return OE.resolve(null).then(t).catch(ZV)}:tv;function ZV(t){setTimeout(function(){throw t})}function ky(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ed(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ed(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fc=Math.random().toString(36).slice(2),ri="__reactFiber$"+fc,sd="__reactProps$"+fc,zi="__reactContainer$"+fc,nv="__reactEvents$"+fc,eF="__reactListeners$"+fc,tF="__reactHandles$"+fc;function Ia(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DE(t);t!==null;){if(n=t[ri])return n;t=DE(t)}return e}t=n,n=t.parentNode}return null}function ff(t){return t=t[ri]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function xg(t){return t[sd]||null}var rv=[],Fo=-1;function sa(t){return{current:t}}function mt(t){0>Fo||(t.current=rv[Fo],rv[Fo]=null,Fo--)}function ct(t,e){Fo++,rv[Fo]=t.current,t.current=e}var Xs={},En=sa(Xs),Hn=sa(!1),Wa=Xs;function bl(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wn(t){return t=t.childContextTypes,t!=null}function vp(){mt(Hn),mt(En)}function LE(t,e,n){if(En.current!==Xs)throw Error(le(168));ct(En,e),ct(Hn,n)}function SR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,V3(t)||"Unknown",i));return wt({},n,r)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Wa=En.current,ct(En,t),ct(Hn,Hn.current),!0}function $E(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=SR(t,e,Wa),r.__reactInternalMemoizedMergedChildContext=t,mt(Hn),mt(En),ct(En,t)):mt(Hn),ct(Hn,n)}var Ii=null,vg=!1,Cy=!1;function ER(t){Ii===null?Ii=[t]:Ii.push(t)}function nF(t){vg=!0,ER(t)}function aa(){if(!Cy&&Ii!==null){Cy=!0;var t=0,e=Qe;try{var n=Ii;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ii=null,vg=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),Yj(t1,aa),i}finally{Qe=e,Cy=!1}}return null}var Uo=[],Bo=0,wp=null,_p=0,pr=[],mr=0,Ka=null,Pi=1,ji="";function wa(t,e){Uo[Bo++]=_p,Uo[Bo++]=wp,wp=t,_p=e}function TR(t,e,n){pr[mr++]=Pi,pr[mr++]=ji,pr[mr++]=Ka,Ka=t;var r=Pi;t=ji;var i=32-Fr(r)-1;r&=~(1<<i),n+=1;var s=32-Fr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-Fr(e)+i|n<<i|r,ji=s+t}else Pi=1<<s|n<<i|r,ji=t}function u1(t){t.return!==null&&(wa(t,1),TR(t,1,0))}function d1(t){for(;t===wp;)wp=Uo[--Bo],Uo[Bo]=null,_p=Uo[--Bo],Uo[Bo]=null;for(;t===Ka;)Ka=pr[--mr],pr[mr]=null,ji=pr[--mr],pr[mr]=null,Pi=pr[--mr],pr[mr]=null}var ir=null,nr=null,gt=!1,$r=null;function AR(t,e){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,nr=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ka!==null?{id:Pi,overflow:ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ir=t,nr=null,!0):!1;default:return!1}}function iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sv(t){if(gt){var e=nr;if(e){var n=e;if(!VE(t,e)){if(iv(t))throw Error(le(418));e=$s(n.nextSibling);var r=ir;e&&VE(t,e)?AR(r,n):(t.flags=t.flags&-4097|2,gt=!1,ir=t)}}else{if(iv(t))throw Error(le(418));t.flags=t.flags&-4097|2,gt=!1,ir=t}}}function FE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function oh(t){if(t!==ir)return!1;if(!gt)return FE(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ev(t.type,t.memoizedProps)),e&&(e=nr)){if(iv(t))throw kR(),Error(le(418));for(;e;)AR(t,e),e=$s(e.nextSibling)}if(FE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nr=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=ir?$s(t.stateNode.nextSibling):null;return!0}function kR(){for(var t=nr;t;)t=$s(t.nextSibling)}function wl(){nr=ir=null,gt=!1}function f1(t){$r===null?$r=[t]:$r.push(t)}var rF=ss.ReactCurrentBatchConfig;function Zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function lh(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UE(t){var e=t._init;return e(t._payload)}function CR(t){function e(N,_){if(t){var S=N.deletions;S===null?(N.deletions=[_],N.flags|=16):S.push(_)}}function n(N,_){if(!t)return null;for(;_!==null;)e(N,_),_=_.sibling;return null}function r(N,_){for(N=new Map;_!==null;)_.key!==null?N.set(_.key,_):N.set(_.index,_),_=_.sibling;return N}function i(N,_){return N=Bs(N,_),N.index=0,N.sibling=null,N}function s(N,_,S){return N.index=S,t?(S=N.alternate,S!==null?(S=S.index,S<_?(N.flags|=2,_):S):(N.flags|=2,_)):(N.flags|=1048576,_)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,_,S,C){return _===null||_.tag!==6?(_=Dy(S,N.mode,C),_.return=N,_):(_=i(_,S),_.return=N,_)}function c(N,_,S,C){var T=S.type;return T===Oo?d(N,_,S.props.children,C,S.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vs&&UE(T)===_.type)?(C=i(_,S.props),C.ref=Zc(N,_,S),C.return=N,C):(C=Kh(S.type,S.key,S.props,null,N.mode,C),C.ref=Zc(N,_,S),C.return=N,C)}function u(N,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Ly(S,N.mode,C),_.return=N,_):(_=i(_,S.children||[]),_.return=N,_)}function d(N,_,S,C,T){return _===null||_.tag!==7?(_=Ua(S,N.mode,C,T),_.return=N,_):(_=i(_,S),_.return=N,_)}function f(N,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dy(""+_,N.mode,S),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xf:return S=Kh(_.type,_.key,_.props,null,N.mode,S),S.ref=Zc(N,null,_),S.return=N,S;case Mo:return _=Ly(_,N.mode,S),_.return=N,_;case vs:var C=_._init;return f(N,C(_._payload),S)}if(yu(_)||Kc(_))return _=Ua(_,N.mode,S,null),_.return=N,_;lh(N,_)}return null}function h(N,_,S,C){var T=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(N,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:return S.key===T?c(N,_,S,C):null;case Mo:return S.key===T?u(N,_,S,C):null;case vs:return T=S._init,h(N,_,T(S._payload),C)}if(yu(S)||Kc(S))return T!==null?null:d(N,_,S,C,null);lh(N,S)}return null}function y(N,_,S,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return N=N.get(S)||null,l(_,N,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xf:return N=N.get(C.key===null?S:C.key)||null,c(_,N,C,T);case Mo:return N=N.get(C.key===null?S:C.key)||null,u(_,N,C,T);case vs:var w=C._init;return y(N,_,S,w(C._payload),T)}if(yu(C)||Kc(C))return N=N.get(S)||null,d(_,N,C,T,null);lh(_,C)}return null}function x(N,_,S,C){for(var T=null,w=null,E=_,A=_=0,I=null;E!==null&&A<S.length;A++){E.index>A?(I=E,E=null):I=E.sibling;var R=h(N,E,S[A],C);if(R===null){E===null&&(E=I);break}t&&E&&R.alternate===null&&e(N,E),_=s(R,_,A),w===null?T=R:w.sibling=R,w=R,E=I}if(A===S.length)return n(N,E),gt&&wa(N,A),T;if(E===null){for(;A<S.length;A++)E=f(N,S[A],C),E!==null&&(_=s(E,_,A),w===null?T=E:w.sibling=E,w=E);return gt&&wa(N,A),T}for(E=r(N,E);A<S.length;A++)I=y(E,N,A,S[A],C),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?A:I.key),_=s(I,_,A),w===null?T=I:w.sibling=I,w=I);return t&&E.forEach(function(P){return e(N,P)}),gt&&wa(N,A),T}function b(N,_,S,C){var T=Kc(S);if(typeof T!="function")throw Error(le(150));if(S=T.call(S),S==null)throw Error(le(151));for(var w=T=null,E=_,A=_=0,I=null,R=S.next();E!==null&&!R.done;A++,R=S.next()){E.index>A?(I=E,E=null):I=E.sibling;var P=h(N,E,R.value,C);if(P===null){E===null&&(E=I);break}t&&E&&P.alternate===null&&e(N,E),_=s(P,_,A),w===null?T=P:w.sibling=P,w=P,E=I}if(R.done)return n(N,E),gt&&wa(N,A),T;if(E===null){for(;!R.done;A++,R=S.next())R=f(N,R.value,C),R!==null&&(_=s(R,_,A),w===null?T=R:w.sibling=R,w=R);return gt&&wa(N,A),T}for(E=r(N,E);!R.done;A++,R=S.next())R=y(E,N,A,R.value,C),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?A:R.key),_=s(R,_,A),w===null?T=R:w.sibling=R,w=R);return t&&E.forEach(function(O){return e(N,O)}),gt&&wa(N,A),T}function v(N,_,S,C){if(typeof S=="object"&&S!==null&&S.type===Oo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:e:{for(var T=S.key,w=_;w!==null;){if(w.key===T){if(T=S.type,T===Oo){if(w.tag===7){n(N,w.sibling),_=i(w,S.props.children),_.return=N,N=_;break e}}else if(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vs&&UE(T)===w.type){n(N,w.sibling),_=i(w,S.props),_.ref=Zc(N,w,S),_.return=N,N=_;break e}n(N,w);break}else e(N,w);w=w.sibling}S.type===Oo?(_=Ua(S.props.children,N.mode,C,S.key),_.return=N,N=_):(C=Kh(S.type,S.key,S.props,null,N.mode,C),C.ref=Zc(N,_,S),C.return=N,N=C)}return o(N);case Mo:e:{for(w=S.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(N,_.sibling),_=i(_,S.children||[]),_.return=N,N=_;break e}else{n(N,_);break}else e(N,_);_=_.sibling}_=Ly(S,N.mode,C),_.return=N,N=_}return o(N);case vs:return w=S._init,v(N,_,w(S._payload),C)}if(yu(S))return x(N,_,S,C);if(Kc(S))return b(N,_,S,C);lh(N,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(N,_.sibling),_=i(_,S),_.return=N,N=_):(n(N,_),_=Dy(S,N.mode,C),_.return=N,N=_),o(N)):n(N,_)}return v}var _l=CR(!0),IR=CR(!1),Np=sa(null),Sp=null,qo=null,h1=null;function p1(){h1=qo=Sp=null}function m1(t){var e=Np.current;mt(Np),t._currentValue=e}function av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Sp=t,h1=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zn=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(h1!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(Sp===null)throw Error(le(308));qo=t,Sp.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Pa=null;function g1(t){Pa===null?Pa=[t]:Pa.push(t)}function PR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,g1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function y1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,g1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function Bh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n1(t,n)}}function BE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ep(t,e,n,r){var i=t.updateQueue;bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,y=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,b=l;switch(h=e,y=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=wt({},f,h);break e;case 2:bs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ya|=o,t.lanes=o,t.memoizedState=f}}function qE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var hf={},li=sa(hf),ad=sa(hf),od=sa(hf);function ja(t){if(t===hf)throw Error(le(174));return t}function x1(t,e){switch(ct(od,e),ct(ad,t),ct(li,hf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fx(e,t)}mt(li),ct(li,e)}function Nl(){mt(li),mt(ad),mt(od)}function RR(t){ja(od.current);var e=ja(li.current),n=Fx(e,t.type);e!==n&&(ct(ad,t),ct(li,n))}function v1(t){ad.current===t&&(mt(li),mt(ad))}var xt=sa(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function b1(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var qh=ss.ReactCurrentDispatcher,Py=ss.ReactCurrentBatchConfig,Ja=0,vt=null,Ft=null,Kt=null,Ap=!1,ju=!1,ld=0,iF=0;function mn(){throw Error(le(321))}function w1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function _1(t,e,n,r,i,s){if(Ja=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?lF:cF,t=n(r,i),ju){s=0;do{if(ju=!1,ld=0,25<=s)throw Error(le(301));s+=1,Kt=Ft=null,e.updateQueue=null,qh.current=uF,t=n(r,i)}while(ju)}if(qh.current=kp,e=Ft!==null&&Ft.next!==null,Ja=0,Kt=Ft=vt=null,Ap=!1,e)throw Error(le(300));return t}function N1(){var t=ld!==0;return ld=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Nr(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Kt===null?vt.memoizedState:Kt.next;if(e!==null)Kt=e,Ft=t;else{if(t===null)throw Error(le(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function cd(t,e){return typeof e=="function"?e(t):e}function jy(t){var e=Nr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Ja&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,vt.lanes|=d,Ya|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Wr(r,e.memoizedState)||(zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,Ya|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ry(t){var e=Nr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wr(s,e.memoizedState)||(zn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MR(){}function OR(t,e){var n=vt,r=Nr(),i=e(),s=!Wr(r.memoizedState,i);if(s&&(r.memoizedState=i,zn=!0),r=r.queue,S1($R.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,ud(9,LR.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(le(349));Ja&30||DR(n,e,i)}return i}function DR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LR(t,e,n,r){e.value=n,e.getSnapshot=r,VR(e)&&FR(t)}function $R(t,e,n){return n(function(){VR(e)&&FR(t)})}function VR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function FR(t){var e=Gi(t,1);e!==null&&Ur(e,t,1,-1)}function zE(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:t},e.queue=t,t=t.dispatch=oF.bind(null,vt,t),[e.memoizedState,t]}function ud(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UR(){return Nr().memoizedState}function zh(t,e,n,r){var i=ni();vt.flags|=t,i.memoizedState=ud(1|e,n,void 0,r===void 0?null:r)}function bg(t,e,n,r){var i=Nr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&w1(r,o.deps)){i.memoizedState=ud(e,n,s,r);return}}vt.flags|=t,i.memoizedState=ud(1|e,n,s,r)}function GE(t,e){return zh(8390656,8,t,e)}function S1(t,e){return bg(2048,8,t,e)}function BR(t,e){return bg(4,2,t,e)}function qR(t,e){return bg(4,4,t,e)}function zR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GR(t,e,n){return n=n!=null?n.concat([t]):null,bg(4,4,zR.bind(null,e,t),n)}function E1(){}function HR(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WR(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KR(t,e,n){return Ja&21?(Wr(n,e)||(n=Zj(),vt.lanes|=n,Ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zn=!0),t.memoizedState=n)}function sF(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Py.transition;Py.transition={};try{t(!1),e()}finally{Qe=n,Py.transition=r}}function JR(){return Nr().memoizedState}function aF(t,e,n){var r=Us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YR(t))XR(e,n);else if(n=PR(t,e,n,r),n!==null){var i=Rn();Ur(n,t,r,i),QR(n,e,r)}}function oF(t,e,n){var r=Us(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YR(t))XR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Wr(l,o)){var c=e.interleaved;c===null?(i.next=i,g1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=PR(t,e,i,r),n!==null&&(i=Rn(),Ur(n,t,r,i),QR(n,e,r))}}function YR(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function XR(t,e){ju=Ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n1(t,n)}}var kp={readContext:_r,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},lF={readContext:_r,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:GE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zh(4194308,4,zR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return zh(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aF.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:zE,useDebugValue:E1,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=zE(!1),e=t[0];return t=sF.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=ni();if(gt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Yt===null)throw Error(le(349));Ja&30||DR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,GE($R.bind(null,r,s,t),[t]),r.flags|=2048,ud(9,LR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ni(),e=Yt.identifierPrefix;if(gt){var n=ji,r=Pi;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cF={readContext:_r,useCallback:HR,useContext:_r,useEffect:S1,useImperativeHandle:GR,useInsertionEffect:BR,useLayoutEffect:qR,useMemo:WR,useReducer:jy,useRef:UR,useState:function(){return jy(cd)},useDebugValue:E1,useDeferredValue:function(t){var e=Nr();return KR(e,Ft.memoizedState,t)},useTransition:function(){var t=jy(cd)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:MR,useSyncExternalStore:OR,useId:JR,unstable_isNewReconciler:!1},uF={readContext:_r,useCallback:HR,useContext:_r,useEffect:S1,useImperativeHandle:GR,useInsertionEffect:BR,useLayoutEffect:qR,useMemo:WR,useReducer:Ry,useRef:UR,useState:function(){return Ry(cd)},useDebugValue:E1,useDeferredValue:function(t){var e=Nr();return Ft===null?e.memoizedState=t:KR(e,Ft.memoizedState,t)},useTransition:function(){var t=Ry(cd)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:MR,useSyncExternalStore:OR,useId:JR,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wg={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Us(t),s=Vi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(Ur(e,t,i,r),Bh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Us(t),s=Vi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(Ur(e,t,i,r),Bh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Us(t),i=Vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vs(t,i,r),e!==null&&(Ur(e,t,r,n),Bh(e,t,r))}};function HE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nd(n,r)||!nd(i,s):!0}function ZR(t,e,n){var r=!1,i=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Wn(e)?Wa:En.current,r=e.contextTypes,s=(r=r!=null)?bl(t,i):Xs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wg.enqueueReplaceState(e,e.state,null)}function lv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},y1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Wn(e)?Wa:En.current,i.context=bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ov(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wg.enqueueReplaceState(i,i.state,null),Ep(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var n="",r=e;do n+=$3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function My(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dF=typeof WeakMap=="function"?WeakMap:Map;function eM(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ip||(Ip=!0,vv=r),cv(t,e)},n}function tM(t,e,n){n=Vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cv(t,e),typeof r!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EF.bind(null,t,e,n),e.then(t,t))}function JE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Vs(n,e,1))),n.lanes|=1),t)}var fF=ss.ReactCurrentOwner,zn=!1;function Cn(t,e,n,r){e.child=t===null?IR(e,null,n,r):_l(e,t.child,n,r)}function XE(t,e,n,r,i){n=n.render;var s=e.ref;return il(e,i),r=_1(t,e,n,r,s,i),n=N1(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(gt&&n&&u1(e),e.flags|=1,Cn(t,e,r,i),e.child)}function QE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!R1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nM(t,e,s,r,i)):(t=Kh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nd,n(o,r)&&t.ref===e.ref)return Hi(t,e,i)}return e.flags|=1,t=Bs(s,r),t.ref=e.ref,t.return=e,e.child=t}function nM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(nd(s,r)&&t.ref===e.ref)if(zn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zn=!0);else return e.lanes=t.lanes,Hi(t,e,i)}return uv(t,e,n,r,i)}function rM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Go,Zn),Zn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Go,Zn),Zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(Go,Zn),Zn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(Go,Zn),Zn|=r;return Cn(t,e,i,n),e.child}function iM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uv(t,e,n,r,i){var s=Wn(n)?Wa:En.current;return s=bl(e,s),il(e,i),n=_1(t,e,n,r,s,i),r=N1(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(gt&&r&&u1(e),e.flags|=1,Cn(t,e,n,i),e.child)}function ZE(t,e,n,r,i){if(Wn(n)){var s=!0;bp(e)}else s=!1;if(il(e,i),e.stateNode===null)Gh(t,e),ZR(e,n,r),lv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Wn(n)?Wa:En.current,u=bl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&WE(e,o,r,u),bs=!1;var h=e.memoizedState;o.state=h,Ep(e,r,o,i),c=e.memoizedState,l!==r||h!==c||Hn.current||bs?(typeof d=="function"&&(ov(e,n,d,r),c=e.memoizedState),(l=bs||HE(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Or(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Wn(n)?Wa:En.current,c=bl(e,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&WE(e,o,r,c),bs=!1,h=e.memoizedState,o.state=h,Ep(e,r,o,i);var x=e.memoizedState;l!==f||h!==x||Hn.current||bs?(typeof y=="function"&&(ov(e,n,y,r),x=e.memoizedState),(u=bs||HE(e,n,u,r,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dv(t,e,n,r,s,i)}function dv(t,e,n,r,i,s){iM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$E(e,n,!1),Hi(t,e,s);r=e.stateNode,fF.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,s),e.child=_l(e,null,l,s)):Cn(t,e,l,s),e.memoizedState=r.state,i&&$E(e,n,!0),e.child}function sM(t){var e=t.stateNode;e.pendingContext?LE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LE(t,e.context,!1),x1(t,e.containerInfo)}function eT(t,e,n,r,i){return wl(),f1(i),e.flags|=256,Cn(t,e,n,r),e.child}var fv={dehydrated:null,treeContext:null,retryLane:0};function hv(t){return{baseLanes:t,cachePool:null,transitions:null}}function aM(t,e,n){var r=e.pendingProps,i=xt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(xt,i&1),t===null)return sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sg(o,r,0,null),t=Ua(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hv(n),e.memoizedState=fv,t):T1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hF(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Bs(l,s):(s=Ua(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fv,r}return s=t.child,t=s.sibling,r=Bs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T1(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ch(t,e,n,r){return r!==null&&f1(r),_l(e,t.child,null,n),t=T1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=My(Error(le(422))),ch(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sg({mode:"visible",children:r.children},i,0,null),s=Ua(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=hv(o),e.memoizedState=fv,s);if(!(e.mode&1))return ch(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(le(419)),r=My(s,r,void 0),ch(t,e,o,r)}if(l=(o&t.childLanes)!==0,zn||l){if(r=Yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Ur(r,t,i,-1))}return j1(),r=My(Error(le(421))),ch(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nr=$s(i.nextSibling),ir=e,gt=!0,$r=null,t!==null&&(pr[mr++]=Pi,pr[mr++]=ji,pr[mr++]=Ka,Pi=t.id,ji=t.overflow,Ka=e),e=T1(e,r.children),e.flags|=4096,e)}function tT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),av(t.return,e,n)}function Oy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Cn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tT(t,n,e);else if(t.tag===19)tT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oy(e,!0,n,null,s);break;case"together":Oy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pF(t,e,n){switch(e.tag){case 3:sM(e),wl();break;case 5:RR(e);break;case 1:Wn(e.type)&&bp(e);break;case 4:x1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(Np,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?aM(t,e,n):(ct(xt,xt.current&1),t=Hi(t,e,n),t!==null?t.sibling:null);ct(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,rM(t,e,n)}return Hi(t,e,n)}var lM,pv,cM,uM;lM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pv=function(){};cM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ja(li.current);var s=null;switch(n){case"input":i=Dx(t,i),r=Dx(t,r),s=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),s=[];break;case"textarea":i=Vx(t,i),r=Vx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xp)}Ux(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ju.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};uM=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mF(t,e,n){var r=e.pendingProps;switch(d1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Wn(e.type)&&vp(),gn(e),null;case 3:return r=e.stateNode,Nl(),mt(Hn),mt(En),b1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(_v($r),$r=null))),pv(t,e),gn(e),null;case 5:v1(e);var i=ja(od.current);if(n=e.type,t!==null&&e.stateNode!=null)cM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return gn(e),null}if(t=ja(li.current),oh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ri]=e,r[sd]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<vu.length;i++)ft(vu[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":uE(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":fE(r,s),ft("invalid",r)}Ux(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ah(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ah(r.textContent,l,t),i=["children",""+l]):Ju.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":Qf(r),dE(r,s,!0);break;case"textarea":Qf(r),hE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$j(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ri]=e,t[sd]=r,lM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bx(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<vu.length;i++)ft(vu[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":uE(t,r),i=Dx(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":fE(t,r),i=Vx(t,r),ft("invalid",t);break;default:i=r}Ux(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Uj(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vj(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yu(t,c):typeof c=="number"&&Yu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ju.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ft("scroll",t):c!=null&&Yw(t,s,c,o))}switch(n){case"input":Qf(t),dE(t,r,!1);break;case"textarea":Qf(t),hE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?el(t,!!r.multiple,s,!1):r.defaultValue!=null&&el(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)uM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=ja(od.current),ja(li.current),oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ri]=e,(s=r.nodeValue!==n)&&(t=ir,t!==null))switch(t.tag){case 3:ah(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ah(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ri]=e,e.stateNode=r}return gn(e),null;case 13:if(mt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&nr!==null&&e.mode&1&&!(e.flags&128))kR(),wl(),e.flags|=98560,s=!1;else if(s=oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[ri]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),s=!1}else $r!==null&&(_v($r),$r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Bt===0&&(Bt=3):j1())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return Nl(),pv(t,e),t===null&&rd(e.stateNode.containerInfo),gn(e),null;case 10:return m1(e.type._context),gn(e),null;case 17:return Wn(e.type)&&vp(),gn(e),null;case 19:if(mt(xt),s=e.memoizedState,s===null)return gn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)eu(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tp(t),o!==null){for(e.flags|=128,eu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(xt,xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ct()>El&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return gn(e),null}else 2*Ct()-s.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,n=xt.current,ct(xt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return P1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zn&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function gF(t,e){switch(d1(e),e.tag){case 1:return Wn(e.type)&&vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nl(),mt(Hn),mt(En),b1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v1(e),null;case 13:if(mt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(xt),null;case 4:return Nl(),null;case 10:return m1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var uh=!1,bn=!1,yF=typeof WeakSet=="function"?WeakSet:Set,ge=null;function zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function mv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var nT=!1;function xF(t,e){if(Qx=mp,t=mR(),c1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(c=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zx={focusedElem:t,selectionRange:n},mp=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,v=x.memoizedState,N=e.stateNode,_=N.getSnapshotBeforeUpdate(e.elementType===e.type?b:Or(e.type,b),v);N.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(C){Tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return x=nT,nT=!1,x}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mv(e,n,s)}i=i.next}while(i!==r)}}function _g(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dM(t){var e=t.alternate;e!==null&&(t.alternate=null,dM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[sd],delete e[nv],delete e[eF],delete e[tF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fM(t){return t.tag===5||t.tag===3||t.tag===4}function rT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xp));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function xv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xv(t,e,n),t=t.sibling;t!==null;)xv(t,e,n),t=t.sibling}var rn=null,Dr=!1;function gs(t,e,n){for(n=n.child;n!==null;)hM(t,e,n),n=n.sibling}function hM(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(pg,n)}catch{}switch(n.tag){case 5:bn||zo(n,e);case 6:var r=rn,i=Dr;rn=null,gs(t,e,n),rn=r,Dr=i,rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?ky(t.parentNode,n):t.nodeType===1&&ky(t,n),ed(t)):ky(rn,n.stateNode));break;case 4:r=rn,i=Dr,rn=n.stateNode.containerInfo,Dr=!0,gs(t,e,n),rn=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mv(n,e,o),i=i.next}while(i!==r)}gs(t,e,n);break;case 1:if(!bn&&(zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tt(n,e,l)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,gs(t,e,n),bn=r):gs(t,e,n);break;default:gs(t,e,n)}}function iT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yF),e.forEach(function(r){var i=AF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Dr=!1;break e;case 3:rn=l.stateNode.containerInfo,Dr=!0;break e;case 4:rn=l.stateNode.containerInfo,Dr=!0;break e}l=l.return}if(rn===null)throw Error(le(160));hM(s,o,i),rn=null,Dr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pM(e,t),e=e.sibling}function pM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jr(e,t),ei(t),r&4){try{Ru(3,t,t.return),_g(3,t)}catch(b){Tt(t,t.return,b)}try{Ru(5,t,t.return)}catch(b){Tt(t,t.return,b)}}break;case 1:jr(e,t),ei(t),r&512&&n!==null&&zo(n,n.return);break;case 5:if(jr(e,t),ei(t),r&512&&n!==null&&zo(n,n.return),t.flags&32){var i=t.stateNode;try{Yu(i,"")}catch(b){Tt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Dj(i,s),Bx(l,o);var u=Bx(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Uj(i,f):d==="dangerouslySetInnerHTML"?Vj(i,f):d==="children"?Yu(i,f):Yw(i,d,f,u)}switch(l){case"input":Lx(i,s);break;case"textarea":Lj(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?el(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?el(i,!!s.multiple,s.defaultValue,!0):el(i,!!s.multiple,s.multiple?[]:"",!1))}i[sd]=s}catch(b){Tt(t,t.return,b)}}break;case 6:if(jr(e,t),ei(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Tt(t,t.return,b)}}break;case 3:if(jr(e,t),ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ed(e.containerInfo)}catch(b){Tt(t,t.return,b)}break;case 4:jr(e,t),ei(t);break;case 13:jr(e,t),ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C1=Ct())),r&4&&iT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||d,jr(e,t),bn=u):jr(e,t),ei(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ru(4,h,h.return);break;case 1:zo(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){Tt(r,n,b)}}break;case 5:zo(h,h.return);break;case 22:if(h.memoizedState!==null){aT(f);continue}}y!==null?(y.return=h,ge=y):aT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fj("display",o))}catch(b){Tt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Tt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jr(e,t),ei(t),r&4&&iT(t);break;case 21:break;default:jr(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fM(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yu(i,""),r.flags&=-33);var s=rT(t);xv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=rT(t);yv(t,l,o);break;default:throw Error(le(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vF(t,e,n){ge=t,mM(t)}function mM(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||bn;l=uh;var u=bn;if(uh=o,(bn=c)&&!u)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?oT(i):c!==null?(c.return=o,ge=c):oT(i);for(;s!==null;)ge=s,mM(s),s=s.sibling;ge=i,uh=l,bn=u}sT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):sT(t)}}function sT(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||_g(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ed(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}bn||e.flags&512&&gv(e)}catch(h){Tt(e,e.return,h)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function aT(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function oT(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_g(4,e)}catch(c){Tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Tt(e,i,c)}}var s=e.return;try{gv(e)}catch(c){Tt(e,s,c)}break;case 5:var o=e.return;try{gv(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var bF=Math.ceil,Cp=ss.ReactCurrentDispatcher,A1=ss.ReactCurrentOwner,vr=ss.ReactCurrentBatchConfig,qe=0,Yt=null,Rt=null,on=0,Zn=0,Go=sa(0),Bt=0,dd=null,Ya=0,Ng=0,k1=0,Mu=null,Un=null,C1=0,El=1/0,ki=null,Ip=!1,vv=null,Fs=null,dh=!1,Is=null,Pp=0,Ou=0,bv=null,Hh=-1,Wh=0;function Rn(){return qe&6?Ct():Hh!==-1?Hh:Hh=Ct()}function Us(t){return t.mode&1?qe&2&&on!==0?on&-on:rF.transition!==null?(Wh===0&&(Wh=Zj()),Wh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:aR(t.type)),t):1}function Ur(t,e,n,r){if(50<Ou)throw Ou=0,bv=null,Error(le(185));uf(t,n,r),(!(qe&2)||t!==Yt)&&(t===Yt&&(!(qe&2)&&(Ng|=n),Bt===4&&Ns(t,on)),Kn(t,r),n===1&&qe===0&&!(e.mode&1)&&(El=Ct()+500,vg&&aa()))}function Kn(t,e){var n=t.callbackNode;rV(t,e);var r=pp(t,t===Yt?on:0);if(r===0)n!==null&&gE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gE(n),e===1)t.tag===0?nF(lT.bind(null,t)):ER(lT.bind(null,t)),QV(function(){!(qe&6)&&aa()}),n=null;else{switch(eR(r)){case 1:n=t1;break;case 4:n=Xj;break;case 16:n=hp;break;case 536870912:n=Qj;break;default:n=hp}n=NM(n,gM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gM(t,e){if(Hh=-1,Wh=0,qe&6)throw Error(le(327));var n=t.callbackNode;if(sl()&&t.callbackNode!==n)return null;var r=pp(t,t===Yt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jp(t,r);else{e=r;var i=qe;qe|=2;var s=xM();(Yt!==t||on!==e)&&(ki=null,El=Ct()+500,Fa(t,e));do try{NF();break}catch(l){yM(t,l)}while(!0);p1(),Cp.current=s,qe=i,Rt!==null?e=0:(Yt=null,on=0,e=Bt)}if(e!==0){if(e===2&&(i=Wx(t),i!==0&&(r=i,e=wv(t,i))),e===1)throw n=dd,Fa(t,0),Ns(t,r),Kn(t,Ct()),n;if(e===6)Ns(t,r);else{if(i=t.current.alternate,!(r&30)&&!wF(i)&&(e=jp(t,r),e===2&&(s=Wx(t),s!==0&&(r=s,e=wv(t,s))),e===1))throw n=dd,Fa(t,0),Ns(t,r),Kn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:_a(t,Un,ki);break;case 3:if(Ns(t,r),(r&130023424)===r&&(e=C1+500-Ct(),10<e)){if(pp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tv(_a.bind(null,t,Un,ki),e);break}_a(t,Un,ki);break;case 4:if(Ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bF(r/1960))-r,10<r){t.timeoutHandle=tv(_a.bind(null,t,Un,ki),r);break}_a(t,Un,ki);break;case 5:_a(t,Un,ki);break;default:throw Error(le(329))}}}return Kn(t,Ct()),t.callbackNode===n?gM.bind(null,t):null}function wv(t,e){var n=Mu;return t.current.memoizedState.isDehydrated&&(Fa(t,e).flags|=256),t=jp(t,e),t!==2&&(e=Un,Un=n,e!==null&&_v(e)),t}function _v(t){Un===null?Un=t:Un.push.apply(Un,t)}function wF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ns(t,e){for(e&=~k1,e&=~Ng,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function lT(t){if(qe&6)throw Error(le(327));sl();var e=pp(t,0);if(!(e&1))return Kn(t,Ct()),null;var n=jp(t,e);if(t.tag!==0&&n===2){var r=Wx(t);r!==0&&(e=r,n=wv(t,r))}if(n===1)throw n=dd,Fa(t,0),Ns(t,e),Kn(t,Ct()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,Un,ki),Kn(t,Ct()),null}function I1(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(El=Ct()+500,vg&&aa())}}function Xa(t){Is!==null&&Is.tag===0&&!(qe&6)&&sl();var e=qe;qe|=1;var n=vr.transition,r=Qe;try{if(vr.transition=null,Qe=1,t)return t()}finally{Qe=r,vr.transition=n,qe=e,!(qe&6)&&aa()}}function P1(){Zn=Go.current,mt(Go)}function Fa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XV(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(d1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:Nl(),mt(Hn),mt(En),b1();break;case 5:v1(r);break;case 4:Nl();break;case 13:mt(xt);break;case 19:mt(xt);break;case 10:m1(r.type._context);break;case 22:case 23:P1()}n=n.return}if(Yt=t,Rt=t=Bs(t.current,null),on=Zn=e,Bt=0,dd=null,k1=Ng=Ya=0,Un=Mu=null,Pa!==null){for(e=0;e<Pa.length;e++)if(n=Pa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pa=null}return t}function yM(t,e){do{var n=Rt;try{if(p1(),qh.current=kp,Ap){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ap=!1}if(Ja=0,Kt=Ft=vt=null,ju=!1,ld=0,A1.current=null,n===null||n.return===null){Bt=1,dd=e,Rt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=JE(o);if(y!==null){y.flags&=-257,YE(y,o,l,s,e),y.mode&1&&KE(s,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var b=new Set;b.add(c),e.updateQueue=b}else x.add(c);break e}else{if(!(e&1)){KE(s,u,e),j1();break e}c=Error(le(426))}}else if(gt&&l.mode&1){var v=JE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YE(v,o,l,s,e),f1(Sl(c,l));break e}}s=c=Sl(c,l),Bt!==4&&(Bt=2),Mu===null?Mu=[s]:Mu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var N=eM(s,c,e);BE(s,N);break e;case 1:l=c;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fs===null||!Fs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=tM(s,l,e);BE(s,C);break e}}s=s.return}while(s!==null)}bM(n)}catch(T){e=T,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function xM(){var t=Cp.current;return Cp.current=kp,t===null?kp:t}function j1(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Yt===null||!(Ya&268435455)&&!(Ng&268435455)||Ns(Yt,on)}function jp(t,e){var n=qe;qe|=2;var r=xM();(Yt!==t||on!==e)&&(ki=null,Fa(t,e));do try{_F();break}catch(i){yM(t,i)}while(!0);if(p1(),qe=n,Cp.current=r,Rt!==null)throw Error(le(261));return Yt=null,on=0,Bt}function _F(){for(;Rt!==null;)vM(Rt)}function NF(){for(;Rt!==null&&!K3();)vM(Rt)}function vM(t){var e=_M(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,e===null?bM(t):Rt=e,A1.current=null}function bM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gF(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Rt=null;return}}else if(n=mF(n,e,Zn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Bt===0&&(Bt=5)}function _a(t,e,n){var r=Qe,i=vr.transition;try{vr.transition=null,Qe=1,SF(t,e,n,r)}finally{vr.transition=i,Qe=r}return null}function SF(t,e,n,r){do sl();while(Is!==null);if(qe&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iV(t,s),t===Yt&&(Rt=Yt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,NM(hp,function(){return sl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vr.transition,vr.transition=null;var o=Qe;Qe=1;var l=qe;qe|=4,A1.current=null,xF(t,n),pM(n,t),zV(Zx),mp=!!Qx,Zx=Qx=null,t.current=n,vF(n),J3(),qe=l,Qe=o,vr.transition=s}else t.current=n;if(dh&&(dh=!1,Is=t,Pp=i),s=t.pendingLanes,s===0&&(Fs=null),Q3(n.stateNode),Kn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ip)throw Ip=!1,t=vv,vv=null,t;return Pp&1&&t.tag!==0&&sl(),s=t.pendingLanes,s&1?t===bv?Ou++:(Ou=0,bv=t):Ou=0,aa(),null}function sl(){if(Is!==null){var t=eR(Pp),e=vr.transition,n=Qe;try{if(vr.transition=null,Qe=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Pp=0,qe&6)throw Error(le(331));var i=qe;for(qe|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Ru(8,d,s)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,y=d.return;if(dM(d),d===u){ge=null;break}if(h!==null){h.return=y,ge=h;break}ge=y}}}var x=s.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ru(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,ge=N;break e}ge=s.return}}var _=t.current;for(ge=_;ge!==null;){o=ge;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ge=S;else e:for(o=_;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_g(9,l)}}catch(T){Tt(l,l.return,T)}if(l===o){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(qe=i,aa(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(pg,t)}catch{}r=!0}return r}finally{Qe=n,vr.transition=e}}return!1}function cT(t,e,n){e=Sl(n,e),e=eM(t,e,1),t=Vs(t,e,1),e=Rn(),t!==null&&(uf(t,1,e),Kn(t,e))}function Tt(t,e,n){if(t.tag===3)cT(t,t,n);else for(;e!==null;){if(e.tag===3){cT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fs===null||!Fs.has(r))){t=Sl(n,t),t=tM(e,t,1),e=Vs(e,t,1),t=Rn(),e!==null&&(uf(e,1,t),Kn(e,t));break}}e=e.return}}function EF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(on&n)===n&&(Bt===4||Bt===3&&(on&130023424)===on&&500>Ct()-C1?Fa(t,0):k1|=n),Kn(t,e)}function wM(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var n=Rn();t=Gi(t,e),t!==null&&(uf(t,e,n),Kn(t,n))}function TF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wM(t,n)}function AF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),wM(t,n)}var _M;_M=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)zn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zn=!1,pF(t,e,n);zn=!!(t.flags&131072)}else zn=!1,gt&&e.flags&1048576&&TR(e,_p,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gh(t,e),t=e.pendingProps;var i=bl(e,En.current);il(e,n),i=_1(null,e,r,t,i,n);var s=N1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wn(r)?(s=!0,bp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y1(e),i.updater=wg,e.stateNode=i,i._reactInternals=e,lv(e,r,t,n),e=dv(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&u1(e),Cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CF(r),t=Or(r,t),i){case 0:e=uv(null,e,r,t,n);break e;case 1:e=ZE(null,e,r,t,n);break e;case 11:e=XE(null,e,r,t,n);break e;case 14:e=QE(null,e,r,Or(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),uv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),ZE(t,e,r,i,n);case 3:e:{if(sM(e),t===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jR(t,e),Ep(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sl(Error(le(423)),e),e=eT(t,e,r,n,i);break e}else if(r!==i){i=Sl(Error(le(424)),e),e=eT(t,e,r,n,i);break e}else for(nr=$s(e.stateNode.containerInfo.firstChild),ir=e,gt=!0,$r=null,n=IR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),r===i){e=Hi(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return RR(e),t===null&&sv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ev(r,i)?o=null:s!==null&&ev(r,s)&&(e.flags|=32),iM(t,e),Cn(t,e,o,n),e.child;case 6:return t===null&&sv(e),null;case 13:return aM(t,e,n);case 4:return x1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),XE(t,e,r,i,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ct(Np,r._currentValue),r._currentValue=o,s!==null)if(Wr(s.value,o)){if(s.children===i.children&&!Hn.current){e=Hi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Vi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),av(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),av(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,il(e,n),i=_r(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,i=Or(r,e.pendingProps),i=Or(r.type,i),QE(t,e,r,i,n);case 15:return nM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),Gh(t,e),e.tag=1,Wn(r)?(t=!0,bp(e)):t=!1,il(e,n),ZR(e,r,i),lv(e,r,i,n),dv(null,e,r,!0,t,n);case 19:return oM(t,e,n);case 22:return rM(t,e,n)}throw Error(le(156,e.tag))};function NM(t,e){return Yj(t,e)}function kF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,e,n,r){return new kF(t,e,n,r)}function R1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CF(t){if(typeof t=="function")return R1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qw)return 11;if(t===Zw)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=yr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")R1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oo:return Ua(n.children,i,s,e);case Xw:o=8,i|=8;break;case jx:return t=yr(12,n,e,i|2),t.elementType=jx,t.lanes=s,t;case Rx:return t=yr(13,n,e,i),t.elementType=Rx,t.lanes=s,t;case Mx:return t=yr(19,n,e,i),t.elementType=Mx,t.lanes=s,t;case Rj:return Sg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pj:o=10;break e;case jj:o=9;break e;case Qw:o=11;break e;case Zw:o=14;break e;case vs:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=yr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ua(t,e,n,r){return t=yr(7,t,r,e),t.lanes=n,t}function Sg(t,e,n,r){return t=yr(22,t,r,e),t.elementType=Rj,t.lanes=n,t.stateNode={isHidden:!1},t}function Dy(t,e,n){return t=yr(6,t,null,e),t.lanes=n,t}function Ly(t,e,n){return e=yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yy(0),this.expirationTimes=yy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M1(t,e,n,r,i,s,o,l,c){return t=new IF(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y1(s),t}function PF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SM(t){if(!t)return Xs;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Wn(n))return SR(t,n,e)}return e}function EM(t,e,n,r,i,s,o,l,c){return t=M1(n,r,!0,t,i,s,o,l,c),t.context=SM(null),n=t.current,r=Rn(),i=Us(n),s=Vi(r,i),s.callback=e??null,Vs(n,s,i),t.current.lanes=i,uf(t,i,r),Kn(t,r),t}function Eg(t,e,n,r){var i=e.current,s=Rn(),o=Us(i);return n=SM(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vs(i,e,o),t!==null&&(Ur(t,i,o,s),Bh(t,i,o)),o}function Rp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O1(t,e){uT(t,e),(t=t.alternate)&&uT(t,e)}function jF(){return null}var TM=typeof reportError=="function"?reportError:function(t){console.error(t)};function D1(t){this._internalRoot=t}Tg.prototype.render=D1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Eg(t,e,null,null)};Tg.prototype.unmount=D1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xa(function(){Eg(null,t,null,null)}),e[zi]=null}};function Tg(t){this._internalRoot=t}Tg.prototype.unstable_scheduleHydration=function(t){if(t){var e=rR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&sR(t)}};function L1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dT(){}function RF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rp(o);s.call(u)}}var o=EM(e,r,t,0,null,!1,!1,"",dT);return t._reactRootContainer=o,t[zi]=o.current,rd(t.nodeType===8?t.parentNode:t),Xa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rp(c);l.call(u)}}var c=M1(t,0,!1,null,null,!1,!1,"",dT);return t._reactRootContainer=c,t[zi]=c.current,rd(t.nodeType===8?t.parentNode:t),Xa(function(){Eg(e,c,n,r)}),c}function kg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Rp(o);l.call(c)}}Eg(e,o,t,i)}else o=RF(n,e,t,i,r);return Rp(o)}tR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xu(e.pendingLanes);n!==0&&(n1(e,n|1),Kn(e,Ct()),!(qe&6)&&(El=Ct()+500,aa()))}break;case 13:Xa(function(){var r=Gi(t,1);if(r!==null){var i=Rn();Ur(r,t,1,i)}}),O1(t,1)}};r1=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=Rn();Ur(e,t,134217728,n)}O1(t,134217728)}};nR=function(t){if(t.tag===13){var e=Us(t),n=Gi(t,e);if(n!==null){var r=Rn();Ur(n,t,e,r)}O1(t,e)}};rR=function(){return Qe};iR=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};zx=function(t,e,n){switch(e){case"input":if(Lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xg(r);if(!i)throw Error(le(90));Oj(r),Lx(r,i)}}}break;case"textarea":Lj(t,n);break;case"select":e=n.value,e!=null&&el(t,!!n.multiple,e,!1)}};zj=I1;Gj=Xa;var MF={usingClientEntryPoint:!1,Events:[ff,Vo,xg,Bj,qj,I1]},tu={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OF={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kj(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||jF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{pg=fh.inject(OF),oi=fh}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MF;cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L1(e))throw Error(le(200));return PF(t,e,null,n)};cr.createRoot=function(t,e){if(!L1(t))throw Error(le(299));var n=!1,r="",i=TM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M1(t,1,!1,null,null,n,!1,r,i),t[zi]=e.current,rd(t.nodeType===8?t.parentNode:t),new D1(e)};cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=Kj(e),t=t===null?null:t.stateNode,t};cr.flushSync=function(t){return Xa(t)};cr.hydrate=function(t,e,n){if(!Ag(e))throw Error(le(200));return kg(null,t,e,!0,n)};cr.hydrateRoot=function(t,e,n){if(!L1(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EM(e,null,t,1,n??null,i,!1,s,o),t[zi]=e.current,rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tg(e)};cr.render=function(t,e,n){if(!Ag(e))throw Error(le(200));return kg(null,t,e,!1,n)};cr.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(le(40));return t._reactRootContainer?(Xa(function(){kg(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};cr.unstable_batchedUpdates=I1;cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ag(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return kg(t,e,n,!1,r)};cr.version="18.3.1-next-f1338f8080-20240426";function AM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AM)}catch(t){console.error(t)}}AM(),Aj.exports=cr;var DF=Aj.exports,fT=DF;Ix.createRoot=fT.createRoot,Ix.hydrateRoot=fT.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...LF,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$F(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Z("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Z("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Z("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Z("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Z("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=Z("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Z("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Z("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Z("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=Z("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=Z("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=Z("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=Z("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=Z("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Z("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Z("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Z("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Z("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Z("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Z("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Z("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Z("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Z("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Z("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Z("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Z("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Z("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Z("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Z("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Z("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Z("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Z("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Z("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Z("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=Z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=Z("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Z("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Z("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_U=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{const[s,o]=D.useState([]);U.useEffect(()=>{o(c.map(u=>u.name))},[]);const l=u=>{o(d=>d.includes(u)?d.filter(f=>f!==u):[...d,u])},c=[{name:"Principal",icon:ZF,items:[{id:"dashboard",label:"Dashboard",icon:eU}]},{name:"Comercial",icon:yT,items:[{id:"sales",label:"Ventas",icon:yT},{id:"remitos",label:"Remitos",icon:jM},{id:"quotes",label:"Cotizaciones",icon:Vp},{id:"orders",label:"Pedidos",icon:kv},{id:"clients",label:"Clientes",icon:Xr},{id:"loyalty",label:"Fidelizacin",icon:Av},{id:"ecommerce",label:"E-Commerce",icon:ol}]},{name:"Productos & Abastecimiento",icon:Sv,items:[{id:"inventory",label:"Inventario",icon:Sv},{id:"missing-items",label:"Faltantes",icon:PM},{id:"stock-adjustment",label:"Ajuste de Stock",icon:Tl},{id:"bulk-modification",label:"Modificacin Masiva",icon:F1},{id:"warehouse",label:"Depsito",icon:wU},{id:"purchase-orders",label:"Pedidos Compra",icon:nU},{id:"suppliers",label:"Proveedores",icon:yi},{id:"prices",label:"Lista Precios",icon:Lu},{id:"bulk-import",label:"Importar Datos",icon:Tv}]},{name:"Administracin & Finanzas",icon:md,items:[{id:"cashier",label:"Cajas y Pagos",icon:md},{id:"purchases",label:"Compras & IA",icon:pd},{id:"balances",label:"Saldos y Deudas",icon:q1},{id:"installments",label:"Cuotas Internas",icon:qs},{id:"finance",label:"Finanzas",icon:Kr},{id:"reports",label:"Informes e IVA",icon:qF}]},{name:"Configuracin",icon:Qs,items:[{id:"branches",label:"Sucursales",icon:Ra},{id:"users",label:"Usuarios",icon:bU},{id:"settings",label:"Configuracin",icon:Qs},{id:"data",label:"Gestin de Datos",icon:Nv}]},{name:"Integraciones",icon:Du,items:[{id:"integrations",label:"Conexiones Externas",icon:Du}]}];return a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n.logo&&n.showLogoInSidebar?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Jh,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:n.name})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar text-left overscroll-contain",children:c.map(u=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>l(u.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(u.icon,{className:"w-4 h-4"}),u.name]}),a.jsx(IM,{className:`w-4 h-4 transition-transform ${s.includes(u.name)?"rotate-0":"-rotate-90"}`})]}),s.includes(u.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:u.items.map(d=>a.jsxs("button",{onClick:()=>e(d.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===d.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(d.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:d.label})]},d.id))})]},u.name))}),a.jsxs("div",{className:"p-4 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[" ",a.jsx("img",{src:"https://picsum.photos/40/40",className:"w-10 h-10 rounded-full border border-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(rU,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]})]})};function BM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BM(t))&&(r&&(r+=" "),r+=e);return r}var NU=Array.isArray,Yn=NU,SU=typeof Jf=="object"&&Jf&&Jf.Object===Object&&Jf,qM=SU,EU=qM,TU=typeof self=="object"&&self&&self.Object===Object&&self,AU=EU||TU||Function("return this")(),wi=AU,kU=wi,CU=kU.Symbol,mf=CU,NT=mf,zM=Object.prototype,IU=zM.hasOwnProperty,PU=zM.toString,nu=NT?NT.toStringTag:void 0;function jU(t){var e=IU.call(t,nu),n=t[nu];try{t[nu]=void 0;var r=!0}catch{}var i=PU.call(t);return r&&(e?t[nu]=n:delete t[nu]),i}var RU=jU,MU=Object.prototype,OU=MU.toString;function DU(t){return OU.call(t)}var LU=DU,ST=mf,$U=RU,VU=LU,FU="[object Null]",UU="[object Undefined]",ET=ST?ST.toStringTag:void 0;function BU(t){return t==null?t===void 0?UU:FU:ET&&ET in Object(t)?$U(t):VU(t)}var as=BU;function qU(t){return t!=null&&typeof t=="object"}var os=qU,zU=as,GU=os,HU="[object Symbol]";function WU(t){return typeof t=="symbol"||GU(t)&&zU(t)==HU}var hc=WU,KU=Yn,JU=hc,YU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XU=/^\w*$/;function QU(t,e){if(KU(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||JU(t)?!0:XU.test(t)||!YU.test(t)||e!=null&&t in Object(e)}var W1=QU;function ZU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var oa=ZU;const pc=et(oa);var e8=as,t8=oa,n8="[object AsyncFunction]",r8="[object Function]",i8="[object GeneratorFunction]",s8="[object Proxy]";function a8(t){if(!t8(t))return!1;var e=e8(t);return e==r8||e==i8||e==n8||e==s8}var K1=a8;const Ee=et(K1);var o8=wi,l8=o8["__core-js_shared__"],c8=l8,Uy=c8,TT=function(){var t=/[^.]+$/.exec(Uy&&Uy.keys&&Uy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function u8(t){return!!TT&&TT in t}var d8=u8,f8=Function.prototype,h8=f8.toString;function p8(t){if(t!=null){try{return h8.call(t)}catch{}try{return t+""}catch{}}return""}var GM=p8,m8=K1,g8=d8,y8=oa,x8=GM,v8=/[\\^$.*+?()[\]{}|]/g,b8=/^\[object .+?Constructor\]$/,w8=Function.prototype,_8=Object.prototype,N8=w8.toString,S8=_8.hasOwnProperty,E8=RegExp("^"+N8.call(S8).replace(v8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T8(t){if(!y8(t)||g8(t))return!1;var e=m8(t)?E8:b8;return e.test(x8(t))}var A8=T8;function k8(t,e){return t==null?void 0:t[e]}var C8=k8,I8=A8,P8=C8;function j8(t,e){var n=P8(t,e);return I8(n)?n:void 0}var ho=j8,R8=ho,M8=R8(Object,"create"),Ig=M8,AT=Ig;function O8(){this.__data__=AT?AT(null):{},this.size=0}var D8=O8;function L8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $8=L8,V8=Ig,F8="__lodash_hash_undefined__",U8=Object.prototype,B8=U8.hasOwnProperty;function q8(t){var e=this.__data__;if(V8){var n=e[t];return n===F8?void 0:n}return B8.call(e,t)?e[t]:void 0}var z8=q8,G8=Ig,H8=Object.prototype,W8=H8.hasOwnProperty;function K8(t){var e=this.__data__;return G8?e[t]!==void 0:W8.call(e,t)}var J8=K8,Y8=Ig,X8="__lodash_hash_undefined__";function Q8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Y8&&e===void 0?X8:e,this}var Z8=Q8,eB=D8,tB=$8,nB=z8,rB=J8,iB=Z8;function mc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mc.prototype.clear=eB;mc.prototype.delete=tB;mc.prototype.get=nB;mc.prototype.has=rB;mc.prototype.set=iB;var sB=mc;function aB(){this.__data__=[],this.size=0}var oB=aB;function lB(t,e){return t===e||t!==t&&e!==e}var J1=lB,cB=J1;function uB(t,e){for(var n=t.length;n--;)if(cB(t[n][0],e))return n;return-1}var Pg=uB,dB=Pg,fB=Array.prototype,hB=fB.splice;function pB(t){var e=this.__data__,n=dB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hB.call(e,n,1),--this.size,!0}var mB=pB,gB=Pg;function yB(t){var e=this.__data__,n=gB(e,t);return n<0?void 0:e[n][1]}var xB=yB,vB=Pg;function bB(t){return vB(this.__data__,t)>-1}var wB=bB,_B=Pg;function NB(t,e){var n=this.__data__,r=_B(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var SB=NB,EB=oB,TB=mB,AB=xB,kB=wB,CB=SB;function gc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gc.prototype.clear=EB;gc.prototype.delete=TB;gc.prototype.get=AB;gc.prototype.has=kB;gc.prototype.set=CB;var jg=gc,IB=ho,PB=wi,jB=IB(PB,"Map"),Y1=jB,kT=sB,RB=jg,MB=Y1;function OB(){this.size=0,this.__data__={hash:new kT,map:new(MB||RB),string:new kT}}var DB=OB;function LB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $B=LB,VB=$B;function FB(t,e){var n=t.__data__;return VB(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Rg=FB,UB=Rg;function BB(t){var e=UB(this,t).delete(t);return this.size-=e?1:0,e}var qB=BB,zB=Rg;function GB(t){return zB(this,t).get(t)}var HB=GB,WB=Rg;function KB(t){return WB(this,t).has(t)}var JB=KB,YB=Rg;function XB(t,e){var n=YB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var QB=XB,ZB=DB,e9=qB,t9=HB,n9=JB,r9=QB;function yc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yc.prototype.clear=ZB;yc.prototype.delete=e9;yc.prototype.get=t9;yc.prototype.has=n9;yc.prototype.set=r9;var X1=yc,HM=X1,i9="Expected a function";function Q1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(i9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Q1.Cache||HM),n}Q1.Cache=HM;var WM=Q1;const s9=et(WM);var a9=WM,o9=500;function l9(t){var e=a9(t,function(r){return n.size===o9&&n.clear(),r}),n=e.cache;return e}var c9=l9,u9=c9,d9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f9=/\\(\\)?/g,h9=u9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(d9,function(n,r,i,s){e.push(i?s.replace(f9,"$1"):r||n)}),e}),p9=h9;function m9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Z1=m9,CT=mf,g9=Z1,y9=Yn,x9=hc,IT=CT?CT.prototype:void 0,PT=IT?IT.toString:void 0;function KM(t){if(typeof t=="string")return t;if(y9(t))return g9(t,KM)+"";if(x9(t))return PT?PT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var v9=KM,b9=v9;function w9(t){return t==null?"":b9(t)}var JM=w9,_9=Yn,N9=W1,S9=p9,E9=JM;function T9(t,e){return _9(t)?t:N9(t,e)?[t]:S9(E9(t))}var YM=T9,A9=hc;function k9(t){if(typeof t=="string"||A9(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mg=k9,C9=YM,I9=Mg;function P9(t,e){e=C9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[I9(e[n++])];return n&&n==r?t:void 0}var e_=P9,j9=e_;function R9(t,e,n){var r=t==null?void 0:j9(t,e);return r===void 0?n:r}var XM=R9;const sr=et(XM);function M9(t){return t==null}var O9=M9;const je=et(O9);var D9=as,L9=Yn,$9=os,V9="[object String]";function F9(t){return typeof t=="string"||!L9(t)&&$9(t)&&D9(t)==V9}var U9=F9;const Qa=et(U9);var QM={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_=Symbol.for("react.element"),n_=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Lg=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),B9=Symbol.for("react.server_context"),Fg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Bg=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),zg=Symbol.for("react.lazy"),q9=Symbol.for("react.offscreen"),ZM;ZM=Symbol.for("react.module.reference");function kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case t_:switch(t=t.type,t){case Og:case Lg:case Dg:case Ug:case Bg:return t;default:switch(t=t&&t.$$typeof,t){case B9:case Vg:case Fg:case zg:case qg:case $g:return t;default:return e}}case n_:return e}}}tt.ContextConsumer=Vg;tt.ContextProvider=$g;tt.Element=t_;tt.ForwardRef=Fg;tt.Fragment=Og;tt.Lazy=zg;tt.Memo=qg;tt.Portal=n_;tt.Profiler=Lg;tt.StrictMode=Dg;tt.Suspense=Ug;tt.SuspenseList=Bg;tt.isAsyncMode=function(){return!1};tt.isConcurrentMode=function(){return!1};tt.isContextConsumer=function(t){return kr(t)===Vg};tt.isContextProvider=function(t){return kr(t)===$g};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===t_};tt.isForwardRef=function(t){return kr(t)===Fg};tt.isFragment=function(t){return kr(t)===Og};tt.isLazy=function(t){return kr(t)===zg};tt.isMemo=function(t){return kr(t)===qg};tt.isPortal=function(t){return kr(t)===n_};tt.isProfiler=function(t){return kr(t)===Lg};tt.isStrictMode=function(t){return kr(t)===Dg};tt.isSuspense=function(t){return kr(t)===Ug};tt.isSuspenseList=function(t){return kr(t)===Bg};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Og||t===Lg||t===Dg||t===Ug||t===Bg||t===q9||typeof t=="object"&&t!==null&&(t.$$typeof===zg||t.$$typeof===qg||t.$$typeof===$g||t.$$typeof===Vg||t.$$typeof===Fg||t.$$typeof===ZM||t.getModuleId!==void 0)};tt.typeOf=kr;QM.exports=tt;var z9=QM.exports,G9=as,H9=os,W9="[object Number]";function K9(t){return typeof t=="number"||H9(t)&&G9(t)==W9}var eO=K9;const J9=et(eO);var Y9=eO;function X9(t){return Y9(t)&&t!=+t}var Q9=X9;const xc=et(Q9);var In=function(e){return e===0?0:e>0?1:-1},Ma=function(e){return Qa(e)&&e.indexOf("%")===e.length-1},oe=function(e){return J9(e)&&!xc(e)},Z9=function(e){return je(e)},qt=function(e){return oe(e)||Qa(e)},eq=0,vc=function(e){var n=++eq;return"".concat(e||"").concat(n)},Pn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!Qa(e))return r;var s;if(Ma(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return xc(s)&&(s=r),i&&s>n&&(s=n),s},Ss=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},tq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bn=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Bp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):sr(r,e))===n})}var nq=function(e,n){return oe(e)&&oe(n)?e-n:Qa(e)&&Qa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ll(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}var rq=["viewBox","children"],iq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jT=["points","pathLength"],By={svg:rq,polygon:jT,polyline:jT},r_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!pc(r))return null;var i={};return Object.keys(r).forEach(function(s){r_.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},sq=function(e,n,r){return function(i){return e(n,r,i),null}},Za=function(e,n,r){if(!pc(e)||jv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];r_.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=sq(o,n,r))}),i},aq=["children"],oq=["children"];function RT(t,e){if(t==null)return{};var n=lq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}var MT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OT=null,qy=null,i_=function t(e){if(e===OT&&Array.isArray(qy))return qy;var n=[];return D.Children.forEach(e,function(r){je(r)||(z9.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),qy=n,OT=e,n};function br(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Fi(i)}):r=[Fi(e)],i_(t).forEach(function(i){var s=sr(i,"type.displayName")||sr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function er(t,e){var n=br(t,e);return n&&n[0]}var DT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},cq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uq=function(e){return e&&e.type&&Qa(e.type)&&cq.indexOf(e.type)>=0},dq=function(e){return e&&Rv(e)==="object"&&"clipDot"in e},fq=function(e,n,r,i){var s,o=(s=By==null?void 0:By[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ee(e)&&(i&&o.includes(n)||iq.includes(n))||r&&r_.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!pc(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;fq((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},Mv=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!LT(s,o))return!1}return!0},LT=function(e,n){if(je(e)&&je(n))return!0;if(!je(e)&&!je(n)){var r=e.props||{},i=r.children,s=RT(r,aq),o=n.props||{},l=o.children,c=RT(o,oq);return i&&l?ll(s,c)&&Mv(i,l):!i&&!l?ll(s,c):!1}return!1},$T=function(e,n){var r=[],i={};return i_(e).forEach(function(s,o){if(uq(s))r.push(s);else if(s){var l=Fi(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);r.push(f),i[l]=!0}}}),r},hq=function(e){var n=e&&e.type;return n&&MT[n]?MT[n]:null},pq=function(e,n){return i_(n).indexOf(e)},mq=["children","width","height","viewBox","className","style","title","desc"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function gq(t,e){if(t==null)return{};var n=yq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=gq(t,mq),d=i||{width:n,height:r,x:0,y:0},f=Re("recharts-surface",s);return U.createElement("svg",Ov({},_e(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),e)}var xq=["children","className"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function vq(t,e){if(t==null)return{};var n=bq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ue=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=vq(t,xq),s=Re("recharts-layer",r);return U.createElement("g",Lv({className:s},_e(i,!0),{ref:e}),n)}),Br=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function wq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var _q=wq,Nq=_q;function Sq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Nq(t,e,n)}var Eq=Sq,Tq="\\ud800-\\udfff",Aq="\\u0300-\\u036f",kq="\\ufe20-\\ufe2f",Cq="\\u20d0-\\u20ff",Iq=Aq+kq+Cq,Pq="\\ufe0e\\ufe0f",jq="\\u200d",Rq=RegExp("["+jq+Tq+Iq+Pq+"]");function Mq(t){return Rq.test(t)}var tO=Mq;function Oq(t){return t.split("")}var Dq=Oq,nO="\\ud800-\\udfff",Lq="\\u0300-\\u036f",$q="\\ufe20-\\ufe2f",Vq="\\u20d0-\\u20ff",Fq=Lq+$q+Vq,Uq="\\ufe0e\\ufe0f",Bq="["+nO+"]",$v="["+Fq+"]",Vv="\\ud83c[\\udffb-\\udfff]",qq="(?:"+$v+"|"+Vv+")",rO="[^"+nO+"]",iO="(?:\\ud83c[\\udde6-\\uddff]){2}",sO="[\\ud800-\\udbff][\\udc00-\\udfff]",zq="\\u200d",aO=qq+"?",oO="["+Uq+"]?",Gq="(?:"+zq+"(?:"+[rO,iO,sO].join("|")+")"+oO+aO+")*",Hq=oO+aO+Gq,Wq="(?:"+[rO+$v+"?",$v,iO,sO,Bq].join("|")+")",Kq=RegExp(Vv+"(?="+Vv+")|"+Wq+Hq,"g");function Jq(t){return t.match(Kq)||[]}var Yq=Jq,Xq=Dq,Qq=tO,Zq=Yq;function ez(t){return Qq(t)?Zq(t):Xq(t)}var tz=ez,nz=Eq,rz=tO,iz=tz,sz=JM;function az(t){return function(e){e=sz(e);var n=rz(e)?iz(e):void 0,r=n?n[0]:e.charAt(0),i=n?nz(n,1).join(""):e.slice(1);return r[t]()+i}}var oz=az,lz=oz,cz=lz("toUpperCase"),uz=cz;const Gg=et(uz);function ot(t){return function(){return t}}const lO=Math.cos,zp=Math.sin,Qr=Math.sqrt,Gp=Math.PI,Hg=2*Gp,Fv=Math.PI,Uv=2*Fv,Na=1e-6,dz=Uv-Na;function cO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function fz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cO;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class hz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cO:fz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Na)if(!(Math.abs(f*c-u*d)>Na)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,x=i-l,b=c*c+u*u,v=y*y+x*x,N=Math.sqrt(b),_=Math.sqrt(h),S=s*Math.tan((Fv-Math.acos((b+h-v)/(2*N*_)))/2),C=S/_,T=S/N;Math.abs(C-1)>Na&&this._append`L${e+C*d},${n+C*f}`,this._append`A${s},${s},0,0,${+(f*y>d*x)},${this._x1=e+T*c},${this._y1=n+T*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Na||Math.abs(this._y1-d)>Na)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Uv+Uv),h>dz?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Na&&this._append`A${r},${r},0,${+(h>=Fv)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function s_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new hz(e)}function a_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uO(t){this._context=t}uO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wg(t){return new uO(t)}function dO(t){return t[0]}function fO(t){return t[1]}function hO(t,e){var n=ot(!0),r=null,i=Wg,s=null,o=s_(l);t=typeof t=="function"?t:t===void 0?dO:ot(t),e=typeof e=="function"?e:e===void 0?fO:ot(e);function l(c){var u,d=(c=a_(c)).length,f,h=!1,y;for(r==null&&(s=i(y=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function hh(t,e,n){var r=null,i=ot(!0),s=null,o=Wg,l=null,c=s_(u);t=typeof t=="function"?t:t===void 0?dO:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fO:ot(+n);function u(f){var h,y,x,b=(f=a_(f)).length,v,N=!1,_,S=new Array(b),C=new Array(b);for(s==null&&(l=o(_=c())),h=0;h<=b;++h){if(!(h<b&&i(v=f[h],h,f))===N)if(N=!N)y=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=y;--x)l.point(S[x],C[x]);l.lineEnd(),l.areaEnd()}N&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),l.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(_)return l=null,_+""||null}function d(){return hO().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ot(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class pO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pz(t){return new pO(t,!0)}function mz(t){return new pO(t,!1)}const o_={draw(t,e){const n=Qr(e/Gp);t.moveTo(n,0),t.arc(0,0,n,0,Hg)}},gz={draw(t,e){const n=Qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mO=Qr(1/3),yz=mO*2,xz={draw(t,e){const n=Qr(e/yz),r=n*mO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},vz={draw(t,e){const n=Qr(e),r=-n/2;t.rect(r,r,n,n)}},bz=.8908130915292852,gO=zp(Gp/10)/zp(7*Gp/10),wz=zp(Hg/10)*gO,_z=-lO(Hg/10)*gO,Nz={draw(t,e){const n=Qr(e*bz),r=wz*n,i=_z*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Hg*s/5,l=lO(o),c=zp(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},zy=Qr(3),Sz={draw(t,e){const n=-Qr(e/(zy*3));t.moveTo(0,n*2),t.lineTo(-zy*n,-n),t.lineTo(zy*n,-n),t.closePath()}},dr=-.5,fr=Qr(3)/2,Bv=1/Qr(12),Ez=(Bv/2+1)*3,Tz={draw(t,e){const n=Qr(e/Ez),r=n/2,i=n*Bv,s=r,o=n*Bv+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(dr*r-fr*i,fr*r+dr*i),t.lineTo(dr*s-fr*o,fr*s+dr*o),t.lineTo(dr*l-fr*c,fr*l+dr*c),t.lineTo(dr*r+fr*i,dr*i-fr*r),t.lineTo(dr*s+fr*o,dr*o-fr*s),t.lineTo(dr*l+fr*c,dr*c-fr*l),t.closePath()}};function Az(t,e){let n=null,r=s_(i);t=typeof t=="function"?t:ot(t||o_),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Hp(){}function Wp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yO(t){this._context=t}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kz(t){return new yO(t)}function xO(t){this._context=t}xO.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cz(t){return new xO(t)}function vO(t){this._context=t}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iz(t){return new vO(t)}function bO(t){this._context=t}bO.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Pz(t){return new bO(t)}function VT(t){return t<0?-1:1}function FT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(VT(s)+VT(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function UT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gy(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Kp(t){this._context=t}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gy(this,this._t0,UT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gy(this,UT(this,n=FT(this,t,e)),n);break;default:Gy(this,this._t0,n=FT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wO(t){this._context=new _O(t)}(wO.prototype=Object.create(Kp.prototype)).point=function(t,e){Kp.prototype.point.call(this,e,t)};function _O(t){this._context=t}_O.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function jz(t){return new Kp(t)}function Rz(t){return new wO(t)}function NO(t){this._context=t}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=BT(t),i=BT(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BT(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Mz(t){return new NO(t)}function Kg(t,e){this._context=t,this._t=e}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Oz(t){return new Kg(t,.5)}function Dz(t){return new Kg(t,0)}function Lz(t){return new Kg(t,1)}function kl(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $z(t,e){return t[e]}function Vz(t){const e=[];return e.key=t,e}function Fz(){var t=ot([]),e=qv,n=kl,r=$z;function i(s){var o=Array.from(t.apply(this,arguments),Vz),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=a_(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ot(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?qv:typeof s=="function"?s:ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??kl,i):n},i}function Uz(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}kl(t,e)}}function Bz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}kl(t,e)}}function qz(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,y=(f-h)/2,x=0;x<l;++x){var b=t[e[x]],v=b[r][1]||0,N=b[r-1][1]||0;y+=v-N}c+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,kl(t,e)}}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var zz=["type","size","sizeType"];function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gz(t,e,n){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t){var e=Wz(t,"string");return gd(e)=="symbol"?e:e+""}function Wz(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t,e){if(t==null)return{};var n=Jz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SO={symbolCircle:o_,symbolCross:gz,symbolDiamond:xz,symbolSquare:vz,symbolStar:Nz,symbolTriangle:Sz,symbolWye:Tz},Yz=Math.PI/180,Xz=function(e){var n="symbol".concat(Gg(e));return SO[n]||o_},Qz=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Yz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zz=function(e,n){SO["symbol".concat(Gg(e))]=n},l_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=Kz(e,zz),u=zT(zT({},c),{},{type:r,size:s,sizeType:l}),d=function(){var v=Xz(r),N=Az().type(v).size(Qz(s,l,r));return N()},f=u.className,h=u.cx,y=u.cy,x=_e(u,!0);return h===+h&&y===+y&&s===+s?U.createElement("path",zv({},x,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:d()})):null};l_.registerSymbol=Zz;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TO(r.key),r)}}function rG(t,e,n){return e&&nG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iG(t,e,n){return e=Jp(e),sG(t,EO()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function sG(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aG(t)}function aG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function oG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hv(t,e)}function yd(t,e,n){return e=TO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TO(t){var e=lG(t,"string");return Cl(e)=="symbol"?e:e+""}function lG(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=32,c_=function(t){function e(){return tG(this,e),iG(this,e,arguments)}return oG(e,t),rG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=hr/2,o=hr/6,l=hr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:hr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(hr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=eG({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(l_,{fill:c,cx:s,cy:s,size:hr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:hr,height:hr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,x){var b=y.formatter||c,v=Re(yd(yd({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=Ee(y.value)?null:y.value;Br(!Ee(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=y.inactive?u:y.color;return U.createElement("li",Gv({className:v,style:f,key:"legend-item-".concat(x)},Za(r.props,y,x)),U.createElement(Dv,{width:o,height:o,viewBox:d,style:h},r.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(N,y,x):N))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);yd(c_,"displayName","Legend");yd(c_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cG=jg;function uG(){this.__data__=new cG,this.size=0}var dG=uG;function fG(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var hG=fG;function pG(t){return this.__data__.get(t)}var mG=pG;function gG(t){return this.__data__.has(t)}var yG=gG,xG=jg,vG=Y1,bG=X1,wG=200;function _G(t,e){var n=this.__data__;if(n instanceof xG){var r=n.__data__;if(!vG||r.length<wG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bG(r)}return n.set(t,e),this.size=n.size,this}var NG=_G,SG=jg,EG=dG,TG=hG,AG=mG,kG=yG,CG=NG;function bc(t){var e=this.__data__=new SG(t);this.size=e.size}bc.prototype.clear=EG;bc.prototype.delete=TG;bc.prototype.get=AG;bc.prototype.has=kG;bc.prototype.set=CG;var AO=bc,IG="__lodash_hash_undefined__";function PG(t){return this.__data__.set(t,IG),this}var jG=PG;function RG(t){return this.__data__.has(t)}var MG=RG,OG=X1,DG=jG,LG=MG;function Yp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new OG;++e<n;)this.add(t[e])}Yp.prototype.add=Yp.prototype.push=DG;Yp.prototype.has=LG;var kO=Yp;function $G(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var CO=$G;function VG(t,e){return t.has(e)}var IO=VG,FG=kO,UG=CO,BG=IO,qG=1,zG=2;function GG(t,e,n,r,i,s){var o=n&qG,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,y=n&zG?new FG:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var x=t[f],b=e[f];if(r)var v=o?r(b,x,f,e,t,s):r(x,b,f,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(y){if(!UG(e,function(N,_){if(!BG(y,_)&&(x===N||i(x,N,n,r,s)))return y.push(_)})){h=!1;break}}else if(!(x===b||i(x,b,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var PO=GG,HG=wi,WG=HG.Uint8Array,KG=WG;function JG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var YG=JG;function XG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var u_=XG,HT=mf,WT=KG,QG=J1,ZG=PO,e7=YG,t7=u_,n7=1,r7=2,i7="[object Boolean]",s7="[object Date]",a7="[object Error]",o7="[object Map]",l7="[object Number]",c7="[object RegExp]",u7="[object Set]",d7="[object String]",f7="[object Symbol]",h7="[object ArrayBuffer]",p7="[object DataView]",KT=HT?HT.prototype:void 0,Hy=KT?KT.valueOf:void 0;function m7(t,e,n,r,i,s,o){switch(n){case p7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case h7:return!(t.byteLength!=e.byteLength||!s(new WT(t),new WT(e)));case i7:case s7:case l7:return QG(+t,+e);case a7:return t.name==e.name&&t.message==e.message;case c7:case d7:return t==e+"";case o7:var l=e7;case u7:var c=r&n7;if(l||(l=t7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=r7,o.set(t,e);var d=ZG(l(t),l(e),r,i,s,o);return o.delete(t),d;case f7:if(Hy)return Hy.call(t)==Hy.call(e)}return!1}var g7=m7;function y7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var jO=y7,x7=jO,v7=Yn;function b7(t,e,n){var r=e(t);return v7(t)?r:x7(r,n(t))}var w7=b7;function _7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var N7=_7;function S7(){return[]}var E7=S7,T7=N7,A7=E7,k7=Object.prototype,C7=k7.propertyIsEnumerable,JT=Object.getOwnPropertySymbols,I7=JT?function(t){return t==null?[]:(t=Object(t),T7(JT(t),function(e){return C7.call(t,e)}))}:A7,P7=I7;function j7(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var R7=j7,M7=as,O7=os,D7="[object Arguments]";function L7(t){return O7(t)&&M7(t)==D7}var $7=L7,YT=$7,V7=os,RO=Object.prototype,F7=RO.hasOwnProperty,U7=RO.propertyIsEnumerable,B7=YT(function(){return arguments}())?YT:function(t){return V7(t)&&F7.call(t,"callee")&&!U7.call(t,"callee")},d_=B7,Xp={exports:{}};function q7(){return!1}var z7=q7;Xp.exports;(function(t,e){var n=wi,r=z7,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(Xp,Xp.exports);var MO=Xp.exports,G7=9007199254740991,H7=/^(?:0|[1-9]\d*)$/;function W7(t,e){var n=typeof t;return e=e??G7,!!e&&(n=="number"||n!="symbol"&&H7.test(t))&&t>-1&&t%1==0&&t<e}var f_=W7,K7=9007199254740991;function J7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=K7}var h_=J7,Y7=as,X7=h_,Q7=os,Z7="[object Arguments]",eH="[object Array]",tH="[object Boolean]",nH="[object Date]",rH="[object Error]",iH="[object Function]",sH="[object Map]",aH="[object Number]",oH="[object Object]",lH="[object RegExp]",cH="[object Set]",uH="[object String]",dH="[object WeakMap]",fH="[object ArrayBuffer]",hH="[object DataView]",pH="[object Float32Array]",mH="[object Float64Array]",gH="[object Int8Array]",yH="[object Int16Array]",xH="[object Int32Array]",vH="[object Uint8Array]",bH="[object Uint8ClampedArray]",wH="[object Uint16Array]",_H="[object Uint32Array]",ht={};ht[pH]=ht[mH]=ht[gH]=ht[yH]=ht[xH]=ht[vH]=ht[bH]=ht[wH]=ht[_H]=!0;ht[Z7]=ht[eH]=ht[fH]=ht[tH]=ht[hH]=ht[nH]=ht[rH]=ht[iH]=ht[sH]=ht[aH]=ht[oH]=ht[lH]=ht[cH]=ht[uH]=ht[dH]=!1;function NH(t){return Q7(t)&&X7(t.length)&&!!ht[Y7(t)]}var SH=NH;function EH(t){return function(e){return t(e)}}var OO=EH,Qp={exports:{}};Qp.exports;(function(t,e){var n=qM,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Qp,Qp.exports);var TH=Qp.exports,AH=SH,kH=OO,XT=TH,QT=XT&&XT.isTypedArray,CH=QT?kH(QT):AH,DO=CH,IH=R7,PH=d_,jH=Yn,RH=MO,MH=f_,OH=DO,DH=Object.prototype,LH=DH.hasOwnProperty;function $H(t,e){var n=jH(t),r=!n&&PH(t),i=!n&&!r&&RH(t),s=!n&&!r&&!i&&OH(t),o=n||r||i||s,l=o?IH(t.length,String):[],c=l.length;for(var u in t)(e||LH.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MH(u,c)))&&l.push(u);return l}var VH=$H,FH=Object.prototype;function UH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||FH;return t===n}var BH=UH;function qH(t,e){return function(n){return t(e(n))}}var LO=qH,zH=LO,GH=zH(Object.keys,Object),HH=GH,WH=BH,KH=HH,JH=Object.prototype,YH=JH.hasOwnProperty;function XH(t){if(!WH(t))return KH(t);var e=[];for(var n in Object(t))YH.call(t,n)&&n!="constructor"&&e.push(n);return e}var QH=XH,ZH=K1,eW=h_;function tW(t){return t!=null&&eW(t.length)&&!ZH(t)}var gf=tW,nW=VH,rW=QH,iW=gf;function sW(t){return iW(t)?nW(t):rW(t)}var Jg=sW,aW=w7,oW=P7,lW=Jg;function cW(t){return aW(t,lW,oW)}var uW=cW,ZT=uW,dW=1,fW=Object.prototype,hW=fW.hasOwnProperty;function pW(t,e,n,r,i,s){var o=n&dW,l=ZT(t),c=l.length,u=ZT(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:hW.call(e,h)))return!1}var y=s.get(t),x=s.get(e);if(y&&x)return y==e&&x==t;var b=!0;s.set(t,e),s.set(e,t);for(var v=o;++f<c;){h=l[f];var N=t[h],_=e[h];if(r)var S=o?r(_,N,h,e,t,s):r(N,_,h,t,e,s);if(!(S===void 0?N===_||i(N,_,n,r,s):S)){b=!1;break}v||(v=h=="constructor")}if(b&&!v){var C=t.constructor,T=e.constructor;C!=T&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(b=!1)}return s.delete(t),s.delete(e),b}var mW=pW,gW=ho,yW=wi,xW=gW(yW,"DataView"),vW=xW,bW=ho,wW=wi,_W=bW(wW,"Promise"),NW=_W,SW=ho,EW=wi,TW=SW(EW,"Set"),$O=TW,AW=ho,kW=wi,CW=AW(kW,"WeakMap"),IW=CW,Wv=vW,Kv=Y1,Jv=NW,Yv=$O,Xv=IW,VO=as,wc=GM,eA="[object Map]",PW="[object Object]",tA="[object Promise]",nA="[object Set]",rA="[object WeakMap]",iA="[object DataView]",jW=wc(Wv),RW=wc(Kv),MW=wc(Jv),OW=wc(Yv),DW=wc(Xv),Sa=VO;(Wv&&Sa(new Wv(new ArrayBuffer(1)))!=iA||Kv&&Sa(new Kv)!=eA||Jv&&Sa(Jv.resolve())!=tA||Yv&&Sa(new Yv)!=nA||Xv&&Sa(new Xv)!=rA)&&(Sa=function(t){var e=VO(t),n=e==PW?t.constructor:void 0,r=n?wc(n):"";if(r)switch(r){case jW:return iA;case RW:return eA;case MW:return tA;case OW:return nA;case DW:return rA}return e});var LW=Sa,Wy=AO,$W=PO,VW=g7,FW=mW,sA=LW,aA=Yn,oA=MO,UW=DO,BW=1,lA="[object Arguments]",cA="[object Array]",ph="[object Object]",qW=Object.prototype,uA=qW.hasOwnProperty;function zW(t,e,n,r,i,s){var o=aA(t),l=aA(e),c=o?cA:sA(t),u=l?cA:sA(e);c=c==lA?ph:c,u=u==lA?ph:u;var d=c==ph,f=u==ph,h=c==u;if(h&&oA(t)){if(!oA(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Wy),o||UW(t)?$W(t,e,n,r,i,s):VW(t,e,c,n,r,i,s);if(!(n&BW)){var y=d&&uA.call(t,"__wrapped__"),x=f&&uA.call(e,"__wrapped__");if(y||x){var b=y?t.value():t,v=x?e.value():e;return s||(s=new Wy),i(b,v,n,r,s)}}return h?(s||(s=new Wy),FW(t,e,n,r,i,s)):!1}var GW=zW,HW=GW,dA=os;function FO(t,e,n,r,i){return t===e?!0:t==null||e==null||!dA(t)&&!dA(e)?t!==t&&e!==e:HW(t,e,n,r,FO,i)}var p_=FO,WW=AO,KW=p_,JW=1,YW=2;function XW(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new WW;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?KW(d,u,JW|YW,r,f):h))return!1}}return!0}var QW=XW,ZW=oa;function eK(t){return t===t&&!ZW(t)}var UO=eK,tK=UO,nK=Jg;function rK(t){for(var e=nK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tK(i)]}return e}var iK=rK;function sK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var BO=sK,aK=QW,oK=iK,lK=BO;function cK(t){var e=oK(t);return e.length==1&&e[0][2]?lK(e[0][0],e[0][1]):function(n){return n===t||aK(n,t,e)}}var uK=cK;function dK(t,e){return t!=null&&e in Object(t)}var fK=dK,hK=YM,pK=d_,mK=Yn,gK=f_,yK=h_,xK=Mg;function vK(t,e,n){e=hK(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=xK(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&yK(i)&&gK(o,i)&&(mK(t)||pK(t)))}var bK=vK,wK=fK,_K=bK;function NK(t,e){return t!=null&&_K(t,e,wK)}var SK=NK,EK=p_,TK=XM,AK=SK,kK=W1,CK=UO,IK=BO,PK=Mg,jK=1,RK=2;function MK(t,e){return kK(t)&&CK(e)?IK(PK(t),e):function(n){var r=TK(n,t);return r===void 0&&r===e?AK(n,t):EK(e,r,jK|RK)}}var OK=MK;function DK(t){return t}var _c=DK;function LK(t){return function(e){return e==null?void 0:e[t]}}var $K=LK,VK=e_;function FK(t){return function(e){return VK(e,t)}}var UK=FK,BK=$K,qK=UK,zK=W1,GK=Mg;function HK(t){return zK(t)?BK(GK(t)):qK(t)}var WK=HK,KK=uK,JK=OK,YK=_c,XK=Yn,QK=WK;function ZK(t){return typeof t=="function"?t:t==null?YK:typeof t=="object"?XK(t)?JK(t[0],t[1]):KK(t):QK(t)}var _i=ZK;function eJ(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var qO=eJ;function tJ(t){return t!==t}var nJ=tJ;function rJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var iJ=rJ,sJ=qO,aJ=nJ,oJ=iJ;function lJ(t,e,n){return e===e?oJ(t,e,n):sJ(t,aJ,n)}var cJ=lJ,uJ=cJ;function dJ(t,e){var n=t==null?0:t.length;return!!n&&uJ(t,e,0)>-1}var fJ=dJ;function hJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var pJ=hJ;function mJ(){}var gJ=mJ,Ky=$O,yJ=gJ,xJ=u_,vJ=1/0,bJ=Ky&&1/xJ(new Ky([,-0]))[1]==vJ?function(t){return new Ky(t)}:yJ,wJ=bJ,_J=kO,NJ=fJ,SJ=pJ,EJ=IO,TJ=wJ,AJ=u_,kJ=200;function CJ(t,e,n){var r=-1,i=NJ,s=t.length,o=!0,l=[],c=l;if(n)o=!1,i=SJ;else if(s>=kJ){var u=e?null:TJ(t);if(u)return AJ(u);o=!1,i=EJ,c=new _J}else c=e?[]:l;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var IJ=CJ,PJ=_i,jJ=IJ;function RJ(t,e){return t&&t.length?jJ(t,PJ(e)):[]}var MJ=RJ;const fA=et(MJ);function zO(t,e,n){return e===!0?fA(t,n):Ee(e)?fA(t,e):t}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var OJ=["ref"];function hA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(n),!0).forEach(function(r){Yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HO(r.key),r)}}function LJ(t,e,n){return e&&pA(t.prototype,e),n&&pA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $J(t,e,n){return e=Zp(e),VJ(t,GO()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function VJ(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function UJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qv(t,e)}function Yg(t,e,n){return e=HO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HO(t){var e=BJ(t,"string");return Il(e)=="symbol"?e:e+""}function BJ(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qJ(t,e){if(t==null)return{};var n=zJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GJ(t){return t.value}function HJ(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=qJ(e,OJ);return U.createElement(c_,n)}var mA=1,Ba=function(t){function e(){var n;DJ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$J(this,e,[].concat(i)),Yg(n,"lastBoundingBox",{width:-1,height:-1}),n}return UJ(e,t),LJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mA||Math.abs(i.height-this.lastBoundingBox.height)>mA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ti({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ti(Ti({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ti(Ti({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},HJ(s,Ti(Ti({},this.props),{},{payload:zO(d,u,GJ)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ti(Ti({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Yg(Ba,"displayName","Legend");Yg(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gA=mf,WJ=d_,KJ=Yn,yA=gA?gA.isConcatSpreadable:void 0;function JJ(t){return KJ(t)||WJ(t)||!!(yA&&t&&t[yA])}var YJ=JJ,XJ=jO,QJ=YJ;function WO(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=QJ),i||(i=[]);++s<o;){var l=t[s];e>0&&n(l)?e>1?WO(l,e-1,n,r,i):XJ(i,l):r||(i[i.length]=l)}return i}var KO=WO;function ZJ(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var eY=ZJ,tY=eY,nY=tY(),rY=nY,iY=rY,sY=Jg;function aY(t,e){return t&&iY(t,e,sY)}var JO=aY,oY=gf;function lY(t,e){return function(n,r){if(n==null)return n;if(!oY(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var cY=lY,uY=JO,dY=cY,fY=dY(uY),m_=fY,hY=m_,pY=gf;function mY(t,e){var n=-1,r=pY(t)?Array(t.length):[];return hY(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var YO=mY;function gY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var yY=gY,xA=hc;function xY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=xA(t),o=e!==void 0,l=e===null,c=e===e,u=xA(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}var vY=xY,bY=vY;function wY(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,l=n.length;++r<o;){var c=bY(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var _Y=wY,Jy=Z1,NY=e_,SY=_i,EY=YO,TY=yY,AY=OO,kY=_Y,CY=_c,IY=Yn;function PY(t,e,n){e.length?e=Jy(e,function(s){return IY(s)?function(o){return NY(o,s.length===1?s[0]:s)}:s}):e=[CY];var r=-1;e=Jy(e,AY(SY));var i=EY(t,function(s,o,l){var c=Jy(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return TY(i,function(s,o){return kY(s,o,n)})}var jY=PY;function RY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var MY=RY,OY=MY,vA=Math.max;function DY(t,e,n){return e=vA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=vA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),OY(t,this,l)}}var LY=DY;function $Y(t){return function(){return t}}var VY=$Y,FY=ho,UY=function(){try{var t=FY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),XO=UY,BY=VY,bA=XO,qY=_c,zY=bA?function(t,e){return bA(t,"toString",{configurable:!0,enumerable:!1,value:BY(e),writable:!0})}:qY,GY=zY,HY=800,WY=16,KY=Date.now;function JY(t){var e=0,n=0;return function(){var r=KY(),i=WY-(r-n);if(n=r,i>0){if(++e>=HY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var YY=JY,XY=GY,QY=YY,ZY=QY(XY),eX=ZY,tX=_c,nX=LY,rX=eX;function iX(t,e){return rX(nX(t,e,tX),t+"")}var sX=iX,aX=J1,oX=gf,lX=f_,cX=oa;function uX(t,e,n){if(!cX(n))return!1;var r=typeof e;return(r=="number"?oX(n)&&lX(e,n.length):r=="string"&&e in n)?aX(n[e],t):!1}var Xg=uX,dX=KO,fX=jY,hX=sX,wA=Xg,pX=hX(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wA(t,e[0],e[1])?e=[]:n>2&&wA(e[0],e[1],e[2])&&(e=[e[0]]),fX(t,dX(e,1),[])}),mX=pX;const g_=et(mX);function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}function gX(t,e){return bX(t)||vX(t,e)||xX(t,e)||yX()}function yX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t,e){if(t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function bX(t){if(Array.isArray(t))return t}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){wX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e,n){return e=_X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=NX(t,"string");return xd(e)=="symbol"?e:e+""}function NX(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SX(t){return Array.isArray(t)&&qt(t[0])&&qt(t[1])?t.join(" ~ "):t}var EX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,x=e.labelClassName,b=e.label,v=e.labelFormatter,N=e.accessibilityLayer,_=N===void 0?!1:N,S=function(){if(d&&d.length){var O={padding:0,margin:0},M=(h?g_(d,h):d).map(function(z,F){if(z.type==="none")return null;var $=Yy({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),q=z.formatter||f||SX,V=z.value,G=z.name,K=V,B=G;if(q&&K!=null&&B!=null){var J=q(V,G,z,F,d);if(Array.isArray(J)){var te=gX(J,2);K=te[0],B=te[1]}else K=J}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},qt(B)?U.createElement("span",{className:"recharts-tooltip-item-name"},B):null,qt(B)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},K),U.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},C=Yy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=Yy({margin:0},u),w=!je(b),E=w?b:"",A=Re("recharts-default-tooltip",y),I=Re("recharts-tooltip-label",x);w&&v&&d!==void 0&&d!==null&&(E=v(b,d));var R=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",Zv({className:A,style:C},R),U.createElement("p",{className:I,style:T},U.isValidElement(E)?E:"".concat(E)),S())};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function mh(t,e,n){return e=TX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=AX(t,"string");return vd(e)=="symbol"?e:e+""}function AX(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",kX={visibility:"hidden"};function CX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(ru,mh(mh(mh(mh({},"".concat(ru,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(ru,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(ru,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(ru,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function SA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&oe(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,y=c[r];return h<y?Math.max(f,c[r]):Math.max(d,c[r])}var x=f+l,b=c[r]+u;return x>b?Math.max(d,c[r]):Math.max(f,c[r])}function IX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=SA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=SA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=IX({translateX:d,translateY:f,useTranslate3d:l})):u=kX,{cssProperties:u,cssClasses:CX({translateX:d,translateY:f,coordinate:n})}}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZO(r.key),r)}}function MX(t,e,n){return e&&RX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OX(t,e,n){return e=em(e),DX(t,QO()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function DX(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LX(t)}function LX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function $X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function tb(t,e,n){return e=ZO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZO(t){var e=VX(t,"string");return Pl(e)=="symbol"?e:e+""}function VX(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AA=1,FX=function(t){function e(){var n;jX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=OX(this,e,[].concat(i)),tb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return $X(e,t),MX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AA||Math.abs(r.height-this.state.lastBoundingBox.height)>AA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,x=i.position,b=i.reverseDirection,v=i.useTranslate3d,N=i.viewBox,_=i.wrapperStyle,S=PX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:y,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),C=S.cssClasses,T=S.cssProperties,w=TA(TA({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:C,style:w,ref:function(A){r.wrapperNode=A}},u)}}])}(D.PureComponent),UX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:UX()};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function zX(t,e,n){return e&&qX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,n){return e=tm(e),HX(t,e4()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function HX(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(t)}function WX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function KX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function y_(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=JX(t,"string");return jl(e)=="symbol"?e:e+""}function JX(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YX(t){return t.dataKey}function XX(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(EX,e)}var Fn=function(t){function e(){return BX(this,e),GX(this,e,arguments)}return KX(e,t),zX(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,x=i.payload,b=i.payloadUniqBy,v=i.position,N=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,T=x??[];f&&T.length&&(T=zO(x.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,YX));var w=T.length>0;return U.createElement(FX,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:w,offset:y,position:v,reverseDirection:N,useTranslate3d:_,viewBox:S,wrapperStyle:C},XX(u,CA(CA({},this.props),{},{payload:T})))}}])}(D.PureComponent);y_(Fn,"displayName","Tooltip");y_(Fn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QX=wi,ZX=function(){return QX.Date.now()},eQ=ZX,tQ=/\s/;function nQ(t){for(var e=t.length;e--&&tQ.test(t.charAt(e)););return e}var rQ=nQ,iQ=rQ,sQ=/^\s+/;function aQ(t){return t&&t.slice(0,iQ(t)+1).replace(sQ,"")}var oQ=aQ,lQ=oQ,IA=oa,cQ=hc,PA=NaN,uQ=/^[-+]0x[0-9a-f]+$/i,dQ=/^0b[01]+$/i,fQ=/^0o[0-7]+$/i,hQ=parseInt;function pQ(t){if(typeof t=="number")return t;if(cQ(t))return PA;if(IA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=IA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lQ(t);var n=dQ.test(t);return n||fQ.test(t)?hQ(t.slice(2),n?2:8):uQ.test(t)?PA:+t}var n4=pQ,mQ=oa,Xy=eQ,jA=n4,gQ="Expected a function",yQ=Math.max,xQ=Math.min;function vQ(t,e,n){var r,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(gQ);e=jA(e)||0,mQ(n)&&(d=!!n.leading,f="maxWait"in n,s=f?yQ(jA(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function y(w){var E=r,A=i;return r=i=void 0,u=w,o=t.apply(A,E),o}function x(w){return u=w,l=setTimeout(N,e),d?y(w):o}function b(w){var E=w-c,A=w-u,I=e-E;return f?xQ(I,s-A):I}function v(w){var E=w-c,A=w-u;return c===void 0||E>=e||E<0||f&&A>=s}function N(){var w=Xy();if(v(w))return _(w);l=setTimeout(N,b(w))}function _(w){return l=void 0,h&&r?y(w):(r=i=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function C(){return l===void 0?o:_(Xy())}function T(){var w=Xy(),E=v(w);if(r=arguments,i=this,c=w,E){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(N,e),y(c)}return l===void 0&&(l=setTimeout(N,e)),o}return T.cancel=S,T.flush=C,T}var bQ=vQ,wQ=bQ,_Q=oa,NQ="Expected a function";function SQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(NQ);return _Q(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wQ(t,e,{leading:r,maxWait:e,trailing:i})}var EQ=SQ;const r4=et(EQ);function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=kQ(t,"string");return bd(e)=="symbol"?e:e+""}function kQ(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(t,e){return RQ(t)||jQ(t,e)||PQ(t,e)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function RQ(t){if(Array.isArray(t))return t}var $u=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,x=t.debounce,b=x===void 0?0:x,v=t.id,N=t.className,_=t.onResize,S=t.style,C=S===void 0?{}:S,T=D.useRef(null),w=D.useRef();w.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=D.useState({containerWidth:i.width,containerHeight:i.height}),A=CQ(E,2),I=A[0],R=A[1],P=D.useCallback(function(M,z){R(function(F){var $=Math.round(M),q=Math.round(z);return F.containerWidth===$&&F.containerHeight===q?F:{containerWidth:$,containerHeight:q}})},[]);D.useEffect(function(){var M=function(G){var K,B=G[0].contentRect,J=B.width,te=B.height;P(J,te),(K=w.current)===null||K===void 0||K.call(w,J,te)};b>0&&(M=r4(M,b,{trailing:!0,leading:!1}));var z=new ResizeObserver(M),F=T.current.getBoundingClientRect(),$=F.width,q=F.height;return P($,q),z.observe(T.current),function(){z.disconnect()}},[P,b]);var O=D.useMemo(function(){var M=I.containerWidth,z=I.containerHeight;if(M<0||z<0)return null;Br(Ma(o)||Ma(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Br(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ma(o)?M:o,$=Ma(c)?z:c;n&&n>0&&(F?$=F/n:$&&(F=$*n),h&&$>h&&($=h)),Br(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,o,c,d,f,n);var q=!Array.isArray(y)&&Fi(y.type).endsWith("Chart");return U.Children.map(y,function(V){return U.isValidElement(V)?D.cloneElement(V,gh({width:F,height:$},q?{style:gh({height:"100%",width:"100%",maxHeight:$,maxWidth:F},V.props.style)}:{})):V})},[n,y,c,h,f,d,I,o]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",N),style:gh(gh({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:T},O)}),Qg=function(e){return null};Qg.displayName="Cell";function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OQ(t){var e=DQ(t,"string");return wd(e)=="symbol"?e:e+""}function DQ(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ao={widthCache:{},cacheCount:0},LQ=2e3,$Q={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DA="recharts_measurement_span";function VQ(t){var e=rb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Vu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||po.isSsr)return{width:0,height:0};var r=VQ(n),i=JSON.stringify({text:e,copyStyle:r});if(Ao.widthCache[i])return Ao.widthCache[i];try{var s=document.getElementById(DA);s||(s=document.createElement("span"),s.setAttribute("id",DA),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=rb(rb({},$Q),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ao.widthCache[i]=c,++Ao.cacheCount>LQ&&(Ao.cacheCount=0,Ao.widthCache={}),c}catch{return{width:0,height:0}}},FQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function nm(t,e){return zQ(t)||qQ(t,e)||BQ(t,e)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function zQ(t){if(Array.isArray(t))return t}function GQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WQ(r.key),r)}}function HQ(t,e,n){return e&&$A(t.prototype,e),n&&$A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WQ(t){var e=KQ(t,"string");return _d(e)=="symbol"?e:e+""}function KQ(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XQ=Object.keys(i4),Ho="NaN";function QQ(t,e){return t*i4[e]}var yh=function(){function t(e,n){GQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JQ.test(n)&&(this.num=NaN,this.unit=""),XQ.includes(n)&&(this.num=QQ(e,n),this.unit="px")}return HQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=YQ.exec(n))!==null&&r!==void 0?r:[],s=nm(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function s4(t){if(t.includes(Ho))return Ho;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=VA.exec(e))!==null&&n!==void 0?n:[],i=nm(r,4),s=i[1],o=i[2],l=i[3],c=yh.parse(s??""),u=yh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ho;e=e.replace(VA,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=FA.exec(e))!==null&&f!==void 0?f:[],y=nm(h,4),x=y[1],b=y[2],v=y[3],N=yh.parse(x??""),_=yh.parse(v??""),S=b==="+"?N.add(_):N.subtract(_);if(S.isNaN())return Ho;e=e.replace(FA,S.toString())}return e}var UA=/\(([^()]*)\)/;function ZQ(t){for(var e=t;e.includes("(");){var n=UA.exec(e),r=nm(n,2),i=r[1];e=e.replace(UA,s4(i))}return e}function eZ(t){var e=t.replace(/\s+/g,"");return e=ZQ(e),e=s4(e),e}function tZ(t){try{return eZ(t)}catch{return Ho}}function Qy(t){var e=tZ(t.slice(5,-1));return e===Ho?"":e}var nZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rZ=["dx","dy","angle","className","breakAll"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function BA(t,e){if(t==null)return{};var n=iZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qA(t,e){return lZ(t)||oZ(t,e)||aZ(t,e)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lZ(t){if(Array.isArray(t))return t}var a4=/[ \f\n\r\t\v\u2028\u2029]+/,o4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];je(n)||(r?s=n.toString().split(""):s=n.toString().split(a4));var o=s.map(function(c){return{word:c,width:Vu(c,i).width}}),l=r?0:Vu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cZ=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=oe(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,q){var V=q.word,G=q.width,K=$[$.length-1];if(K&&(i==null||s||K.width+G+r<Number(i)))K.words.push(V),K.width+=G+r;else{var B={words:[V],width:G};$.push(B)}return $},[])},y=h(n),x=function(F){return F.reduce(function($,q){return $.width>q.width?$:q})};if(!d)return y;for(var b="",v=function(F){var $=f.slice(0,F),q=o4({breakAll:u,style:c,children:$+b}).wordsWithComputedWidth,V=h(q),G=V.length>o||x(V).width>Number(i);return[G,V]},N=0,_=f.length-1,S=0,C;N<=_&&S<=f.length-1;){var T=Math.floor((N+_)/2),w=T-1,E=v(w),A=qA(E,2),I=A[0],R=A[1],P=v(T),O=qA(P,1),M=O[0];if(!I&&!M&&(N=T+1),I&&M&&(_=T-1),!I&&M){C=R;break}S++}return C||y},GA=function(e){var n=je(e)?[]:e.toString().split(a4);return[{words:n}]},uZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!po.isSsr){var c,u,d=o4({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return GA(i);return cZ({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return GA(i)},HA="#808080",eo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,y=h===void 0?"start":h,x=e.verticalAnchor,b=x===void 0?"end":x,v=e.fill,N=v===void 0?HA:v,_=BA(e,nZ),S=D.useMemo(function(){return uZ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,T=_.dy,w=_.angle,E=_.className,A=_.breakAll,I=BA(_,rZ);if(!qt(r)||!qt(s))return null;var R=r+(oe(C)?C:0),P=s+(oe(T)?T:0),O;switch(b){case"start":O=Qy("calc(".concat(u,")"));break;case"middle":O=Qy("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Qy("calc(".concat(S.length-1," * -").concat(l,")"));break}var M=[];if(f){var z=S[0].width,F=_.width;M.push("scale(".concat((oe(F)?F/z:1)/z,")"))}return w&&M.push("rotate(".concat(w,", ").concat(R,", ").concat(P,")")),M.length&&(I.transform=M.join(" ")),U.createElement("text",ib({},_e(I,!0),{x:R,y:P,className:Re("recharts-text",E),textAnchor:y,fill:N.includes("url")?HA:N}),S.map(function($,q){var V=$.words.join(A?"":" ");return U.createElement("tspan",{x:R,dy:q===0?O:l,key:"".concat(V,"-").concat(q)},V)}))};function zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x_(t){let e,n,r;t.length!==2?(e=zs,n=(l,c)=>zs(t(l),c),r=(l,c)=>t(l)-c):(e=t===zs||t===dZ?t:fZ,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function fZ(){return 0}function l4(t){return t===null?NaN:+t}function*hZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pZ=x_(zs),yf=pZ.right;x_(l4).center;class WA extends Map{constructor(e,n=yZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KA(this,e))}has(e){return super.has(KA(this,e))}set(e,n){return super.set(mZ(this,e),n)}delete(e){return super.delete(gZ(this,e))}}function KA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function mZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xZ(t=zs){if(t===zs)return c4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function c4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vZ=Math.sqrt(50),bZ=Math.sqrt(10),wZ=Math.sqrt(2);function rm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=vZ?10:s>=bZ?5:s>=wZ?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?rm(t,e,n*2):[l,c,u]}function sb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?rm(e,t,n):rm(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function ab(t,e,n){return e=+e,t=+t,n=+n,rm(t,e,n)[2]}function ob(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ab(e,t,n):ab(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?c4:xZ(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/c+h)),x=Math.min(r,Math.floor(e+(c-u)*f/c+h));u4(t,e,y,x,i)}const s=t[e];let o=n,l=r;for(iu(t,n,e),i(t[r],s)>0&&iu(t,n,r);o<l;){for(iu(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?iu(t,n,l):(++l,iu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function iu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Z(t,e,n){if(t=Float64Array.from(hZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YA(t);if(e>=1)return JA(t);var r,i=(r-1)*e,s=Math.floor(i),o=JA(u4(t,s).subarray(0,s+1)),l=YA(t.subarray(s+1));return o+(l-o)*(i-s)}}function NZ(t,e,n=l4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function SZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ls(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lb=Symbol("implicit");function v_(){var t=new WA,e=[],n=[],r=lb;function i(s){let o=t.get(s);if(o===void 0){if(r!==lb)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new WA;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return v_(e,n).unknown(r)},Cr.apply(i,arguments),i}function Nd(){var t=v_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,y=i<r,x=y?i:r,b=y?r:i;s=(b-x)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),x+=(b-x-s*(h-c))*d,o=s*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=SZ(h).map(function(N){return x+s*N});return n(y?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Nd(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Cr.apply(f(),arguments)}function d4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d4(e())},t}function Fu(){return d4(Nd.apply(null,arguments).paddingInner(1))}function b_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function f4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xf(){}var Sd=.7,im=1/Sd,cl="\\s*([+-]?\\d+)\\s*",Ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EZ=/^#([0-9a-f]{3,8})$/,TZ=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),AZ=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),kZ=new RegExp(`^rgba\\(${cl},${cl},${cl},${Ed}\\)$`),CZ=new RegExp(`^rgba\\(${ci},${ci},${ci},${Ed}\\)$`),IZ=new RegExp(`^hsl\\(${Ed},${ci},${ci}\\)$`),PZ=new RegExp(`^hsla\\(${Ed},${ci},${ci},${Ed}\\)$`),XA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b_(xf,Td,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QA,formatHex:QA,formatHex8:jZ,formatHsl:RZ,formatRgb:ZA,toString:ZA});function QA(){return this.rgb().formatHex()}function jZ(){return this.rgb().formatHex8()}function RZ(){return h4(this).formatHsl()}function ZA(){return this.rgb().formatRgb()}function Td(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?e2(e):n===3?new Gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TZ.exec(t))?new Gn(e[1],e[2],e[3],1):(e=AZ.exec(t))?new Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kZ.exec(t))?xh(e[1],e[2],e[3],e[4]):(e=CZ.exec(t))?xh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IZ.exec(t))?r2(e[1],e[2]/100,e[3]/100,1):(e=PZ.exec(t))?r2(e[1],e[2]/100,e[3]/100,e[4]):XA.hasOwnProperty(t)?e2(XA[t]):t==="transparent"?new Gn(NaN,NaN,NaN,0):null}function e2(t){return new Gn(t>>16&255,t>>8&255,t&255,1)}function xh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gn(t,e,n,r)}function MZ(t){return t instanceof xf||(t=Td(t)),t?(t=t.rgb(),new Gn(t.r,t.g,t.b,t.opacity)):new Gn}function cb(t,e,n,r){return arguments.length===1?MZ(t):new Gn(t,e,n,r??1)}function Gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}b_(Gn,cb,f4(xf,{brighter(t){return t=t==null?im:Math.pow(im,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gn(qa(this.r),qa(this.g),qa(this.b),sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:OZ,formatRgb:n2,toString:n2}));function t2(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}`}function OZ(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}${Oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function n2(){const t=sm(this.opacity);return`${t===1?"rgb(":"rgba("}${qa(this.r)}, ${qa(this.g)}, ${qa(this.b)}${t===1?")":`, ${t})`}`}function sm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oa(t){return t=qa(t),(t<16?"0":"")+t.toString(16)}function r2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vr(t,e,n,r)}function h4(t){if(t instanceof Vr)return new Vr(t.h,t.s,t.l,t.opacity);if(t instanceof xf||(t=Td(t)),!t)return new Vr;if(t instanceof Vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Vr(o,l,c,t.opacity)}function DZ(t,e,n,r){return arguments.length===1?h4(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}b_(Vr,DZ,f4(xf,{brighter(t){return t=t==null?im:Math.pow(im,t),new Vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new Vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gn(Zy(t>=240?t-240:t+120,i,r),Zy(t,i,r),Zy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vr(i2(this.h),vh(this.s),vh(this.l),sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sm(this.opacity);return`${t===1?"hsl(":"hsla("}${i2(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function i2(t){return t=(t||0)%360,t<0?t+360:t}function vh(t){return Math.max(0,Math.min(1,t||0))}function Zy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const w_=t=>()=>t;function LZ(t,e){return function(n){return t+n*e}}function $Z(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VZ(t){return(t=+t)==1?p4:function(e,n){return n-e?$Z(e,n,t):w_(isNaN(e)?n:e)}}function p4(t,e){var n=e-t;return n?LZ(t,n):w_(isNaN(t)?e:t)}const s2=function t(e){var n=VZ(e);function r(i,s){var o=n((i=cb(i)).r,(s=cb(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=p4(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function FZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function UZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Nc(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function qZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function am(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ub=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ex=new RegExp(ub.source,"g");function GZ(t){return function(){return t}}function HZ(t){return function(e){return t(e)+""}}function WZ(t,e){var n=ub.lastIndex=ex.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=ub.exec(t))&&(i=ex.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:am(r,i)})),n=ex.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?HZ(c[0].x):GZ(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nc(t,e){var n=typeof e,r;return e==null||n==="boolean"?w_(e):(n==="number"?am:n==="string"?(r=Td(e))?(e=r,s2):WZ:e instanceof Td?s2:e instanceof Date?qZ:UZ(e)?FZ:Array.isArray(e)?BZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zZ:am)(t,e)}function __(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function KZ(t,e){e===void 0&&(e=t,t=Nc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function JZ(t){return function(){return t}}function om(t){return+t}var a2=[0,1];function jn(t){return t}function db(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JZ(isNaN(e)?NaN:.5)}function YZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function XZ(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=db(i,r),s=n(o,s)):(r=db(r,i),s=n(s,o)),function(l){return s(r(l))}}function QZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=db(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=yf(t,l,1,r)-1;return s[c](i[c](l))}}function vf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zg(){var t=a2,e=a2,n=Nc,r,i,s,o=jn,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==jn&&(o=YZ(t[0],t[h-1])),l=h>2?QZ:XZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(r),am)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,om),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=__,d()},f.clamp=function(h){return arguments.length?(o=h?!0:jn,d()):o!==jn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,y){return r=h,i=y,d()}}function N_(){return Zg()(jn,jn)}function ZZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rl(t){return t=lm(Math.abs(t)),t?t[1]:NaN}function eee(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function tee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(t){if(!(e=nee.exec(t)))throw new Error("invalid format: "+t);var e;return new S_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ad.prototype=S_.prototype;function S_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}S_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ree(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cm;function iee(t,e){var n=lm(t,e);if(!n)return cm=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(cm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+lm(t,Math.max(0,e+s-1))[0]}function o2(t,e){var n=lm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>o2(t*100,e),r:o2,s:iee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function c2(t){return t}var u2=Array.prototype.map,d2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function see(t){var e=t.grouping===void 0||t.thousands===void 0?c2:eee(u2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?c2:tee(u2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Ad(f);var y=f.fill,x=f.align,b=f.sign,v=f.symbol,N=f.zero,_=f.width,S=f.comma,C=f.precision,T=f.trim,w=f.type;w==="n"?(S=!0,w="g"):l2[w]||(C===void 0&&(C=12),T=!0,w="g"),(N||y==="0"&&x==="=")&&(N=!0,y="0",x="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),A=(v==="$"?r:/[%p]/.test(w)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),I=l2[w],R=/[defgprs%]/.test(w);C=C===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(O){var M=E,z=A,F,$,q;if(w==="c")z=I(O)+z,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:I(Math.abs(O),C),T&&(O=ree(O)),V&&+O==0&&b!=="+"&&(V=!1),M=(V?b==="("?b:l:b==="-"||b==="("?"":b)+M,z=(w==="s"&&!isNaN(O)&&cm!==void 0?d2[8+cm/3]:"")+z+(V&&b==="("?")":""),R){for(F=-1,$=O.length;++F<$;)if(q=O.charCodeAt(F),48>q||q>57){z=(q===46?i+O.slice(F+1):O.slice(F))+z,O=O.slice(0,F);break}}}S&&!N&&(O=e(O,1/0));var G=M.length+O.length+z.length,K=G<_?new Array(_-G+1).join(y):"";switch(S&&N&&(O=e(K+O,K.length?_-z.length:1/0),K=""),x){case"<":O=M+O+z+K;break;case"=":O=M+K+O+z;break;case"^":O=K.slice(0,G=K.length>>1)+M+O+z+K.slice(G);break;default:O=K+M+O+z;break}return s(O)}return P.toString=function(){return f+""},P}function d(f,h){var y=Math.max(-8,Math.min(8,Math.floor(Rl(h)/3)))*3,x=Math.pow(10,-y),b=u((f=Ad(f),f.type="f",f),{suffix:d2[8+y/3]});return function(v){return b(x*v)}}return{format:u,formatPrefix:d}}var bh,E_,m4;aee({thousands:",",grouping:[3],currency:["$",""]});function aee(t){return bh=see(t),E_=bh.format,m4=bh.formatPrefix,bh}function oee(t){return Math.max(0,-Rl(Math.abs(t)))}function lee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(e)/3)))*3-Rl(Math.abs(t)))}function cee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rl(e)-Rl(t))+1}function g4(t,e,n,r){var i=ob(t,e,n),s;switch(r=Ad(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=lee(i,o))&&(r.precision=s),m4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=cee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=oee(i))&&(r.precision=s-(r.type==="%")*2);break}}return E_(r)}function la(t){var e=t.domain;return t.ticks=function(n){var r=e();return sb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return g4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=ab(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function um(){var t=N_();return t.copy=function(){return vf(t,um())},Cr.apply(t,arguments),la(t)}function y4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,om),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return y4(t).unknown(e)},t=arguments.length?Array.from(t,om):[0,1],la(n)}function x4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function f2(t){return Math.log(t)}function h2(t){return Math.exp(t)}function uee(t){return-Math.log(-t)}function dee(t){return-Math.exp(-t)}function fee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hee(t){return t===10?fee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function p2(t){return(e,n)=>-t(-e,n)}function T_(t){const e=t(f2,h2),n=e.domain;let r=10,i,s;function o(){return i=pee(r),s=hee(r),n()[0]<0?(i=p2(i),s=p2(s),t(uee,dee)):t(f2,h2),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),y=i(d),x,b;const v=l==null?10:+l;let N=[];if(!(r%1)&&y-h<v){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(x=1;x<r;++x)if(b=h<0?x/s(-h):x*s(h),!(b<u)){if(b>d)break;N.push(b)}}else for(;h<=y;++h)for(x=r-1;x>=1;--x)if(b=h>0?x/s(-h):x*s(h),!(b<u)){if(b>d)break;N.push(b)}N.length*2<v&&(N=sb(u,d,v))}else N=sb(h,y,Math.min(y-h,v)).map(s);return f?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ad(c)).precision==null&&(c.trim=!0),c=E_(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(x4(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function v4(){const t=T_(Zg()).domain([1,10]);return t.copy=()=>vf(t,v4()).base(t.base()),Cr.apply(t,arguments),t}function m2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function g2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function A_(t){var e=1,n=t(m2(e),g2(e));return n.constant=function(r){return arguments.length?t(m2(e=+r),g2(e)):e},la(n)}function b4(){var t=A_(Zg());return t.copy=function(){return vf(t,b4()).constant(t.constant())},Cr.apply(t,arguments)}function y2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gee(t){return t<0?-t*t:t*t}function k_(t){var e=t(jn,jn),n=1;function r(){return n===1?t(jn,jn):n===.5?t(mee,gee):t(y2(n),y2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},la(e)}function C_(){var t=k_(Zg());return t.copy=function(){return vf(t,C_()).exponent(t.exponent())},Cr.apply(t,arguments),t}function yee(){return C_.apply(null,arguments).exponent(.5)}function x2(t){return Math.sign(t)*t*t}function xee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function w4(){var t=N_(),e=[0,1],n=!1,r;function i(s){var o=xee(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(x2(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,om)).map(x2)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return w4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cr.apply(i,arguments),la(i)}function _4(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=NZ(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[yf(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(zs),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return _4().domain(t).range(e).unknown(r)},Cr.apply(s,arguments)}function N4(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[yf(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return N4().domain([t,e]).range(i).unknown(s)},Cr.apply(la(o),arguments)}function S4(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[yf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return S4().domain(t).range(e).unknown(n)},Cr.apply(i,arguments)}const tx=new Date,nx=new Date;function Gt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Gt(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(tx.setTime(+s),nx.setTime(+o),t(tx),t(nx),Math.floor(n(tx,nx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const dm=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dm);dm.range;const Ri=1e3,xr=Ri*60,Mi=xr*60,Yi=Mi*24,I_=Yi*7,v2=Yi*30,rx=Yi*365,Da=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCSeconds());Da.range;const P_=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getMinutes());P_.range;const j_=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getUTCMinutes());j_.range;const R_=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri-t.getMinutes()*xr)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getHours());R_.range;const M_=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCHours());M_.range;const bf=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xr)/Yi,t=>t.getDate()-1);bf.range;const e0=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yi,t=>t.getUTCDate()-1);e0.range;const E4=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yi,t=>Math.floor(t/Yi));E4.range;function mo(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xr)/I_)}const t0=mo(0),fm=mo(1),vee=mo(2),bee=mo(3),Ml=mo(4),wee=mo(5),_ee=mo(6);t0.range;fm.range;vee.range;bee.range;Ml.range;wee.range;_ee.range;function go(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/I_)}const n0=go(0),hm=go(1),Nee=go(2),See=go(3),Ol=go(4),Eee=go(5),Tee=go(6);n0.range;hm.range;Nee.range;See.range;Ol.range;Eee.range;Tee.range;const O_=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());O_.range;const D_=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());D_.range;const Xi=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xi.range;const Qi=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qi.range;function T4(t,e,n,r,i,s){const o=[[Da,1,Ri],[Da,5,5*Ri],[Da,15,15*Ri],[Da,30,30*Ri],[s,1,xr],[s,5,5*xr],[s,15,15*xr],[s,30,30*xr],[i,1,Mi],[i,3,3*Mi],[i,6,6*Mi],[i,12,12*Mi],[r,1,Yi],[r,2,2*Yi],[n,1,I_],[e,1,v2],[e,3,3*v2],[t,1,rx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const y=f&&typeof f.range=="function"?f:c(u,d,f),x=y?y.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,y=x_(([,,v])=>v).right(o,h);if(y===o.length)return t.every(ob(u/rx,d/rx,f));if(y===0)return dm.every(Math.max(ob(u,d,f),1));const[x,b]=o[h/o[y-1][2]<o[y][2]/h?y-1:y];return x.every(b)}return[l,c]}const[Aee,kee]=T4(Qi,D_,n0,E4,M_,j_),[Cee,Iee]=T4(Xi,O_,t0,bf,R_,P_);function ix(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function su(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=au(i),d=ou(i),f=au(s),h=ou(s),y=au(o),x=ou(o),b=au(l),v=ou(l),N=au(c),_=ou(c),S={a:q,A:V,b:G,B:K,c:null,d:E2,e:E2,f:ete,g:ute,G:fte,H:Xee,I:Qee,j:Zee,L:A4,m:tte,M:nte,p:B,q:J,Q:k2,s:C2,S:rte,u:ite,U:ste,V:ate,w:ote,W:lte,x:null,X:null,y:cte,Y:dte,Z:hte,"%":A2},C={a:te,A:xe,b:we,B:Q,c:null,d:T2,e:T2,f:yte,g:Ate,G:Cte,H:pte,I:mte,j:gte,L:C4,m:xte,M:vte,p:ne,q:he,Q:k2,s:C2,S:bte,u:wte,U:_te,V:Nte,w:Ste,W:Ete,x:null,X:null,y:Tte,Y:kte,Z:Ite,"%":A2},T={a:R,A:P,b:O,B:M,c:z,d:N2,e:N2,f:Wee,g:_2,G:w2,H:S2,I:S2,j:qee,L:Hee,m:Bee,M:zee,p:I,q:Uee,Q:Jee,s:Yee,S:Gee,u:Dee,U:Lee,V:$ee,w:Oee,W:Vee,x:F,X:$,y:_2,Y:w2,Z:Fee,"%":Kee};S.x=w(n,S),S.X=w(r,S),S.c=w(e,S),C.x=w(n,C),C.X=w(r,C),C.c=w(e,C);function w(H,ae){return function(ue){var ie=[],Oe=-1,Y=0,ce=H.length,Te,ze,en;for(ue instanceof Date||(ue=new Date(+ue));++Oe<ce;)H.charCodeAt(Oe)===37&&(ie.push(H.slice(Y,Oe)),(ze=b2[Te=H.charAt(++Oe)])!=null?Te=H.charAt(++Oe):ze=Te==="e"?" ":"0",(en=ae[Te])&&(Te=en(ue,ze)),ie.push(Te),Y=Oe+1);return ie.push(H.slice(Y,Oe)),ie.join("")}}function E(H,ae){return function(ue){var ie=su(1900,void 0,1),Oe=A(ie,H,ue+="",0),Y,ce;if(Oe!=ue.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ae&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Y=sx(su(ie.y,0,1)),ce=Y.getUTCDay(),Y=ce>4||ce===0?hm.ceil(Y):hm(Y),Y=e0.offset(Y,(ie.V-1)*7),ie.y=Y.getUTCFullYear(),ie.m=Y.getUTCMonth(),ie.d=Y.getUTCDate()+(ie.w+6)%7):(Y=ix(su(ie.y,0,1)),ce=Y.getDay(),Y=ce>4||ce===0?fm.ceil(Y):fm(Y),Y=bf.offset(Y,(ie.V-1)*7),ie.y=Y.getFullYear(),ie.m=Y.getMonth(),ie.d=Y.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ce="Z"in ie?sx(su(ie.y,0,1)).getUTCDay():ix(su(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ce+5)%7:ie.w+ie.U*7-(ce+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,sx(ie)):ix(ie)}}function A(H,ae,ue,ie){for(var Oe=0,Y=ae.length,ce=ue.length,Te,ze;Oe<Y;){if(ie>=ce)return-1;if(Te=ae.charCodeAt(Oe++),Te===37){if(Te=ae.charAt(Oe++),ze=T[Te in b2?ae.charAt(Oe++):Te],!ze||(ie=ze(H,ue,ie))<0)return-1}else if(Te!=ue.charCodeAt(ie++))return-1}return ie}function I(H,ae,ue){var ie=u.exec(ae.slice(ue));return ie?(H.p=d.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function R(H,ae,ue){var ie=y.exec(ae.slice(ue));return ie?(H.w=x.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function P(H,ae,ue){var ie=f.exec(ae.slice(ue));return ie?(H.w=h.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function O(H,ae,ue){var ie=N.exec(ae.slice(ue));return ie?(H.m=_.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function M(H,ae,ue){var ie=b.exec(ae.slice(ue));return ie?(H.m=v.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function z(H,ae,ue){return A(H,e,ae,ue)}function F(H,ae,ue){return A(H,n,ae,ue)}function $(H,ae,ue){return A(H,r,ae,ue)}function q(H){return o[H.getDay()]}function V(H){return s[H.getDay()]}function G(H){return c[H.getMonth()]}function K(H){return l[H.getMonth()]}function B(H){return i[+(H.getHours()>=12)]}function J(H){return 1+~~(H.getMonth()/3)}function te(H){return o[H.getUTCDay()]}function xe(H){return s[H.getUTCDay()]}function we(H){return c[H.getUTCMonth()]}function Q(H){return l[H.getUTCMonth()]}function ne(H){return i[+(H.getUTCHours()>=12)]}function he(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var ae=w(H+="",S);return ae.toString=function(){return H},ae},parse:function(H){var ae=E(H+="",!1);return ae.toString=function(){return H},ae},utcFormat:function(H){var ae=w(H+="",C);return ae.toString=function(){return H},ae},utcParse:function(H){var ae=E(H+="",!0);return ae.toString=function(){return H},ae}}}var b2={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,jee=/^%/,Ree=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Mee(t){return t.replace(Ree,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(Mee).join("|")+")","i")}function ou(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Oee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Lee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $ee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function w2(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _2(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function N2(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qee(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function S2(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wee(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kee(t,e,n){var r=jee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Jee(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yee(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function E2(t,e){return We(t.getDate(),e,2)}function Xee(t,e){return We(t.getHours(),e,2)}function Qee(t,e){return We(t.getHours()%12||12,e,2)}function Zee(t,e){return We(1+bf.count(Xi(t),t),e,3)}function A4(t,e){return We(t.getMilliseconds(),e,3)}function ete(t,e){return A4(t,e)+"000"}function tte(t,e){return We(t.getMonth()+1,e,2)}function nte(t,e){return We(t.getMinutes(),e,2)}function rte(t,e){return We(t.getSeconds(),e,2)}function ite(t){var e=t.getDay();return e===0?7:e}function ste(t,e){return We(t0.count(Xi(t)-1,t),e,2)}function k4(t){var e=t.getDay();return e>=4||e===0?Ml(t):Ml.ceil(t)}function ate(t,e){return t=k4(t),We(Ml.count(Xi(t),t)+(Xi(t).getDay()===4),e,2)}function ote(t){return t.getDay()}function lte(t,e){return We(fm.count(Xi(t)-1,t),e,2)}function cte(t,e){return We(t.getFullYear()%100,e,2)}function ute(t,e){return t=k4(t),We(t.getFullYear()%100,e,2)}function dte(t,e){return We(t.getFullYear()%1e4,e,4)}function fte(t,e){var n=t.getDay();return t=n>=4||n===0?Ml(t):Ml.ceil(t),We(t.getFullYear()%1e4,e,4)}function hte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function T2(t,e){return We(t.getUTCDate(),e,2)}function pte(t,e){return We(t.getUTCHours(),e,2)}function mte(t,e){return We(t.getUTCHours()%12||12,e,2)}function gte(t,e){return We(1+e0.count(Qi(t),t),e,3)}function C4(t,e){return We(t.getUTCMilliseconds(),e,3)}function yte(t,e){return C4(t,e)+"000"}function xte(t,e){return We(t.getUTCMonth()+1,e,2)}function vte(t,e){return We(t.getUTCMinutes(),e,2)}function bte(t,e){return We(t.getUTCSeconds(),e,2)}function wte(t){var e=t.getUTCDay();return e===0?7:e}function _te(t,e){return We(n0.count(Qi(t)-1,t),e,2)}function I4(t){var e=t.getUTCDay();return e>=4||e===0?Ol(t):Ol.ceil(t)}function Nte(t,e){return t=I4(t),We(Ol.count(Qi(t),t)+(Qi(t).getUTCDay()===4),e,2)}function Ste(t){return t.getUTCDay()}function Ete(t,e){return We(hm.count(Qi(t)-1,t),e,2)}function Tte(t,e){return We(t.getUTCFullYear()%100,e,2)}function Ate(t,e){return t=I4(t),We(t.getUTCFullYear()%100,e,2)}function kte(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function Cte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ol(t):Ol.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function Ite(){return"+0000"}function A2(){return"%"}function k2(t){return+t}function C2(t){return Math.floor(+t/1e3)}var ko,P4,j4;Pte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pte(t){return ko=Pee(t),P4=ko.format,ko.parse,j4=ko.utcFormat,ko.utcParse,ko}function jte(t){return new Date(t)}function Rte(t){return t instanceof Date?+t:+new Date(+t)}function L_(t,e,n,r,i,s,o,l,c,u){var d=N_(),f=d.invert,h=d.domain,y=u(".%L"),x=u(":%S"),b=u("%I:%M"),v=u("%I %p"),N=u("%a %d"),_=u("%b %d"),S=u("%B"),C=u("%Y");function T(w){return(c(w)<w?y:l(w)<w?x:o(w)<w?b:s(w)<w?v:r(w)<w?i(w)<w?N:_:n(w)<w?S:C)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,Rte)):h().map(jte)},d.ticks=function(w){var E=h();return t(E[0],E[E.length-1],w??10)},d.tickFormat=function(w,E){return E==null?T:u(E)},d.nice=function(w){var E=h();return(!w||typeof w.range!="function")&&(w=e(E[0],E[E.length-1],w??10)),w?h(x4(E,w)):d},d.copy=function(){return vf(d,L_(t,e,n,r,i,s,o,l,c,u))},d}function Mte(){return Cr.apply(L_(Cee,Iee,Xi,O_,t0,bf,R_,P_,Da,P4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ote(){return Cr.apply(L_(Aee,kee,Qi,D_,n0,e0,M_,j_,Da,j4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function r0(){var t=0,e=1,n,r,i,s,o=jn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var y,x;return arguments.length?([y,x]=h,o=f(y,x),u):[o(0),o(1)]}}return u.range=d(Nc),u.rangeRound=d(__),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ca(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function R4(){var t=la(r0()(jn));return t.copy=function(){return ca(t,R4())},ls.apply(t,arguments)}function M4(){var t=T_(r0()).domain([1,10]);return t.copy=function(){return ca(t,M4()).base(t.base())},ls.apply(t,arguments)}function O4(){var t=A_(r0());return t.copy=function(){return ca(t,O4()).constant(t.constant())},ls.apply(t,arguments)}function $_(){var t=k_(r0());return t.copy=function(){return ca(t,$_()).exponent(t.exponent())},ls.apply(t,arguments)}function Dte(){return $_.apply(null,arguments).exponent(.5)}function D4(){var t=[],e=jn;function n(r){if(r!=null&&!isNaN(r=+r))return e((yf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_Z(t,s/r))},n.copy=function(){return D4(e).domain(t)},ls.apply(n,arguments)}function i0(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=jn,d,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-s)*(r*b<r*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function x(b){return function(v){var N,_,S;return arguments.length?([N,_,S]=v,u=KZ(b,[N,_,S]),y):[u(0),u(.5),u(1)]}}return y.range=x(Nc),y.rangeRound=x(__),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return d=b,i=b(t),s=b(e),o=b(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,y}}function L4(){var t=la(i0()(jn));return t.copy=function(){return ca(t,L4())},ls.apply(t,arguments)}function $4(){var t=T_(i0()).domain([.1,1,10]);return t.copy=function(){return ca(t,$4()).base(t.base())},ls.apply(t,arguments)}function V4(){var t=A_(i0());return t.copy=function(){return ca(t,V4()).constant(t.constant())},ls.apply(t,arguments)}function V_(){var t=k_(i0());return t.copy=function(){return ca(t,V_()).exponent(t.exponent())},ls.apply(t,arguments)}function Lte(){return V_.apply(null,arguments).exponent(.5)}const I2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nd,scaleDiverging:L4,scaleDivergingLog:$4,scaleDivergingPow:V_,scaleDivergingSqrt:Lte,scaleDivergingSymlog:V4,scaleIdentity:y4,scaleImplicit:lb,scaleLinear:um,scaleLog:v4,scaleOrdinal:v_,scalePoint:Fu,scalePow:C_,scaleQuantile:_4,scaleQuantize:N4,scaleRadial:w4,scaleSequential:R4,scaleSequentialLog:M4,scaleSequentialPow:$_,scaleSequentialQuantile:D4,scaleSequentialSqrt:Dte,scaleSequentialSymlog:O4,scaleSqrt:yee,scaleSymlog:b4,scaleThreshold:S4,scaleTime:Mte,scaleUtc:Ote,tickFormat:g4},Symbol.toStringTag,{value:"Module"}));var $te=hc;function Vte(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!$te(o):n(o,l)))var l=o,c=s}return c}var s0=Vte;function Fte(t,e){return t>e}var F4=Fte,Ute=s0,Bte=F4,qte=_c;function zte(t){return t&&t.length?Ute(t,qte,Bte):void 0}var Gte=zte;const Ps=et(Gte);function Hte(t,e){return t<e}var U4=Hte,Wte=s0,Kte=U4,Jte=_c;function Yte(t){return t&&t.length?Wte(t,Jte,Kte):void 0}var Xte=Yte;const a0=et(Xte);var Qte=Z1,Zte=_i,ene=YO,tne=Yn;function nne(t,e){var n=tne(t)?Qte:ene;return n(t,Zte(e))}var rne=nne,ine=KO,sne=rne;function ane(t,e){return ine(sne(t,e),1)}var one=ane;const lne=et(one);var cne=p_;function une(t,e){return cne(t,e)}var dne=une;const Dl=et(dne);var Sc=1e9,fne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U_,yt=!0,Tr="[DecimalError] ",za=Tr+"Invalid argument: ",F_=Tr+"Exponent out of range: ",Ec=Math.floor,Ea=Math.pow,hne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr,Ht=1e7,pt=7,B4=9007199254740991,pm=Ec(B4/pt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return Ui(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return st(Ui(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Ot(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(tr))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(tr)?new r(0):(yt=!1,e=Ui(kd(n,s),kd(t,s),s),yt=!0,st(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G4(e,t):q4(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tr+"NaN");return n.s?(yt=!1,e=Ui(n,t,0,1).times(t),yt=!0,n.minus(e)):st(new r(n),i)};ye.naturalExponential=ye.exp=function(){return z4(this)};ye.naturalLogarithm=ye.ln=function(){return kd(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q4(e,t):G4(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(za+t);if(e=Ot(i)+1,r=i.d.length-1,n=r*pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(t=Ot(l),yt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=si(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Ui(l,s,o+2)).times(.5),si(s.d).slice(0,o)===(e=si(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(st(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return yt=!0,st(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,y=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=y.length,c<u&&(s=h,h=y,y=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+y[r]*h[i-r-1]+e,s[i--]=l%Ht|0,e=l/Ht|0;s[i]=(s[i]+e)%Ht|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,yt?st(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xi(t,0,Sc),e===void 0?e=r.rounding:xi(e,0,8),st(n,t+Ot(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=to(r,!0):(xi(t,0,Sc),e===void 0?e=i.rounding:xi(e,0,8),r=st(new i(r),t+1,e),n=to(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?to(i):(xi(t,0,Sc),e===void 0?e=s.rounding:xi(e,0,8),r=st(new s(i),t+Ot(i)+1,e),n=to(r.abs(),!1,t+Ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return st(new e(t),Ot(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(tr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(tr))return l;if(r=c.precision,t.eq(tr))return st(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=B4){for(i=new c(tr),e=Math.ceil(r/pt+4),yt=!1;n%2&&(i=i.times(l),j2(i.d,e)),n=Ec(n/2),n!==0;)l=l.times(l),j2(l.d,e);return yt=!0,t.s<0?new c(tr).div(i):st(i,r)}}else if(s<0)throw Error(Tr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,yt=!1,i=t.times(kd(l,r+u)),yt=!0,i=z4(i),i.s=s,i};ye.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ot(i),r=to(i,n<=s.toExpNeg||n>=s.toExpPos)):(xi(t,1,Sc),e===void 0?e=s.rounding:xi(e,0,8),i=st(new s(i),t,e),n=Ot(i),r=to(i,t<=n||n<=s.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xi(t,1,Sc),e===void 0?e=r.rounding:xi(e,0,8)),st(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return to(t,e<=n.toExpNeg||e>=n.toExpPos)};function q4(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),yt?st(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/pt),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Ht|0,c[s]%=Ht;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,yt?st(e,f):e}function xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(za+t)}function si(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=pt-r.length,n&&(s+=ws(n)),s+=r;o=t[e],r=o+"",n=pt-r.length,n&&(s+=ws(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ui=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%Ht|0,o=s/Ht|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ht+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,f,h,y,x,b,v,N,_,S,C,T,w,E,A,I=r.constructor,R=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Tr+"Division by zero");for(c=r.e-i.e,E=O.length,T=P.length,y=new I(R),x=y.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,s==null?_=s=I.precision:o?_=s+(Ot(r)-Ot(i))+1:_=s,_<0)return new I(0);if(_=_/pt+2|0,u=0,E==1)for(d=0,O=O[0],_++;(u<T||d)&&_--;u++)S=d*Ht+(P[u]||0),x[u]=S/O|0,d=S%O|0;else{for(d=Ht/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),E=O.length,T=P.length),C=E,b=P.slice(0,E),v=b.length;v<E;)b[v++]=0;A=O.slice(),A.unshift(0),w=O[0],O[1]>=Ht/2&&++w;do d=0,l=e(O,b,E,v),l<0?(N=b[0],E!=v&&(N=N*Ht+(b[1]||0)),d=N/w|0,d>1?(d>=Ht&&(d=Ht-1),f=t(O,d),h=f.length,v=b.length,l=e(f,b,h,v),l==1&&(d--,n(f,E<h?A:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(b,f,v),l==-1&&(v=b.length,l=e(O,b,E,v),l<1&&(d++,n(b,E<v?A:O,v))),v=b.length):l===0&&(d++,b=[0]),x[u++]=d,l&&b[0]?b[v++]=P[C]||0:(b=[P[C]],v=1);while((C++<T||b[0]!==void 0)&&_--)}return x[0]||x.shift(),y.e=c,st(y,o?s+Ot(y)+1:s)}}();function z4(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Ot(t)>16)throw Error(F_+Ot(t));if(!t.s)return new d(tr);for(yt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ea(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(tr),d.precision=l;;){if(i=st(i.times(t),l),n=n.times(++c),o=s.plus(Ui(i,n,l)),si(o.d).slice(0,l)===si(s.d).slice(0,l)){for(;u--;)s=st(s.times(s),l);return d.precision=f,e==null?(yt=!0,st(s,f)):s}s=o}}function Ot(t){for(var e=t.e*pt,n=t.d[0];n>=10;n/=10)e++;return e}function ax(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return st(new t(t.LN10),e)}function ws(t){for(var e="";t--;)e+="0";return e}function kd(t,e){var n,r,i,s,o,l,c,u,d,f=1,h=10,y=t,x=y.d,b=y.constructor,v=b.precision;if(y.s<1)throw Error(Tr+(y.s?"NaN":"-Infinity"));if(y.eq(tr))return new b(0);if(e==null?(yt=!1,u=v):u=e,y.eq(10))return e==null&&(yt=!0),ax(b,u);if(u+=h,b.precision=u,n=si(x),r=n.charAt(0),s=Ot(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=si(y.d),r=n.charAt(0),f++;s=Ot(y),r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return c=ax(b,u+2,v).times(s+""),y=kd(new b(r+"."+n.slice(1)),u-h).plus(c),b.precision=v,e==null?(yt=!0,st(y,v)):y;for(l=o=y=Ui(y.minus(tr),y.plus(tr),u),d=st(y.times(y),u),i=3;;){if(o=st(o.times(d),u),c=l.plus(Ui(o,new b(i),u)),si(c.d).slice(0,u)===si(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ax(b,u+2,v).times(s+""))),l=Ui(l,new b(f),u),b.precision=v,e==null?(yt=!0,st(l,v)):l;l=c,i+=2}}function P2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ec(n/pt),t.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pt;r<i;)t.d.push(+e.slice(r,r+=pt));e=e.slice(r),r=pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>pm||t.e<-pm))throw Error(F_+n)}else t.s=0,t.e=0,t.d=[0];return t}function st(t,e,n){var r,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=pt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/pt),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=pt,i=r-pt+o}if(n!==void 0&&(s=Ea(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Ea(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Ot(t),f.length=1,e=e-s-1,f[0]=Ea(10,(pt-e%pt)%pt),t.e=Ec(-e/pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ea(10,pt-r),f[d]=i>0?(u/Ea(10,o-i)%Ea(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ht&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Ht)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(yt&&(t.e>pm||t.e<-pm))throw Error(F_+Ot(t));return t}function G4(t,e){var n,r,i,s,o,l,c,u,d,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),yt?st(e,y):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(y/pt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Ht-1;--c[s],c[i]+=Ht}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,yt?st(e,y):e):new h(0)}function to(t,e,n){var r,i=Ot(t),s=si(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ws(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ws(-i-1)+s,n&&(r=n-o)>0&&(s+=ws(r))):i>=o?(s+=ws(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ws(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ws(r))),t.s<0?"-"+s:s}function j2(t,e){if(t.length>e)return t.length=e,!0}function H4(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(za+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return P2(o,s.toString())}else if(typeof s!="string")throw Error(za+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,hne.test(s))P2(o,s);else throw Error(za+s)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H4,i.config=i.set=pne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function pne(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,r,i=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(za+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(za+n+": "+r);return this}var U_=H4(fne);tr=new U_(1);const nt=U_;function mne(t){return vne(t)||xne(t)||yne(t)||gne()}function gne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yne(t,e){if(t){if(typeof t=="string")return fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(t,e)}}function xne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vne(t){if(Array.isArray(t))return fb(t)}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bne=function(e){return e},W4={},K4=function(e){return e===W4},R2=function(e){return function n(){return arguments.length===0||arguments.length===1&&K4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},wne=function t(e,n){return e===1?n:R2(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==W4}).length;return o>=e?n.apply(void 0,i):t(e-o,R2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return K4(f)?c.shift():f});return n.apply(void 0,mne(d).concat(c))}))})},o0=function(e){return wne(e.length,e)},hb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},_ne=o0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Nne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bne;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},pb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},J4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function Sne(t){var e;return t===0?e=1:e=Math.floor(new nt(t).abs().log(10).toNumber())+1,e}function Ene(t,e,n){for(var r=new nt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Tne=o0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ane=o0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kne=o0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const l0={rangeStep:Ene,getDigitCount:Sne,interpolateNumber:Tne,uninterpolateNumber:Ane,uninterpolateTruncation:kne};function mb(t){return Pne(t)||Ine(t)||Y4(t)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pne(t){if(Array.isArray(t))return gb(t)}function Cd(t,e){return Mne(t)||Rne(t,e)||Y4(t,e)||jne()}function jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4(t,e){if(t){if(typeof t=="string")return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(t,e)}}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Mne(t){if(Array.isArray(t))return t}function X4(t){var e=Cd(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Q4(t,e,n){if(t.lte(0))return new nt(0);var r=l0.getDigitCount(t.toNumber()),i=new nt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new nt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new nt(Math.ceil(c))}function One(t,e,n){var r=1,i=new nt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new nt(10).pow(l0.getDigitCount(t)-1),i=new nt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nt(Math.floor(t)))}else t===0?i=new nt(Math.floor((e-1)/2)):n||(i=new nt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Nne(_ne(function(c){return i.add(new nt(c-o).mul(r)).toNumber()}),hb);return l(0,e)}function Z4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var s=Q4(new nt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new nt(0):(o=new nt(t).add(e).div(2),o=o.sub(new nt(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new nt(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?Z4(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new nt(l).mul(s)),tickMax:o.add(new nt(c).mul(s))})}function Dne(t){var e=Cd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=X4([n,r]),c=Cd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(mb(hb(0,i-1).map(function(){return 1/0}))):[].concat(mb(hb(0,i-1).map(function(){return-1/0})),[d]);return n>r?pb(f):f}if(u===d)return One(u,i,s);var h=Z4(u,d,o,s),y=h.step,x=h.tickMin,b=h.tickMax,v=l0.rangeStep(x,b.add(new nt(.1).mul(y)),y);return n>r?pb(v):v}function Lne(t,e){var n=Cd(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=X4([r,i]),l=Cd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=Q4(new nt(u).sub(c).div(d-1),s,0),h=[].concat(mb(l0.rangeStep(new nt(c),new nt(u).sub(new nt(.99).mul(f)),f)),[u]);return r>i?pb(h):h}var $ne=J4(Dne),Vne=J4(Lne),Fne="Invariant failed";function no(t,e){throw new Error(Fne)}var Une=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function Bne(t,e){return Hne(t)||Gne(t,e)||zne(t,e)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return M2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M2(t,e)}}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Hne(t){if(Array.isArray(t))return t}function Wne(t,e){if(t==null)return{};var n=Kne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function Xne(t,e,n){return e&&Yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qne(t,e,n){return e=gm(e),Zne(t,eD()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function Zne(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(t)}function ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function tD(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=nre(t,"string");return Ll(e)=="symbol"?e:e+""}function nre(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c0=function(t){function e(){return Jne(this,e),Qne(this,e,arguments)}return tre(e,t),Xne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Wne(r,Une),y=_e(h,!1);this.props.direction==="x"&&d.type!=="number"&&no();var x=c.map(function(b){var v=u(b,l),N=v.x,_=v.y,S=v.value,C=v.errorVal;if(!C)return null;var T=[],w,E;if(Array.isArray(C)){var A=Bne(C,2);w=A[0],E=A[1]}else w=E=C;if(s==="vertical"){var I=d.scale,R=_+i,P=R+o,O=R-o,M=I(S-w),z=I(S+E);T.push({x1:z,y1:P,x2:z,y2:O}),T.push({x1:M,y1:R,x2:z,y2:R}),T.push({x1:M,y1:P,x2:M,y2:O})}else if(s==="horizontal"){var F=f.scale,$=N+i,q=$-o,V=$+o,G=F(S-w),K=F(S+E);T.push({x1:q,y1:K,x2:V,y2:K}),T.push({x1:$,y1:G,x2:$,y2:K}),T.push({x1:q,y1:G,x2:V,y2:G})}return U.createElement(Ue,mm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},y),T.map(function(B){return U.createElement("line",mm({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return U.createElement(Ue,{className:"recharts-errorBars"},x)}}])}(U.Component);tD(c0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tD(c0,"displayName","ErrorBar");function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=sre(t,"string");return Id(e)=="symbol"?e:e+""}function sre(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=er(n,Ba);if(!o)return null;var l=Ba.defaultProps,c=l!==void 0?ya(ya({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,y=f.props,x=y.sectors||y.data||[];return d.concat(x.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,y=h!==void 0?ya(ya({},h),f.props):{},x=y.dataKey,b=y.name,v=y.legendType,N=y.hide;return{inactive:N,dataKey:x,type:c.iconType||v||"square",color:B_(f),value:b||x,payload:y}}),ya(ya(ya({},c),Ba.getWithHeight(o,i)),{},{payload:u,item:o})};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function D2(t){return cre(t)||lre(t)||ore(t)||are()}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return xb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xb(t,e)}}function lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cre(t){if(Array.isArray(t))return xb(t)}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ul(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=dre(t,"string");return Pd(e)=="symbol"?e:e+""}function dre(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e,n){return je(t)||je(e)?n:qt(e)?sr(t,e,n):Ee(e)?e(t):n}function Uu(t,e,n,r){var i=lne(t,function(l){return Ut(l,e)});if(n==="number"){var s=i.filter(function(l){return oe(l)||parseFloat(l)});return s.length?[a0(s),Ps(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!je(l)}):i;return o.map(function(l){return qt(l)||l instanceof Date?l:""})}var fre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(In(f-d)!==In(h-f)){var x=[];if(In(h-f)===In(c[1]-c[0])){y=h;var b=f+c[1]-c[0];x[0]=Math.min(b,(b+d)/2),x[1]=Math.max(b,(b+d)/2)}else{y=d;var v=h+c[1]-c[0];x[0]=Math.min(f,(v+f)/2),x[1]=Math.max(f,(v+f)/2)}var N=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){o=i[u].index;break}}else{var _=Math.min(d,h),S=Math.max(d,h);if(e>(_+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},B_=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},hre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,y=f.length;h<y;h++){var x=d[f[h]],b=x.items,v=x.cateAxisId,N=b.filter(function(E){return Fi(E.type).indexOf("Bar")>=0});if(N&&N.length){var _=N[0].type.defaultProps,S=_!==void 0?At(At({},_),N[0].props):N[0].props,C=S.barSize,T=S[v];o[T]||(o[T]=[]);var w=je(C)?n:C;o[T].push({item:N[0],stackList:N.slice(1),barSize:je(w)?void 0:Pn(w,r,0)})}}return o},pre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Pn(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,y=i/c,x=o.reduce(function(C,T){return C+T.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&y>0&&(h=!0,y*=.9,x=c*y);var b=(i-x)/2>>0,v={offset:b-u,size:0};d=o.reduce(function(C,T){var w={item:T.item,position:{offset:v.offset+v.size+u,size:h?y:T.barSize}},E=[].concat(D2(C),[w]);return v=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:v})}),E},f)}else{var N=Pn(r,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var _=(i-2*N-(c-1)*u)/c;_>1&&(_>>=0);var S=l===+l?Math.min(_,l):_;d=o.reduce(function(C,T,w){var E=[].concat(D2(C),[{item:T.item,position:{offset:N+(_+u)*w+(_-S)/2,size:S}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},mre=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=rD({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,y=u.align,x=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&y!=="center"&&oe(e[y]))return At(At({},e),{},ul({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&x!=="middle"&&oe(e[x]))return At(At({},e),{},ul({},x,e[x]+(h||0)))}return e},gre=function(e,n,r){return je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},iD=function(e,n,r,i,s){var o=n.props.children,l=br(o,c0).filter(function(u){return gre(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Ut(d,r);if(je(f))return u;var h=Array.isArray(f)?[a0(f),Ps(f)]:[f,f],y=c.reduce(function(x,b){var v=Ut(d,b,0),N=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},yre=function(e,n,r,i,s){var o=n.map(function(l){return iD(e,l,r,s,i)}).filter(function(l){return!je(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},sD=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&iD(e,c,u,i)||Uu(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},aD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},oD=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Oi=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?In(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!xc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},ox=new WeakMap,wh=function(e,n){if(typeof n!="function")return e;ox.has(e)||ox.set(e,new WeakMap);var r=ox.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},lD=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Nd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:um(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fu(),realScaleType:"point"}:s==="category"?{scale:Nd(),realScaleType:"band"}:{scale:um(),realScaleType:"linear"};if(Qa(i)){var c="scale".concat(Gg(i));return{scale:(I2[c]||Fu)(),realScaleType:I2[c]?c:"point"}}return Ee(i)?{scale:i}:{scale:Fu(),realScaleType:"point"}},$2=1e-4,cD=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-$2,o=Math.max(i[0],i[1])+$2,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},xre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vre=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(s[0]=r),(!oe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},bre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=xc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},wre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=xc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},_re={sign:bre,expand:Uz,none:kl,silhouette:Bz,wiggle:qz,positive:wre},Nre=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=_re[r],o=Fz().keys(i).value(function(l,c){return+Ut(l,c,0)}).order(qv).offset(s);return o(e)},Sre=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var y,x=(y=h.type)!==null&&y!==void 0&&y.defaultProps?At(At({},h.type.defaultProps),h.props):h.props,b=x.stackId,v=x.hide;if(v)return f;var N=x[r],_=f[N]||{hasStack:!1,stackGroups:{}};if(qt(b)){var S=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[b]=S}else _.stackGroups[vc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return At(At({},f),{},ul({},N,_))},c),d={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,v){var N=y.stackGroups[v];return At(At({},b),{},ul({},v,{numericAxisId:r,cateAxisId:i,items:N.items,stackedData:Nre(e,N.items,s)}))},x)}return At(At({},f),{},ul({},h,y))},d)},uD=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=$ne(u,s,l);return e.domain([a0(d),Ps(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=Vne(f,s,l);return{niceTicks:h}}return null};function V2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!je(i[e.dataKey])){var l=Bp(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Ut(i,je(o)?e.dataKey:o);return je(c)?null:e.scale(c)}var F2=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Ut(o,n.dataKey,n.domain[l]);return je(c)?null:n.scale(c)-s/2+i},Ere=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Tre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(qt(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Are=function(e){return e.reduce(function(n,r){return[a0(r.concat([n[0]]).filter(oe)),Ps(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},dD=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Are(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},U2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vb=function(e,n,r){if(Ee(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(U2.test(e[0])){var s=+U2.exec(e[0])[1];i[0]=n[0]-s}else Ee(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(B2.test(e[1])){var o=+B2.exec(e[1])[1];i[1]=n[1]+o}else Ee(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ym=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=g_(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},q2=function(e,n,r){return!e||!e.length||Dl(e,sr(r,"type.defaultProps.domain"))?n:e},fD=function(e,n){var r=e.type.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return At(At({},_e(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:B_(e),value:Ut(n,i),type:c,payload:n,chartType:u,hide:d})};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){hD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hD(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Cre(t,"string");return jd(e)=="symbol"?e:e+""}function Cre(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ire(t,e){return Mre(t)||Rre(t,e)||jre(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Mre(t){if(Array.isArray(t))return t}var xm=Math.PI/180,Ore=function(e){return e*180/Math.PI},ut=function(e,n,r,i){return{x:e+Math.cos(-xm*i)*r,y:n+Math.sin(-xm*i)*r}},pD=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dre=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Pn(e.cx,o,o/2),f=Pn(e.cy,l,l/2),h=pD(o,l,r),y=Pn(e.innerRadius,h,0),x=Pn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(v,N){var _=n[N],S=_.domain,C=_.reversed,T;if(je(_.range))i==="angleAxis"?T=[c,u]:i==="radiusAxis"&&(T=[y,x]),C&&(T=[T[1],T[0]]);else{T=_.range;var w=T,E=Ire(w,2);c=E[0],u=E[1]}var A=lD(_,s),I=A.realScaleType,R=A.scale;R.domain(S).range(T),cD(R);var P=uD(R,Ci(Ci({},_),{},{realScaleType:I})),O=Ci(Ci(Ci({},_),P),{},{range:T,radius:x,realScaleType:I,scale:R,cx:d,cy:f,innerRadius:y,outerRadius:x,startAngle:c,endAngle:u});return Ci(Ci({},v),{},hD({},N,O))},{})},Lre=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},$re=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=Lre({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Ore(u),angleInRadian:u}},Vre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Fre=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},H2=function(e,n){var r=e.x,i=e.y,s=$re({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Vre(n),f=d.startAngle,h=d.endAngle,y=l,x;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;x=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;x=y>=h&&y<=f}return x?Ci(Ci({},n),{},{radius:o,angle:Fre(y,n)}):null},mD=function(e){return!D.isValidElement(e)&&!Ee(e)&&typeof e!="boolean"?e.className:""};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var Ure=["offset"];function Bre(t){return Hre(t)||Gre(t)||zre(t)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(t,e)}}function Gre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hre(t){if(Array.isArray(t))return bb(t)}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){if(t==null)return{};var n=Kre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return Rd(e)=="symbol"?e:e+""}function Xre(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}var Qre=function(e){var n=e.value,r=e.formatter,i=je(e.children)?n:e.children;return Ee(r)?r(i):i},Zre=function(e,n){var r=In(n-e),i=Math.min(Math.abs(n-e),360);return r*i},eie=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,y=c.startAngle,x=c.endAngle,b=c.clockWise,v=(f+h)/2,N=Zre(y,x),_=N>=0?1:-1,S,C;i==="insideStart"?(S=y+_*o,C=b):i==="insideEnd"?(S=x-_*o,C=!b):i==="end"&&(S=x+_*o,C=b),C=N<=0?C:!C;var T=ut(u,d,v,S),w=ut(u,d,v,S+(C?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(w.x,",").concat(w.y),A=je(e.id)?vc("recharts-radial-line-"):e.id;return U.createElement("text",Md({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:A,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(A)},n))},tie=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var y=ut(o,l,u+r,h),x=y.x,b=y.y;return{x,y:b,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,N=ut(o,l,v,h),_=N.x,S=N.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},nie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,y=f>0?"end":"start",x=f>0?"start":"end",b=u>=0?1:-1,v=b*i,N=b>0?"end":"start",_=b>0?"start":"end";if(s==="top"){var S={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:y};return $t($t({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return $t($t({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var T={x:l-v,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return $t($t({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(s==="right"){var w={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return s==="insideLeft"?$t({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):s==="insideRight"?$t({x:l+u-v,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},E):s==="insideTop"?$t({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},E):s==="insideBottom"?$t({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:y},E):s==="insideTopLeft"?$t({x:l+v,y:c+h,textAnchor:_,verticalAnchor:x},E):s==="insideTopRight"?$t({x:l+u-v,y:c+h,textAnchor:N,verticalAnchor:x},E):s==="insideBottomLeft"?$t({x:l+v,y:c+d-h,textAnchor:_,verticalAnchor:y},E):s==="insideBottomRight"?$t({x:l+u-v,y:c+d-h,textAnchor:N,verticalAnchor:y},E):pc(s)&&(oe(s.x)||Ma(s.x))&&(oe(s.y)||Ma(s.y))?$t({x:l+Pn(s.x,u),y:c+Pn(s.y,d),textAnchor:"end",verticalAnchor:"end"},E):$t({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rie=function(e){return"cx"in e&&oe(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=Wre(t,Ure),i=$t({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||je(l)&&je(c)&&!D.isValidElement(u)&&!Ee(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var y;if(Ee(u)){if(y=D.createElement(u,i),D.isValidElement(y))return y}else y=Qre(i);var x=rie(s),b=_e(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eie(i,y,b);var v=x?tie(i):nie(i);return U.createElement(eo,Md({className:Re("recharts-label",f)},b,v,{breakAll:h}),y)}Jt.displayName="Label";var gD=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,y=e.top,x=e.left,b=e.width,v=e.height,N=e.clockWise,_=e.labelViewBox;if(_)return _;if(oe(b)&&oe(v)){if(oe(f)&&oe(h))return{x:f,y:h,width:b,height:v};if(oe(y)&&oe(x))return{x:y,y:x,width:b,height:v}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},iie=function(e,n){return e?e===!0?U.createElement(Jt,{key:"label-implicit",viewBox:n}):qt(e)?U.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===Jt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Ee(e)?U.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):pc(e)?U.createElement(Jt,Md({viewBox:n},e,{key:"label-implicit"})):null:null},sie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=gD(e),o=br(i,Jt).map(function(c,u){return D.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=iie(e.label,n||s);return[l].concat(Bre(o))};Jt.parseViewBox=gD;Jt.renderCallByParent=sie;function aie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var oie=aie;const lie=et(oie);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}var cie=["valueAccessor"],uie=["data","dataKey","clockWise","id","textBreakAll"];function die(t){return mie(t)||pie(t)||hie(t)||fie()}function fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hie(t,e){if(t){if(typeof t=="string")return wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(t,e)}}function pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mie(t){if(Array.isArray(t))return wb(t)}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return e=yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=xie(t,"string");return Od(e)=="symbol"?e:e+""}function xie(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y2(t,e){if(t==null)return{};var n=vie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bie=function(e){return Array.isArray(e.value)?lie(e.value):e.value};function Bi(t){var e=t.valueAccessor,n=e===void 0?bie:e,r=Y2(t,cie),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=Y2(r,uie);return!i||!i.length?null:U.createElement(Ue,{className:"recharts-label-list"},i.map(function(d,f){var h=je(s)?n(d,f):Ut(d&&d.payload,s),y=je(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Jt,vm({},_e(d,!0),u,y,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Jt.parseViewBox(je(o)?d:J2(J2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Bi.displayName="LabelList";function wie(t,e){return t?t===!0?U.createElement(Bi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ee(t)?U.createElement(Bi,{key:"labelList-implicit",data:e,content:t}):pc(t)?U.createElement(Bi,vm({data:e},t,{key:"labelList-implicit"})):null:null}function _ie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=br(r,Bi).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=wie(t.label,e);return[s].concat(die(i))}Bi.renderCallByParent=_ie;function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Eie(t,"string");return Dd(e)=="symbol"?e:e+""}function Eie(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tie=function(e,n){var r=In(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},_h=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/xm,h=u?s:s+o*f,y=ut(n,r,d,h),x=ut(n,r,i,h),b=u?s-o*f:s,v=ut(n,r,d*Math.cos(f*xm),b);return{center:y,circleTangency:x,lineTangency:v,theta:f}},yD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Tie(o,l),u=o+c,d=ut(n,r,s,o),f=ut(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=ut(n,r,i,o),x=ut(n,r,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Aie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=In(d-u),h=_h({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),y=h.circleTangency,x=h.lineTangency,b=h.theta,v=_h({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,_=v.lineTangency,S=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-b-S;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yD({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var T="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var w=_h({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=w.circleTangency,A=w.lineTangency,I=w.theta,R=_h({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=R.circleTangency,O=R.lineTangency,M=R.theta,z=c?Math.abs(u-d):Math.abs(u-d)-I-M;if(z<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},kie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xD=function(e){var n=Q2(Q2({},kie),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var y=Re("recharts-sector",h),x=o-s,b=Pn(l,x,0,!0),v;return b>0&&Math.abs(d-f)<360?v=Aie({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=yD({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",_b({},_e(n,!0),{className:y,d:v,role:"img"}))};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iie(t){var e=Pie(t,"string");return Ld(e)=="symbol"?e:e+""}function Pie(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tk={curveBasisClosed:Cz,curveBasisOpen:Iz,curveBasis:kz,curveBumpX:pz,curveBumpY:mz,curveLinearClosed:Pz,curveLinear:Wg,curveMonotoneX:jz,curveMonotoneY:Rz,curveNatural:Mz,curveStep:Oz,curveStepAfter:Lz,curveStepBefore:Dz},Nh=function(e){return e.x===+e.x&&e.y===+e.y},lu=function(e){return e.x},cu=function(e){return e.y},jie=function(e,n){if(Ee(e))return e;var r="curve".concat(Gg(e));return(r==="curveMonotone"||r==="curveBump")&&n?tk["".concat(r).concat(n==="vertical"?"Y":"X")]:tk[r]||Wg},Rie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=jie(r,l),f=u?s.filter(function(b){return Nh(b)}):s,h;if(Array.isArray(o)){var y=u?o.filter(function(b){return Nh(b)}):o,x=f.map(function(b,v){return ek(ek({},b),{},{base:y[v]})});return l==="vertical"?h=hh().y(cu).x1(lu).x0(function(b){return b.base.x}):h=hh().x(lu).y1(cu).y0(function(b){return b.base.y}),h.defined(Nh).curve(d),h(x)}return l==="vertical"&&oe(o)?h=hh().y(cu).x1(lu).x0(o):oe(o)?h=hh().x(lu).y1(cu).y0(o):h=hO().x(lu).y(cu),h.defined(Nh).curve(d),h(f)},dl=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Rie(e):i;return D.createElement("path",Nb({},_e(e,!1),qp(e),{className:Re("recharts-curve",n),d:o,ref:s}))},vD={exports:{}},Mie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Oie=Mie,Die=Oie;function bD(){}function wD(){}wD.resetWarningCache=bD;var Lie=function(){function t(r,i,s,o,l,c){if(c!==Die){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wD,resetWarningCache:bD};return n.PropTypes=n,n};vD.exports=Lie();var $ie=vD.exports;const Ye=et($ie),{getOwnPropertyNames:Vie,getOwnPropertySymbols:Fie}=Object,{hasOwnProperty:Uie}=Object.prototype;function lx(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Sh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);const c=t(n,r,i);return s.delete(n),s.delete(r),c}}function Bie(t){return t!=null?t[Symbol.toStringTag]:void 0}function nk(t){return Vie(t).concat(Fie(t))}const qie=Object.hasOwn||((t,e)=>Uie.call(t,e));function yo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const zie="__v",Gie="__o",Hie="_owner",{getOwnPropertyDescriptor:rk,keys:ik}=Object;function Wie(t,e){return t.byteLength===e.byteLength&&bm(new Uint8Array(t),new Uint8Array(e))}function Kie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Jie(t,e){return t.byteLength===e.byteLength&&bm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Yie(t,e){return yo(t.getTime(),e.getTime())}function Xie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Qie(t,e){return t===e}function sk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,y=l.value;if(n.equals(h[0],y[0],c,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Zie=yo;function ese(t,e,n){const r=ik(t);let i=r.length;if(ik(e).length!==i)return!1;for(;i-- >0;)if(!_D(t,e,n,r[i]))return!1;return!0}function uu(t,e,n){const r=nk(t);let i=r.length;if(nk(e).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=r[i],!_D(t,e,n,s)||(o=rk(t,s),l=rk(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tse(t,e){return yo(t.valueOf(),e.valueOf())}function nse(t,e){return t.source===e.source&&t.flags===e.flags}function ak(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let o,l;for(;(o=s.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function rse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _D(t,e,n,r){return(r===Hie||r===Gie||r===zie)&&(t.$$typeof||e.$$typeof)?!0:qie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const ise="[object ArrayBuffer]",sse="[object Arguments]",ase="[object Boolean]",ose="[object DataView]",lse="[object Date]",cse="[object Error]",use="[object Map]",dse="[object Number]",fse="[object Object]",hse="[object RegExp]",pse="[object Set]",mse="[object String]",gse={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},yse="[object URL]",xse=Object.prototype.toString;function vse({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:x}){return function(v,N,_){if(v===N)return!0;if(v==null||N==null)return!1;const S=typeof v;if(S!==typeof N)return!1;if(S!=="object")return S==="number"?l(v,N,_):S==="function"?s(v,N,_):!1;const C=v.constructor;if(C!==N.constructor)return!1;if(C===Object)return c(v,N,_);if(Array.isArray(v))return e(v,N,_);if(C===Date)return r(v,N,_);if(C===RegExp)return d(v,N,_);if(C===Map)return o(v,N,_);if(C===Set)return f(v,N,_);const T=xse.call(v);if(T===lse)return r(v,N,_);if(T===hse)return d(v,N,_);if(T===use)return o(v,N,_);if(T===pse)return f(v,N,_);if(T===fse)return typeof v.then!="function"&&typeof N.then!="function"&&c(v,N,_);if(T===yse)return y(v,N,_);if(T===cse)return i(v,N,_);if(T===sse)return c(v,N,_);if(gse[T])return h(v,N,_);if(T===ise)return t(v,N,_);if(T===ose)return n(v,N,_);if(T===ase||T===dse||T===mse)return u(v,N,_);if(x){let w=x[T];if(!w){const E=Bie(v);E&&(w=x[E])}if(w)return w(v,N,_)}return!1}}function bse({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Wie,areArraysEqual:n?uu:Kie,areDataViewsEqual:Jie,areDatesEqual:Yie,areErrorsEqual:Xie,areFunctionsEqual:Qie,areMapsEqual:n?lx(sk,uu):sk,areNumbersEqual:Zie,areObjectsEqual:n?uu:ese,arePrimitiveWrappersEqual:tse,areRegExpsEqual:nse,areSetsEqual:n?lx(ak,uu):ak,areTypedArraysEqual:n?lx(bm,uu):bm,areUrlsEqual:rse,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sh(r.areArraysEqual),s=Sh(r.areMapsEqual),o=Sh(r.areObjectsEqual),l=Sh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return r}function wse(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function _se({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,s)}}const Nse=ua();ua({strict:!0});ua({circular:!0});ua({circular:!0,strict:!0});ua({createInternalComparator:()=>yo});ua({strict:!0,createInternalComparator:()=>yo});ua({circular:!0,createInternalComparator:()=>yo});ua({circular:!0,createInternalComparator:()=>yo,strict:!0});function ua(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=bse(t),o=vse(s),l=n?n(o):wse(o);return _se({circular:e,comparator:o,createState:r,equals:l,strict:i})}function Sse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ok(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Sse(i)};requestAnimationFrame(r)}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function Ese(t){return Cse(t)||kse(t)||Ase(t)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cse(t){if(Array.isArray(t))return t}function Ise(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Ese(o),c=l[0],u=l.slice(1);if(typeof c=="number"){ok(i.bind(null,u),c);return}i(c),ok(i.bind(null,u));return}Sb(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){ND(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ND(t,e,n){return e=Pse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=jse(t,"string");return $d(e)==="symbol"?e:String(e)}function jse(t,e){if($d(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rse=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Mse=function(e){return e},Ose=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bu=function(e,n){return Object.keys(n).reduce(function(r,i){return uk(uk({},r),{},ND({},i,e(i,n[i])))},{})},dk=function(e,n,r){return e.map(function(i){return"".concat(Ose(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Dse(t,e){return Vse(t)||$se(t,e)||SD(t,e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Vse(t){if(Array.isArray(t))return t}function Fse(t){return qse(t)||Bse(t)||SD(t)||Use()}function Use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(t,e)}}function Bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qse(t){if(Array.isArray(t))return Eb(t)}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wm=1e-4,ED=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},TD=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},fk=function(e,n){return function(r){var i=ED(e,n);return TD(i,r)}},zse=function(e,n){return function(r){var i=ED(e,n),s=[].concat(Fse(i.map(function(o,l){return o*l}).slice(1)),[0]);return TD(s,r)}},hk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Dse(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=fk(i,o),h=fk(s,l),y=zse(i,o),x=function(N){return N>1?1:N<0?0:N},b=function(N){for(var _=N>1?1:N,S=_,C=0;C<8;++C){var T=f(S)-_,w=y(S);if(Math.abs(T-_)<wm||w<wm)return h(S);S=x(S-T/w)}return h(S)};return b.isStepper=!1,b},Gse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var y=-(d-f)*r,x=h*s,b=h+(y-x)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<wm&&Math.abs(b)<wm?[f,0]:[v,b]};return c.isStepper=!0,c.dt=l,c},Hse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hk(i);case"spring":return Gse();default:if(i.split("(")[0]==="cubic-bezier")return hk(i)}return typeof i=="function"?i:null};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function pk(t){return Jse(t)||Kse(t)||AD(t)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jse(t){if(Array.isArray(t))return Ab(t)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tb(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Xse(t,"string");return Vd(e)==="symbol"?e:String(e)}function Xse(t,e){if(Vd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t,e){return tae(t)||eae(t,e)||AD(t,e)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AD(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tae(t){if(Array.isArray(t))return t}var _m=function(e,n,r){return e+(n-e)*r},kb=function(e){var n=e.from,r=e.to;return n!==r},nae=function t(e,n,r){var i=Bu(function(s,o){if(kb(o)){var l=e(o.from,o.to,o.velocity),c=Qse(l,2),u=c[0],d=c[1];return nn(nn({},o),{},{from:u,velocity:d})}return o},n);return r<1?Bu(function(s,o){return kb(o)?nn(nn({},o),{},{velocity:_m(o.velocity,i[s].velocity,r),from:_m(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const rae=function(t,e,n,r,i){var s=Rse(t,e),o=s.reduce(function(v,N){return nn(nn({},v),{},Tb({},N,[t[N],e[N]]))},{}),l=s.reduce(function(v,N){return nn(nn({},v),{},Tb({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Bu(function(N,_){return _.from},l)},y=function(){return!Object.values(l).filter(kb).length},x=function(N){u||(u=N);var _=N-u,S=_/n.dt;l=nae(n,l,S),i(nn(nn(nn({},t),e),h())),u=N,y()||(c=requestAnimationFrame(f))},b=function(N){d||(d=N);var _=(N-d)/r,S=Bu(function(T,w){return _m.apply(void 0,pk(w).concat([n(_)]))},o);if(i(nn(nn(nn({},t),e),S)),_<1)c=requestAnimationFrame(f);else{var C=Bu(function(T,w){return _m.apply(void 0,pk(w).concat([n(1)]))},o);i(nn(nn(nn({},t),e),C))}};return f=n.isStepper?x:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var iae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sae(t,e){if(t==null)return{};var n=aae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cx(t){return uae(t)||cae(t)||lae(t)||oae()}function oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function cae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uae(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wu(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function hae(t,e,n){return e&&fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kD(t){var e=pae(t,"string");return $l(e)==="symbol"?e:String(e)}function pae(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function gae(t){var e=yae();return function(){var r=Nm(t),i;if(e){var s=Nm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Pb(this,i)}}function Pb(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jb(t)}function jb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}var vi=function(t){mae(n,t);var e=gae(n);function n(r,i){var s;dae(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,y=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(jb(s)),s.changeStyle=s.changeStyle.bind(jb(s)),!l||y<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Pb(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Pb(s);s.state={style:c?wu({},c,u):u}}else s.state={style:{}};return s}return hae(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var y={style:c?wu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(y);return}if(!(Nse(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||u?f:i.to;if(this.state&&h){var v={style:c?wu({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(v)}this.runAnimation(Rr(Rr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=rae(o,l,Hse(u),c,this.changeStyle),x=function(){s.stopJSAnimation=y()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,v,N){if(N===0)return b;var _=v.duration,S=v.easing,C=S===void 0?"ease":S,T=v.style,w=v.properties,E=v.onAnimationEnd,A=N>0?o[N-1]:v,I=w||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(cx(b),[s.runJSAnimation.bind(s,{from:A.style,to:T,duration:_,easing:C}),_]);var R=dk(I,_,C),P=Rr(Rr(Rr({},A.style),T),{},{transition:R});return[].concat(cx(b),[P,_,E]).filter(Mse)};return this.manager.start([c].concat(cx(o.reduce(y,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ise());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=l?wu({},l,c):c,v=dk(Object.keys(b),o,u);x.start([d,s,Rr(Rr({},b),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=sae(i,iae),u=D.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(y){var x=y.props,b=x.style,v=b===void 0?{}:b,N=x.className,_=D.cloneElement(y,Rr(Rr({},c),{},{style:Rr(Rr({},v),d),className:N}));return _};return u===1?f(D.Children.only(s)):U.createElement("div",null,D.Children.map(s,function(h){return f(h)}))}}]),n}(D.PureComponent);vi.displayName="Animate";vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vi.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function xae(t,e){return _ae(t)||wae(t,e)||bae(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t,e){if(t){if(typeof t=="string")return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _ae(t){if(Array.isArray(t))return t}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Eae(t,"string");return Fd(e)=="symbol"?e:e+""}function Eae(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bk=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);d="M ".concat(e,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*x,`
            L `).concat(e+r,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*x," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Tae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Aae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q_=function(e){var n=vk(vk({},Aae),e),r=D.useRef(),i=D.useState(-1),s=xae(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,y=n.className,x=n.animationEasing,b=n.animationDuration,v=n.animationBegin,N=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=Re("recharts-rectangle",y);return _?U.createElement(vi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:x,isActive:_},function(C){var T=C.width,w=C.height,E=C.x,A=C.y;return U.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:N,easing:x},U.createElement("path",Sm({},_e(n,!0),{className:S,d:bk(E,A,T,w,h),ref:r})))}):U.createElement("path",Sm({},_e(n,!0),{className:S,d:bk(c,u,d,f,h)}))},kae=["points","className","baseLinePoints","connectNulls"];function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function Cae(t,e){if(t==null)return{};var n=Iae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wk(t){return Mae(t)||Rae(t)||jae(t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return Rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rb(t,e)}}function Rae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mae(t){if(Array.isArray(t))return Rb(t)}function Rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _k=function(e){return e&&e.x===+e.x&&e.y===+e.y},Oae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){_k(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),_k(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},qu=function(e,n){var r=Oae(e);n&&(r=[r.reduce(function(s,o){return[].concat(wk(s),wk(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Dae=function(e,n,r){var i=qu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(qu(n.reverse(),r).slice(1))},Lae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=Cae(e,kae);if(!n||!n.length)return null;var l=Re("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Dae(n,i,s);return U.createElement("g",{className:l},U.createElement("path",Wo({},_e(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",Wo({},_e(o,!0),{fill:"none",d:qu(n,s)})):null,c?U.createElement("path",Wo({},_e(o,!0),{fill:"none",d:qu(i,s)})):null)}var d=qu(n,s);return U.createElement("path",Wo({},_e(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}var u0=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Re("recharts-dot",s);return n===+n&&r===+r&&i===+i?D.createElement("circle",Mb({},_e(e,!1),qp(e),{className:o,cx:n,cy:r,r:i})):null};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}var $ae=["x","y","top","left","width","height","className"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(this,arguments)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Bae(t,"string");return Ud(e)=="symbol"?e:e+""}function Bae(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e){if(t==null)return{};var n=zae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gae=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Hae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,y=h===void 0?0:h,x=e.className,b=qae(e,$ae),v=Vae({x:r,y:s,top:l,left:u,width:f,height:y},b);return!oe(r)||!oe(s)||!oe(f)||!oe(y)||!oe(l)||!oe(u)?null:U.createElement("path",Ob({},_e(v,!0),{className:Re("recharts-cross",x),d:Gae(r,s,f,y,l,u)}))},Wae=s0,Kae=F4,Jae=_i;function Yae(t,e){return t&&t.length?Wae(t,Jae(e),Kae):void 0}var Xae=Yae;const Qae=et(Xae);var Zae=s0,eoe=_i,toe=U4;function noe(t,e){return t&&t.length?Zae(t,eoe(e),toe):void 0}var roe=noe;const ioe=et(roe);var soe=["cx","cy","angle","ticks","axisLine"],aoe=["ticks","tick","angle","tickFormatter","stroke"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){d0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ek(t,e){if(t==null)return{};var n=ooe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ID(r.key),r)}}function coe(t,e,n){return e&&Tk(t.prototype,e),n&&Tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uoe(t,e,n){return e=Em(e),doe(t,CD()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function doe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(t)}function foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Db(t,e)}function Db(t,e){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Db(t,e)}function d0(t,e,n){return e=ID(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ID(t){var e=poe(t,"string");return Vl(e)=="symbol"?e:e+""}function poe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f0=function(t){function e(){return loe(this,e),uoe(this,e,arguments)}return hoe(e,t),coe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return ut(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=Qae(l,function(d){return d.coordinate||0}),u=ioe(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=Ek(r,soe),d=l.reduce(function(x,b){return[Math.min(x[0],b.coordinate),Math.max(x[1],b.coordinate)]},[1/0,-1/0]),f=ut(i,s,d[0],o),h=ut(i,s,d[1],o),y=xa(xa(xa({},_e(u,!1)),{},{fill:"none"},_e(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",zu({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=Ek(i,aoe),f=this.getTickTextAnchor(),h=_e(d,!1),y=_e(o,!1),x=s.map(function(b,v){var N=r.getTickValueCoord(b),_=xa(xa(xa(xa({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:v},N),{},{payload:b});return U.createElement(Ue,zu({className:Re("recharts-polar-radius-axis-tick",mD(o)),key:"tick-".concat(b.coordinate)},Za(r.props,b,v)),e.renderTickItem(o,_,c?c(b.value,v):b.value))});return U.createElement(Ue,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:U.createElement(Ue,{className:Re("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):Ee(r)?o=r(i):o=U.createElement(eo,zu({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(D.PureComponent);d0(f0,"displayName","PolarRadiusAxis");d0(f0,"axisType","radiusAxis");d0(f0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){h0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jD(r.key),r)}}function goe(t,e,n){return e&&kk(t.prototype,e),n&&kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yoe(t,e,n){return e=Tm(e),xoe(t,PD()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function xoe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return voe(t)}function voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function boe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lb(t,e)}function h0(t,e,n){return e=jD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jD(t){var e=woe(t,"string");return Fl(e)=="symbol"?e:e+""}function woe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _oe=Math.PI/180,Ck=1e-5,p0=function(t){function e(){return moe(this,e),yoe(this,e,arguments)}return boe(e,t),goe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=ut(s,o,l,r.coordinate),h=ut(s,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*_oe),o;return s>Ck?o=i==="outer"?"start":"end":s<-Ck?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=va(va({},_e(this.props,!1)),{},{fill:"none"},_e(l,!1));if(c==="circle")return U.createElement(u0,Ca({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return ut(i,s,o,h.coordinate)});return U.createElement(Lae,Ca({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=_e(this.props,!1),f=_e(o,!1),h=va(va({},d),{},{fill:"none"},_e(l,!1)),y=s.map(function(x,b){var v=r.getTickLineCoord(x),N=r.getTickTextAnchor(x),_=va(va(va({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:x,x:v.x2,y:v.y2});return U.createElement(Ue,Ca({className:Re("recharts-polar-angle-axis-tick",mD(o)),key:"tick-".concat(x.coordinate)},Za(r.props,x,b)),l&&U.createElement("line",Ca({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,_,c?c(x.value,b):x.value))});return U.createElement(Ue,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:U.createElement(Ue,{className:Re("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):Ee(r)?o=r(i):o=U.createElement(eo,Ca({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(D.PureComponent);h0(p0,"displayName","PolarAngleAxis");h0(p0,"axisType","angleAxis");h0(p0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Noe=LO,Soe=Noe(Object.getPrototypeOf,Object),Eoe=Soe,Toe=as,Aoe=Eoe,koe=os,Coe="[object Object]",Ioe=Function.prototype,Poe=Object.prototype,RD=Ioe.toString,joe=Poe.hasOwnProperty,Roe=RD.call(Object);function Moe(t){if(!koe(t)||Toe(t)!=Coe)return!1;var e=Aoe(t);if(e===null)return!0;var n=joe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&RD.call(n)==Roe}var Ooe=Moe;const Doe=et(Ooe);var Loe=as,$oe=os,Voe="[object Boolean]";function Foe(t){return t===!0||t===!1||$oe(t)&&Loe(t)==Voe}var Uoe=Foe;const Boe=et(Uoe);function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function qoe(t,e){return Woe(t)||Hoe(t,e)||Goe(t,e)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t,e){if(t){if(typeof t=="string")return Ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(t,e)}}function Ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Woe(t){if(Array.isArray(t))return t}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Yoe(t,"string");return Bd(e)=="symbol"?e:e+""}function Yoe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rk=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},Xoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qoe=function(e){var n=jk(jk({},Xoe),e),r=D.useRef(),i=D.useState(-1),s=qoe(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,x=n.animationEasing,b=n.animationDuration,v=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Re("recharts-trapezoid",y);return N?U.createElement(vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:b,animationEasing:x,isActive:N},function(S){var C=S.upperWidth,T=S.lowerWidth,w=S.height,E=S.x,A=S.y;return U.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:x},U.createElement("path",Am({},_e(n,!0),{className:_,d:Rk(E,A,C,T,w),ref:r})))}):U.createElement("g",null,U.createElement("path",Am({},_e(n,!0),{className:_,d:Rk(c,u,d,f,h)})))},Zoe=["option","shapeType","propTransformer","activeClassName","isActive"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function ele(t,e){if(t==null)return{};var n=tle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e,n){return e=rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return qd(e)=="symbol"?e:e+""}function ile(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){return km(km({},e),t)}function ale(t,e){return t==="symbols"}function Ok(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(q_,n);case"trapezoid":return U.createElement(Qoe,n);case"sector":return U.createElement(xD,n);case"symbols":if(ale(e))return U.createElement(l_,n);break;default:return null}}function ole(t){return D.isValidElement(t)?t.props:t}function MD(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?sle:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=ele(t,Zoe),u;if(D.isValidElement(e))u=D.cloneElement(e,km(km({},c),ole(e)));else if(Ee(e))u=e(c);else if(Doe(e)&&!Boe(e)){var d=i(e,c);u=U.createElement(Ok,{shapeType:n,elementProps:d})}else{var f=c;u=U.createElement(Ok,{shapeType:n,elementProps:f})}return l?U.createElement(Ue,{className:o},u):u}function m0(t,e){return e!=null&&"trapezoids"in t.props}function g0(t,e){return e!=null&&"sectors"in t.props}function zd(t,e){return e!=null&&"points"in t.props}function lle(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function cle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ule(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function dle(t,e){var n;return m0(t,e)?n=lle:g0(t,e)?n=cle:zd(t,e)&&(n=ule),n}function fle(t,e){var n;return m0(t,e)?n="trapezoids":g0(t,e)?n="sectors":zd(t,e)&&(n="points"),n}function hle(t,e){if(m0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(g0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return zd(t,e)?e.payload:{}}function ple(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=fle(n,e),s=hle(n,e),o=r.filter(function(c,u){var d=Dl(s,c),f=n.props[i].filter(function(x){var b=dle(n,e);return b(x,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return d&&y}),l=r.indexOf(o[o.length-1]);return l}var Yh;function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function gle(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yle(t,e,n){return e=Cm(e),xle(t,OD()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function xle(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vle(t)}function vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$b(t,e)}function $b(t,e){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$b(t,e)}function gr(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=wle(t,"string");return Ul(e)=="symbol"?e:e+""}function wle(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cs=function(t){function e(n){var r;return mle(this,e),r=yle(this,e,[n]),gr(r,"pieRef",null),gr(r,"sectorRefs",[]),gr(r,"id",vc("recharts-pie-")),gr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ee(i)&&i()}),gr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ee(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ble(e,t),gle(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=_e(this.props,!1),f=_e(o,!1),h=_e(l,!1),y=o&&o.offsetRadius||20,x=r.map(function(b,v){var N=(b.startAngle+b.endAngle)/2,_=ut(b.cx,b.cy,b.outerRadius+y,N),S=at(at(at(at({},d),b),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,b.cx)},_),C=at(at(at(at({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[ut(b.cx,b.cy,b.outerRadius,N),_]}),T=c;return je(c)&&je(u)?T="value":je(c)&&(T=u),U.createElement(Ue,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,S,Ut(b,T)))});return U.createElement(Ue,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,y=f?o:h,x=at(at({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(Ue,Ko({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Za(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(MD,Ko({option:y,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return U.createElement(vi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var b=x.t,v=[],N=s&&s[0],_=N.startAngle;return s.forEach(function(S,C){var T=h&&h[C],w=C>0?sr(S,"paddingAngle",0):0;if(T){var E=Bn(T.endAngle-T.startAngle,S.endAngle-S.startAngle),A=at(at({},S),{},{startAngle:_+w,endAngle:_+E(b)+w});v.push(A),_=A.endAngle}else{var I=S.endAngle,R=S.startAngle,P=Bn(0,I-R),O=P(b),M=at(at({},S),{},{startAngle:_+w,endAngle:_+O+w});v.push(M),_=M.endAngle}}),U.createElement(Ue,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Dl(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!o||!o.length||!oe(u)||!oe(d)||!oe(f)||!oe(h))return null;var b=Re("recharts-pie",l);return U.createElement(Ue,{tabIndex:this.props.rootTabIndex,className:b,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Jt.renderCallByParent(this.props,null,!1),(!y||x)&&Bi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);if(Ee(r))return r(i);var o=Re("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(dl,Ko({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);var o=s;if(Ee(r)&&(o=r(i),U.isValidElement(o)))return o;var l=Re("recharts-pie-label-text",typeof r!="boolean"&&!Ee(r)?r.className:"");return U.createElement(eo,Ko({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Yh=cs;gr(cs,"displayName","Pie");gr(cs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!po.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});gr(cs,"parseDeltaAngle",function(t,e){var n=In(e-t),r=Math.min(Math.abs(e-t),360);return n*r});gr(cs,"getRealPieData",function(t){var e=t.data,n=t.children,r=_e(t,!1),i=br(n,Qg);return e&&e.length?e.map(function(s,o){return at(at(at({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return at(at({},r),s.props)}):[]});gr(cs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=pD(i,s),l=r+Pn(t.cx,i,i/2),c=n+Pn(t.cy,s,s/2),u=Pn(t.innerRadius,o,0),d=Pn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});gr(cs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?at(at({},e.type.defaultProps),e.props):e.props,i=Yh.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),x=Yh.parseCoordinateOfPie(r,n),b=Yh.parseDeltaAngle(o,l),v=Math.abs(b),N=u;je(u)&&je(f)?(Br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):je(u)&&(Br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var _=i.filter(function(A){return Ut(A,N,0)!==0}).length,S=(v>=360?_:_-1)*c,C=v-_*y-S,T=i.reduce(function(A,I){var R=Ut(I,N,0);return A+(oe(R)?R:0)},0),w;if(T>0){var E;w=i.map(function(A,I){var R=Ut(A,N,0),P=Ut(A,d,I),O=(oe(R)?R:0)/T,M;I?M=E.endAngle+In(b)*c*(R!==0?1:0):M=o;var z=M+In(b)*((R!==0?y:0)+O*C),F=(M+z)/2,$=(x.innerRadius+x.outerRadius)/2,q=[{name:P,value:R,payload:A,dataKey:N,type:h}],V=ut(x.cx,x.cy,$,F);return E=at(at(at({percent:O,cornerRadius:s,name:P,tooltipPayload:q,midAngle:F,middleRadius:$,tooltipPosition:V},A),x),{},{value:Ut(A,N),startAngle:M,endAngle:z,payload:A,paddingAngle:In(b)*c}),E})}return at(at({},x),{},{sectors:w,data:i})});var _le=Math.ceil,Nle=Math.max;function Sle(t,e,n,r){for(var i=-1,s=Nle(_le((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var Ele=Sle,Tle=n4,$k=1/0,Ale=17976931348623157e292;function kle(t){if(!t)return t===0?t:0;if(t=Tle(t),t===$k||t===-$k){var e=t<0?-1:1;return e*Ale}return t===t?t:0}var LD=kle,Cle=Ele,Ile=Xg,ux=LD;function Ple(t){return function(e,n,r){return r&&typeof r!="number"&&Ile(e,n,r)&&(n=r=void 0),e=ux(e),n===void 0?(n=e,e=0):n=ux(n),r=r===void 0?e<n?1:-1:ux(r),Cle(e,n,r,t)}}var jle=Ple,Rle=jle,Mle=Rle(),Ole=Mle;const Im=et(Ole);function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){$D(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $D(t,e,n){return e=Dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Lle(t,"string");return Gd(e)=="symbol"?e:e+""}function Lle(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le=["Webkit","Moz","O","ms"],Vle=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=$le.reduce(function(s,o){return Fk(Fk({},s),{},$D({},o+r,n))},{});return i[e]=n,i};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function Ule(t,e,n){return e&&Bk(t.prototype,e),n&&Bk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ble(t,e,n){return e=jm(e),qle(t,VD()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function qle(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vb(t,e)}function Qn(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=Hle(t,"string");return Bl(e)=="symbol"?e:e+""}function Hle(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wle=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Fu().domain(Im(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},qk=function(e){return e.changedTouches&&!!e.changedTouches.length},ql=function(t){function e(n){var r;return Fle(this,e),r=Ble(this,e,[n]),Qn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Qn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Qn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),Qn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Qn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Qn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Qn(r,"handleSlideDragStart",function(i){var s=qk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Gle(e,t),Ule(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),y=e.getIndexInRange(o,f),x=e.getIndexInRange(o,h);return{startIndex:y-y%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Ut(s[r],l,r);return Ee(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,y=c.endIndex,x=c.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-o):b<0&&(b=Math.max(b,u-o,u-l));var v=this.getIndex({startX:o+b,endX:l+b});(v.startIndex!==h||v.endIndex!==y)&&x&&x(v),this.setState({startX:o+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=qk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,y=d.travellerWidth,x=d.onChange,b=d.gap,v=d.data,N={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,f+h-y-u):_<0&&(_=Math.max(_,f-u)),N[o]=u+_;var S=this.getIndex(N),C=S.startIndex,T=S.endIndex,w=function(){var A=v.length-1;return o==="startX"&&(l>c?C%b===0:T%b===0)||l<c&&T===A||o==="endX"&&(l>c?T%b===0:C%b===0)||l>c&&T===A};this.setState(Qn(Qn({},o,u+_),"brushMoveStartX",r.pageX),function(){x&&w()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var y=l[h];i==="startX"&&y>=u||i==="endX"&&y<=c||this.setState(Qn({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?U.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,y=c.ariaLabel,x=c.data,b=c.startIndex,v=c.endIndex,N=Math.max(r,this.props.x),_=dx(dx({},_e(this.props,!1)),{},{x:N,y:u,width:d,height:f}),S=y||"Min value: ".concat((s=x[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return U.createElement(Ue,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,y=5,x={pointerEvents:"none",fill:u};return U.createElement(Ue,{className:"recharts-brush-texts"},U.createElement(eo,Pm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:o+l/2},x),this.getTextOfTick(i)),U.createElement(eo,Pm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+y,y:o+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,x=h.endX,b=h.isTextActive,v=h.isSlideMoving,N=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!oe(l)||!oe(c)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var S=Re("recharts-brush",s),C=U.Children.count(o)===1,T=Vle("userSelect","none");return U.createElement(Ue,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(b||v||N||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):Ee(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return dx({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Wle({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(D.PureComponent);Qn(ql,"displayName","Brush");Qn(ql,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kle=m_;function Jle(t,e){var n;return Kle(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Yle=Jle,Xle=CO,Qle=_i,Zle=Yle,ece=Yn,tce=Xg;function nce(t,e,n){var r=ece(t)?Xle:Zle;return n&&tce(t,e,n)&&(e=void 0),r(t,Qle(e))}var rce=nce;const ice=et(rce);var ui=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},zk=XO;function sce(t,e,n){e=="__proto__"&&zk?zk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ace=sce,oce=ace,lce=JO,cce=_i;function uce(t,e){var n={};return e=cce(e),lce(t,function(r,i,s){oce(n,i,e(r,i,s))}),n}var dce=uce;const fce=et(dce);function hce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var pce=hce,mce=m_;function gce(t,e){var n=!0;return mce(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var yce=gce,xce=pce,vce=yce,bce=_i,wce=Yn,_ce=Xg;function Nce(t,e,n){var r=wce(t)?xce:vce;return n&&_ce(t,e,n)&&(e=void 0),r(t,bce(e))}var Sce=Nce;const UD=et(Sce);var Ece=["x","y"];function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=kce(t,"string");return Hd(e)=="symbol"?e:e+""}function kce(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pce(t,e){var n=t.x,r=t.y,i=Cce(t,Ece),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return du(du(du(du(du({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function Hk(t){return U.createElement(MD,Fb({shapeType:"rectangle",propTransformer:Pce,activeClassName:"recharts-active-bar"},t))}var jce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=oe(r)||Z9(r);return s?e(r,i):(s||no(),n)}},Rce=["value","background"],BD;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Mce(t,e){if(t==null)return{};var n=Oce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function Lce(t,e,n){return e&&Kk(t.prototype,e),n&&Kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,n){return e=Mm(e),Vce(t,qD()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function Uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ub(t,e)}function js(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=Bce(t,"string");return zl(e)=="symbol"?e:e+""}function Bce(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qr=function(t){function e(){var n;Dce(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$ce(this,e,[].concat(i)),js(n,"state",{isAnimationFinished:!1}),js(n,"id",vc("recharts-bar-")),js(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),js(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Uce(e,t),Lce(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=_e(this.props,!1);return r&&r.map(function(f,h){var y=h===c,x=y?u:o,b=jt(jt(jt({},d),f),{},{isActive:y,option:x,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Ue,Rm({className:"recharts-bar-rectangle"},Za(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(Hk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(vi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,b=s.map(function(v,N){var _=h&&h[N];if(_){var S=Bn(_.x,v.x),C=Bn(_.y,v.y),T=Bn(_.width,v.width),w=Bn(_.height,v.height);return jt(jt({},v),{},{x:S(x),y:C(x),width:T(x),height:w(x)})}if(o==="horizontal"){var E=Bn(0,v.height),A=E(x);return jt(jt({},v),{},{y:v.y+v.height-A,height:A})}var I=Bn(0,v.width),R=I(x);return jt(jt({},v),{},{width:R})});return U.createElement(Ue,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Dl(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=_e(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Mce(u,Rce);if(!f)return null;var y=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},f),c),Za(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(Hk,Rm({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=br(d,c0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,y=function(v,N){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Ut(v,N)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Ue,x,f.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,y=r.isAnimationActive,x=r.background,b=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,N=Re("recharts-bar",o),_=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,C=_||S,T=je(b)?this.id:b;return U.createElement(Ue,{className:N},_||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:_?u:u-f/2,y:S?d:d-h/2,width:_?f:f*2,height:S?h:h*2}))):null,U.createElement(Ue,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!y||v)&&Bi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);BD=qr;js(qr,"displayName","Bar");js(qr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});js(qr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,y=xre(r,n);if(!y)return null;var x=e.layout,b=n.type.defaultProps,v=b!==void 0?jt(jt({},b),n.props):n.props,N=v.dataKey,_=v.children,S=v.minPointSize,C=x==="horizontal"?o:s,T=u?C.scale.domain():null,w=Ere({numericAxis:C}),E=br(_,Qg),A=f.map(function(I,R){var P,O,M,z,F,$;u?P=vre(u[d+R],T):(P=Ut(I,N),Array.isArray(P)||(P=[w,P]));var q=jce(S,BD.defaultProps.minPointSize)(P[1],R);if(x==="horizontal"){var V,G=[o.scale(P[0]),o.scale(P[1])],K=G[0],B=G[1];O=F2({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),M=(V=B??K)!==null&&V!==void 0?V:void 0,z=y.size;var J=K-B;if(F=Number.isNaN(J)?0:J,$={x:O,y:o.y,width:z,height:o.height},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var te=In(F||q)*(Math.abs(q)-Math.abs(F));M-=te,F+=te}}else{var xe=[s.scale(P[0]),s.scale(P[1])],we=xe[0],Q=xe[1];if(O=we,M=F2({axis:o,ticks:c,bandSize:i,offset:y.offset,entry:I,index:R}),z=Q-we,F=y.size,$={x:s.x,y:M,width:s.width,height:F},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var ne=In(z||q)*(Math.abs(q)-Math.abs(z));z+=ne}}return jt(jt(jt({},I),{},{x:O,y:M,width:z,height:F,value:u?P:P[1],payload:I,background:$},E&&E[R]&&E[R].props),{},{tooltipPayload:[fD(n,I)],tooltipPosition:{x:O+z/2,y:M+F/2}})});return jt({data:A,layout:x},h)});function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GD(r.key),r)}}function zce(t,e,n){return e&&Jk(t.prototype,e),n&&Jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y0(t,e,n){return e=GD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GD(t){var e=Gce(t,"string");return Wd(e)=="symbol"?e:e+""}function Gce(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HD=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!er(u,qr);return d.reduce(function(y,x){var b=n[x],v=b.orientation,N=b.domain,_=b.padding,S=_===void 0?{}:_,C=b.mirror,T=b.reversed,w="".concat(v).concat(C?"Mirror":""),E,A,I,R,P;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=N[1]-N[0],M=1/0,z=b.categoricalDomain.sort(nq);if(z.forEach(function(xe,we){we>0&&(M=Math.min((xe||0)-(z[we-1]||0),M))}),Number.isFinite(M)){var F=M/O,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=F*$/2),b.padding==="no-gap"){var q=Pn(e.barCategoryGap,F*$),V=F*$/2;E=V-q-(V-q)/$*q}}}i==="xAxis"?A=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:A=b.range,T&&(A=[A[1],A[0]]);var G=lD(b,s,h),K=G.scale,B=G.realScaleType;K.domain(N).range(A),cD(K);var J=uD(K,Lr(Lr({},b),{},{realScaleType:B}));i==="xAxis"?(P=v==="top"&&!C||v==="bottom"&&C,I=r.left,R=f[w]-P*b.height):i==="yAxis"&&(P=v==="left"&&!C||v==="right"&&C,I=f[w]-P*b.width,R=r.top);var te=Lr(Lr(Lr({},b),J),{},{realScaleType:B,x:I,y:R,scale:K,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return te.bandSize=ym(te,J),!b.hide&&i==="xAxis"?f[w]+=(P?-1:1)*te.height:b.hide||(f[w]+=(P?-1:1)*te.width),Lr(Lr({},y),{},y0({},x,te))},{})},WD=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Hce=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return WD({x:n,y:r},{x:i,y:s})},KD=function(){function t(e){qce(this,t),this.scale=e}return zce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();y0(KD,"EPS",1e-4);var z_=function(e){var n=Object.keys(e).reduce(function(r,i){return Lr(Lr({},r),{},y0({},i,KD.create(e[i])))},{});return Lr(Lr({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return fce(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return UD(i,function(s,o){return n[o].isInRange(s)})}})};function Wce(t){return(t%180+180)%180}var Kce=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Wce(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Jce=_i,Yce=gf,Xce=Jg;function Qce(t){return function(e,n,r){var i=Object(e);if(!Yce(e)){var s=Jce(n);e=Xce(e),n=function(l){return s(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var Zce=Qce,eue=LD;function tue(t){var e=eue(t),n=e%1;return e===e?n?e-n:e:0}var nue=tue,rue=qO,iue=_i,sue=nue,aue=Math.max;function oue(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:sue(n);return i<0&&(i=aue(r+i,0)),rue(t,iue(e),i)}var lue=oue,cue=Zce,uue=lue,due=cue(uue),fue=due;const hue=et(fue);var pue=s9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),G_=D.createContext(void 0),H_=D.createContext(void 0),JD=D.createContext(void 0),YD=D.createContext({}),XD=D.createContext(void 0),QD=D.createContext(0),ZD=D.createContext(0),Xk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=pue(s);return U.createElement(G_.Provider,{value:r},U.createElement(H_.Provider,{value:i},U.createElement(YD.Provider,{value:s},U.createElement(JD.Provider,{value:d},U.createElement(XD.Provider,{value:o},U.createElement(QD.Provider,{value:u},U.createElement(ZD.Provider,{value:c},l)))))))},mue=function(){return D.useContext(XD)},e5=function(e){var n=D.useContext(G_);n==null&&no();var r=n[e];return r==null&&no(),r},gue=function(){var e=D.useContext(G_);return Ss(e)},yue=function(){var e=D.useContext(H_),n=hue(e,function(r){return UD(r.domain,Number.isFinite)});return n||Ss(e)},t5=function(e){var n=D.useContext(H_);n==null&&no();var r=n[e];return r==null&&no(),r},xue=function(){var e=D.useContext(JD);return e},vue=function(){return D.useContext(YD)},W_=function(){return D.useContext(ZD)},K_=function(){return D.useContext(QD)};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function _ue(t,e,n){return e&&wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nue(t,e,n){return e=Om(e),Sue(t,n5()?Reflect.construct(e,n||[],Om(t).constructor):e.apply(t,n))}function Sue(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Om(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bb(t,e)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=Aue(t,"string");return Gl(e)=="symbol"?e:e+""}function Aue(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kue(t,e){return jue(t)||Pue(t,e)||Iue(t,e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iue(t,e){if(t){if(typeof t=="string")return eC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(t,e)}}function eC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jue(t){if(Array.isArray(t))return t}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}var Rue=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):Ee(e)?r=e(n):r=U.createElement("line",qb({},n,{className:"recharts-reference-line-line"})),r},Mue=function(e,n,r,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,y=s.height;if(r){var x=u.y,b=e.y.apply(x,{position:o});if(ui(u,"discard")&&!e.y.isInRange(b))return null;var v=[{x:d+h,y:b},{x:d,y:b}];return c==="left"?v.reverse():v}if(n){var N=u.x,_=e.x.apply(N,{position:o});if(ui(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+y},{x:_,y:f}];return l==="top"?S.reverse():S}if(i){var C=u.segment,T=C.map(function(w){return e.apply(w,{position:o})});return ui(u,"discard")&&ice(T,function(w){return!e.isInRange(w)})?null:T}return null};function Oue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=mue(),d=e5(i),f=t5(s),h=xue();if(!u||!h)return null;Br(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=z_({x:d.scale,y:f.scale}),x=qt(e),b=qt(n),v=r&&r.length===2,N=Mue(y,x,b,v,h,t.position,d.orientation,f.orientation,t);if(!N)return null;var _=kue(N,2),S=_[0],C=S.x,T=S.y,w=_[1],E=w.x,A=w.y,I=ui(t,"hidden")?"url(#".concat(u,")"):void 0,R=Zk(Zk({clipPath:I},_e(t,!0)),{},{x1:C,y1:T,x2:E,y2:A});return U.createElement(Ue,{className:Re("recharts-reference-line",l)},Rue(o,R),Jt.renderCallByParent(t,Hce({x1:C,y1:T,x2:E,y2:A})))}var Y_=function(t){function e(){return bue(this,e),Nue(this,e,arguments)}return Tue(e,t),_ue(e,[{key:"render",value:function(){return U.createElement(Oue,this.props)}}])}(U.Component);J_(Y_,"displayName","ReferenceLine");J_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){x0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s5(r.key),r)}}function $ue(t,e,n){return e&&Lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,n){return e=Dm(e),Fue(t,i5()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function Fue(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gb(t,e)}function x0(t,e,n){return e=s5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s5(t){var e=que(t,"string");return Hl(e)=="symbol"?e:e+""}function que(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zue=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=z_({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return ui(e,"discard")&&!o.isInRange(l)?null:l},v0=function(t){function e(){return Due(this,e),Vue(this,e,arguments)}return Bue(e,t),$ue(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=qt(i),d=qt(s);if(Br(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zue(this.props);if(!f)return null;var h=f.x,y=f.y,x=this.props,b=x.shape,v=x.className,N=ui(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=nC(nC({clipPath:N},_e(this.props,!0)),{},{cx:h,cy:y});return U.createElement(Ue,{className:Re("recharts-reference-dot",v)},e.renderDot(b,_),Jt.renderCallByParent(this.props,{x:h-o,y:y-o,width:2*o,height:2*o}))}}])}(U.Component);x0(v0,"displayName","ReferenceDot");x0(v0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x0(v0,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ee(t)?n=t(e):n=U.createElement(u0,zb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){b0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function Wue(t,e,n){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=Lm(e),Jue(t,a5()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function Jue(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function Xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function b0(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=Que(t,"string");return Wl(e)=="symbol"?e:e+""}function Que(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zue=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=z_({x:d.scale,y:f.scale}),y={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ui(s,"discard")&&(!h.isInRange(y)||!h.isInRange(x))?null:WD(y,x)},w0=function(t){function e(){return Gue(this,e),Kue(this,e,arguments)}return Xue(e,t),Wue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Br(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qt(i),h=qt(s),y=qt(o),x=qt(l),b=this.props.shape;if(!f&&!h&&!y&&!x&&!b)return null;var v=Zue(f,h,y,x,this.props);if(!v&&!b)return null;var N=ui(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Ue,{className:Re("recharts-reference-area",c)},e.renderRect(b,iC(iC({clipPath:N},_e(this.props,!0)),v)),Jt.renderCallByParent(this.props,v))}}])}(U.Component);b0(w0,"displayName","ReferenceArea");b0(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});b0(w0,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ee(t)?n=t(e):n=U.createElement(q_,Hb({},e,{className:"recharts-reference-area-rect"})),n});function l5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ede(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Kce(r,n)}function tde(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function $m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function nde(t,e){return l5(t,e+1)}function rde(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:l5(r,u)};var b=c,v,N=function(){return v===void 0&&(v=n(x,b)),v},_=x.coordinate,S=c===0||$m(t,_,N,d,l);S||(c=0,d=o,u+=1),S&&(d=_+t*(N()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return e=sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ade(t,"string");return Kd(e)=="symbol"?e:e+""}function ade(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ode(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var y=s[h],x,b=function(){return x===void 0&&(x=n(y,h)),x};if(h===o-1){var v=t*(y.coordinate+t*b()/2-c);s[h]=y=xn(xn({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else s[h]=y=xn(xn({},y),{},{tickCoord:y.coordinate});var N=$m(t,y.tickCoord,b,l,c);N&&(c=y.tickCoord-t*(b()/2+i),s[h]=xn(xn({},y),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function lde(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=xn(xn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var y=$m(t,d.tickCoord,function(){return f},c,u);y&&(u=d.tickCoord-t*(f/2+i),o[l-1]=xn(xn({},d),{},{isShow:!0}))}for(var x=s?l-1:l,b=function(_){var S=o[_],C,T=function(){return C===void 0&&(C=n(S,_)),C};if(_===0){var w=t*(S.coordinate-t*T()/2-c);o[_]=S=xn(xn({},S),{},{tickCoord:w<0?S.coordinate-w*t:S.coordinate})}else o[_]=S=xn(xn({},S),{},{tickCoord:S.coordinate});var E=$m(t,S.tickCoord,T,c,u);E&&(c=S.tickCoord+t*(T()/2+i),o[_]=xn(xn({},S),{},{isShow:!0}))},v=0;v<x;v++)b(v);return o}function X_(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(c)||po.isSsr)return nde(i,typeof c=="number"&&oe(c)?c:0);var h=[],y=l==="top"||l==="bottom"?"width":"height",x=d&&y==="width"?Vu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,C){var T=Ee(u)?u(S.value,C):S.value;return y==="width"?ede(Vu(T,{fontSize:e,letterSpacing:n}),x,f):Vu(T,{fontSize:e,letterSpacing:n})[y]},v=i.length>=2?In(i[1].coordinate-i[0].coordinate):1,N=tde(s,v,y);return c==="equidistantPreserveStart"?rde(v,N,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=lde(v,N,b,i,o,c==="preserveStartEnd"):h=ode(v,N,b,i,o),h.filter(function(_){return _.isShow}))}var cde=["viewBox"],ude=["viewBox"],dde=["ticks"];function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fx(t,e){if(t==null)return{};var n=fde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function pde(t,e,n){return e&&oC(t.prototype,e),n&&oC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,n){return e=Vm(e),gde(t,c5()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function gde(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yde(t)}function yde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kb(t,e)}function Q_(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=vde(t,"string");return Kl(e)=="symbol"?e:e+""}function vde(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tc=function(t){function e(n){var r;return hde(this,e),r=mde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xde(e,t),pde(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=fx(r,cde),l=this.props,c=l.viewBox,u=fx(l,ude);return!ll(s,c)||!ll(o,u)||!ll(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,y,x,b,v,N,_,S=f?-1:1,C=r.tickSize||d,T=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=x=r.coordinate,v=o+ +!f*c,b=v-S*C,_=b-S*h,N=T;break;case"left":b=v=r.coordinate,x=s+ +!f*l,y=x-S*C,N=y-S*h,_=T;break;case"right":b=v=r.coordinate,x=s+ +f*l,y=x+S*C,N=y+S*h,_=T;break;default:y=x=r.coordinate,v=o+ +f*c,b=v+S*C,_=b+S*h,N=T;break}return{line:{x1:y,y1:b,x2:x,y2:v},tick:{x:N,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Lt(Lt(Lt({},_e(this.props,!1)),_e(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Lt(Lt({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var y=+(c==="left"&&!u||c==="right"&&u);f=Lt(Lt({},f),{},{x1:i+y*o,y1:s,x2:i+y*o,y2:s+l})}return U.createElement("line",Jo({},f,{className:Re("recharts-cartesian-axis-line",sr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,y=X_(Lt(Lt({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=_e(this.props,!1),N=_e(d,!1),_=Lt(Lt({},v),{},{fill:"none"},_e(c,!1)),S=y.map(function(C,T){var w=o.getTickLineCoord(C),E=w.line,A=w.tick,I=Lt(Lt(Lt(Lt({textAnchor:x,verticalAnchor:b},v),{},{stroke:"none",fill:u},N),A),{},{index:T,payload:C,visibleTicksCount:y.length,tickFormatter:f});return U.createElement(Ue,Jo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Za(o.props,C,T)),c&&U.createElement("line",Jo({},_,E,{className:Re("recharts-cartesian-axis-tick-line",sr(c,"className"))})),d&&e.renderTickItem(d,I,"".concat(Ee(f)?f(C.value,T):C.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,y=fx(f,dde),x=h;return Ee(c)&&(x=h&&h.length>0?c(this.props):c(y)),o<=0||l<=0||!x||!x.length?null:U.createElement(Ue,{className:Re("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=Re(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,Lt(Lt({},i),{},{className:l})):Ee(r)?o=r(Lt(Lt({},i),{},{className:l})):o=U.createElement(eo,Jo({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(D.Component);Q_(Tc,"displayName","CartesianAxis");Q_(Tc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bde=["x1","y1","x2","y2","key"],wde=["offset"];function ro(t){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(t)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Sde(t,"string");return ro(e)=="symbol"?e:e+""}function Sde(t,e){if(ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function La(){return La=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},La.apply(this,arguments)}function cC(t,e){if(t==null)return{};var n=Ede(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ede(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return U.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d5(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=cC(e,bde),u=_e(c,!1);u.offset;var d=cC(u,wde);n=U.createElement("line",La({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function Ade(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=_n(_n({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return d5(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=_n(_n({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return d5(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Cde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var x=!d[y+1],b=x?i+o-h:d[y+1]-h;if(b<=0)return null;var v=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ide(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,y){return h-y});s!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var x=!d[y+1],b=x?s+l-h:d[y+1]-h;if(b<=0)return null;var v=y%r.length;return U.createElement("rect",{key:"react-".concat(y),x:h,y:o,width:b,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Pde=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return oD(X_(_n(_n(_n({},Tc.defaultProps),r),{},{ticks:Oi(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},jde=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return oD(X_(_n(_n(_n({},Tc.defaultProps),r),{},{ticks:Oi(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Co={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jd(t){var e,n,r,i,s,o,l=W_(),c=K_(),u=vue(),d=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Co.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Co.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Co.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Co.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Co.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Co.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=d.x,h=d.y,y=d.width,x=d.height,b=d.syncWithTicks,v=d.horizontalValues,N=d.verticalValues,_=gue(),S=yue();if(!oe(y)||y<=0||!oe(x)||x<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||Pde,T=d.horizontalCoordinatesGenerator||jde,w=d.horizontalPoints,E=d.verticalPoints;if((!w||!w.length)&&Ee(T)){var A=v&&v.length,I=T({yAxis:S?_n(_n({},S),{},{ticks:A?v:S.ticks}):void 0,width:l,height:c,offset:u},A?!0:b);Br(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ro(I),"]")),Array.isArray(I)&&(w=I)}if((!E||!E.length)&&Ee(C)){var R=N&&N.length,P=C({xAxis:_?_n(_n({},_),{},{ticks:R?N:_.ticks}):void 0,width:l,height:c,offset:u},R?!0:b);Br(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ro(P),"]")),Array.isArray(P)&&(E=P)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Tde,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(Ade,La({},d,{offset:u,horizontalPoints:w,xAxis:_,yAxis:S})),U.createElement(kde,La({},d,{offset:u,verticalPoints:E,xAxis:_,yAxis:S})),U.createElement(Cde,La({},d,{horizontalPoints:w})),U.createElement(Ide,La({},d,{verticalPoints:E})))}Jd.displayName="CartesianGrid";var Rde=["layout","type","stroke","connectNulls","isRange","ref"],Mde=["key"],f5;function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function h5(t,e){if(t==null)return{};var n=Ode(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m5(r.key),r)}}function Lde(t,e,n){return e&&dC(t.prototype,e),n&&dC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $de(t,e,n){return e=Fm(e),Vde(t,p5()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Vde(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(t)}function Fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function ai(t,e,n){return e=m5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5(t){var e=Bde(t,"string");return Jl(e)=="symbol"?e:e+""}function Bde(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jr=function(t){function e(){var n;Dde(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$de(this,e,[].concat(i)),ai(n,"state",{isAnimationFinished:!0}),ai(n,"id",vc("recharts-area-")),ai(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ee(o)&&o()}),ai(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ee(o)&&o()}),n}return Ude(e,t),Lde(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=_e(this.props,!1),y=_e(u,!0),x=d.map(function(v,N){var _=xs(xs(xs({key:"dot-".concat(N),r:3},h),y),{},{index:N,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return U.createElement(Ue,$a({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Ps(o.map(function(h){return h.y||0}));return oe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ps(s.map(function(h){return h.y||0})),f)),oe(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Ps(o.map(function(h){return h.x||0}));return oe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ps(s.map(function(h){return h.x||0})),f)),oe(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var y=h5(l,Rde);return U.createElement(Ue,{clipPath:s?"url(#clipPath-".concat(o,")"):null},U.createElement(dl,$a({},_e(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(dl,$a({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&U.createElement(dl,$a({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,y=o.animationId,x=this.state,b=x.prevPoints,v=x.prevBaseLine;return U.createElement(vi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var _=N.t;if(b){var S=b.length/l.length,C=l.map(function(A,I){var R=Math.floor(I*S);if(b[R]){var P=b[R],O=Bn(P.x,A.x),M=Bn(P.y,A.y);return xs(xs({},A),{},{x:O(_),y:M(_)})}return A}),T;if(oe(c)&&typeof c=="number"){var w=Bn(v,c);T=w(_)}else if(je(c)||xc(c)){var E=Bn(v,0);T=E(_)}else T=c.map(function(A,I){var R=Math.floor(I*S);if(v[R]){var P=v[R],O=Bn(P.x,A.x),M=Bn(P.y,A.y);return xs(xs({},A),{},{x:O(_),y:M(_)})}return A});return s.renderAreaStatically(C,T,r,i)}return U.createElement(Ue,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(_))),U.createElement(Ue,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Dl(d,o)||!Dl(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,y=i.width,x=i.height,b=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,_=l.length===1,S=Re("recharts-area",c),C=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,w=C||T,E=je(v)?this.id:v,A=(r=_e(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=A.r,R=I===void 0?3:I,P=A.strokeWidth,O=P===void 0?2:P,M=dq(o)?o:{},z=M.clipDot,F=z===void 0?!0:z,$=R*2+O;return U.createElement(Ue,{className:S},C||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:C?d:d-y/2,y:T?u:u-x/2,width:C?y:y*2,height:T?x:x*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:d-$/2,y:u-$/2,width:y+$,height:x+$}))):null,_?null:this.renderArea(w,E),(o||_)&&this.renderDots(w,F,E),(!b||N)&&Bi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);f5=Jr;ai(Jr,"displayName","Area");ai(Jr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ai(Jr,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(oe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ai(Jr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,x=u&&u.length,b=f5.getBaseValue(e,n,r,i),v=y==="horizontal",N=!1,_=f.map(function(C,T){var w;x?w=u[d+T]:(w=Ut(C,c),Array.isArray(w)?N=!0:w=[b,w]);var E=w[1]==null||x&&Ut(C,c)==null;return v?{x:V2({axis:r,ticks:s,bandSize:l,entry:C,index:T}),y:E?null:i.scale(w[1]),value:w,payload:C}:{x:E?null:r.scale(w[1]),y:V2({axis:i,ticks:o,bandSize:l,entry:C,index:T}),value:w,payload:C}}),S;return x||N?S=_.map(function(C){var T=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:T!=null&&C.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:C.y}}):S=v?i.scale(b):r.scale(b),xs({points:_,baseLine:S,layout:y,isRange:N},h)});ai(Jr,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=Re("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=h5(e,Mde);n=U.createElement(u0,$a({},s,{key:i,className:r}))}return n});function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x5(r.key),r)}}function Gde(t,e,n){return e&&zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hde(t,e,n){return e=Um(e),Wde(t,g5()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Wde(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(t)}function Kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g5=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function y5(t,e,n){return e=x5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t){var e=Yde(t,"string");return Yl(e)=="symbol"?e:e+""}function Yde(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function Xde(t){var e=t.xAxisId,n=W_(),r=K_(),i=e5(e);return i==null?null:D.createElement(Tc,Xb({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Oi(o,!0)}}))}var Zs=function(t){function e(){return qde(this,e),Hde(this,e,arguments)}return Jde(e,t),Gde(e,[{key:"render",value:function(){return D.createElement(Xde,this.props)}}])}(D.Component);y5(Zs,"displayName","XAxis");y5(Zs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w5(r.key),r)}}function efe(t,e,n){return e&&Zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tfe(t,e,n){return e=Bm(e),nfe(t,v5()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function nfe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rfe(t)}function rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function ife(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function b5(t,e,n){return e=w5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w5(t){var e=sfe(t,"string");return Xl(e)=="symbol"?e:e+""}function sfe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}var afe=function(e){var n=e.yAxisId,r=W_(),i=K_(),s=t5(n);return s==null?null:D.createElement(Tc,Zb({},s,{className:Re("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Oi(l,!0)}}))},ea=function(t){function e(){return Qde(this,e),tfe(this,e,arguments)}return ife(e,t),efe(e,[{key:"render",value:function(){return D.createElement(afe,this.props)}}])}(D.Component);b5(ea,"displayName","YAxis");b5(ea,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fC(t){return ufe(t)||cfe(t)||lfe(t)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ufe(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tw=function(e,n,r,i,s){var o=br(e,Y_),l=br(e,v0),c=[].concat(fC(o),fC(l)),u=br(e,w0),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(b,v){if(v.props[d]===r&&ui(v.props,"extendDomain")&&oe(v.props[f])){var N=v.props[f];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},h)),u.length){var y="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(b,v){if(v.props[d]===r&&ui(v.props,"extendDomain")&&oe(v.props[y])&&oe(v.props[x])){var N=v.props[y],_=v.props[x];return[Math.min(b[0],N,_),Math.max(b[1],N,_)]}return b},h)}return s&&s.length&&(h=s.reduce(function(b,v){return oe(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},h)),h},_5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,f||c,h),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,x=new Array(y);h<y;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,y,x){var b=n?n+u:u;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,_,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,y),!0;case 6:return v.fn.call(v.context,d,f,h,y,x),!0}for(S=1,_=new Array(N-1);S<N;S++)_[S-1]=arguments[S];v.fn.apply(v.context,_)}else{var C=v.length,T;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!_)for(T=1,_=new Array(N-1);T<N;T++)_[T-1]=arguments[T];v[S].fn.apply(v[S].context,_)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!d)return o(this,y),this;var x=this._events[y];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,y);else{for(var b=0,v=[],N=x.length;b<N;b++)(x[b].fn!==d||h&&!x[b].once||f&&x[b].context!==f)&&v.push(x[b]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(_5);var dfe=_5.exports;const ffe=et(dfe);var hx=new ffe,px="recharts.syncMouseEvents";function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function mfe(t,e,n){return e&&pfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mx(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=gfe(t,"string");return Yd(e)=="symbol"?e:e+""}function gfe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yfe=function(){function t(){hfe(this,t),mx(this,"activeIndex",0),mx(this,"coordinateList",[]),mx(this,"layout","horizontal")}return mfe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function xfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function vfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function S5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=ut(e,n,r,i),l=ut(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function bfe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=ut(l,c,u,f),y=ut(l,c,d,f);r=h.x,i=h.y,s=y.x,o=y.y}else return S5(e);return[{x:r,y:i},{x:s,y:o}]}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=Nfe(t,"string");return Xd(e)=="symbol"?e:e+""}function Nfe(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sfe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var x,b=dl;if(h==="ScatterChart")x=o,b=Hae;else if(h==="BarChart")x=vfe(f,o,c,d),b=q_;else if(f==="radial"){var v=S5(o),N=v.cx,_=v.cy,S=v.radius,C=v.startAngle,T=v.endAngle;x={cx:N,cy:_,startAngle:C,endAngle:T,innerRadius:S,outerRadius:S},b=xD}else x={points:bfe(f,o,c)},b=dl;var w=Eh(Eh(Eh(Eh({stroke:"#ccc",pointerEvents:"none"},c),x),_e(y,!1)),{},{payload:l,payloadIndex:u,className:Re("recharts-tooltip-cursor",y.className)});return D.isValidElement(y)?D.cloneElement(y,w):D.createElement(b,w)}var Efe=["item"],Tfe=["children","className","width","height","style","compact","title","desc"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function pC(t,e){return Cfe(t)||kfe(t,e)||T5(t,e)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Cfe(t){if(Array.isArray(t))return t}function mC(t,e){if(t==null)return{};var n=Ife(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ife(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function Rfe(t,e,n){return e&&jfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mfe(t,e,n){return e=qm(e),Ofe(t,E5()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function Ofe(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dfe(t)}function Dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function Zl(t){return Ffe(t)||Vfe(t)||T5(t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function Vfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ffe(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=Ufe(t,"string");return Ql(e)=="symbol"?e:e+""}function Ufe(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bfe={xAxis:["bottom","top"],yAxis:["left","right"]},qfe={width:"100%",height:"100%"},k5={x:0,y:0};function Th(t){return t}var zfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Gfe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return ee(ee(ee({},i),ut(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return ee(ee(ee({},i),ut(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return k5},_0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Zl(l),Zl(u)):l},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(s)?e.slice(i,s+1):[]};function C5(t){return t==="number"?[0,"auto"]:void 0}var iw=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=_0(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var y=f===void 0?l:f;h=Bp(y,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Zl(c),[fD(u,h)]):c},[])},yC=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=zfe(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=fre(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=iw(e,n,d,f),y=Gfe(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},Hfe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,y=aD(d,s);return r.reduce(function(x,b){var v,N=b.type.defaultProps!==void 0?ee(ee({},b.type.defaultProps),b.props):b.props,_=N.type,S=N.dataKey,C=N.allowDataOverflow,T=N.allowDuplicatedCategory,w=N.scale,E=N.ticks,A=N.includeHidden,I=N[o];if(x[I])return x;var R=_0(e.data,{graphicalItems:i.filter(function(J){var te,xe=o in J.props?J.props[o]:(te=J.type.defaultProps)===null||te===void 0?void 0:te[o];return xe===I}),dataStartIndex:c,dataEndIndex:u}),P=R.length,O,M,z;xfe(N.domain,C,_)&&(O=vb(N.domain,null,C),y&&(_==="number"||w!=="auto")&&(z=Uu(R,S,"category")));var F=C5(_);if(!O||O.length===0){var $,q=($=N.domain)!==null&&$!==void 0?$:F;if(S){if(O=Uu(R,S,_),_==="category"&&y){var V=tq(O);T&&V?(M=O,O=Im(0,P)):T||(O=q2(q,O,b).reduce(function(J,te){return J.indexOf(te)>=0?J:[].concat(Zl(J),[te])},[]))}else if(_==="category")T?O=O.filter(function(J){return J!==""&&!je(J)}):O=q2(q,O,b).reduce(function(J,te){return J.indexOf(te)>=0||te===""||je(te)?J:[].concat(Zl(J),[te])},[]);else if(_==="number"){var G=yre(R,i.filter(function(J){var te,xe,we=o in J.props?J.props[o]:(te=J.type.defaultProps)===null||te===void 0?void 0:te[o],Q="hide"in J.props?J.props.hide:(xe=J.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return we===I&&(A||!Q)}),S,s,d);G&&(O=G)}y&&(_==="number"||w!=="auto")&&(z=Uu(R,S,"category"))}else y?O=Im(0,P):l&&l[I]&&l[I].hasStack&&_==="number"?O=h==="expand"?[0,1]:dD(l[I].stackGroups,c,u):O=sD(R,i.filter(function(J){var te=o in J.props?J.props[o]:J.type.defaultProps[o],xe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return te===I&&(A||!xe)}),_,d,!0);if(_==="number")O=tw(f,O,I,s,E),q&&(O=vb(q,O,C));else if(_==="category"&&q){var K=q,B=O.every(function(J){return K.indexOf(J)>=0});B&&(O=K)}}return ee(ee({},x),{},Se({},I,ee(ee({},N),{},{axisType:s,domain:O,categoricalDomain:z,duplicateDomain:M,originalDomain:(v=N.domain)!==null&&v!==void 0?v:F,isCategorical:y,layout:d})))},{})},Wfe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=_0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),y=h.length,x=aD(d,s),b=-1;return r.reduce(function(v,N){var _=N.type.defaultProps!==void 0?ee(ee({},N.type.defaultProps),N.props):N.props,S=_[o],C=C5("number");if(!v[S]){b++;var T;return x?T=Im(0,y):l&&l[S]&&l[S].hasStack?(T=dD(l[S].stackGroups,c,u),T=tw(f,T,S,s)):(T=vb(C,sD(h,r.filter(function(w){var E,A,I=o in w.props?w.props[o]:(E=w.type.defaultProps)===null||E===void 0?void 0:E[o],R="hide"in w.props?w.props.hide:(A=w.type.defaultProps)===null||A===void 0?void 0:A.hide;return I===S&&!R}),"number",d),i.defaultProps.allowDataOverflow),T=tw(f,T,S,s)),ee(ee({},v),{},Se({},S,ee(ee({axisType:s},i.defaultProps),{},{hide:!0,orientation:sr(Bfe,"".concat(s,".").concat(b%2),null),domain:T,originalDomain:C,isCategorical:x,layout:d})))}return v},{})},Kfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=br(d,s),y={};return h&&h.length?y=Hfe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(y=Wfe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),y},Jfe=function(e){var n=Ss(e),r=Oi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:g_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ym(n,r)}},xC=function(e){var n=e.children,r=e.defaultShowTooltip,i=er(n,ql),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Yfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Fi(n&&n.type);return r&&r.indexOf("Bar")>=0})},vC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xfe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},y=er(f,ql),x=er(f,Ba),b=Object.keys(c).reduce(function(T,w){var E=c[w],A=E.orientation;return!E.mirror&&!E.hide?ee(ee({},T),{},Se({},A,T[A]+E.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,w){var E=o[w],A=E.orientation;return!E.mirror&&!E.hide?ee(ee({},T),{},Se({},A,sr(T,"".concat(A))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),N=ee(ee({},v),b),_=N.bottom;y&&(N.bottom+=y.props.height||ql.defaultProps.height),x&&n&&(N=mre(N,i,r,n));var S=u-N.left-N.right,C=d-N.top-N.bottom;return ee(ee({brushBottom:_},N),{},{width:Math.max(S,0),height:Math.max(C,0)})},Qfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Z_=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(N,_){var S=_.graphicalItems,C=_.stackGroups,T=_.offset,w=_.updateId,E=_.dataStartIndex,A=_.dataEndIndex,I=N.barSize,R=N.layout,P=N.barGap,O=N.barCategoryGap,M=N.maxBarSize,z=vC(R),F=z.numericAxisName,$=z.cateAxisName,q=Yfe(S),V=[];return S.forEach(function(G,K){var B=_0(N.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:A}),J=G.type.defaultProps!==void 0?ee(ee({},G.type.defaultProps),G.props):G.props,te=J.dataKey,xe=J.maxBarSize,we=J["".concat(F,"Id")],Q=J["".concat($,"Id")],ne={},he=c.reduce(function(Vn,Ir){var fe=_["".concat(Ir.axisType,"Map")],Ne=J["".concat(Ir.axisType,"Id")];fe&&fe[Ne]||Ir.axisType==="zAxis"||no();var Le=fe[Ne];return ee(ee({},Vn),{},Se(Se({},Ir.axisType,Le),"".concat(Ir.axisType,"Ticks"),Oi(Le)))},ne),H=he[$],ae=he["".concat($,"Ticks")],ue=C&&C[we]&&C[we].hasStack&&Tre(G,C[we].stackGroups),ie=Fi(G.type).indexOf("Bar")>=0,Oe=ym(H,ae),Y=[],ce=q&&hre({barSize:I,stackGroups:C,totalSize:Qfe(he,$)});if(ie){var Te,ze,en=je(xe)?M:xe,fn=(Te=(ze=ym(H,ae,!0))!==null&&ze!==void 0?ze:en)!==null&&Te!==void 0?Te:0;Y=pre({barGap:P,barCategoryGap:O,bandSize:fn!==Oe?fn:Oe,sizeList:ce[Q],maxBarSize:en}),fn!==Oe&&(Y=Y.map(function(Vn){return ee(ee({},Vn),{},{position:ee(ee({},Vn.position),{},{offset:Vn.position.offset-fn/2})})}))}var $n=G&&G.type&&G.type.getComposedData;$n&&V.push({props:ee(ee({},$n(ee(ee({},he),{},{displayedData:B,props:N,dataKey:te,item:G,bandSize:Oe,barPosition:Y,offset:T,stackedData:ue,layout:R,dataStartIndex:E,dataEndIndex:A}))),{},Se(Se(Se({key:G.key||"item-".concat(K)},F,he[F]),$,he[$]),"animationId",w)),childIndex:pq(G,N.children),item:G})}),V},y=function(N,_){var S=N.props,C=N.dataStartIndex,T=N.dataEndIndex,w=N.updateId;if(!DT({props:S}))return null;var E=S.children,A=S.layout,I=S.stackOffset,R=S.data,P=S.reverseStackOrder,O=vC(A),M=O.numericAxisName,z=O.cateAxisName,F=br(E,r),$=Sre(R,F,"".concat(M,"Id"),"".concat(z,"Id"),I,P),q=c.reduce(function(J,te){var xe="".concat(te.axisType,"Map");return ee(ee({},J),{},Se({},xe,Kfe(S,ee(ee({},te),{},{graphicalItems:F,stackGroups:te.axisType===M&&$,dataStartIndex:C,dataEndIndex:T}))))},{}),V=Xfe(ee(ee({},q),{},{props:S,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(J){q[J]=d(S,q[J],V,J.replace("Map",""),n)});var G=q["".concat(z,"Map")],K=Jfe(G),B=h(S,ee(ee({},q),{},{dataStartIndex:C,dataEndIndex:T,updateId:w,graphicalItems:F,stackGroups:$,offset:V}));return ee(ee({formattedGraphicalItems:B,graphicalItems:F,offset:V,stackGroups:$},K),q)},x=function(v){function N(_){var S,C,T;return Pfe(this,N),T=Mfe(this,N,[_]),Se(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(T,"accessibilityManager",new yfe),Se(T,"handleLegendBBoxUpdate",function(w){if(w){var E=T.state,A=E.dataStartIndex,I=E.dataEndIndex,R=E.updateId;T.setState(ee({legendBBox:w},y({props:T.props,dataStartIndex:A,dataEndIndex:I,updateId:R},ee(ee({},T.state),{},{legendBBox:w}))))}}),Se(T,"handleReceiveSyncEvent",function(w,E,A){if(T.props.syncId===w){if(A===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),Se(T,"handleBrushChange",function(w){var E=w.startIndex,A=w.endIndex;if(E!==T.state.dataStartIndex||A!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return ee({dataStartIndex:E,dataEndIndex:A},y({props:T.props,dataStartIndex:E,dataEndIndex:A,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Se(T,"handleMouseEnter",function(w){var E=T.getMouseInfo(w);if(E){var A=ee(ee({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var I=T.props.onMouseEnter;Ee(I)&&I(A,w)}}),Se(T,"triggeredAfterMouseMove",function(w){var E=T.getMouseInfo(w),A=E?ee(ee({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(A),T.triggerSyncEvent(A);var I=T.props.onMouseMove;Ee(I)&&I(A,w)}),Se(T,"handleItemMouseEnter",function(w){T.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Se(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Se(T,"handleMouseMove",function(w){w.persist(),T.throttleTriggeredAfterMouseMove(w)}),Se(T,"handleMouseLeave",function(w){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var A=T.props.onMouseLeave;Ee(A)&&A(E,w)}),Se(T,"handleOuterEvent",function(w){var E=hq(w),A=sr(T.props,"".concat(E));if(E&&Ee(A)){var I,R;/.*touch.*/i.test(E)?R=T.getMouseInfo(w.changedTouches[0]):R=T.getMouseInfo(w),A((I=R)!==null&&I!==void 0?I:{},w)}}),Se(T,"handleClick",function(w){var E=T.getMouseInfo(w);if(E){var A=ee(ee({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var I=T.props.onClick;Ee(I)&&I(A,w)}}),Se(T,"handleMouseDown",function(w){var E=T.props.onMouseDown;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleMouseUp",function(w){var E=T.props.onMouseUp;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Se(T,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.handleMouseDown(w.changedTouches[0])}),Se(T,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.handleMouseUp(w.changedTouches[0])}),Se(T,"handleDoubleClick",function(w){var E=T.props.onDoubleClick;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleContextMenu",function(w){var E=T.props.onContextMenu;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"triggerSyncEvent",function(w){T.props.syncId!==void 0&&hx.emit(px,T.props.syncId,w,T.eventEmitterSymbol)}),Se(T,"applySyncEvent",function(w){var E=T.props,A=E.layout,I=E.syncMethod,R=T.state.updateId,P=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)T.setState(ee({dataStartIndex:P,dataEndIndex:O},y({props:T.props,dataStartIndex:P,dataEndIndex:O,updateId:R},T.state)));else if(w.activeTooltipIndex!==void 0){var M=w.chartX,z=w.chartY,F=w.activeTooltipIndex,$=T.state,q=$.offset,V=$.tooltipTicks;if(!q)return;if(typeof I=="function")F=I(V,w);else if(I==="value"){F=-1;for(var G=0;G<V.length;G++)if(V[G].value===w.activeLabel){F=G;break}}var K=ee(ee({},q),{},{x:q.left,y:q.top}),B=Math.min(M,K.x+K.width),J=Math.min(z,K.y+K.height),te=V[F]&&V[F].value,xe=iw(T.state,T.props.data,F),we=V[F]?{x:A==="horizontal"?V[F].coordinate:B,y:A==="horizontal"?J:V[F].coordinate}:k5;T.setState(ee(ee({},w),{},{activeLabel:te,activeCoordinate:we,activePayload:xe,activeTooltipIndex:F}))}else T.setState(w)}),Se(T,"renderCursor",function(w){var E,A=T.state,I=A.isTooltipActive,R=A.activeCoordinate,P=A.activePayload,O=A.offset,M=A.activeTooltipIndex,z=A.tooltipAxisBandSize,F=T.getTooltipEventType(),$=(E=w.props.active)!==null&&E!==void 0?E:I,q=T.props.layout,V=w.key||"_recharts-cursor";return U.createElement(Sfe,{key:V,activeCoordinate:R,activePayload:P,activeTooltipIndex:M,chartName:n,element:w,isActive:$,layout:q,offset:O,tooltipAxisBandSize:z,tooltipEventType:F})}),Se(T,"renderPolarAxis",function(w,E,A){var I=sr(w,"type.axisType"),R=sr(T.state,"".concat(I,"Map")),P=w.type.defaultProps,O=P!==void 0?ee(ee({},P),w.props):w.props,M=R&&R[O["".concat(I,"Id")]];return D.cloneElement(w,ee(ee({},M),{},{className:Re(I,M.className),key:w.key||"".concat(E,"-").concat(A),ticks:Oi(M,!0)}))}),Se(T,"renderPolarGrid",function(w){var E=w.props,A=E.radialLines,I=E.polarAngles,R=E.polarRadius,P=T.state,O=P.radiusAxisMap,M=P.angleAxisMap,z=Ss(O),F=Ss(M),$=F.cx,q=F.cy,V=F.innerRadius,G=F.outerRadius;return D.cloneElement(w,{polarAngles:Array.isArray(I)?I:Oi(F,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(R)?R:Oi(z,!0).map(function(K){return K.coordinate}),cx:$,cy:q,innerRadius:V,outerRadius:G,key:w.key||"polar-grid",radialLines:A})}),Se(T,"renderLegend",function(){var w=T.state.formattedGraphicalItems,E=T.props,A=E.children,I=E.width,R=E.height,P=T.props.margin||{},O=I-(P.left||0)-(P.right||0),M=rD({children:A,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!M)return null;var z=M.item,F=mC(M,Efe);return D.cloneElement(z,ee(ee({},F),{},{chartWidth:I,chartHeight:R,margin:P,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Se(T,"renderTooltip",function(){var w,E=T.props,A=E.children,I=E.accessibilityLayer,R=er(A,Fn);if(!R)return null;var P=T.state,O=P.isTooltipActive,M=P.activeCoordinate,z=P.activePayload,F=P.activeLabel,$=P.offset,q=(w=R.props.active)!==null&&w!==void 0?w:O;return D.cloneElement(R,{viewBox:ee(ee({},$),{},{x:$.left,y:$.top}),active:q,label:F,payload:q?z:[],coordinate:M,accessibilityLayer:I})}),Se(T,"renderBrush",function(w){var E=T.props,A=E.margin,I=E.data,R=T.state,P=R.offset,O=R.dataStartIndex,M=R.dataEndIndex,z=R.updateId;return D.cloneElement(w,{key:w.key||"_recharts-brush",onChange:wh(T.handleBrushChange,w.props.onChange),data:I,x:oe(w.props.x)?w.props.x:P.left,y:oe(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(A.bottom||0),width:oe(w.props.width)?w.props.width:P.width,startIndex:O,endIndex:M,updateId:"brush-".concat(z)})}),Se(T,"renderReferenceElement",function(w,E,A){if(!w)return null;var I=T,R=I.clipPathId,P=T.state,O=P.xAxisMap,M=P.yAxisMap,z=P.offset,F=w.type.defaultProps||{},$=w.props,q=$.xAxisId,V=q===void 0?F.xAxisId:q,G=$.yAxisId,K=G===void 0?F.yAxisId:G;return D.cloneElement(w,{key:w.key||"".concat(E,"-").concat(A),xAxis:O[V],yAxis:M[K],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:R})}),Se(T,"renderActivePoints",function(w){var E=w.item,A=w.activePoint,I=w.basePoint,R=w.childIndex,P=w.isRange,O=[],M=E.props.key,z=E.item.type.defaultProps!==void 0?ee(ee({},E.item.type.defaultProps),E.item.props):E.item.props,F=z.activeDot,$=z.dataKey,q=ee(ee({index:R,dataKey:$,cx:A.x,cy:A.y,r:4,fill:B_(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},_e(F,!1)),qp(F));return O.push(N.renderActiveDot(F,q,"".concat(M,"-activePoint-").concat(R))),I?O.push(N.renderActiveDot(F,ee(ee({},q),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(R))):P&&O.push(null),O}),Se(T,"renderGraphicChild",function(w,E,A){var I=T.filterFormatItem(w,E,A);if(!I)return null;var R=T.getTooltipEventType(),P=T.state,O=P.isTooltipActive,M=P.tooltipAxis,z=P.activeTooltipIndex,F=P.activeLabel,$=T.props.children,q=er($,Fn),V=I.props,G=V.points,K=V.isRange,B=V.baseLine,J=I.item.type.defaultProps!==void 0?ee(ee({},I.item.type.defaultProps),I.item.props):I.item.props,te=J.activeDot,xe=J.hide,we=J.activeBar,Q=J.activeShape,ne=!!(!xe&&O&&q&&(te||we||Q)),he={};R!=="axis"&&q&&q.props.trigger==="click"?he={onClick:wh(T.handleItemMouseEnter,w.props.onClick)}:R!=="axis"&&(he={onMouseLeave:wh(T.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:wh(T.handleItemMouseEnter,w.props.onMouseEnter)});var H=D.cloneElement(w,ee(ee({},I.props),he));function ae(Ir){return typeof M.dataKey=="function"?M.dataKey(Ir.payload):null}if(ne)if(z>=0){var ue,ie;if(M.dataKey&&!M.allowDuplicatedCategory){var Oe=typeof M.dataKey=="function"?ae:"payload.".concat(M.dataKey.toString());ue=Bp(G,Oe,F),ie=K&&B&&Bp(B,Oe,F)}else ue=G==null?void 0:G[z],ie=K&&B&&B[z];if(Q||we){var Y=w.props.activeIndex!==void 0?w.props.activeIndex:z;return[D.cloneElement(w,ee(ee(ee({},I.props),he),{},{activeIndex:Y})),null,null]}if(!je(ue))return[H].concat(Zl(T.renderActivePoints({item:I,activePoint:ue,basePoint:ie,childIndex:z,isRange:K})))}else{var ce,Te=(ce=T.getItemByXY(T.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:H},ze=Te.graphicalItem,en=ze.item,fn=en===void 0?w:en,$n=ze.childIndex,Vn=ee(ee(ee({},I.props),he),{},{activeIndex:$n});return[D.cloneElement(fn,Vn),null,null]}return K?[H,null,null]:[H,null]}),Se(T,"renderCustomized",function(w,E,A){return D.cloneElement(w,ee(ee({key:"recharts-customized-".concat(A)},T.props),T.state))}),Se(T,"renderMap",{CartesianGrid:{handler:Th,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Th},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Th},YAxis:{handler:Th},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:vc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=r4(T.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return Lfe(N,v),Rfe(N,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,T=S.data,w=S.height,E=S.layout,A=er(C,Fn);if(A){var I=A.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,P=iw(this.state,T,I,R),O=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+w)/2,z=E==="horizontal",F=z?{x:O,y:M}:{y:O,x:M},$=this.state.formattedGraphicalItems.find(function(V){var G=V.item;return G.type.name==="Scatter"});$&&(F=ee(ee({},F),$.props.points[I].tooltipPosition),P=$.props.points[I].tooltipPayload);var q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:F};this.setState(q),this.renderCursor(A),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var T,w;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(S){Mv([er(S.children,Fn)],[er(this.props.children,Fn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=er(this.props.children,Fn);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),w=FQ(T),E={chartX:Math.round(S.pageX-w.left),chartY:Math.round(S.pageY-w.top)},A=T.width/C.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,A);if(!I)return null;var R=this.state,P=R.xAxisMap,O=R.yAxisMap,M=this.getTooltipEventType(),z=yC(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&P&&O){var F=Ss(P).scale,$=Ss(O).scale,q=F&&F.invert?F.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return ee(ee({},E),{},{xValue:q,yValue:V},z)}return z?ee(ee({},E),z):null}},{key:"inRange",value:function(S,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=S/T,A=C/T;if(w==="horizontal"||w==="vertical"){var I=this.state.offset,R=E>=I.left&&E<=I.left+I.width&&A>=I.top&&A<=I.top+I.height;return R?{x:E,y:A}:null}var P=this.state,O=P.angleAxisMap,M=P.radiusAxisMap;if(O&&M){var z=Ss(O);return H2({x:E,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),T=er(S,Fn),w={};T&&C==="axis"&&(T.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=qp(this.props,this.handleOuterEvent);return ee(ee({},E),w)}},{key:"addListener",value:function(){hx.on(px,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hx.removeListener(px,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,T){for(var w=this.state.formattedGraphicalItems,E=0,A=w.length;E<A;E++){var I=w[E];if(I.item===S||I.props.key===S.key||C===Fi(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,T=C.left,w=C.top,E=C.height,A=C.width;return U.createElement("defs",null,U.createElement("clipPath",{id:S},U.createElement("rect",{x:T,y:w,height:E,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,T){var w=pC(T,2),E=w[0],A=w[1];return ee(ee({},C),{},Se({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,T){var w=pC(T,2),E=w[0],A=w[1];return ee(ee({},C),{},Se({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,T=C.formattedGraphicalItems,w=C.activeItem;if(T&&T.length)for(var E=0,A=T.length;E<A;E++){var I=T[E],R=I.props,P=I.item,O=P.type.defaultProps!==void 0?ee(ee({},P.type.defaultProps),P.props):P.props,M=Fi(P.type);if(M==="Bar"){var z=(R.data||[]).find(function(V){return Tae(S,V)});if(z)return{graphicalItem:I,payload:z}}else if(M==="RadialBar"){var F=(R.data||[]).find(function(V){return H2(S,V)});if(F)return{graphicalItem:I,payload:F}}else if(m0(I,w)||g0(I,w)||zd(I,w)){var $=ple({graphicalItem:I,activeTooltipItem:w,itemData:O.data}),q=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:ee(ee({},I),{},{childIndex:q}),payload:zd(I,w)?O.data[$]:I.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!DT(this))return null;var C=this.props,T=C.children,w=C.className,E=C.width,A=C.height,I=C.style,R=C.compact,P=C.title,O=C.desc,M=mC(C,Tfe),z=_e(M,!1);if(R)return U.createElement(Xk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Dv,Yo({},z,{width:E,height:A,title:P,desc:O}),this.renderClipPath(),$T(T,this.renderMap)));if(this.props.accessibilityLayer){var F,$;z.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,z.role=($=this.props.role)!==null&&$!==void 0?$:"application",z.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},z.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return U.createElement(Xk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Yo({className:Re("recharts-wrapper",w),style:ee({position:"relative",cursor:"default",width:E,height:A},I)},q,{ref:function(G){S.container=G}}),U.createElement(Dv,Yo({},z,{width:E,height:A,title:P,desc:O,style:qfe}),this.renderClipPath(),$T(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Se(x,"displayName",n),Se(x,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(x,"getDerivedStateFromProps",function(v,N){var _=v.dataKey,S=v.data,C=v.children,T=v.width,w=v.height,E=v.layout,A=v.stackOffset,I=v.margin,R=N.dataStartIndex,P=N.dataEndIndex;if(N.updateId===void 0){var O=xC(v);return ee(ee(ee({},O),{},{updateId:0},y(ee(ee({props:v},O),{},{updateId:0}),N)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(_!==N.prevDataKey||S!==N.prevData||T!==N.prevWidth||w!==N.prevHeight||E!==N.prevLayout||A!==N.prevStackOffset||!ll(I,N.prevMargin)){var M=xC(v),z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},F=ee(ee({},yC(N,S,E)),{},{updateId:N.updateId+1}),$=ee(ee(ee({},M),z),F);return ee(ee(ee({},$),y(ee({props:v},$),N)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(!Mv(C,N.prevChildren)){var q,V,G,K,B=er(C,ql),J=B&&(q=(V=B.props)===null||V===void 0?void 0:V.startIndex)!==null&&q!==void 0?q:R,te=B&&(G=(K=B.props)===null||K===void 0?void 0:K.endIndex)!==null&&G!==void 0?G:P,xe=J!==R||te!==P,we=!je(S),Q=we&&!xe?N.updateId:N.updateId+1;return ee(ee({updateId:Q},y(ee(ee({props:v},N),{},{updateId:Q,dataStartIndex:J,dataEndIndex:te}),N)),{},{prevChildren:C,dataStartIndex:J,dataEndIndex:te})}return null}),Se(x,"renderActiveDot",function(v,N,_){var S;return D.isValidElement(v)?S=D.cloneElement(v,N):Ee(v)?S=v(N):S=U.createElement(u0,N),U.createElement(Ue,{className:"recharts-active-dot",key:_},S)});var b=D.forwardRef(function(N,_){return U.createElement(x,Yo({},N,{ref:_}))});return b.displayName=x.displayName,b},I5=Z_({chartName:"BarChart",GraphicalChild:qr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zs},{axisType:"yAxis",AxisComp:ea}],formatAxisMap:HD}),Zfe=Z_({chartName:"PieChart",GraphicalChild:cs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:p0},{axisType:"radiusAxis",AxisComp:f0}],formatAxisMap:Dre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),P5=Z_({chartName:"AreaChart",GraphicalChild:Jr,axisComponents:[{axisType:"xAxis",AxisComp:Zs},{axisType:"yAxis",AxisComp:ea}],formatAxisMap:HD});const ehe=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],the=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control"}),a.jsx("p",{className:"text-slate-500",children:"Bienvenido de nuevo al sistema de gestin."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Kr,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Xr,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:Ki,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:lr,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((t,e)=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${t.bg} ${t.color}`,children:a.jsx(t.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.trend})]}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:t.label}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:t.value})]},e))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Flujo de Caja (Ventas vs Compras)"}),a.jsx("div",{className:"h-80",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(P5,{data:ehe,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Jd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Zs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ea,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Fn,{}),a.jsx(Jr,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(Jr,{type:"monotone",dataKey:"compras",stroke:"#64748b",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Alertas Recientes"}),a.jsx("div",{className:"space-y-4",children:[{type:"stock",msg:"Stock bajo: Cemento Avellaneda (5 bolsas)",time:"Hace 10 min"},{type:"cheque",msg:"Cheque por vencer: Banco Galicia #4829",time:"Hace 1 hora"},{type:"deuda",msg:"Cliente Moroso: Ferretera Juan (Saldo $45k)",time:"Hace 3 horas"},{type:"price",msg:"Lista de Precios: Sinteplast actualiz +15%",time:"Ayer"}].map((t,e)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100",children:[a.jsx("div",{className:`p-2 rounded-lg ${t.type==="stock"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:t.type==="stock"?a.jsx(B1,{className:"w-5 h-5"}):a.jsx(Ki,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:t.msg}),a.jsx("p",{className:"text-xs text-slate-500",children:t.time})]}),a.jsx("button",{className:"text-xs font-bold text-orange-600 hover:underline",children:"Ver"})]},e))})]})]})]});var bC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nhe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},R5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,y=u&63;c||(y=64,o||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nhe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new rhe;const h=s<<2|l>>4;if(r.push(h),u!==64){const y=l<<4&240|u>>2;if(r.push(y),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ihe=function(t){const e=j5(t);return R5.encodeByteArray(e,!0)},zm=function(t){return ihe(t).replace(/\./g,"")},M5=function(t){try{return R5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=()=>she().__FIREBASE_DEFAULTS__,ohe=()=>{if(typeof process>"u"||typeof bC>"u")return;const t=bC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lhe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M5(t[1]);return e&&JSON.parse(e)},N0=()=>{try{return ahe()||ohe()||lhe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O5=t=>{var e,n;return(n=(e=N0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},che=t=>{const e=O5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D5=()=>{var t;return(t=N0())===null||t===void 0?void 0:t.config},L5=t=>{var e;return(e=N0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zm(JSON.stringify(n)),zm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function hhe(){var t;const e=(t=N0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function phe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mhe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ghe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yhe(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xhe(){return!hhe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vhe(){try{return typeof indexedDB=="object"}catch{return!1}}function bhe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=whe,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_he(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new us(i,l,r)}}function _he(t,e){return t.replace(Nhe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nhe=/\{\$([^}]+)}/g;function She(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wC(s)&&wC(o)){if(!Gm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ehe(t,e){const n=new The(t,e);return n.subscribe.bind(n)}class The{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ahe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gx),i.error===void 0&&(i.error=gx),i.complete===void 0&&(i.complete=gx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ahe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uhe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ihe(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Che(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Che(t){return t===Ta?void 0:t}function Ihe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new khe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const jhe={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Rhe=Ve.INFO,Mhe={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ohe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Mhe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eN{constructor(e){this.name=e,this._logLevel=Rhe,this._logHandler=Ohe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jhe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Dhe=(t,e)=>e.some(n=>t instanceof n);let _C,NC;function Lhe(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $he(){return NC||(NC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $5=new WeakMap,sw=new WeakMap,V5=new WeakMap,yx=new WeakMap,tN=new WeakMap;function Vhe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$5.set(n,t)}).catch(()=>{}),tN.set(e,t),e}function Fhe(t){if(sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sw.set(t,e)}let aw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uhe(t){aw=t(aw)}function Bhe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xx(this),e,...n);return V5.set(r,e.sort?e.sort():[e]),Gs(r)}:$he().includes(t)?function(...e){return t.apply(xx(this),e),Gs($5.get(this))}:function(...e){return Gs(t.apply(xx(this),e))}}function qhe(t){return typeof t=="function"?Bhe(t):(t instanceof IDBTransaction&&Fhe(t),Dhe(t,Lhe())?new Proxy(t,aw):t)}function Gs(t){if(t instanceof IDBRequest)return Vhe(t);if(yx.has(t))return yx.get(t);const e=qhe(t);return e!==t&&(yx.set(t,e),tN.set(e,t)),e}const xx=t=>tN.get(t);function zhe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gs(o.result),c.oldVersion,c.newVersion,Gs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Ghe=["get","getKey","getAll","getAllKeys","count"],Hhe=["put","add","delete","clear"],vx=new Map;function SC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vx.get(e))return vx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Hhe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ghe.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return vx.set(e,s),s}Uhe(t=>({...t,get:(e,n,r)=>SC(e,n)||t.get(e,n,r),has:(e,n)=>!!SC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Khe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Khe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ow="@firebase/app",EC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new eN("@firebase/app"),Jhe="@firebase/app-compat",Yhe="@firebase/analytics-compat",Xhe="@firebase/analytics",Qhe="@firebase/app-check-compat",Zhe="@firebase/app-check",epe="@firebase/auth",tpe="@firebase/auth-compat",npe="@firebase/database",rpe="@firebase/data-connect",ipe="@firebase/database-compat",spe="@firebase/functions",ape="@firebase/functions-compat",ope="@firebase/installations",lpe="@firebase/installations-compat",cpe="@firebase/messaging",upe="@firebase/messaging-compat",dpe="@firebase/performance",fpe="@firebase/performance-compat",hpe="@firebase/remote-config",ppe="@firebase/remote-config-compat",mpe="@firebase/storage",gpe="@firebase/storage-compat",ype="@firebase/firestore",xpe="@firebase/vertexai-preview",vpe="@firebase/firestore-compat",bpe="firebase",wpe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="[DEFAULT]",_pe={[ow]:"fire-core",[Jhe]:"fire-core-compat",[Xhe]:"fire-analytics",[Yhe]:"fire-analytics-compat",[Zhe]:"fire-app-check",[Qhe]:"fire-app-check-compat",[epe]:"fire-auth",[tpe]:"fire-auth-compat",[npe]:"fire-rtdb",[rpe]:"fire-data-connect",[ipe]:"fire-rtdb-compat",[spe]:"fire-fn",[ape]:"fire-fn-compat",[ope]:"fire-iid",[lpe]:"fire-iid-compat",[cpe]:"fire-fcm",[upe]:"fire-fcm-compat",[dpe]:"fire-perf",[fpe]:"fire-perf-compat",[hpe]:"fire-rc",[ppe]:"fire-rc-compat",[mpe]:"fire-gcs",[gpe]:"fire-gcs-compat",[ype]:"fire-fst",[vpe]:"fire-fst-compat",[xpe]:"fire-vertex","fire-js":"fire-js",[bpe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Map,Npe=new Map,cw=new Map;function TC(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ec(t){const e=t.name;if(cw.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;cw.set(e,t);for(const n of Hm.values())TC(n,t);for(const n of Npe.values())TC(n,t);return!0}function nN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new wf("app","Firebase",Spe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=wpe;function F5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=D5()),!n)throw Hs.create("no-options");const s=Hm.get(i);if(s){if(Gm(n,s.options)&&Gm(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const o=new Phe(i);for(const c of cw.values())o.addComponent(c);const l=new Epe(n,r,o);return Hm.set(i,l),l}function U5(t=lw){const e=Hm.get(t);if(!e&&t===lw&&D5())return F5();if(!e)throw Hs.create("no-app",{appName:t});return e}function Ws(t,e,n){var r;let i=(r=_pe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(l.join(" "));return}ec(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpe="firebase-heartbeat-database",Ape=1,Qd="firebase-heartbeat-store";let bx=null;function B5(){return bx||(bx=zhe(Tpe,Ape,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),bx}async function kpe(t){try{const n=(await B5()).transaction(Qd),r=await n.objectStore(Qd).get(q5(t));return await n.done,r}catch(e){if(e instanceof us)Zi.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function AC(t,e){try{const r=(await B5()).transaction(Qd,"readwrite");await r.objectStore(Qd).put(e,q5(t)),await r.done}catch(n){if(n instanceof us)Zi.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function q5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe=1024,Ipe=30*24*60*60*1e3;class Ppe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rpe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Ipe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kC(),{heartbeatsToSend:r,unsentEntries:i}=jpe(this._heartbeatsCache.heartbeats),s=zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zi.warn(n),""}}}function kC(){return new Date().toISOString().substring(0,10)}function jpe(t,e=Cpe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vhe()?bhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kpe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CC(t){return zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(t){ec(new io("platform-logger",e=>new Whe(e),"PRIVATE")),ec(new io("heartbeat",e=>new Ppe(e),"PRIVATE")),Ws(ow,EC,t),Ws(ow,EC,"esm2017"),Ws("fire-js","")}Mpe("");var Ope="firebase",Dpe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(Ope,Dpe,"app");var IC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ga,z5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function I(){}I.prototype=A.prototype,E.D=A.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(R,P,O){for(var M=Array(arguments.length-2),z=2;z<arguments.length;z++)M[z-2]=arguments[z];return A.prototype[P].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,I){I||(I=0);var R=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)R[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;16>P;++P)R[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=E.g[0],I=E.g[1],P=E.g[2];var O=E.g[3],M=A+(O^I&(P^O))+R[0]+3614090360&4294967295;A=I+(M<<7&4294967295|M>>>25),M=O+(P^A&(I^P))+R[1]+3905402710&4294967295,O=A+(M<<12&4294967295|M>>>20),M=P+(I^O&(A^I))+R[2]+606105819&4294967295,P=O+(M<<17&4294967295|M>>>15),M=I+(A^P&(O^A))+R[3]+3250441966&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(O^I&(P^O))+R[4]+4118548399&4294967295,A=I+(M<<7&4294967295|M>>>25),M=O+(P^A&(I^P))+R[5]+1200080426&4294967295,O=A+(M<<12&4294967295|M>>>20),M=P+(I^O&(A^I))+R[6]+2821735955&4294967295,P=O+(M<<17&4294967295|M>>>15),M=I+(A^P&(O^A))+R[7]+4249261313&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(O^I&(P^O))+R[8]+1770035416&4294967295,A=I+(M<<7&4294967295|M>>>25),M=O+(P^A&(I^P))+R[9]+2336552879&4294967295,O=A+(M<<12&4294967295|M>>>20),M=P+(I^O&(A^I))+R[10]+4294925233&4294967295,P=O+(M<<17&4294967295|M>>>15),M=I+(A^P&(O^A))+R[11]+2304563134&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(O^I&(P^O))+R[12]+1804603682&4294967295,A=I+(M<<7&4294967295|M>>>25),M=O+(P^A&(I^P))+R[13]+4254626195&4294967295,O=A+(M<<12&4294967295|M>>>20),M=P+(I^O&(A^I))+R[14]+2792965006&4294967295,P=O+(M<<17&4294967295|M>>>15),M=I+(A^P&(O^A))+R[15]+1236535329&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(P^O&(I^P))+R[1]+4129170786&4294967295,A=I+(M<<5&4294967295|M>>>27),M=O+(I^P&(A^I))+R[6]+3225465664&4294967295,O=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(O^A))+R[11]+643717713&4294967295,P=O+(M<<14&4294967295|M>>>18),M=I+(O^A&(P^O))+R[0]+3921069994&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^O&(I^P))+R[5]+3593408605&4294967295,A=I+(M<<5&4294967295|M>>>27),M=O+(I^P&(A^I))+R[10]+38016083&4294967295,O=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(O^A))+R[15]+3634488961&4294967295,P=O+(M<<14&4294967295|M>>>18),M=I+(O^A&(P^O))+R[4]+3889429448&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^O&(I^P))+R[9]+568446438&4294967295,A=I+(M<<5&4294967295|M>>>27),M=O+(I^P&(A^I))+R[14]+3275163606&4294967295,O=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(O^A))+R[3]+4107603335&4294967295,P=O+(M<<14&4294967295|M>>>18),M=I+(O^A&(P^O))+R[8]+1163531501&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^O&(I^P))+R[13]+2850285829&4294967295,A=I+(M<<5&4294967295|M>>>27),M=O+(I^P&(A^I))+R[2]+4243563512&4294967295,O=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(O^A))+R[7]+1735328473&4294967295,P=O+(M<<14&4294967295|M>>>18),M=I+(O^A&(P^O))+R[12]+2368359562&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(I^P^O)+R[5]+4294588738&4294967295,A=I+(M<<4&4294967295|M>>>28),M=O+(A^I^P)+R[8]+2272392833&4294967295,O=A+(M<<11&4294967295|M>>>21),M=P+(O^A^I)+R[11]+1839030562&4294967295,P=O+(M<<16&4294967295|M>>>16),M=I+(P^O^A)+R[14]+4259657740&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^O)+R[1]+2763975236&4294967295,A=I+(M<<4&4294967295|M>>>28),M=O+(A^I^P)+R[4]+1272893353&4294967295,O=A+(M<<11&4294967295|M>>>21),M=P+(O^A^I)+R[7]+4139469664&4294967295,P=O+(M<<16&4294967295|M>>>16),M=I+(P^O^A)+R[10]+3200236656&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^O)+R[13]+681279174&4294967295,A=I+(M<<4&4294967295|M>>>28),M=O+(A^I^P)+R[0]+3936430074&4294967295,O=A+(M<<11&4294967295|M>>>21),M=P+(O^A^I)+R[3]+3572445317&4294967295,P=O+(M<<16&4294967295|M>>>16),M=I+(P^O^A)+R[6]+76029189&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^O)+R[9]+3654602809&4294967295,A=I+(M<<4&4294967295|M>>>28),M=O+(A^I^P)+R[12]+3873151461&4294967295,O=A+(M<<11&4294967295|M>>>21),M=P+(O^A^I)+R[15]+530742520&4294967295,P=O+(M<<16&4294967295|M>>>16),M=I+(P^O^A)+R[2]+3299628645&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(P^(I|~O))+R[0]+4096336452&4294967295,A=I+(M<<6&4294967295|M>>>26),M=O+(I^(A|~P))+R[7]+1126891415&4294967295,O=A+(M<<10&4294967295|M>>>22),M=P+(A^(O|~I))+R[14]+2878612391&4294967295,P=O+(M<<15&4294967295|M>>>17),M=I+(O^(P|~A))+R[5]+4237533241&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~O))+R[12]+1700485571&4294967295,A=I+(M<<6&4294967295|M>>>26),M=O+(I^(A|~P))+R[3]+2399980690&4294967295,O=A+(M<<10&4294967295|M>>>22),M=P+(A^(O|~I))+R[10]+4293915773&4294967295,P=O+(M<<15&4294967295|M>>>17),M=I+(O^(P|~A))+R[1]+2240044497&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~O))+R[8]+1873313359&4294967295,A=I+(M<<6&4294967295|M>>>26),M=O+(I^(A|~P))+R[15]+4264355552&4294967295,O=A+(M<<10&4294967295|M>>>22),M=P+(A^(O|~I))+R[6]+2734768916&4294967295,P=O+(M<<15&4294967295|M>>>17),M=I+(O^(P|~A))+R[13]+1309151649&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~O))+R[4]+4149444226&4294967295,A=I+(M<<6&4294967295|M>>>26),M=O+(I^(A|~P))+R[11]+3174756917&4294967295,O=A+(M<<10&4294967295|M>>>22),M=P+(A^(O|~I))+R[2]+718787259&4294967295,P=O+(M<<15&4294967295|M>>>17),M=I+(O^(P|~A))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var I=A-this.blockSize,R=this.B,P=this.h,O=0;O<A;){if(P==0)for(;O<=I;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<A;)if(R[P++]=E.charCodeAt(O++),P==this.blockSize){i(this,R),P=0;break}}else for(;O<A;)if(R[P++]=E[O++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var I=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=I&255,I/=256;for(this.u(E),E=Array(16),A=I=0;4>A;++A)for(var R=0;32>R;R+=8)E[I++]=this.g[A]>>>R&255;return E};function s(E,A){var I=l;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=A(E)}function o(E,A){this.h=A;for(var I=[],R=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;R&&O==A||(I[P]=O,R=!1)}this.g=I}var l={};function c(E){return-128<=E&&128>E?s(E,function(A){return new o([A|0],0>A?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(u(-E));for(var A=[],I=1,R=0;E>=I;R++)A[R]=E/I|0,I*=4294967296;return new o(A,0)}function d(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return v(d(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(A,8)),R=f,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),M=parseInt(E.substring(P,P+O),A);8>O?(O=u(Math.pow(A,O)),R=R.j(O).add(u(M))):(R=R.j(I),R=R.add(u(M)))}return R}var f=c(0),h=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-v(this).m();for(var E=0,A=1,I=0;I<this.g.length;I++){var R=this.i(I);E+=(0<=R?R:4294967296+R)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(b(this))return"-"+v(this).toString(E);for(var A=u(Math.pow(E,6)),I=this,R="";;){var P=C(I,A).g;I=N(I,P.j(A));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=P,x(I))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=N(this,E),b(E)?-1:x(E)?0:1};function v(E){for(var A=E.g.length,I=[],R=0;R<A;R++)I[R]=~E.g[R];return new o(I,~E.h).add(h)}t.abs=function(){return b(this)?v(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],R=0,P=0;P<=A;P++){var O=R+(this.i(P)&65535)+(E.i(P)&65535),M=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);R=M>>>16,O&=65535,M&=65535,I[P]=M<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(E,A){return E.add(v(A))}t.j=function(E){if(x(this)||x(E))return f;if(b(this))return b(E)?v(this).j(v(E)):v(v(this).j(E));if(b(E))return v(this.j(v(E)));if(0>this.l(y)&&0>E.l(y))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,I=[],R=0;R<2*A;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<E.g.length;P++){var O=this.i(R)>>>16,M=this.i(R)&65535,z=E.i(P)>>>16,F=E.i(P)&65535;I[2*R+2*P]+=M*F,_(I,2*R+2*P),I[2*R+2*P+1]+=O*F,_(I,2*R+2*P+1),I[2*R+2*P+1]+=M*z,_(I,2*R+2*P+1),I[2*R+2*P+2]+=O*z,_(I,2*R+2*P+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new o(I,0)};function _(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function S(E,A){this.g=E,this.h=A}function C(E,A){if(x(A))throw Error("division by zero");if(x(E))return new S(f,f);if(b(E))return A=C(v(E),A),new S(v(A.g),v(A.h));if(b(A))return A=C(E,v(A)),new S(v(A.g),A.h);if(30<E.g.length){if(b(E)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=A;0>=R.l(E);)I=T(I),R=T(R);var P=w(I,1),O=w(R,1);for(R=w(R,2),I=w(I,2);!x(R);){var M=O.add(R);0>=M.l(E)&&(P=P.add(I),O=M),R=w(R,1),I=w(I,1)}return A=N(E,P.j(A)),new S(P,A)}for(P=f;0<=E.l(A);){for(I=Math.max(1,Math.floor(E.m()/A.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(I),M=O.j(A);b(M)||0<M.l(E);)I-=R,O=u(I),M=O.j(A);x(O)&&(O=h),P=P.add(O),E=N(E,M)}return new S(P,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],R=0;R<A;R++)I[R]=this.i(R)&E.i(R);return new o(I,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],R=0;R<A;R++)I[R]=this.i(R)|E.i(R);return new o(I,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],R=0;R<A;R++)I[R]=this.i(R)^E.i(R);return new o(I,this.h^E.h)};function T(E){for(var A=E.g.length+1,I=[],R=0;R<A;R++)I[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(I,E.h)}function w(E,A){var I=A>>5;A%=32;for(var R=E.g.length-I,P=[],O=0;O<R;O++)P[O]=0<A?E.i(O+I)>>>A|E.i(O+I+1)<<32-A:E.i(O+I);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,z5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ga=o}).apply(typeof IC<"u"?IC:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G5,_u,H5,Xh,uw,W5,K5,J5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,j){return m==Array.prototype||m==Object.prototype||(m[k]=j.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var k=0;k<m.length;++k){var j=m[k];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(m,k){if(k)e:{var j=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var W=m[L];if(!(W in j))break e;j=j[W]}m=m[m.length-1],L=j[m],k=k(L),k!=L&&k!=null&&e(j,m,{configurable:!0,writable:!0,value:k})}}function s(m,k){m instanceof String&&(m+="");var j=0,L=!1,W={next:function(){if(!L&&j<m.length){var X=j++;return{value:k(X,m[X]),done:!1}}return L=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(m){return m||function(){return s(this,function(k,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,j){return m.call.apply(m.bind,arguments)}function f(m,k,j){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,L),m.apply(k,W)}}return function(){return m.apply(k,arguments)}}function h(m,k,j){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function y(m,k){var j=Array.prototype.slice.call(arguments,1);return function(){var L=j.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function x(m,k){function j(){}j.prototype=k.prototype,m.aa=k.prototype,m.prototype=new j,m.prototype.constructor=m,m.Qb=function(L,W,X){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return k.prototype[W].apply(L,de)}}function b(m){const k=m.length;if(0<k){const j=Array(k);for(let L=0;L<k;L++)j[L]=m[L];return j}return[]}function v(m,k){for(let j=1;j<arguments.length;j++){const L=arguments[j];if(c(L)){const W=m.length||0,X=L.length||0;m.length=W+X;for(let de=0;de<X;de++)m[W+de]=L[de]}else m.push(L)}}class N{constructor(k,j){this.i=k,this.j=j,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var T=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function w(m,k,j){for(const L in m)k.call(j,m[L],L,m)}function E(m,k){for(const j in m)k.call(void 0,m[j],j,m)}function A(m){const k={};for(const j in m)k[j]=m[j];return k}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,k){let j,L;for(let W=1;W<arguments.length;W++){L=arguments[W];for(j in L)m[j]=L[j];for(let X=0;X<I.length;X++)j=I[X],Object.prototype.hasOwnProperty.call(L,j)&&(m[j]=L[j])}}function P(m){var k=1;m=m.split(":");const j=[];for(;0<k&&m.length;)j.push(m.shift()),k--;return m.length&&j.push(m.join(":")),j}function O(m){l.setTimeout(()=>{throw m},0)}function M(){var m=G;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class z{constructor(){this.h=this.g=null}add(k,j){const L=F.get();L.set(k,j),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new N(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(k,j){this.h=k,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,G=new z,K=()=>{const m=l.Promise.resolve(void 0);q=()=>{m.then(B)}};var B=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(j){O(j)}var k=F;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};l.addEventListener("test",j,k),l.removeEventListener("test",j,k)}catch{}return m}();function we(m,k){if(te.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var j=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(T){e:{try{C(k.nodeName);var W=!0;break e}catch{}W=!1}W||(k=null)}}else j=="mouseover"?k=m.fromElement:j=="mouseout"&&(k=m.toElement);this.relatedTarget=k,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&we.aa.h.call(this)}}x(we,te);var Q={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),he=0;function H(m,k,j,L,W){this.listener=m,this.proxy=null,this.src=k,this.type=j,this.capture=!!L,this.ha=W,this.key=++he,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,k,j,L,W){var X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);var de=Oe(m,k,L,W);return-1<de?(k=m[de],j||(k.fa=!1)):(k=new H(k,this.src,X,!!L,W),k.fa=j,m.push(k)),k};function ie(m,k){var j=k.type;if(j in m.g){var L=m.g[j],W=Array.prototype.indexOf.call(L,k,void 0),X;(X=0<=W)&&Array.prototype.splice.call(L,W,1),X&&(ae(k),m.g[j].length==0&&(delete m.g[j],m.h--))}}function Oe(m,k,j,L){for(var W=0;W<m.length;++W){var X=m[W];if(!X.da&&X.listener==k&&X.capture==!!j&&X.ha==L)return W}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),ce={};function Te(m,k,j,L,W){if(Array.isArray(k)){for(var X=0;X<k.length;X++)Te(m,k[X],j,L,W);return null}return j=Le(j),m&&m[ne]?m.K(k,j,u(L)?!!L.capture:!1,W):ze(m,k,j,!1,L,W)}function ze(m,k,j,L,W,X){if(!k)throw Error("Invalid event type");var de=u(W)?!!W.capture:!!W,rt=fe(m);if(rt||(m[Y]=rt=new ue(m)),j=rt.add(k,j,L,de,X),j.proxy)return j;if(L=en(),j.proxy=L,L.src=m,L.listener=j,m.addEventListener)xe||(W=de),W===void 0&&(W=!1),m.addEventListener(k.toString(),L,W);else if(m.attachEvent)m.attachEvent(Vn(k.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return j}function en(){function m(j){return k.call(m.src,m.listener,j)}const k=Ir;return m}function fn(m,k,j,L,W){if(Array.isArray(k))for(var X=0;X<k.length;X++)fn(m,k[X],j,L,W);else L=u(L)?!!L.capture:!!L,j=Le(j),m&&m[ne]?(m=m.i,k=String(k).toString(),k in m.g&&(X=m.g[k],j=Oe(X,j,L,W),-1<j&&(ae(X[j]),Array.prototype.splice.call(X,j,1),X.length==0&&(delete m.g[k],m.h--)))):m&&(m=fe(m))&&(k=m.g[k.toString()],m=-1,k&&(m=Oe(k,j,L,W)),(j=-1<m?k[m]:null)&&$n(j))}function $n(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[ne])ie(k.i,m);else{var j=m.type,L=m.proxy;k.removeEventListener?k.removeEventListener(j,L,m.capture):k.detachEvent?k.detachEvent(Vn(j),L):k.addListener&&k.removeListener&&k.removeListener(L),(j=fe(k))?(ie(j,m),j.h==0&&(j.src=null,k[Y]=null)):ae(m)}}}function Vn(m){return m in ce?ce[m]:ce[m]="on"+m}function Ir(m,k){if(m.da)m=!0;else{k=new we(k,this);var j=m.listener,L=m.ha||m.src;m.fa&&$n(m),m=j.call(L,k)}return m}function fe(m){return m=m[Y],m instanceof ue?m:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(m){return typeof m=="function"?m:(m[Ne]||(m[Ne]=function(k){return m.handleEvent(k)}),m[Ne])}function Dt(){J.call(this),this.i=new ue(this),this.M=this,this.F=null}x(Dt,J),Dt.prototype[ne]=!0,Dt.prototype.removeEventListener=function(m,k,j,L){fn(this,m,k,j,L)};function It(m,k){var j,L=m.F;if(L)for(j=[];L;L=L.F)j.push(L);if(m=m.M,L=k.type||k,typeof k=="string")k=new te(k,m);else if(k instanceof te)k.target=k.target||m;else{var W=k;k=new te(L,m),R(k,W)}if(W=!0,j)for(var X=j.length-1;0<=X;X--){var de=k.g=j[X];W=Rf(de,L,!0,k)&&W}if(de=k.g=m,W=Rf(de,L,!0,k)&&W,W=Rf(de,L,!1,k)&&W,j)for(X=0;X<j.length;X++)de=k.g=j[X],W=Rf(de,L,!1,k)&&W}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var j=m.g[k],L=0;L<j.length;L++)ae(j[L]);delete m.g[k],m.h--}}this.F=null},Dt.prototype.K=function(m,k,j,L){return this.i.add(String(m),k,!1,j,L)},Dt.prototype.L=function(m,k,j,L){return this.i.add(String(m),k,!0,j,L)};function Rf(m,k,j,L){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var W=!0,X=0;X<k.length;++X){var de=k[X];if(de&&!de.da&&de.capture==j){var rt=de.listener,tn=de.ha||de.src;de.fa&&ie(m.i,de),W=rt.call(tn,L)!==!1&&W}}return W&&!L.defaultPrevented}function cS(m,k,j){if(typeof m=="function")j&&(m=h(m,j));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(m,k||0)}function uS(m){m.g=cS(()=>{m.g=null,m.i&&(m.i=!1,uS(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class V$ extends J{constructor(k,j){super(),this.m=k,this.l=j,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:uS(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(m){J.call(this),this.h=m,this.g={}}x(Oc,J);var dS=[];function fS(m){w(m.g,function(k,j){this.g.hasOwnProperty(j)&&$n(k)},m),m.g={}}Oc.prototype.N=function(){Oc.aa.N.call(this),fS(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Y0=l.JSON.stringify,F$=l.JSON.parse,U$=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function X0(){}X0.prototype.h=null;function hS(m){return m.h||(m.h=m.i())}function pS(){}var Dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Q0(){te.call(this,"d")}x(Q0,te);function Z0(){te.call(this,"c")}x(Z0,te);var ha={},mS=null;function Mf(){return mS=mS||new Dt}ha.La="serverreachability";function gS(m){te.call(this,ha.La,m)}x(gS,te);function Lc(m){const k=Mf();It(k,new gS(k))}ha.STAT_EVENT="statevent";function yS(m,k){te.call(this,ha.STAT_EVENT,m),this.stat=k}x(yS,te);function An(m){const k=Mf();It(k,new yS(k,m))}ha.Ma="timingevent";function xS(m,k){te.call(this,ha.Ma,m),this.size=k}x(xS,te);function $c(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function Vc(){this.g=!0}Vc.prototype.xa=function(){this.g=!1};function B$(m,k,j,L,W,X){m.info(function(){if(m.g)if(X)for(var de="",rt=X.split("&"),tn=0;tn<rt.length;tn++){var Ge=rt[tn].split("=");if(1<Ge.length){var hn=Ge[0];Ge=Ge[1];var pn=hn.split("_");de=2<=pn.length&&pn[1]=="type"?de+(hn+"="+Ge+"&"):de+(hn+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+L+") [attempt "+W+"]: "+k+`
`+j+`
`+de})}function q$(m,k,j,L,W,X,de){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+W+"]: "+k+`
`+j+`
`+X+" "+de})}function _o(m,k,j,L){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+G$(m,j)+(L?" "+L:"")})}function z$(m,k){m.info(function(){return"TIMEOUT: "+k})}Vc.prototype.info=function(){};function G$(m,k){if(!m.g)return k;if(!k)return null;try{var j=JSON.parse(k);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var L=j[m];if(!(2>L.length)){var W=L[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return Y0(j)}catch{return k}}var Of={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ey;function Df(){}x(Df,X0),Df.prototype.g=function(){return new XMLHttpRequest},Df.prototype.i=function(){return{}},ey=new Df;function hs(m,k,j,L){this.j=m,this.i=k,this.l=j,this.R=L||1,this.U=new Oc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bS}function bS(){this.i=null,this.g="",this.h=!1}var wS={},ty={};function ny(m,k,j){m.L=1,m.v=Ff(Si(k)),m.m=j,m.P=!0,_S(m,null)}function _S(m,k){m.F=Date.now(),Lf(m),m.A=Si(m.v);var j=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),DS(j.i,"t",L),m.C=0,j=m.j.J,m.h=new bS,m.g=eE(m.j,j?k:null,!m.m),0<m.O&&(m.M=new V$(h(m.Y,m,m.g),m.O)),k=m.U,j=m.g,L=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(dS[0]=W.toString()),W=dS);for(var X=0;X<W.length;X++){var de=Te(j,W[X],L||k.handleEvent,!1,k.h||k);if(!de)break;k.g[de.key]=de}k=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Lc(),B$(m.i,m.u,m.A,m.l,m.R,m.m)}hs.prototype.ca=function(m){m=m.target;const k=this.M;k&&Ei(m)==3?k.j():this.Y(m)},hs.prototype.Y=function(m){try{if(m==this.g)e:{const pn=Ei(this.g);var k=this.g.Ba();const Eo=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||qS(this.g)))){this.J||pn!=4||k==7||(k==8||0>=Eo?Lc(3):Lc(2)),ry(this);var j=this.g.Z();this.X=j;t:if(NS(this)){var L=qS(this.g);m="";var W=L.length,X=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pa(this),Fc(this);var de="";break t}this.h.i=new l.TextDecoder}for(k=0;k<W;k++)this.h.h=!0,m+=this.h.i.decode(L[k],{stream:!(X&&k==W-1)});L.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=j==200,q$(this.i,this.u,this.A,this.l,this.R,pn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,tn=this.g;if((rt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(rt)){var Ge=rt;break t}}Ge=null}if(j=Ge)_o(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iy(this,j);else{this.o=!1,this.s=3,An(12),pa(this),Fc(this);break e}}if(this.P){j=!0;let Pr;for(;!this.J&&this.C<de.length;)if(Pr=H$(this,de),Pr==ty){pn==4&&(this.s=4,An(14),j=!1),_o(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==wS){this.s=4,An(15),_o(this.i,this.l,de,"[Invalid Chunk]"),j=!1;break}else _o(this.i,this.l,Pr,null),iy(this,Pr);if(NS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||de.length!=0||this.h.h||(this.s=1,An(16),j=!1),this.o=this.o&&j,!j)_o(this.i,this.l,de,"[Invalid Chunked Response]"),pa(this),Fc(this);else if(0<de.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),uy(hn),hn.M=!0,An(11))}}else _o(this.i,this.l,de,null),iy(this,de);pn==4&&pa(this),this.o&&!this.J&&(pn==4?YS(this.j,this):(this.o=!1,Lf(this)))}else c3(this.g),j==400&&0<de.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),pa(this),Fc(this)}}}catch{}finally{}};function NS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function H$(m,k){var j=m.C,L=k.indexOf(`
`,j);return L==-1?ty:(j=Number(k.substring(j,L)),isNaN(j)?wS:(L+=1,L+j>k.length?ty:(k=k.slice(L,L+j),m.C=L+j,k)))}hs.prototype.cancel=function(){this.J=!0,pa(this)};function Lf(m){m.S=Date.now()+m.I,SS(m,m.I)}function SS(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=$c(h(m.ba,m),k)}function ry(m){m.B&&(l.clearTimeout(m.B),m.B=null)}hs.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(z$(this.i,this.A),this.L!=2&&(Lc(),An(17)),pa(this),this.s=2,Fc(this)):SS(this,this.S-m)};function Fc(m){m.j.G==0||m.J||YS(m.j,m)}function pa(m){ry(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,fS(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function iy(m,k){try{var j=m.j;if(j.G!=0&&(j.g==m||sy(j.h,m))){if(!m.K&&sy(j.h,m)&&j.G==3){try{var L=j.Da.g.parse(k)}catch{L=null}if(Array.isArray(L)&&L.length==3){var W=L;if(W[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<m.F)Hf(j),zf(j);else break e;cy(j),An(18)}}else j.za=W[1],0<j.za-j.T&&37500>W[2]&&j.F&&j.v==0&&!j.C&&(j.C=$c(h(j.Za,j),6e3));if(1>=AS(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else ga(j,11)}else if((m.K||j.g==m)&&Hf(j),!_(k))for(W=j.Da.g.parse(k),k=0;k<W.length;k++){let Ge=W[k];if(j.T=Ge[0],Ge=Ge[1],j.G==2)if(Ge[0]=="c"){j.K=Ge[1],j.ia=Ge[2];const hn=Ge[3];hn!=null&&(j.la=hn,j.j.info("VER="+j.la));const pn=Ge[4];pn!=null&&(j.Aa=pn,j.j.info("SVER="+j.Aa));const Eo=Ge[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(L=1.5*Eo,j.L=L,j.j.info("backChannelRequestTimeoutMs_="+L)),L=j;const Pr=m.g;if(Pr){const Kf=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kf){var X=L.h;X.g||Kf.indexOf("spdy")==-1&&Kf.indexOf("quic")==-1&&Kf.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ay(X,X.h),X.h=null))}if(L.D){const dy=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;dy&&(L.ya=dy,dt(L.I,L.D,dy))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-m.F,j.j.info("Handshake RTT: "+j.R+"ms")),L=j;var de=m;if(L.qa=ZS(L,L.J?L.ia:null,L.W),de.K){kS(L.h,de);var rt=de,tn=L.L;tn&&(rt.I=tn),rt.B&&(ry(rt),Lf(rt)),L.g=de}else KS(L);0<j.i.length&&Gf(j)}else Ge[0]!="stop"&&Ge[0]!="close"||ga(j,7);else j.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ga(j,7):ly(j):Ge[0]!="noop"&&j.l&&j.l.ta(Ge),j.v=0)}}Lc(4)}catch{}}var W$=class{constructor(m,k){this.g=m,this.map=k}};function ES(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function TS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function AS(m){return m.h?1:m.g?m.g.size:0}function sy(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function ay(m,k){m.g?m.g.add(k):m.h=k}function kS(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}ES.prototype.cancel=function(){if(this.i=CS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function CS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const j of m.g.values())k=k.concat(j.D);return k}return b(m.i)}function K$(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],j=m.length,L=0;L<j;L++)k.push(m[L]);return k}k=[],j=0;for(L in m)k[j++]=m[L];return k}function J$(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var j=0;j<m;j++)k.push(j);return k}k=[],j=0;for(const L in m)k[j++]=L;return k}}}function IS(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var j=J$(m),L=K$(m),W=L.length,X=0;X<W;X++)k.call(void 0,L[X],j&&j[X],m)}var PS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y$(m,k){if(m){m=m.split("&");for(var j=0;j<m.length;j++){var L=m[j].indexOf("="),W=null;if(0<=L){var X=m[j].substring(0,L);W=m[j].substring(L+1)}else X=m[j];k(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ma(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ma){this.h=m.h,$f(this,m.j),this.o=m.o,this.g=m.g,Vf(this,m.s),this.l=m.l;var k=m.i,j=new qc;j.i=k.i,k.g&&(j.g=new Map(k.g),j.h=k.h),jS(this,j),this.m=m.m}else m&&(k=String(m).match(PS))?(this.h=!1,$f(this,k[1]||"",!0),this.o=Uc(k[2]||""),this.g=Uc(k[3]||"",!0),Vf(this,k[4]),this.l=Uc(k[5]||"",!0),jS(this,k[6]||"",!0),this.m=Uc(k[7]||"")):(this.h=!1,this.i=new qc(null,this.h))}ma.prototype.toString=function(){var m=[],k=this.j;k&&m.push(Bc(k,RS,!0),":");var j=this.g;return(j||k=="file")&&(m.push("//"),(k=this.o)&&m.push(Bc(k,RS,!0),"@"),m.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&m.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(Bc(j,j.charAt(0)=="/"?Z$:Q$,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",Bc(j,t3)),m.join("")};function Si(m){return new ma(m)}function $f(m,k,j){m.j=j?Uc(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Vf(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function jS(m,k,j){k instanceof qc?(m.i=k,n3(m.i,m.h)):(j||(k=Bc(k,e3)),m.i=new qc(k,m.h))}function dt(m,k,j){m.i.set(k,j)}function Ff(m){return dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Uc(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bc(m,k,j){return typeof m=="string"?(m=encodeURI(m).replace(k,X$),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function X$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var RS=/[#\/\?@]/g,Q$=/[#\?:]/g,Z$=/[#\?]/g,e3=/[#\?@]/g,t3=/#/g;function qc(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function ps(m){m.g||(m.g=new Map,m.h=0,m.i&&Y$(m.i,function(k,j){m.add(decodeURIComponent(k.replace(/\+/g," ")),j)}))}t=qc.prototype,t.add=function(m,k){ps(this),this.i=null,m=No(this,m);var j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(k),this.h+=1,this};function MS(m,k){ps(m),k=No(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function OS(m,k){return ps(m),k=No(m,k),m.g.has(k)}t.forEach=function(m,k){ps(this),this.g.forEach(function(j,L){j.forEach(function(W){m.call(k,W,L,this)},this)},this)},t.na=function(){ps(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),j=[];for(let L=0;L<k.length;L++){const W=m[L];for(let X=0;X<W.length;X++)j.push(k[L])}return j},t.V=function(m){ps(this);let k=[];if(typeof m=="string")OS(this,m)&&(k=k.concat(this.g.get(No(this,m))));else{m=Array.from(this.g.values());for(let j=0;j<m.length;j++)k=k.concat(m[j])}return k},t.set=function(m,k){return ps(this),this.i=null,m=No(this,m),OS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function DS(m,k,j){MS(m,k),0<j.length&&(m.i=null,m.g.set(No(m,k),b(j)),m.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var j=0;j<k.length;j++){var L=k[j];const X=encodeURIComponent(String(L)),de=this.V(L);for(L=0;L<de.length;L++){var W=X;de[L]!==""&&(W+="="+encodeURIComponent(String(de[L]))),m.push(W)}}return this.i=m.join("&")};function No(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function n3(m,k){k&&!m.j&&(ps(m),m.i=null,m.g.forEach(function(j,L){var W=L.toLowerCase();L!=W&&(MS(this,L),DS(this,W,j))},m)),m.j=k}function r3(m,k){const j=new Vc;if(l.Image){const L=new Image;L.onload=y(ms,j,"TestLoadImage: loaded",!0,k,L),L.onerror=y(ms,j,"TestLoadImage: error",!1,k,L),L.onabort=y(ms,j,"TestLoadImage: abort",!1,k,L),L.ontimeout=y(ms,j,"TestLoadImage: timeout",!1,k,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else k(!1)}function i3(m,k){const j=new Vc,L=new AbortController,W=setTimeout(()=>{L.abort(),ms(j,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:L.signal}).then(X=>{clearTimeout(W),X.ok?ms(j,"TestPingServer: ok",!0,k):ms(j,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(W),ms(j,"TestPingServer: error",!1,k)})}function ms(m,k,j,L,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),L(j)}catch{}}function s3(){this.g=new U$}function a3(m,k,j){const L=j||"";try{IS(m,function(W,X){let de=W;u(W)&&(de=Y0(W)),k.push(L+X+"="+encodeURIComponent(de))})}catch(W){throw k.push(L+"type="+encodeURIComponent("_badmap")),W}}function Uf(m){this.l=m.Ub||null,this.j=m.eb||!1}x(Uf,X0),Uf.prototype.g=function(){return new Bf(this.l,this.j)},Uf.prototype.i=function(m){return function(){return m}}({});function Bf(m,k){Dt.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Bf,Dt),t=Bf.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,Gc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function LS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?zc(this):Gc(this),this.readyState==3&&LS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,zc(this))},t.Qa=function(m){this.g&&(this.response=m,zc(this))},t.ga=function(){this.g&&zc(this)};function zc(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Gc(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var j=k.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=k.next();return m.join(`\r
`)};function Gc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function $S(m){let k="";return w(m,function(j,L){k+=L,k+=":",k+=j,k+=`\r
`}),k}function oy(m,k,j){e:{for(L in j){var L=!1;break e}L=!0}L||(j=$S(j),typeof m=="string"?j!=null&&encodeURIComponent(String(j)):dt(m,k,j))}function St(m){Dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(St,Dt);var o3=/^https?$/i,l3=["POST","PUT"];t=St.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,j,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ey.g(),this.v=this.o?hS(this.o):hS(ey),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(X){VS(this,X);return}if(m=j||"",j=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var W in L)j.set(W,L[W]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const X of L.keys())j.set(X,L.get(X));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(j.keys()).find(X=>X.toLowerCase()=="content-type"),W=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(l3,k,void 0))||L||W||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of j)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BS(this),this.u=!0,this.g.send(m),this.u=!1}catch(X){VS(this,X)}};function VS(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,FS(m),qf(m)}function FS(m){m.A||(m.A=!0,It(m,"complete"),It(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,It(this,"complete"),It(this,"abort"),qf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qf(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?US(this):this.bb())},t.bb=function(){US(this)};function US(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ei(m)!=4||m.Z()!=2)){if(m.u&&Ei(m)==4)cS(m.Ea,0,m);else if(It(m,"readystatechange"),Ei(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var j;if(!(j=k)){var L;if(L=de===0){var W=String(m.D).match(PS)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),L=!o3.test(W?W.toLowerCase():"")}j=L}if(j)It(m,"complete"),It(m,"success");else{m.m=6;try{var X=2<Ei(m)?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.Z()+"]",FS(m)}}finally{qf(m)}}}}function qf(m,k){if(m.g){BS(m);const j=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||It(m,"ready");try{j.onreadystatechange=L}catch{}}}function BS(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ei(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),F$(k)}};function qS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function c3(m){const k={};m=(m.g&&2<=Ei(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(_(m[L]))continue;var j=P(m[L]);const W=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const X=k[W]||[];k[W]=X,X.push(j)}E(k,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hc(m,k,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||k}function zS(m){this.Aa=0,this.i=[],this.j=new Vc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hc("baseRetryDelayMs",5e3,m),this.cb=Hc("retryDelaySeedMs",1e4,m),this.Wa=Hc("forwardChannelMaxRetries",2,m),this.wa=Hc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ES(m&&m.concurrentRequestLimit),this.Da=new s3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zS.prototype,t.la=8,t.G=1,t.connect=function(m,k,j,L){An(0),this.W=m,this.H=k||{},j&&L!==void 0&&(this.H.OSID=j,this.H.OAID=L),this.F=this.X,this.I=ZS(this,null,this.W),Gf(this)};function ly(m){if(GS(m),m.G==3){var k=m.U++,j=Si(m.I);if(dt(j,"SID",m.K),dt(j,"RID",k),dt(j,"TYPE","terminate"),Wc(m,j),k=new hs(m,m.j,k),k.L=2,k.v=Ff(Si(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=k.v,j=!0),j||(k.g=eE(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Lf(k)}QS(m)}function zf(m){m.g&&(uy(m),m.g.cancel(),m.g=null)}function GS(m){zf(m),m.u&&(l.clearTimeout(m.u),m.u=null),Hf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Gf(m){if(!TS(m.h)&&!m.s){m.s=!0;var k=m.Ga;q||K(),V||(q(),V=!0),G.add(k,m),m.B=0}}function u3(m,k){return AS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=$c(h(m.Ga,m,k),XS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new hs(this,this.j,m);let X=this.o;if(this.S&&(X?(X=A(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var k=0,j=0;j<this.i.length;j++){t:{var L=this.i[j];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(k+=L,4096<k){k=j;break e}if(k===4096||j===this.i.length-1){k=j+1;break e}}k=1e3}else k=1e3;k=WS(this,W,k),j=Si(this.I),dt(j,"RID",m),dt(j,"CVER",22),this.D&&dt(j,"X-HTTP-Session-Id",this.D),Wc(this,j),X&&(this.O?k="headers="+encodeURIComponent(String($S(X)))+"&"+k:this.m&&oy(j,this.m,X)),ay(this.h,W),this.Ua&&dt(j,"TYPE","init"),this.P?(dt(j,"$req",k),dt(j,"SID","null"),W.T=!0,ny(W,j,null)):ny(W,j,k),this.G=2}}else this.G==3&&(m?HS(this,m):this.i.length==0||TS(this.h)||HS(this))};function HS(m,k){var j;k?j=k.l:j=m.U++;const L=Si(m.I);dt(L,"SID",m.K),dt(L,"RID",j),dt(L,"AID",m.T),Wc(m,L),m.m&&m.o&&oy(L,m.m,m.o),j=new hs(m,m.j,j,m.B+1),m.m===null&&(j.H=m.o),k&&(m.i=k.D.concat(m.i)),k=WS(m,j,1e3),j.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ay(m.h,j),ny(j,L,k)}function Wc(m,k){m.H&&w(m.H,function(j,L){dt(k,L,j)}),m.l&&IS({},function(j,L){dt(k,L,j)})}function WS(m,k,j){j=Math.min(m.i.length,j);var L=m.l?h(m.l.Na,m.l,m):null;e:{var W=m.i;let X=-1;for(;;){const de=["count="+j];X==-1?0<j?(X=W[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let rt=!0;for(let tn=0;tn<j;tn++){let Ge=W[tn].g;const hn=W[tn].map;if(Ge-=X,0>Ge)X=Math.max(0,W[tn].g-100),rt=!1;else try{a3(hn,de,"req"+Ge+"_")}catch{L&&L(hn)}}if(rt){L=de.join("&");break e}}}return m=m.i.splice(0,j),k.D=m,L}function KS(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;q||K(),V||(q(),V=!0),G.add(k,m),m.v=0}}function cy(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=$c(h(m.Fa,m),XS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,JS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$c(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),zf(this),JS(this))};function uy(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function JS(m){m.g=new hs(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Si(m.qa);dt(k,"RID","rpc"),dt(k,"SID",m.K),dt(k,"AID",m.T),dt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&dt(k,"TO",m.ja),dt(k,"TYPE","xmlhttp"),Wc(m,k),m.m&&m.o&&oy(k,m.m,m.o),m.L&&(m.g.I=m.L);var j=m.g;m=m.ia,j.L=1,j.v=Ff(Si(k)),j.m=null,j.P=!0,_S(j,m)}t.Za=function(){this.C!=null&&(this.C=null,zf(this),cy(this),An(19))};function Hf(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function YS(m,k){var j=null;if(m.g==k){Hf(m),uy(m),m.g=null;var L=2}else if(sy(m.h,k))j=k.D,kS(m.h,k),L=1;else return;if(m.G!=0){if(k.o)if(L==1){j=k.m?k.m.length:0,k=Date.now()-k.F;var W=m.B;L=Mf(),It(L,new xS(L,j)),Gf(m)}else KS(m);else if(W=k.s,W==3||W==0&&0<k.X||!(L==1&&u3(m,k)||L==2&&cy(m)))switch(j&&0<j.length&&(k=m.h,k.i=k.i.concat(j)),W){case 1:ga(m,5);break;case 4:ga(m,10);break;case 3:ga(m,6);break;default:ga(m,2)}}}function XS(m,k){let j=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(j*=2),j*k}function ga(m,k){if(m.j.info("Error code "+k),k==2){var j=h(m.fb,m),L=m.Xa;const W=!L;L=new ma(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$f(L,"https"),Ff(L),W?r3(L.toString(),j):i3(L.toString(),j)}else An(2);m.G=0,m.l&&m.l.sa(k),QS(m),GS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function QS(m){if(m.G=0,m.ka=[],m.l){const k=CS(m.h);(k.length!=0||m.i.length!=0)&&(v(m.ka,k),v(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function ZS(m,k,j){var L=j instanceof ma?Si(j):new ma(j);if(L.g!="")k&&(L.g=k+"."+L.g),Vf(L,L.s);else{var W=l.location;L=W.protocol,k=k?k+"."+W.hostname:W.hostname,W=+W.port;var X=new ma(null);L&&$f(X,L),k&&(X.g=k),W&&Vf(X,W),j&&(X.l=j),L=X}return j=m.D,k=m.ya,j&&k&&dt(L,j,k),dt(L,"VER",m.la),Wc(m,L),L}function eE(m,k,j){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new St(new Uf({eb:j})):new St(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tE(){}t=tE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wf(){}Wf.prototype.g=function(m,k){return new Xn(m,k)};function Xn(m,k){Dt.call(this),this.g=new zS(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!_(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new So(this)}x(Xn,Dt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){ly(this.g)},Xn.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.u&&(j={},j.__data__=Y0(m),m=j);k.i.push(new W$(k.Ya++,m)),k.G==3&&Gf(k)},Xn.prototype.N=function(){this.g.l=null,delete this.j,ly(this.g),delete this.g,Xn.aa.N.call(this)};function nE(m){Q0.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const j in k){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}x(nE,Q0);function rE(){Z0.call(this),this.status=1}x(rE,Z0);function So(m){this.g=m}x(So,tE),So.prototype.ua=function(){It(this.g,"a")},So.prototype.ta=function(m){It(this.g,new nE(m))},So.prototype.sa=function(m){It(this.g,new rE)},So.prototype.ra=function(){It(this.g,"b")},Wf.prototype.createWebChannel=Wf.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,J5=function(){return new Wf},K5=function(){return Mf()},W5=ha,uw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Of.NO_ERROR=0,Of.TIMEOUT=8,Of.HTTP_ERROR=6,Xh=Of,vS.COMPLETE="complete",H5=vS,pS.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,_u=pS,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,G5=St}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const PC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new eN("@firebase/firestore");function fu(){return so.logLevel}function ve(t,...e){if(so.logLevel<=Ve.DEBUG){const n=e.map(rN);so.debug(`Firestore (${kc}): ${t}`,...n)}}function es(t,...e){if(so.logLevel<=Ve.ERROR){const n=e.map(rN);so.error(`Firestore (${kc}): ${t}`,...n)}}function tc(t,...e){if(so.logLevel<=Ve.WARN){const n=e.map(rN);so.warn(`Firestore (${kc}): ${t}`,...n)}}function rN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw es(e),new Error(e)}function Ze(t,e){t||ke()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class $pe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vpe{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ks,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new Y5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new vn(e)}}class Fpe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Upe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fpe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bpe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qpe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new Bpe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zpe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zpe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function nc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new zt(0,0))}static max(){return new Ie(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Zd{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Gpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Zd{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return Gpe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(lt.fromString(e))}static fromName(e){return new be(lt.fromString(e).popFirst(5))}static empty(){return new be(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new lt(e.slice()))}}function Hpe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new ta(i,be.empty(),e)}function Wpe(t){return new ta(t.readTime,t.key,-1)}class ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ta(Ie.min(),be.empty(),-1)}static max(){return new ta(Ie.max(),be.empty(),-1)}}function Kpe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ype{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Jpe)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Xpe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}iN.oe=-1;function S0(t){return t==null}function Wm(t){return t===0&&1/t==-1/0}function Qpe(t){return typeof t=="number"&&Number.isInteger(t)&&!Wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RC(this.data.getIterator())}getIteratorFrom(e){return new RC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class RC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new rr([])}unionWith(e){let n=new ln(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Z5("Invalid base64 string: "+s):s}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Zpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=Zpe.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sN(t){const e=t.mapValue.fields.__previous_value__;return E0(e)?sN(e):e}function ef(t){const e=na(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class tf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch={mapValue:{}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E0(t)?4:nme(t)?9007199254740991:tme(t)?10:11:ke()}function bi(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ef(t).isEqual(ef(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=na(i.timestampValue),l=na(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ao(i.bytesValue).isEqual(ao(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kt(i.doubleValue),l=kt(s.doubleValue);return o===l?Wm(o)===Wm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return nc(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(jC(o)!==jC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!bi(o[c],l[c])))return!1;return!0}(t,e);default:return ke()}}function nf(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function rc(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=kt(s.integerValue||s.doubleValue),c=kt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return MC(t.timestampValue,e.timestampValue);case 4:return MC(ef(t),ef(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ao(s),c=ao(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=He(l[u],c[u]);if(d!==0)return d}return He(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=He(kt(s.latitude),kt(o.latitude));return l!==0?l:He(kt(s.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,d;const f=s.fields||{},h=o.fields||{},y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=(c=h.value)===null||c===void 0?void 0:c.arrayValue,b=He(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:OC(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ch.mapValue&&o===Ch.mapValue)return 0;if(s===Ch.mapValue)return 1;if(o===Ch.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=He(c[f],d[f]);if(h!==0)return h;const y=rc(l[c[f]],u[d[f]]);if(y!==0)return y}return He(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ke()}}function MC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=na(t),r=na(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function OC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rc(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function ic(t){return dw(t)}function dw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dw(n.fields[o])}`;return i+"}"}(t.mapValue):ke()}function Km(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fw(t){return!!t&&"integerValue"in t}function aN(t){return!!t&&"arrayValue"in t}function DC(t){return!!t&&"nullValue"in t}function LC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function tme(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nme(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Gu(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qn(Gu(this.value))}}function eL(t){const e=[];return xo(t.fields,(n,r)=>{const i=new an([n]);if(Qh(r)){const s=eL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,Ie.min(),Ie.min(),Ie.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Ie.min(),Ie.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Ie.min(),Ie.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.position=e,this.inclusive=n}}function $C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=rc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function rme(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{}class Mt extends tL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sme(e,n,r):n==="array-contains"?new lme(e,r):n==="in"?new cme(e,r):n==="not-in"?new ume(e,r):n==="array-contains-any"?new dme(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ame(e,r):new ome(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rc(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends tL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yr(e,n)}matches(e){return nL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nL(t){return t.op==="and"}function rL(t){return ime(t)&&nL(t)}function ime(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function hw(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(rL(t))return t.filters.map(e=>hw(e)).join(",");{const e=t.filters.map(n=>hw(n)).join(",");return`${t.op}(${e})`}}function iL(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)}(t,e):t instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&iL(o,i.filters[l]),!0):!1}(t,e):void ke()}function sL(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`}(t):t instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(sL).join(" ,")+"}"}(t):"Filter"}class sme extends Mt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class ame extends Mt{constructor(e,n){super(e,"in",n),this.keys=aL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ome extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=aL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class lme extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aN(n)&&nf(n.arrayValue,this.value)}}class cme extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nf(this.value.arrayValue,n)}}class ume extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nf(this.value.arrayValue,n)}}class dme extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aN(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function FC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fme(t,e,n,r,i,s,o)}function oN(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),S0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ic(r)).join(",")),e.ue=n}return e.ue}function lN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rme(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VC(t.startAt,e.startAt)&&VC(t.endAt,e.endAt)}function pw(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hme(t,e,n,r,i,s,o,l){return new vo(t,e,n,r,i,s,o,l)}function cN(t){return new vo(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uN(t){return t.collectionGroup!==null}function fl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ln(an.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new rf(s,r))}),n.has(an.keyField().canonicalString())||e.ce.push(new rf(an.keyField(),r))}return e.ce}function di(t){const e=Pe(t);return e.le||(e.le=pme(e,fl(t))),e.le}function pme(t,e){if(t.limitType==="F")return FC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rf(i.field,s)});const n=t.endAt?new sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sc(t.startAt.position,t.startAt.inclusive):null;return FC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mw(t,e){const n=t.filters.concat([e]);return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jm(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function T0(t,e){return lN(di(t),di(e))&&t.limitType===e.limitType}function oL(t){return`${oN(di(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sL(i)).join(", ")}]`),S0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ic(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ic(i)).join(",")),`Target(${r})`}(di(t))}; limitType=${t.limitType})`}function A0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=$C(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,fl(r),i)||r.endAt&&!function(o,l,c){const u=$C(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,fl(r),i))}(t,e)}function mme(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lL(t){return(e,n)=>{let r=!1;for(const i of fl(t)){const s=gme(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gme(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?rc(c,u):ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Q5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme=new _t(be.comparator);function ts(){return yme}const cL=new _t(be.comparator);function Nu(...t){let e=cL;for(const n of t)e=e.insert(n.key,n);return e}function uL(t){let e=cL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Va(){return Hu()}function dL(){return Hu()}function Hu(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const xme=new _t(be.comparator),vme=new ln(be.comparator);function $e(...t){let e=vme;for(const n of t)e=e.add(n);return e}const bme=new ln(He);function wme(){return bme}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function fL(t){return{integerValue:""+t}}function _me(t,e){return Qpe(e)?fL(e):dN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function Nme(t,e,n){return t instanceof Ym?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&E0(s)&&(s=sN(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sf?pL(t,e):t instanceof af?mL(t,e):function(i,s){const o=hL(i,s),l=BC(o)+BC(i.Pe);return fw(o)&&fw(i.Pe)?fL(l):dN(i.serializer,l)}(t,e)}function Sme(t,e,n){return t instanceof sf?pL(t,e):t instanceof af?mL(t,e):n}function hL(t,e){return t instanceof Xm?function(r){return fw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ym extends k0{}class sf extends k0{constructor(e){super(),this.elements=e}}function pL(t,e){const n=gL(e);for(const r of t.elements)n.some(i=>bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class af extends k0{constructor(e){super(),this.elements=e}}function mL(t,e){let n=gL(e);for(const r of t.elements)n=n.filter(i=>!bi(i,r));return{arrayValue:{values:n}}}class Xm extends k0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function BC(t){return kt(t.integerValue||t.doubleValue)}function gL(t){return aN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Eme(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sf&&i instanceof sf||r instanceof af&&i instanceof af?nc(r.elements,i.elements,bi):r instanceof Xm&&i instanceof Xm?bi(r.Pe,i.Pe):r instanceof Ym&&i instanceof Ym}(t.transform,e.transform)}class Tme{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C0{}function yL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fN(t.key,zr.none()):new Ef(t.key,t.data,zr.none());{const n=t.data,r=qn.empty();let i=new ln(an.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new da(t.key,r,new rr(i.toArray()),zr.none())}}function Ame(t,e,n){t instanceof Ef?function(i,s,o){const l=i.value.clone(),c=zC(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof da?function(i,s,o){if(!Zh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=zC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(xL(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Ef?function(s,o,l,c){if(!Zh(s.precondition,o))return l;const u=s.value.clone(),d=GC(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof da?function(s,o,l,c){if(!Zh(s.precondition,o))return l;const u=GC(s.fieldTransforms,c,o),d=o.data;return d.setAll(xL(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Zh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function kme(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hL(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function qC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nc(r,i,(s,o)=>Eme(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends C0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class da extends C0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zC(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Sme(o,l,n[i]))}return r}function GC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Nme(s,o,e))}return r}class fN extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cme extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ame(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=yL(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(n,r)=>qC(n,r))&&nc(this.baseMutations,e.baseMutations,(n,r)=>qC(n,r))}}class hN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return xme}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Fe;function Rme(t){switch(t){default:return ke();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function vL(t){if(t===void 0)return es("GRPC error has no .code"),re.UNKNOWN;switch(t){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return ke()}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mme(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome=new Ga([4294967295,4294967295],0);function HC(t){const e=Mme().encode(t),n=new z5;return n.update(e),new Uint8Array(n.digest())}function WC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ga([n,r],0),new Ga([i,s],0)]}class pN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ga.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ga.fromNumber(r)));return i.compare(Ome)===1&&(i=new Ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=HC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pN(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=HC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new I0(Ie.min(),i,new _t(He),ts(),$e())}}class Tf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tf(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bL{constructor(e,n){this.targetId=e,this.me=n}}class wL{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KC{constructor(){this.fe=0,this.ge=YC(),this.pe=dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),n=$e(),r=$e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new Tf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=YC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dme{constructor(e){this.Le=e,this.Be=new Map,this.ke=ts(),this.qe=JC(),this.Qe=new _t(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(pw(s))if(r===0){const o=new be(s.path);this.Ue(n,o,Nn.newNoDocument(o,Ie.min()))}else Ze(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ao(r).toUint8Array()}catch(c){if(c instanceof Z5)return tc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new pN(o,i,s)}catch(c){return tc(c instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&pw(l.target)){const c=new be(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Nn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=$e();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new I0(e,n,this.Qe,this.ke,r);return this.ke=ts(),this.qe=JC(),this.Qe=new _t(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new KC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new KC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function JC(){return new _t(be.comparator)}function YC(){return new _t(be.comparator)}const Lme={asc:"ASCENDING",desc:"DESCENDING"},$me={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vme={and:"AND",or:"OR"};class Fme{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gw(t,e){return t.useProto3Json||S0(e)?e:{value:e}}function Qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _L(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ume(t,e){return Qm(t,e.toTimestamp())}function fi(t){return Ze(!!t),Ie.fromTimestamp(function(n){const r=na(n);return new zt(r.seconds,r.nanos)}(t))}function mN(t,e){return yw(t,e).canonicalString()}function yw(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NL(t){const e=lt.fromString(t);return Ze(kL(e)),e}function xw(t,e){return mN(t.databaseId,e.path)}function wx(t,e){const n=NL(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(EL(n))}function SL(t,e){return mN(t.databaseId,e)}function Bme(t){const e=NL(t);return e.length===4?lt.emptyPath():EL(e)}function vw(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EL(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XC(t,e,n){return{name:xw(t,e),fields:n.value.mapValue.fields}}function qme(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ze(d===void 0||typeof d=="string"),dn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?re.UNKNOWN:vL(u.code);return new pe(d,u.message||"")}(o);n=new wL(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wx(t,r.document.name),s=fi(r.document.updateTime),o=r.document.createTime?fi(r.document.createTime):Ie.min(),l=new qn({mapValue:{fields:r.document.fields}}),c=Nn.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ep(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wx(t,r.document),s=r.readTime?fi(r.readTime):Ie.min(),o=Nn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ep([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wx(t,r.document),s=r.removedTargetIds||[];n=new ep([],s,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jme(i,s),l=r.targetId;n=new bL(l,o)}}return n}function zme(t,e){let n;if(e instanceof Ef)n={update:XC(t,e.key,e.value)};else if(e instanceof fN)n={delete:xw(t,e.key)};else if(e instanceof da)n={update:XC(t,e.key,e.data),updateMask:Zme(e.fieldMask)};else{if(!(e instanceof Cme))return ke();n={verify:xw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ym)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof af)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xm)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ume(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke()}(t,e.precondition)),n}function Gme(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fi(i.updateTime):fi(s);return o.isEqual(Ie.min())&&(o=fi(s)),new Tme(o,i.transformResults||[])}(n,e))):[]}function Hme(t,e){return{documents:[SL(t,e.path)]}}function Wme(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SL(t,i);const s=function(u){if(u.length!==0)return AL(Yr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Po(h.field),direction:Yme(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=gw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Kme(t){let e=Bme(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=TL(f);return h instanceof Yr&&rL(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(x){return new rf(jo(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,S0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,y=f.values||[];return new sc(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new sc(y,h)}(n.endAt)),hme(e,i,o,s,l,"F",c,u)}function Jme(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jo(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jo(n.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>TL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function Yme(t){return Lme[t]}function Xme(t){return $me[t]}function Qme(t){return Vme[t]}function Po(t){return{fieldPath:t.canonicalString()}}function jo(t){return an.fromServerFormat(t.fieldPath)}function AL(t){return t instanceof Mt?function(n){if(n.op==="=="){if(LC(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(DC(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LC(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(DC(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:Xme(n.op),value:n.value}}}(t):t instanceof Yr?function(n){const r=n.getFilters().map(i=>AL(i));return r.length===1?r[0]:{compositeFilter:{op:Qme(n.op),filters:r}}}(t):ke()}function Zme(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s=Ie.min(),o=Ie.min(),l=dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ege{constructor(e){this.ct=e}}function tge(t){const e=Kme({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nge{constructor(){this.un=new rge}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ta.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class rge{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ac(0)}static kn(){return new ac(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ige{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sge{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class age{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wu(r.mutation,i,rr.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=Va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nu();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ts();const o=Hu(),l=function(){return Hu()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof da)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Wu(d.mutation,u,d.mutation.getFieldMask(),zt.now())):o.set(u.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new sge(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Hu();let i=new _t((o,l)=>o-l),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||rr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||$e()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=dL();d.forEach(h=>{if(!s.has(h)){const y=yL(n.get(h),r.get(h));y!==null&&f.set(h,y),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(Va());let l=-1,c=s;return o.next(u=>se.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,$e())).next(d=>({batchId:l,changes:uL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nu();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,c=>{const u=function(f,h){return new vo(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nn.newInvalidDocument(d)))});let l=Nu();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Wu(d.mutation,u,rr.empty(),zt.now()),A0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oge{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:tge(i.bundledQuery),readTime:fi(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lge{constructor(){this.overlays=new _t(be.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Va();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Va(),s=n.length+1,o=new be(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Va(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Va(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return se.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pme(n,r));let s=this.Ir.get(n);s===void 0&&(s=$e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Tr=new ln(Wt.Er),this.dr=new ln(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new lt([])),r=new Wt(n,e),i=new Wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new lt([])),r=new Wt(n,e),i=new Wt(n,e+1);let s=$e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Wt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ime(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Wt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(He);return n.forEach(i=>{const s=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;be.isDocumentKey(s)||(s=s.child(""));const o=new Wt(new be(s),0);let l=new ln(He);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),se.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new Wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(e){this.Mr=e,this.docs=function(){return new _t(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ts();const o=n.path,l=new be(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Kpe(Wpe(d),r)<=0||(i.has(d.key)||A0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ke()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fge(this)}getSize(e){return se.resolve(this.size)}}class fge extends ige{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(e){this.persistence=e,this.Nr=new Cc(n=>oN(n),lN),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gN,this.targetCount=0,this.kr=ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(e,n){this.qr={},this.overlays={},this.Qr=new iN(0),this.Kr=!1,this.Kr=!0,this.$r=new cge,this.referenceDelegate=e(this),this.Ur=new hge(this),this.indexManager=new nge,this.remoteDocumentCache=function(i){return new dge(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ege(n),this.Gr=new oge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lge,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new uge(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new mge(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mge extends Ype{constructor(e){super(),this.currentSequenceNumber=e}}class yN{constructor(e){this.persistence=e,this.Jr=new gN,this.Yr=null}static Zr(e){return new yN(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=$e(),i=$e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gge{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yge{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xhe()?8:Xpe(Tn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gge;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fu()<=Ve.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(fu()<=Ve.DEBUG&&ve("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fu()<=Ve.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):se.resolve())}Yi(e,n){if(UC(n))return se.resolve(null);let r=di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jm(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=$e(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Jm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return UC(n)||i.isEqual(Ie.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?se.resolve(null):(fu()<=Ve.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Io(n)),this.rs(e,o,n,Hpe(i,-1)).next(l=>l))})}ts(e,n){let r=new ln(lL(e));return n.forEach((i,s)=>{A0(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return fu()<=Ve.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Io(n)),this.Ji.getDocumentsMatchingQuery(e,n,ta.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xge{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(He),this._s=new Cc(s=>oN(s),lN),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new age(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vge(t,e,n,r){return new xge(t,e,n,r)}async function CL(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=$e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function bge(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let y=se.resolve();return h.forEach(x=>{y=y.next(()=>d.getEntry(c,x)).next(b=>{const v=u.docVersions.get(x);Ze(v!==null),b.version.compareTo(v)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=$e();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IL(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function wge(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let y=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(b,v,N){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(h,y,d)&&l.push(n.Ur.updateTargetData(s,y))});let c=ts(),u=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(_ge(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Ie.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return se.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function _ge(t,e,n){let r=$e(),i=$e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ts();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ve("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function Nge(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sge(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function bw(t,e,n){const r=Pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sf(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function QC(t,e,n){const r=Pe(t);let i=Ie.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Pe(c),h=f._s.get(d);return h!==void 0?se.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,di(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ie.min(),n?s:$e())).next(l=>(Ege(r,mme(e),l),{documents:l,Ts:s})))}function Ege(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ZC{constructor(){this.activeTargetIds=wme()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tge{constructor(){this.so=new ZC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ZC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Age{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function _x(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class Ige extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=_x(),c=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(ve("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw tc("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=kge[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=_x();return new Promise((o,l)=>{const c=new G5;c.setWithCredentials(!0),c.listenOnce(H5.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xh.NO_ERROR:const d=c.getResponseJson();ve(yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xh.TIMEOUT:ve(yn,`RPC '${e}' ${s} timed out`),l(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const f=c.getStatus();if(ve(yn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const x=function(v){const N=v.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(y.status);l(new pe(x,y.message))}else l(new pe(re.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pe(re.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ve(yn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ve(yn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=_x(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=J5(),l=K5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");ve(yn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,y=!1;const x=new Cge({Io:v=>{y?ve(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ve(yn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(yn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),b=(v,N,_)=>{v.listen(N,S=>{try{_(S)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,_u.EventType.OPEN,()=>{y||(ve(yn,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),b(f,_u.EventType.CLOSE,()=>{y||(y=!0,ve(yn,`RPC '${e}' stream ${i} transport closed`),x.So())}),b(f,_u.EventType.ERROR,v=>{y||(y=!0,tc(yn,`RPC '${e}' stream ${i} transport errored:`,v),x.So(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),b(f,_u.EventType.MESSAGE,v=>{var N;if(!y){const _=v.data[0];Ze(!!_);const S=_,C=S.error||((N=S[0])===null||N===void 0?void 0:N.error);if(C){ve(yn,`RPC '${e}' stream ${i} received error:`,C);const T=C.status;let w=function(I){const R=Pt[I];if(R!==void 0)return vL(R)}(T),E=C.message;w===void 0&&(w=re.INTERNAL,E="Unknown error status: "+T+" with message "+C.message),y=!0,x.So(new pe(w,E)),f.close()}else ve(yn,`RPC '${e}' stream ${i} received:`,_),x.bo(_)}}),b(l,W5.STAT_EVENT,v=>{v.stat===uw.PROXY?ve(yn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===uw.NOPROXY&&ve(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Nx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){return new Fme(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pge extends jL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qme(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?fi(o.readTime):Ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vw(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=pw(c)?{documents:Hme(s,c)}:{query:Wme(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=_L(s,o.resumeToken);const u=gw(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){l.readTime=Qm(s,o.snapshotVersion.toTimestamp());const u=gw(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Jme(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vw(this.serializer),n.removeTarget=e,this.a_(n)}}class jge extends jL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Gme(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zme(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,yw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(re.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,yw(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Mge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(es(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oge{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{bo(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Pe(c);u.L_.add(4),await Af(u),u.q_.set("Unknown"),u.L_.delete(4),await j0(u)}(this))})}),this.q_=new Mge(r,i)}}async function j0(t){if(bo(t))for(const e of t.B_)await e(!0)}async function Af(t){for(const e of t.B_)await e(!1)}function RL(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_N(n)?wN(n):Ic(n).r_()&&bN(n,e))}function vN(t,e){const n=Pe(t),r=Ic(n);n.N_.delete(e),r.r_()&&ML(n,e),n.N_.size===0&&(r.r_()?r.o_():bo(n)&&n.q_.set("Unknown"))}function bN(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).A_(e)}function ML(t,e){t.Q_.xe(e),Ic(t).R_(e)}function wN(t){t.Q_=new Dme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.q_.v_()}function _N(t){return bo(t)&&!Ic(t).n_()&&t.N_.size>0}function bo(t){return Pe(t).L_.size===0}function OL(t){t.Q_=void 0}async function Dge(t){t.q_.set("Online")}async function Lge(t){t.N_.forEach((e,n)=>{bN(t,e)})}async function $ge(t,e){OL(t),_N(t)?(t.q_.M_(e),wN(t)):t.q_.set("Unknown")}async function Vge(t,e,n){if(t.q_.set("Online"),e instanceof wL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zm(t,r)}else if(e instanceof ep?t.Q_.Ke(e):e instanceof bL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await IL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),ML(s,c);const f=new Ms(d.target,c,u,d.sequenceNumber);bN(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await Zm(t,r)}}async function Zm(t,e,n){if(!Sf(e))throw e;t.L_.add(1),await Af(t),t.q_.set("Offline"),n||(n=()=>IL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await j0(t)})}function DL(t,e){return e().catch(n=>Zm(t,n,e))}async function R0(t){const e=Pe(t),n=ra(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fge(e);)try{const i=await Nge(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Uge(e,i)}catch(i){await Zm(e,i)}LL(e)&&$L(e)}function Fge(t){return bo(t)&&t.O_.length<10}function Uge(t,e){t.O_.push(e);const n=ra(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LL(t){return bo(t)&&!ra(t).n_()&&t.O_.length>0}function $L(t){ra(t).start()}async function Bge(t){ra(t).p_()}async function qge(t){const e=ra(t);for(const n of t.O_)e.m_(n.mutations)}async function zge(t,e,n){const r=t.O_.shift(),i=hN.from(r,e,n);await DL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await R0(t)}async function Gge(t,e){e&&ra(t).V_&&await async function(r,i){if(function(o){return Rme(o)&&o!==re.ABORTED}(i.code)){const s=r.O_.shift();ra(r).s_(),await DL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await R0(r)}}(t,e),LL(t)&&$L(t)}async function tI(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=bo(n);n.L_.add(3),await Af(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await j0(n)}async function Hge(t,e){const n=Pe(t);e?(n.L_.delete(2),await j0(n)):e||(n.L_.add(2),await Af(n),n.q_.set("Unknown"))}function Ic(t){return t.K_||(t.K_=function(n,r,i){const s=Pe(n);return s.w_(),new Pge(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Dge.bind(null,t),Ro:Lge.bind(null,t),mo:$ge.bind(null,t),d_:Vge.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_N(t)?wN(t):t.q_.set("Unknown")):(await t.K_.stop(),OL(t))})),t.K_}function ra(t){return t.U_||(t.U_=function(n,r,i){const s=Pe(n);return s.w_(),new jge(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Bge.bind(null,t),mo:Gge.bind(null,t),f_:qge.bind(null,t),g_:zge.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await R0(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new NN(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SN(t,e){if(es("AsyncQueue",`${e}: ${t}`),Sf(t))return new pe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.W_=new _t(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new oc(e,n,hl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wge{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Kge{constructor(){this.queries=rI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Pe(n),s=i.queries;i.queries=rI(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function rI(){return new Cc(t=>oL(t),T0)}async function VL(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Wge,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=SN(o,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&EN(n)}async function FL(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jge(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&EN(n)}function Yge(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function EN(t){t.Y_.forEach(e=>{e.next()})}var ww,iI;(iI=ww||(ww={})).ea="default",iI.Cache="cache";class UL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ww.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.key=e}}class qL{constructor(e){this.key=e}}class Xge{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=lL(e),this.Ra=new hl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new nI,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),y=A0(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let v=!1;h&&y?h.data.isEqual(y.data)?x!==b&&(r.track({type:3,doc:y}),v=!0):this.ga(h,y)||(r.track({type:2,doc:y}),v=!0,(c&&this.Aa(y,c)>0||u&&this.Aa(y,u)<0)&&(l=!0)):!h&&y?(r.track({type:0,doc:y}),v=!0):h&&!y&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(l=!0)),v&&(y?(o=o.add(y),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(y,x){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return b(y)-b(x)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new oc(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new BL(r))}),n}ba(e){this.Ta=e.Ts,this.da=$e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Qge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zge{constructor(e){this.key=e,this.va=!1}}class e0e{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cc(l=>oL(l),T0),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(be.comparator),this.Na=new Map,this.La=new gN,this.Ba={},this.ka=new Map,this.qa=ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function t0e(t,e,n=!0){const r=JL(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await zL(r,e,n,!0),i}async function n0e(t,e){const n=JL(t);await zL(n,e,!0,!1)}async function zL(t,e,n,r){const i=await Sge(t.localStore,di(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await r0e(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&RL(t.remoteStore,i),l}async function r0e(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,v,N,_){let S=v.view.ma(N);S.ns&&(S=await QC(b.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,S)));const C=_&&_.targetChanges.get(v.targetId),T=_&&_.targetMismatches.get(v.targetId)!=null,w=v.view.applyChanges(S,b.isPrimaryClient,C,T);return aI(b,v.targetId,w.wa),w.snapshot}(t,f,h,y);const s=await QC(t.localStore,e,!0),o=new Xge(e,s.Ts),l=o.ma(s.documents),c=Tf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);aI(t,n,u.wa);const d=new Qge(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function i0e(t,e,n){const r=Pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!T0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vN(r.remoteStore,i.targetId),_w(r,i.targetId)}).catch(Nf)):(_w(r,i.targetId),await bw(r.localStore,i.targetId,!0))}async function s0e(t,e){const n=Pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vN(n.remoteStore,r.targetId))}async function a0e(t,e,n){const r=h0e(t);try{const i=await function(o,l){const c=Pe(o),u=zt.now(),d=l.reduce((y,x)=>y.add(x.key),$e());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=ts(),b=$e();return c.cs.getEntries(y,d).next(v=>{x=v,x.forEach((N,_)=>{_.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(v=>{f=v;const N=[];for(const _ of l){const S=kme(_,f.get(_.key).overlayedDocument);S!=null&&N.push(new da(_.key,S,eL(S.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,N,l)}).next(v=>{h=v;const N=v.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(y,v.batchId,N)})}).then(()=>({batchId:h.batchId,changes:uL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new _t(He)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await kf(r,i.changes),await R0(r.remoteStore)}catch(i){const s=SN(i,"Failed to persist write");n.reject(s)}}async function GL(t,e){const n=Pe(t);try{const r=await wge(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ze(o.va):i.removedDocuments.size>0&&(Ze(o.va),o.va=!1))}),await kf(n,r,e)}catch(r){await Nf(r)}}function sI(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Pe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&EN(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o0e(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new _t(be.comparator);o=o.insert(s,Nn.newNoDocument(s,Ie.min()));const l=$e().add(s),c=new I0(Ie.min(),new Map,new _t(He),o,l);await GL(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),TN(r)}else await bw(r.localStore,e,!1).then(()=>_w(r,e,n)).catch(Nf)}async function l0e(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await bge(n.localStore,e);WL(n,r,null),HL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kf(n,i)}catch(i){await Nf(i)}}async function c0e(t,e,n){const r=Pe(t);try{const i=await function(o,l){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ze(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);WL(r,e,n),HL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kf(r,i)}catch(i){await Nf(i)}}function HL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WL(t,e,n){const r=Pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _w(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||KL(t,r)})}function KL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vN(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),TN(t))}function aI(t,e,n){for(const r of n)r instanceof BL?(t.La.addReference(r.key,e),u0e(t,r)):r instanceof qL?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KL(t,r.key)):ke()}function u0e(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),TN(t))}function TN(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new Zge(n)),t.Oa=t.Oa.insert(n,r),RL(t.remoteStore,new Ms(di(cN(n.path)),r,"TargetPurposeLimboResolution",iN.oe))}}async function kf(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=xN.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const d=Pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(u,h=>se.forEach(h.$i,y=>d.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>se.forEach(h.Ui,y=>d.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Sf(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=d.os.get(h),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(h,b)}}}(r.localStore,s))}async function d0e(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await CL(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new pe(re.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kf(n,r.hs)}}function f0e(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return $e().add(r.key);{let i=$e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function JL(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o0e.bind(null,e),e.Ca.d_=Jge.bind(null,e.eventManager),e.Ca.$a=Yge.bind(null,e.eventManager),e}function h0e(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c0e.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=P0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vge(this.persistence,new yge,e.initialUser,this.serializer)}Ga(e){return new pge(yN.Zr,this.serializer)}Wa(e){return new Tge}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class Nw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d0e.bind(null,this.syncEngine),await Hge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kge}()}createDatastore(e){const n=P0(e.databaseInfo.databaseId),r=function(s){return new Ige(s)}(e.databaseInfo);return function(s,o,l,c){return new Rge(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Oge(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sI(this.syncEngine,n,0),function(){return eI.D()?new eI:new Age}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,d){const f=new e0e(i,s,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Pe(i);ve("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Af(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nw.provider={build:()=>new Nw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0e{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vn.UNAUTHENTICATED,this.clientId=X5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=SN(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m0e(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tI(e.remoteStore,i)),t._onlineComponents=e}async function m0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await Sx(t,new eg)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Sx(t,new eg);return t._offlineComponents}async function XL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await oI(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await oI(t,new Nw))),t._onlineComponents}function g0e(t){return XL(t).then(e=>e.syncEngine)}async function Sw(t){const e=await XL(t),n=e.eventManager;return n.onListen=t0e.bind(null,e.syncEngine),n.onUnlisten=i0e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n0e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s0e.bind(null,e.syncEngine),n}function y0e(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new YL({next:h=>{d.Za(),o.enqueueAndForget(()=>FL(s,f)),h.fromCache&&c.source==="server"?u.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new UL(l,d,{includeMetadataChanges:!0,_a:!0});return VL(s,f)}(await Sw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x0e(t,e,n,r){if(e===!0&&r===!0)throw new pe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cI(t){if(!be.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uI(t){if(be.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=M0(t);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function v0e(t,e){if(e<=0)throw new pe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x0e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lpe;switch(r.type){case"firstParty":return new Upe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lI.get(n);r&&(ve("ComponentProvider","Removing Datastore"),lI.delete(n),r.terminate())}(this),Promise.resolve()}}function b0e(t,e,n,r={}){var i;const s=(t=hi(t,O0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=vn.MOCK_USER;else{l=dhe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new vn(u)}t._authCredentials=new $pe(new Y5(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Js extends Ni{constructor(e,n,r){super(e,n,cN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new be(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Et(t,e,...n){if(t=un(t),ZL("collection","path",e),t instanceof O0){const r=lt.fromString(e,...n);return uI(r),new Js(t,null,r)}{if(!(t instanceof Jn||t instanceof Js))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return uI(r),new Js(t.firestore,null,r)}}function Vt(t,e,...n){if(t=un(t),arguments.length===1&&(e=X5.newId()),ZL("doc","path",e),t instanceof O0){const r=lt.fromString(e,...n);return cI(r),new Jn(t,null,new be(r))}{if(!(t instanceof Jn||t instanceof Js))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return cI(r),new Jn(t.firestore,t instanceof Js?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PL(this,"async_queue_retry"),this.Vu=()=>{const r=Nx();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ks;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw es("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=NN.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function hI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class lo extends O0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fI(e),this._firestoreClient=void 0,await e}}}function w0e(t,e){const n=typeof t=="object"?t:U5(),r=typeof t=="string"?t:"(default)",i=nN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=che("firestore");s&&b0e(i,...s)}return i}function AN(t){if(t._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_0e(t),t._firestoreClient}function _0e(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new eme(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new p0e(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(dn.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lc(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e=/^__.*__$/;class S0e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}class e6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class PN{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new PN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(t6(this.Cu)&&N0e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class E0e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||P0(e)}Qu(e,n,r,i=!1){return new PN({Cu:e,methodName:n,qu:r,path:an.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(t){const e=t._freezeSettings(),n=P0(t._databaseId);return new E0e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T0e(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);jN("Data must be an object, but it was:",o,r);const l=r6(r,o);let c,u;if(s.merge)c=new rr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Ew(e,f,n);if(!o.contains(h))throw new pe(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);s6(d,h)||d.push(h)}c=new rr(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new S0e(new qn(l),c,u)}class $0 extends kN{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $0}}function A0e(t,e,n,r){const i=t.Qu(1,e,n);jN("Data must be an object, but it was:",i,r);const s=[],o=qn.empty();xo(r,(c,u)=>{const d=RN(e,c,n);u=un(u);const f=i.Nu(d);if(u instanceof $0)s.push(d);else{const h=Cf(u,f);h!=null&&(s.push(d),o.set(d,h))}});const l=new rr(s);return new e6(o,l,i.fieldTransforms)}function k0e(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Ew(e,r,n)],c=[i];if(s.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(Ew(e,s[h])),c.push(s[h+1]);const u=[],d=qn.empty();for(let h=l.length-1;h>=0;--h)if(!s6(u,l[h])){const y=l[h];let x=c[h];x=un(x);const b=o.Nu(y);if(x instanceof $0)u.push(y);else{const v=Cf(x,b);v!=null&&(u.push(y),d.set(y,v))}}const f=new rr(u);return new e6(d,f,o.fieldTransforms)}function n6(t,e,n,r=!1){return Cf(n,t.Qu(r?4:3,e))}function Cf(t,e){if(i6(t=un(t)))return jN("Unsupported field value:",e,t),r6(t,e);if(t instanceof kN)return function(r,i){if(!t6(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Cf(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _me(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:Qm(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qm(i.serializer,s)}}if(r instanceof CN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:_L(i.serializer,r._byteString)};if(r instanceof Jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof IN)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return dN(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${M0(r)}`)}(t,e)}function r6(t,e){const n={};return Q5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const s=Cf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof CN||t instanceof lc||t instanceof Jn||t instanceof kN||t instanceof IN)}function jN(t,e,n){if(!i6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=M0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ew(t,e,n){if((e=un(e))instanceof D0)return e._internalPath;if(typeof e=="string")return RN(t,e);throw tg("Field path arguments must be of type string or ",t,!1,void 0,n)}const C0e=new RegExp("[~\\*/\\[\\]]");function RN(t,e,n){if(e.search(C0e)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new D0(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new pe(re.INVALID_ARGUMENT,l+t+c)}function s6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(V0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I0e extends MN{data(){return super.data()}}function V0(t,e){return typeof e=="string"?RN(t,e):e instanceof D0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ON{}class F0 extends ON{}function tp(t,e,...n){let r=[];e instanceof ON&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof DN).length,l=s.filter(c=>c instanceof U0).length;if(o>1||o>0&&l>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class U0 extends F0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new U0(e,n,r)}_apply(e){const n=this._parse(e);return o6(e._query,n),new Ni(e.firestore,e.converter,mw(e._query,n))}_parse(e){const n=L0(e.firestore);return function(s,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gI(f,d);const y=[];for(const x of f)y.push(mI(c,s,x));h={arrayValue:{values:y}}}else h=mI(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gI(f,d),h=n6(l,o,f,d==="in"||d==="not-in");return Mt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pI(t,e,n){const r=e,i=V0("where",t);return U0._create(i,r,n)}class DN extends ON{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)o6(o,c),o=mw(o,c)}(e._query,n),new Ni(e.firestore,e.converter,mw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LN extends F0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new LN(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rf(s,o)}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function P0e(t,e="asc"){const n=e,r=V0("orderBy",t);return LN._create(r,n)}class $N extends F0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $N(e,n,r)}_apply(e){return new Ni(e.firestore,e.converter,Jm(e._query,this._limit,this._limitType))}}function j0e(t){return v0e("limit",t),$N._create("limit",t,"F")}class VN extends F0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new VN(e,n,r)}_apply(e){const n=M0e(e,this.type,this._docOrFields,this._inclusive);return new Ni(e.firestore,e.converter,function(i,s){return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function R0e(...t){return VN._create("startAfter",t,!1)}function M0e(t,e,n,r){if(n[0]=un(n[0]),n[0]instanceof MN)return function(s,o,l,c,u){if(!c)throw new pe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of fl(s))if(f.field.isKeyField())d.push(Km(o,c.key));else{const h=c.data.field(f.field);if(E0(h))throw new pe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=f.field.canonicalString();throw new pe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(h)}return new sc(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=L0(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new pe(re.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<d.length;x++){const b=d[x];if(h[x].field.isKeyField()){if(typeof b!="string")throw new pe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!uN(o)&&b.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const v=o.path.child(lt.fromString(b));if(!be.isDocumentKey(v))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const N=new be(v);y.push(Km(l,N))}else{const v=n6(c,u,b);y.push(v)}}return new sc(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function mI(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uN(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!be.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Km(t,new be(r))}if(n instanceof Jn)return Km(t,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${M0(n)}.`)}function gI(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o6(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O0e{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>kt(o.doubleValue));return new IN(s)}convertGeoPoint(e){return new CN(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sN(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const n=na(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ze(kL(r));const i=new tf(r.get(1),r.get(3)),s=new be(r.popFirst(5));return i.isEqual(n)||es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0e(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l6 extends MN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(V0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class np extends l6{data(e={}){return super.data(e)}}class c6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new np(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new np(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Eu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new np(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Eu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:L0e(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class FN extends O0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function rp(t){t=hi(t,Ni);const e=hi(t.firestore,lo),n=AN(e),r=new FN(e);return a6(t._query),y0e(n,t._query).then(i=>new c6(e,r,t,i))}function Ai(t,e,n,...r){t=hi(t,Jn);const i=hi(t.firestore,lo),s=L0(i);let o;return o=typeof(e=un(e))=="string"||e instanceof D0?k0e(s,"updateDoc",t._key,e,n,r):A0e(s,"updateDoc",t._key,e),UN(i,[o.toMutation(t._key,zr.exists(!0))])}function ti(t){return UN(hi(t.firestore,lo),[new fN(t._key,zr.none())])}function Mr(t,e){const n=hi(t.firestore,lo),r=Vt(t),i=D0e(t.converter,e);return UN(n,[T0e(L0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function ba(t,...e){var n,r,i;t=un(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||hI(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(hI(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Jn)u=hi(t.firestore,lo),d=cN(t._key.path),c={next:f=>{e[o]&&e[o]($0e(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=hi(t,Ni);u=hi(f.firestore,lo),d=f._query;const h=new FN(u);c={next:y=>{e[o]&&e[o](new c6(u,h,f,y))},error:e[o+1],complete:e[o+2]},a6(t._query)}return function(h,y,x,b){const v=new YL(b),N=new UL(y,v,x);return h.asyncQueue.enqueueAndForget(async()=>VL(await Sw(h),N)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>FL(await Sw(h),N))}}(AN(u),d,l,c)}function UN(t,e){return function(r,i){const s=new Ks;return r.asyncQueue.enqueueAndForget(async()=>a0e(await g0e(r),i,s)),s.promise}(AN(t),e)}function $0e(t,e,n){const r=n.docs.get(e._key),i=new FN(t);return new l6(t,i,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){kc=i})(Ac),ec(new io("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new lo(new Vpe(r.getProvider("auth-internal")),new qpe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ws(PC,"4.7.3",e),Ws(PC,"4.7.3","esm2017")})();function BN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V0e=u6,d6=new wf("auth","Firebase",u6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=new eN("@firebase/auth");function F0e(t,...e){ng.logLevel<=Ve.WARN&&ng.warn(`Auth (${Ac}): ${t}`,...e)}function ip(t,...e){ng.logLevel<=Ve.ERROR&&ng.error(`Auth (${Ac}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,...e){throw qN(t,...e)}function pi(t,...e){return qN(t,...e)}function f6(t,e,n){const r=Object.assign(Object.assign({},V0e()),{[e]:n});return new wf("auth","Firebase",r).create(e,{appName:t.name})}function Ha(t){return f6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d6.create(t,...e)}function Ae(t,e,...n){if(!t)throw qN(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ip(e),new Error(e)}function rs(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U0e(){return yI()==="http:"||yI()==="https:"}function yI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U0e()||mhe()||"connection"in navigator)?navigator.onLine:!0}function q0e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=fhe()||ghe()}get(){return B0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0e=new If(3e4,6e4);function GN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pc(t,e,n,r,i={}){return p6(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=_f(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return phe()||(u.referrerPolicy="no-referrer"),h6.fetch()(m6(t,t.config.apiHost,n,l),u)})}async function p6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z0e),e);try{const i=new W0e(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ph(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ph(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f6(t,d,u);ns(t,d)}}catch(i){if(i instanceof us)throw i;ns(t,"network-request-failed",{message:String(i)})}}async function H0e(t,e,n,r,i={}){const s=await Pc(t,e,n,r,i);return"mfaPendingCredential"in s&&ns(t,"multi-factor-auth-required",{_serverResponse:s}),s}function m6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zN(t.config,i):`${t.config.apiScheme}://${i}`}class W0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),G0e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0e(t,e){return Pc(t,"POST","/v1/accounts:delete",e)}async function g6(t,e){return Pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J0e(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=HN(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ku(Ex(i.auth_time)),issuedAtTime:Ku(Ex(i.iat)),expirationTime:Ku(Ex(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ex(t){return Number(t)*1e3}function HN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=M5(n);return i?JSON.parse(i):(ip("Failed to decode base64 JWT payload"),null)}catch(i){return ip("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xI(t){const e=HN(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&Y0e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y0e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await of(t,g6(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?y6(s.providerUserInfo):[],l=Z0e(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Aw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Q0e(t){const e=un(t);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z0e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y6(t){return t.map(e=>{var{providerId:n}=e,r=BN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eye(t,e){const n=await p6(t,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=m6(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",h6.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tye(t,e){return Pc(t,"POST","/v2/accounts:revokeToken",GN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=xI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eye(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=BN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Aw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await of(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J0e(this,e)}reload(){return Q0e(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await of(this,K0e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:C,isAnonymous:T,providerData:w,stsTokenManager:E}=n;Ae(S&&E,e,"internal-error");const A=pl.fromJSON(this.name,E);Ae(typeof S=="string",e,"internal-error"),ys(f,e.name),ys(h,e.name),Ae(typeof C=="boolean",e,"internal-error"),Ae(typeof T=="boolean",e,"internal-error"),ys(y,e.name),ys(x,e.name),ys(b,e.name),ys(v,e.name),ys(N,e.name),ys(_,e.name);const I=new Li({uid:S,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:T,photoURL:x,phoneNumber:y,tenantId:b,stsTokenManager:A,createdAt:N,lastLoginAt:_});return w&&Array.isArray(w)&&(I.providerData=w.map(R=>Object.assign({},R))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new pl;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?y6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new pl;l.updateFromIdToken(r);const c=new Li({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Aw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;function $i(t){rs(t instanceof Function,"Expected a class definition");let e=vI.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x6.type="NONE";const bI=x6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,s),this.fullPersistenceKey=sp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml($i(bI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||$i(bI);const o=sp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Li._fromJSON(e,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ml(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ml(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S6(e))return"Blackberry";if(E6(e))return"Webos";if(b6(e))return"Safari";if((e.includes("chrome/")||w6(e))&&!e.includes("edge/"))return"Chrome";if(N6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v6(t=Tn()){return/firefox\//i.test(t)}function b6(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w6(t=Tn()){return/crios\//i.test(t)}function _6(t=Tn()){return/iemobile/i.test(t)}function N6(t=Tn()){return/android/i.test(t)}function S6(t=Tn()){return/blackberry/i.test(t)}function E6(t=Tn()){return/webos/i.test(t)}function WN(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nye(t=Tn()){var e;return WN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rye(){return yhe()&&document.documentMode===10}function T6(t=Tn()){return WN(t)||N6(t)||E6(t)||S6(t)||/windows phone/i.test(t)||_6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e=[]){let n;switch(t){case"Browser":n=wI(Tn());break;case"Worker":n=`${wI(Tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sye(t,e={}){return Pc(t,"GET","/v2/passwordPolicy",GN(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aye=6;class oye{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aye,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _I(this),this.idTokenSubscription=new _I(this),this.beforeStateQueue=new iye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g6(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q0e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(Ha(this));const n=e?un(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sye(this),n=new oye(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tye(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F0e(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function KN(t){return un(t)}class _I{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ehe(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cye(t){JN=t}function uye(t){return JN.loadJS(t)}function dye(){return JN.gapiScript}function fye(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hye(t,e){const n=nN(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gm(s,e??{}))return i;ns(i,"already-initialized")}return n.initialize({options:e})}function pye(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mye(t,e,n){const r=KN(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=k6(e),{host:o,port:l}=gye(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),yye()}function k6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gye(t){const e=k6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:NI(o)}}}function NI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yye(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return H0e(t,"POST","/v1/accounts:signInWithIdp",GN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye="http://localhost";class co extends C6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=BN(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new co(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:xye,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends I6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Pf{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Pf{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Pf{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=SI(r);return new cc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SI(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends us{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ig.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ig(e,n,r,i)}}function P6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ig._fromErrorAndOperation(t,s,e,r):s})}async function vye(t,e,n=!1){const r=await of(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bye(t,e,n=!1){const{auth:r}=t;if(Rs(r.app))return Promise.reject(Ha(r));const i="reauthenticate";try{const s=await of(t,P6(r,i,e,t),n);Ae(s.idToken,r,"internal-error");const o=HN(s.idToken);Ae(o,r,"internal-error");const{sub:l}=o;return Ae(t.uid===l,r,"user-mismatch"),cc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ns(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wye(t,e,n=!1){if(Rs(t.app))return Promise.reject(Ha(t));const r="signIn",i=await P6(t,r,e),s=await cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function _ye(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function Nye(t,e,n){return un(t).beforeAuthStateChanged(e,n)}const sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sg,"1"),this.storage.removeItem(sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sye=1e3,Eye=10;class R6 extends j6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rye()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Eye):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R6.type="LOCAL";const Tye=R6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6 extends j6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M6.type="SESSION";const O6=M6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aye(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new B0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await Aye(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}B0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=YN("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function Cye(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function Iye(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pye(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jye(){return D6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebaseLocalStorageDb",Rye=1,ag="firebaseLocalStorage",$6="fbase_key";class jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function q0(t,e){return t.transaction([ag],e?"readwrite":"readonly").objectStore(ag)}function Mye(){const t=indexedDB.deleteDatabase(L6);return new jf(t).toPromise()}function kw(){const t=indexedDB.open(L6,Rye);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ag,{keyPath:$6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ag)?e(r):(r.close(),await Mye(),e(await kw()))})})}async function EI(t,e,n){const r=q0(t,!0).put({[$6]:e,value:n});return new jf(r).toPromise()}async function Oye(t,e){const n=q0(t,!1).get(e),r=await new jf(n).toPromise();return r===void 0?null:r.value}function TI(t,e){const n=q0(t,!0).delete(e);return new jf(n).toPromise()}const Dye=800,Lye=3;class V6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lye)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=B0._getInstance(jye()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Iye(),!this.activeServiceWorker)return;this.sender=new kye(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kw();return await EI(e,sg,"1"),await TI(e,sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oye(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=q0(i,!1).getAll();return new jf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V6.type="LOCAL";const $ye=V6;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(t,e){return e?$i(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends C6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fye(t){return wye(t.auth,new XN(t),t.bypassAuthState)}function Uye(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),bye(n,new XN(t),t.bypassAuthState)}async function Bye(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),vye(n,new XN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fye;case"linkViaPopup":case"linkViaRedirect":return Bye;case"reauthViaPopup":case"reauthViaRedirect":return Uye;default:ns(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qye=new If(2e3,1e4);class Xo extends F6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=YN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qye.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zye="pendingRedirect",ap=new Map;class Gye extends F6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const r=await Hye(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hye(t,e){const n=Jye(e),r=Kye(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Wye(t,e){ap.set(t._key(),e)}function Kye(t){return $i(t._redirectPersistence)}function Jye(t){return sp(zye,t.config.apiKey,t.name)}async function Yye(t,e,n=!1){if(Rs(t.app))return Promise.reject(Ha(t));const r=KN(t),i=Vye(r,e),o=await new Gye(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye=10*60*1e3;class Qye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zye(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xye&&this.cachedEventUids.clear(),this.cachedEventUids.has(AI(e))}saveEventToCache(e){this.cachedEventUids.add(AI(e)),this.lastProcessedEventTime=Date.now()}}function AI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zye(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exe(t,e={}){return Pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const txe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nxe=/^https?/;async function rxe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await exe(t);for(const n of e)try{if(ixe(n))return}catch{}ns(t,"unauthorized-domain")}function ixe(t){const e=Tw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nxe.test(n))return!1;if(txe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sxe=new If(3e4,6e4);function kI(){const t=mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function axe(t){return new Promise((e,n)=>{var r,i,s;function o(){kI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kI(),n(pi(t,"network-request-failed"))},timeout:sxe.get()})}if(!((i=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mi().gapi)===null||s===void 0)&&s.load)o();else{const l=fye("iframefcb");return mi()[l]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},uye(`${dye()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw op=null,e})}let op=null;function oxe(t){return op=op||axe(t),op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lxe=new If(5e3,15e3),cxe="__/auth/iframe",uxe="emulator/auth/iframe",dxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hxe(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zN(e,uxe):`https://${t.config.authDomain}/${cxe}`,r={apiKey:e.apiKey,appName:t.name,v:Ac},i=fxe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_f(r).slice(1)}`}async function pxe(t){const e=await oxe(t),n=mi().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:hxe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dxe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pi(t,"network-request-failed"),l=mi().setTimeout(()=>{s(o)},lxe.get());function c(){mi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gxe=500,yxe=600,xxe="_blank",vxe="http://localhost";class CI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bxe(t,e,n,r=gxe,i=yxe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},mxe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tn().toLowerCase();n&&(l=w6(u)?xxe:n),v6(u)&&(e=e||vxe,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[y,x])=>`${h}${y}=${x},`,"");if(nye(u)&&l!=="_self")return wxe(e||"",l),new CI(null);const f=window.open(e||"",l,d);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new CI(f)}function wxe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _xe="__/auth/handler",Nxe="emulator/auth/handler",Sxe=encodeURIComponent("fac");async function II(t,e,n,r,i,s){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ac,eventId:i};if(e instanceof I6){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",She(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Pf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Sxe}=${encodeURIComponent(c)}`:"";return`${Exe(t)}?${_f(l).slice(1)}${u}`}function Exe({config:t}){return t.emulator?zN(t,Nxe):`https://${t.authDomain}/${_xe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="webStorageSupport";class Txe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O6,this._completeRedirectFn=Yye,this._overrideRedirectResult=Wye}async _openPopup(e,n,r,i){var s;rs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await II(e,n,r,Tw(),i);return bxe(e,o,YN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await II(e,n,r,Tw(),i);return Cye(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pxe(e),r=new Qye(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tx,{type:Tx},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Tx];o!==void 0&&n(!!o),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rxe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T6()||b6()||WN()}}const Axe=Txe;var PI="@firebase/auth",jI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cxe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ixe(t){ec(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A6(t)},u=new lye(r,i,s,c);return pye(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ec(new io("auth-internal",e=>{const n=KN(e.getProvider("auth").getImmediate());return(r=>new kxe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(PI,jI,Cxe(t)),Ws(PI,jI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pxe=5*60,jxe=L5("authIdTokenMaxAge")||Pxe;let RI=null;const Rxe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jxe)return;const i=n==null?void 0:n.token;RI!==i&&(RI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mxe(t=U5()){const e=nN(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hye(t,{popupRedirectResolver:Axe,persistence:[$ye,Tye,O6]}),r=L5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Rxe(s.toString());Nye(n,o,()=>o(n.currentUser)),_ye(n,l=>o(l))}}const i=O5("auth");return i&&mye(n,`http://${i}`),n}function Oxe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cye({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Oxe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ixe("Browser");const Dxe={apiKey:"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:"bruzzonecrm.firebaseapp.com",projectId:"bruzzonecrm",storageBucket:"bruzzonecrm.firebasestorage.app",messagingSenderId:"927179271207",appId:"1:927179271207:web:b287dce1ce53b4f3ddb202"},B6=F5(Dxe),Me=w0e(B6);Mxe(B6);const q6=D.createContext(void 0),Lxe=({children:t})=>{const[e,n]=D.useState([]),[r,i]=D.useState([]),[s,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[y,x]=D.useState([]),[b,v]=D.useState([]),[N,_]=D.useState([]),[S,C]=D.useState([]),[T,w]=D.useState(!0),[E,A]=D.useState(null);D.useEffect(()=>{const fe=[ba(Et(Me,"products"),Ne=>n(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"clients"),Ne=>i(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"suppliers"),Ne=>o(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"priceLists"),Ne=>d(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"branches"),Ne=>h(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"users"),Ne=>C(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),ba(Et(Me,"salesZones"),Ne=>_(Ne.docs.map(Le=>({id:Le.id,...Le.data()}))))];return w(!1),()=>fe.forEach(Ne=>Ne())},[]);const I=D.useCallback(async fe=>{let Ne=tp(Et(Me,"products"),P0e(fe.orderByField||"name",fe.orderDirection||"asc"));fe.startAfterDoc&&(Ne=tp(Ne,R0e(fe.startAfterDoc))),Ne=tp(Ne,j0e(fe.limit));const Le=await rp(Ne);return{products:Le.docs.map(It=>({id:It.id,...It.data()})),lastVisible:Le.docs[Le.docs.length-1],hasMore:Le.docs.length===fe.limit}},[]),R=async fe=>e.find(Ne=>Ne.id===fe)||null,P=async fe=>{await Mr(Et(Me,"products"),fe)},O=async(fe,Ne)=>{await Ai(Vt(Me,"products",fe),Ne)},M=async fe=>{await ti(Vt(Me,"products",fe))},z=async fe=>{await Mr(Et(Me,"sales"),fe)},F=async fe=>{await Mr(Et(Me,"clients"),fe)},$=async(fe,Ne)=>{await Ai(Vt(Me,"clients",fe),Ne)},q=async fe=>{await ti(Vt(Me,"clients",fe))},V=async fe=>{await Mr(Et(Me,"suppliers"),fe)},G=async(fe,Ne)=>{await Ai(Vt(Me,"suppliers",fe),Ne)},K=async fe=>{await ti(Vt(Me,"suppliers",fe))},B=async fe=>{await Mr(Et(Me,"priceLists"),fe)},J=async(fe,Ne)=>{await Ai(Vt(Me,"priceLists",fe),Ne)},te=async fe=>{await ti(Vt(Me,"priceLists",fe))},xe=async fe=>{await Mr(Et(Me,"branches"),fe)},we=async(fe,Ne)=>{await Ai(Vt(Me,"branches",fe),Ne)},Q=async fe=>{await ti(Vt(Me,"branches",fe))},ne=async fe=>{await Mr(Et(Me,"orders"),fe)},he=async(fe,Ne)=>{await Ai(Vt(Me,"orders",fe),Ne)},H=async fe=>{await ti(Vt(Me,"orders",fe))},ae=async fe=>{await Mr(Et(Me,"installmentPlans"),fe)},ue=async(fe,Ne)=>{await Ai(Vt(Me,"installmentPlans",fe),Ne)},ie=async fe=>{await ti(Vt(Me,"installmentPlans",fe))},Oe=async fe=>{await Mr(Et(Me,"transactions"),fe)},Y=async fe=>{await Mr(Et(Me,"users"),fe)},ce=async(fe,Ne)=>{await Ai(Vt(Me,"users",fe),Ne)},Te=async fe=>{await ti(Vt(Me,"users",fe))},ze=async fe=>{await Mr(Et(Me,"salesZones"),fe)},en=async(fe,Ne)=>{await Ai(Vt(Me,"salesZones",fe),Ne)},fn=async fe=>{await ti(Vt(Me,"salesZones",fe))},$n=async fe=>{const Ne={};for(const Le of fe){const Dt=await rp(Et(Me,Le));Ne[Le]=Dt.docs.map(It=>It.data())}return Ne},Vn=async fe=>{const Ne=await rp(Et(Me,fe));for(const Le of Ne.docs)await ti(Le.ref)},Ir=D.useMemo(()=>({products:e,clients:r,suppliers:s,transactions:l,priceLists:u,branches:f,orders:y,installmentPlans:b,users:S,loading:T,error:E,salesZones:N,fetchProductsPaginatedAndFiltered:I,getProductById:R,addProduct:P,updateProduct:O,deleteProduct:M,addSale:z,addClient:F,updateClient:$,deleteClient:q,addSupplier:V,updateSupplier:G,deleteSupplier:K,addPriceList:B,updatePriceList:J,deletePriceList:te,addBranch:xe,updateBranch:we,deleteBranch:Q,addOrder:ne,updateOrder:he,deleteOrder:H,addInstallmentPlan:ae,updateInstallmentPlan:ue,deleteInstallmentPlan:ie,addTransaction:Oe,exportAllData:$n,deleteAllDocumentsInCollection:Vn,addUser:Y,updateUser:ce,deleteUser:Te,addSalesZone:ze,updateSalesZone:en,deleteSalesZone:fn}),[e,r,s,l,u,f,y,b,S,T,E,N]);return a.jsx(q6.Provider,{value:Ir,children:t})},Nt=()=>{const t=D.useContext(q6);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t},$xe=()=>{const{addSale:t,addOrder:e,fetchProductsPaginatedAndFiltered:n,clients:r}=Nt(),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState(!1),[h,y]=D.useState(!1),[x,b]=D.useState({name:"",price:0,quantity:1}),[v,N]=D.useState(null),[_,S]=D.useState(""),[C,T]=D.useState(!1),[w,E]=D.useState("ticket"),[A,I]=D.useState([]),[R,P]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""}),[O,M]=D.useState([]),[z,F]=D.useState(!1),$=D.useRef(null),q=D.useCallback(Q=>{$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(!(Q.length<2)){F(!0);try{const{products:ne}=await n({limit:8,searchTerm:Q.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});M(ne)}finally{F(!1)}}},300)},[n]),V=Q=>{const ne=o.find(he=>he.id===Q.id);l(ne?o.map(he=>he.id===Q.id?{...he,quantity:he.quantity+1}:he):[...o,{id:Q.id,sku:Q.sku,name:Q.name,brand:Q.brand,price:Q.salePrice,quantity:1,stockBeforeSale:Q.stock,selectedSaleUnit:Q.saleUnit}]),s(""),M([])},G=()=>{if(!x.name||x.price<=0)return;const Q={id:`manual-${Date.now()}`,sku:"MANUAL",name:x.name,brand:"Venta Libre",price:x.price,quantity:x.quantity,stockBeforeSale:9999,isManual:!0};l([...o,Q]),f(!1),b({name:"",price:0,quantity:1})},K=o.reduce((Q,ne)=>Q+ne.price*ne.quantity,0),B=A.reduce((Q,ne)=>Q+ne.amount,0),J=K-B,te=D.useMemo(()=>_?r.filter(Q=>{var ne;return Q.name.toLowerCase().includes(_.toLowerCase())||Q.cuit.includes(_)||((ne=Q.email)==null?void 0:ne.toLowerCase().includes(_.toLowerCase()))}).slice(0,5):[],[r,_]),xe=()=>{if(!(R.amount<=0)){if((R.method==="cheque"||R.method==="echeq")&&(!R.bank||!R.checkNumber||!R.dueDate)){alert("Por favor, completa los datos del cheque (Banco, Nmero y Vencimiento).");return}I([...A,{...R,id:Date.now().toString()}]),P({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""})}},we=async()=>{if(w!=="presupuesto"&&Math.abs(J)>.01){alert(`Falta cubrir $${J.toLocaleString()} del total.`);return}y(!0);try{const Q={clientName:(v==null?void 0:v.name)||"Mostrador",clientId:(v==null?void 0:v.id)||null,items:o,total:K,paymentDetails:A,docType:w,date:new Date().toISOString(),status:w==="presupuesto"?"pendiente":"completado",seller:"Vendedor Demo"};w==="presupuesto"?(await e({clientId:(v==null?void 0:v.id)||"mostrador",clientName:(v==null?void 0:v.name)||"Mostrador",items:o.map(ne=>({productId:ne.id,sku:ne.sku,name:ne.name,brand:ne.brand,quantity:ne.quantity,unitPrice:ne.price,subtotal:ne.price*ne.quantity,originalProduct:null})),total:K,status:"pendiente_preparacion",dateCreated:new Date().toISOString()}),alert("Presupuesto guardado con xito.")):(await t(Q),alert(`Operacin "${w.toUpperCase()}" finalizada con xito.`)),l([]),u(!1),I([]),N(null),S("")}catch(Q){console.error(Q),alert("Error al procesar la operacin.")}finally{y(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Punto de venta integrado con stock y AFIP."})]}),a.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2 border border-slate-200",children:[a.jsx(Tl,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por nombre, SKU o escanea cdigo...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:i,onChange:Q=>{s(Q.target.value),q(Q.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[z&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(Be,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),O.map(Q=>a.jsxs("div",{onClick:()=>V(Q),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(LM,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:Q.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[Q.sku,"  Stock: ",a.jsx("span",{className:Q.stock<5?"text-red-500":"text-green-600",children:Q.stock})]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",Q.salePrice.toLocaleString()]})]},Q.id)),!z&&i.length>2&&O.length===0&&a.jsx("div",{className:"col-span-2 py-10 text-center text-slate-400 font-medium italic",children:"No se encontraron productos."})]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Cliente de la Venta"}),a.jsx("div",{className:"relative",children:v?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(ii,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:v.name}),a.jsx("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest truncate",children:v.cuit})]})]}),a.jsx("button",{onClick:()=>N(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(Xe,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente (Nombre o CUIT)...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:_,onChange:Q=>{S(Q.target.value),T(!0)},onFocus:()=>T(!0)}),C&&_.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden animate-in fade-in slide-in-from-top-2",children:a.jsxs("div",{className:"p-1 space-y-1",children:[te.map(Q=>a.jsxs("button",{onClick:()=>{N(Q),S(""),T(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between group transition-all text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-600 transition-colors",children:a.jsx(ii,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-xs",children:Q.name}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:Q.cuit})]})]}),a.jsx(or,{className:"w-3 h-3 text-slate-300 group-hover:text-orange-500"})]},Q.id)),te.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron clientes"}),a.jsxs("button",{onClick:()=>{N(null),S(""),T(!1)},className:"w-full p-3 border-t border-slate-50 hover:bg-slate-50 rounded-xl flex items-center gap-3 text-slate-500 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(Xr,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-xs",children:"Usar Cliente Mostrador"})]})]})})]})})]}),a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(pd,{className:"w-5 h-5 text-orange-600"})," Carrito"]}),a.jsx("button",{onClick:()=>l([]),className:"text-[10px] font-black uppercase text-red-500 hover:underline",children:"Vaciar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:o.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 space-y-4",children:[a.jsx(pd,{className:"w-16 h-16"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-widest text-center",children:"Sin artculos"})]}):o.map((Q,ne)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:Q.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:Q.quantity,onChange:he=>{const H=parseInt(he.target.value)||1;l(o.map((ae,ue)=>ue===ne?{...ae,quantity:H}:ae))},className:"w-12 bg-transparent font-black text-orange-600 outline-none"}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["x $",Q.price.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",(Q.price*Q.quantity).toLocaleString()]}),a.jsx("button",{onClick:()=>l(o.filter((he,H)=>H!==ne)),className:"p-1 text-slate-300 hover:text-red-500",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},Q.id))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total Cobrar"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",K.toLocaleString()]})]}),a.jsxs("button",{disabled:o.length===0,onClick:()=>u(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl shadow-orange-600/20 hover:bg-orange-500 active:scale-95 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(or,{className:"w-6 h-6"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Venta"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(Xe,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(ii,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"text-xl font-black text-slate-800",children:(v==null?void 0:v.name)||"Mostrador"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:(v==null?void 0:v.cuit)||"Sin CUIT registrado"})]})]}),a.jsx("button",{onClick:()=>{u(!1),T(!0)},className:"text-blue-600 text-xs font-black uppercase hover:underline",children:"Cambiar"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Comprobante"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{id:"ticket",label:"Ticket",icon:VM},{id:"factura_a",label:"Fact. A",icon:vT},{id:"factura_b",label:"Fact. B",icon:vT},{id:"remito",label:"Remito",icon:jM},{id:"presupuesto",label:"Presup.",icon:Vp}].map(Q=>a.jsxs("button",{onClick:()=>E(Q.id),className:`p-4 border-2 rounded-2xl flex flex-col items-center gap-2 transition-all ${w===Q.id?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"}`,children:[a.jsx(Q.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:Q.label})]},Q.id))})]}),w!=="presupuesto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:A.map(Q=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:Q.method.replace("_"," ")}),(Q.method==="cheque"||Q.method==="echeq")&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[Q.bank," #",Q.checkNumber," - Vence: ",Q.dueDate]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",Q.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>I(A.filter(ne=>ne.id!==Q.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},Q.id))}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-3 border border-slate-200 rounded-xl font-bold",value:R.method,onChange:Q=>P({...R,method:Q.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque Fsico"}),a.jsx("option",{value:"echeq",children:"E-Cheq"}),a.jsx("option",{value:"cuenta_corriente",disabled:!v,children:"Cta. Corriente"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",placeholder:"Monto",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold",value:R.amount||"",onChange:Q=>P({...R,amount:parseFloat(Q.target.value)||0})})]})]}),(R.method==="cheque"||R.method==="echeq")&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Banco"}),a.jsxs("div",{className:"relative",children:[a.jsx(WF,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400"}),a.jsx("input",{placeholder:"Ej: Galicia",className:"w-full pl-8 pr-3 py-2 border rounded-lg text-xs font-bold",value:R.bank,onChange:Q=>P({...R,bank:Q.target.value})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"N Cheque"}),a.jsx("input",{placeholder:"000123",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:R.checkNumber,onChange:Q=>P({...R,checkNumber:Q.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Vencimiento"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:R.dueDate,onChange:Q=>P({...R,dueDate:Q.target.value})})]})]}),a.jsxs("button",{onClick:xe,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(Je,{className:"w-4 h-4"})," Registrar Pago"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Resumen"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:w.replace("_"," ")})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"Neto Gravado"}),a.jsxs("span",{children:["$",(K/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",(K-K/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-4",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",K.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Pagado:"}),a.jsxs("span",{className:"text-green-400",children:["$",B.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center font-black text-lg",children:[a.jsx("span",{className:"text-slate-400 uppercase text-xs tracking-widest",children:"Restante:"}),a.jsxs("span",{className:J>0?"text-red-500":"text-orange-500",children:["$",J.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[Math.abs(J)>.01&&w!=="presupuesto"&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[a.jsx(Wi,{className:"w-5 h-5 text-red-500"}),a.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase leading-tight",children:"El pago debe cubrir el 100%."})]}),a.jsxs("button",{onClick:we,disabled:h||w!=="presupuesto"&&Math.abs(J)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-orange-600/40 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[h?a.jsx(Be,{className:"w-6 h-6 animate-spin"}):a.jsx(wn,{className:"w-6 h-6"}),h?"CONFIRMANDO...":"FINALIZAR"]})]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>f(!1),children:a.jsx(Xe,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:x.name,onChange:Q=>b({...x,name:Q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Descripcin del servicio/item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:x.price||"",onChange:Q=>b({...x,price:parseFloat(Q.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cant."}),a.jsx("input",{type:"number",value:x.quantity,onChange:Q=>b({...x,quantity:parseInt(Q.target.value)||1}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsx("button",{onClick:G,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest mt-4 shadow-lg active:scale-95",children:"Aadir al Carrito"})]})]})})]})},Vxe=()=>{var he;const{addSale:t,getProductById:e,clients:n}=Nt(),[r,i]=D.useState(""),[s,o]=D.useState("todos"),[l,c]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[y,x]=D.useState(!1),[b,v]=D.useState(!1),[N,_]=D.useState(null),[S,C]=D.useState([]),[T,w]=D.useState({method:"efectivo",amount:0,notes:""}),[E,A]=D.useState("invoice"),[I,R]=D.useState(0),[P,O]=D.useState(""),[M,z]=D.useState([{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"}]),[F,$]=D.useState(!1),q=H=>{switch(H){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},V=M.filter(H=>{const ae=H.client.toLowerCase().includes(r.toLowerCase())||H.id.toLowerCase().includes(r.toLowerCase()),ue=s==="todos"||H.status===s;return ae&&ue}),G=H=>{c(ae=>ae.includes(H)?ae.filter(ue=>ue!==H):[...ae,H])},K=()=>{l.length===V.length&&V.length>0?c([]):c(V.map(H=>H.id))},B=M.filter(H=>l.includes(H.id)),J=B.reduce((H,ae)=>H+ae.total,0),te=(N?N.total:J)+I,xe=S.reduce((H,ae)=>H+ae.amount,0),we=te-xe,Q=()=>{T.amount<=0||(C(H=>[...H,{...T,id:Date.now().toString()}]),w({method:"efectivo",amount:0,notes:""}))},ne=async()=>{var H;if(S.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(we)>.01){alert(`Falta asignar $${we.toLocaleString()}`);return}$(!0);try{const ae=N?[N]:B;let ue=[];for(const Oe of ae)for(const Y of Oe.itemsList){const ce=await e(Y.id),Te=ue.findIndex(ze=>ze.id===Y.id);Te!==-1?ue[Te].quantity+=Y.quantity:ue.push({...Y})}const ie={clientName:(N==null?void 0:N.client)||((H=B[0])==null?void 0:H.client),clientId:null,items:ue,total:te,paymentDetails:S,docType:E,remitoIds:ae.map(Oe=>Oe.id),seller:"Admin PC 01",date:new Date().toISOString()};await t(ie),z(Oe=>Oe.map(Y=>ae.some(ce=>ce.id===Y.id)?{...Y,status:"entregado"}:Y)),alert(`Facturacin completada! Total: $${te.toLocaleString()}`),c([]),d(!1),C([]),_(null)}finally{$(!1)}};return a.jsxs("div",{className:"space-y-6 pb-24",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]})}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:r,onChange:H=>i(H.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado"].map(H=>a.jsx("button",{onClick:()=>o(H),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${s===H?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:H},H))})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:K,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:l.length===V.length&&V.length>0?a.jsx(Op,{className:"w-5 h-5 text-orange-600"}):a.jsx(Up,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:V.map(H=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group cursor-pointer ${l.includes(H.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>G(H.id),children:l.includes(H.id)?a.jsx(Op,{className:"w-5 h-5 text-orange-600"}):a.jsx(Up,{className:"w-5 h-5 text-slate-200"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:H.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:H.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:H.itemsCount}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${q(H.status)}`,children:H.status})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",H.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>{_(H),d(!0)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(xT,{className:"w-5 h-5"})})})]},H.id))})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(N==null?void 0:N.client)||((he=B[0])==null?void 0:he.client)})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"p-3 text-slate-400",children:a.jsx(Xe,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total: $",te.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:S.map(H=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:H.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",H.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(S.filter(ae=>ae.id!==H.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},H.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:T.method,onChange:H=>w({...T,method:H.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:T.amount||"",onChange:H=>w({...T,amount:parseFloat(H.target.value)||0})})]}),a.jsx("button",{onClick:Q,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",te.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:F||Math.abs(we)>.01,onClick:ne,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(xT,{className:"w-5 h-5"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},Fxe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r}=Nt(),[i,s]=D.useState("lists"),[o,l]=D.useState(1),[c,u]=D.useState(""),[d,f]=D.useState(!1),[h,y]=D.useState(null),[x,b]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),v=[{id:1,name:"Seleccionar Proveedor",icon:Sr},{id:2,name:"Configurar Plantilla",icon:Qs},{id:3,name:"Cargar Excel",icon:Iv},{id:4,name:"Previsualizacin",icon:Ev},{id:5,name:"Anlisis y Ejecucin",icon:fU}],N=async()=>{if(!x.name){alert("El nombre de la lista es obligatorio.");return}try{if(x.isBase){const w=t.find(E=>E.isBase&&E.id!==(h==null?void 0:h.id));w&&await n(w.id,{isBase:!1})}h!=null&&h.id?(await n(h.id,x),alert("Lista de precios actualizada con xito!")):(await e(x),alert("Lista de precios creada con xito!")),f(!1),y(null),b({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(w){alert("Error al guardar la lista de precios."),console.error(w)}},_=async w=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(w),alert("Lista de precios eliminada con xito.")}catch(E){alert("Error al eliminar la lista de precios."),console.error(E)}},S=w=>{y(w),b(w||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),f(!0)},C=()=>{switch(o){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["Sinteplast","Alba","Stanley","Bosch","Tramontina","Ferrum"].map(w=>a.jsxs("button",{onClick:()=>{u(w),l(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Sr,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:w})]},w))})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",c]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>l(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((w,E)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:w.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",w.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",w.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:w.diff})]},E))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Iv,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>l(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},T=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Jh,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(Je,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(w=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${w.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[w.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${w.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:w.isBase?a.jsx($p,{className:"w-6 h-6"}):a.jsx(MM,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>S(w),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(gi,{className:"w-4 h-4"})}),!w.isBase&&a.jsx("button",{onClick:()=>_(w.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:w.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:w.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:w.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($M,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[w.value>0?"+":"",w.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${w.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:w.isBase?"Configuracin Base":"Ajustar Modificador"})]},w.id)),a.jsxs("button",{onClick:()=>S(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(Je,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(FF,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(wn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Jh,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${i==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Lu,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>s("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${i==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Jh,{className:"w-5 h-5"})," Gestin de Listas de Venta"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:i==="update"?v.map((w,E)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${o===w.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${o>=w.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:o>w.id?a.jsx(wn,{className:"w-6 h-6"}):a.jsx(w.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${o===w.id?"":"hidden md:block"}`,children:w.name})]}),E<v.length-1&&a.jsx(or,{className:"w-5 h-5 text-slate-100"})]},w.id)):a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Qs,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]})}),i==="update"?C():T(),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(Je,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:x.name||"",onChange:w=>b({...x,name:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:x.description||"",onChange:w=>b({...x,description:w.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:x.modifierType,onChange:w=>b({...x,modifierType:w.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:x.value||"",onChange:w=>b({...x,value:parseFloat(w.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:x.isBase||!1,onChange:w=>b({...x,isBase:w.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:N,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[h?"Actualizar Lista":"Crear Lista"," ",a.jsx(Mn,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},Uxe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(yU,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(Xr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(Fy,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(G1,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Fy,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Fy,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),Bxe=10,qxe=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],zxe=()=>{const{fetchProductsPaginatedAndFiltered:t}=Nt(),[e,n]=D.useState("dashboard"),[r,i]=D.useState([{id:"1",name:"Martillo Stanley 20oz",price:5500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650",price:18500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}]),[s,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState("login"),[y,x]=D.useState(null),[b,v]=D.useState(""),[N,_]=D.useState([]),[S,C]=D.useState(null),[T,w]=D.useState(!0),[E,A]=D.useState(!1),I=D.useRef(null),R=D.useCallback(async(V=!1,G=b,K=S)=>{A(!0);try{const B={limit:Bxe,searchTerm:G.toLowerCase().trim(),startAfterDoc:V?void 0:K,orderByField:"name",orderDirection:"asc"},{products:J,lastVisible:te,hasMore:xe}=await t(B);_(we=>V?J:[...we,...J]),C(te),w(xe)}catch(B){console.error("Error loading products for picker:",B)}finally{A(!1)}},[b,S,t]),P=D.useCallback(V=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{R(!0,V,null)},300)},[R]);D.useEffect(()=>{s&&(_([]),C(null),w(!0),R(!0,b,null))},[b,s,R]);const O=()=>{c(!0)},M=V=>{i([...r,{id:V.id,name:V.name,price:V.salePrice||0,stock:V.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}])},z=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f==="login"?a.jsx(ii,{className:"w-8 h-8"}):a.jsx(H1,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:f==="login"?"Hola de nuevo!":"Crea tu cuenta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa a Ferretera Norte para comprar."})]}),a.jsxs("div",{className:"px-8 pb-8 space-y-4",children:[f==="register"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"Tu nombre..."})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(OM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"email@ejemplo.com"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"password",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:""})]})]}),a.jsx("button",{onClick:()=>{x({name:"Cliente Demo"}),d(!1)},className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all mt-4",children:f==="login"?"Iniciar Sesin":"Registrarme ahora"}),a.jsxs("p",{className:"text-center text-xs font-bold text-slate-400 pt-4",children:[f==="login"?"No tienes cuenta?":"Ya eres cliente?",a.jsx("button",{onClick:()=>h(f==="login"?"register":"login"),className:"text-orange-600 ml-1 hover:underline",children:f==="login"?"Regstrate aqu":"Inicia sesin"})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-all",children:a.jsx(Xe,{className:"w-5 h-5"})})]})}),F=()=>a.jsxs("div",{className:"fixed inset-0 bg-white z-[200] overflow-y-auto animate-in fade-in duration-300 flex flex-col",children:[u&&z(),a.jsxs("div",{className:"bg-slate-100 p-3 flex justify-between items-center border-b sticky top-0 z-50",children:[a.jsxs("div",{className:"flex gap-1.5 ml-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),a.jsxs("div",{className:"bg-white border rounded-full px-8 py-1.5 text-xs text-slate-500 font-bold flex items-center gap-2",children:[a.jsx(ol,{className:"w-3 h-3"})," https://ferreteria-norte.tiendafort.com"]}),a.jsxs("button",{onClick:()=>c(!1),className:"mr-4 p-2 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all flex items-center gap-2 px-4 py-2 font-black text-[10px] uppercase tracking-widest shadow-lg",children:[a.jsx(Xe,{className:"w-4 h-4"})," Salir de vista previa"]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 pb-20",children:[a.jsxs("header",{className:"p-8 flex justify-between items-center bg-white border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg text-white",children:a.jsx(ka,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsxs("nav",{className:"hidden md:flex gap-8 font-bold text-slate-500 uppercase text-xs tracking-widest",children:[a.jsx("a",{href:"#",className:"text-orange-600 border-b-2 border-orange-500 pb-1",children:"Inicio"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Productos"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contacto"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>y?x(null):d(!0),className:"flex items-center gap-2 font-bold text-slate-700 hover:text-orange-600 transition-colors",children:y?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center border border-slate-200",children:a.jsx(ii,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:y.name})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ii,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:"Ingresar"})]})}),a.jsxs("button",{className:"relative",children:[a.jsx(pd,{className:"w-6 h-6 text-slate-700"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:"0"})]})]})]}),a.jsx("section",{className:"px-8 mt-8",children:a.jsxs("div",{className:"w-full h-[400px] bg-slate-900 rounded-[2.5rem] relative overflow-hidden flex items-center p-16 group",children:[a.jsxs("div",{className:"relative z-10 space-y-6 max-w-lg",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-[0.2em] shadow-lg",children:"Oferta de Lanzamiento"}),a.jsx("h1",{className:"text-5xl font-black text-white leading-tight",children:"Equip tu taller con lo mejor"}),a.jsx("p",{className:"text-slate-400 text-lg font-medium leading-relaxed",children:"Envos gratis en compras superiores a $50.000. Pag en 3 cuotas sin inters."}),a.jsx("button",{className:"bg-white text-slate-900 px-10 py-5 rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl shadow-white/5 active:scale-95",children:"Ver Ofertas"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=800",className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-1000",alt:"Banner"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/80 to-transparent"})]})}),a.jsx("section",{className:"px-8 mt-12 overflow-x-auto",children:a.jsx("div",{className:"flex gap-4",children:["Herramientas Elctricas","Pinturas","Bulonera","Electricidad","Jardn"].map(V=>a.jsx("button",{className:"px-6 py-3 bg-slate-50 border border-slate-100 rounded-2xl whitespace-nowrap text-xs font-black text-slate-500 uppercase tracking-widest hover:border-orange-500 hover:border-orange-600 transition-all shadow-sm",children:V},V))})}),a.jsxs("section",{className:"px-8 mt-16 space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Productos Destacados"}),a.jsxs("button",{className:"text-orange-600 font-black text-sm uppercase tracking-widest flex items-center gap-1 hover:underline",children:["Ver todo ",a.jsx(or,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.filter(V=>V.status==="publicado").map(V=>a.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden border border-slate-100 group hover:shadow-2xl transition-all duration-300",children:[a.jsx("div",{className:"aspect-square relative overflow-hidden bg-slate-50",children:a.jsx("img",{src:V.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",alt:V.name})}),a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ferretera Norte"}),a.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight line-clamp-2 min-h-[3rem]",children:V.name}),a.jsxs("div",{className:"pt-2 flex justify-between items-center",children:[a.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("button",{className:"p-3 bg-orange-600 text-white rounded-2xl hover:bg-orange-700 transition-all shadow-lg active:scale-90",children:a.jsx(Je,{className:"w-5 h-5"})})]})]})]},V.id))})]}),a.jsxs("footer",{className:"mt-32 border-t pt-20 px-8 text-center space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-white",children:a.jsx(ka,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:" 2025 FerroGest Ecommerce. Todos los derechos reservados."})]})]})]}),$=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(ka,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]}),a.jsxs("div",{className:"relative w-72",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl text-xs font-bold",placeholder:"Buscar pedido..."})]})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:qxe.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(U1,{className:"inline w-3 h-3 mr-1"})," ",V.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:V.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",V.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(Dp,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(yi,{className:"w-4 h-4"})})]})})]},V.id))})]})]})}),q=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(ka,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+14%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ventas Online (Mes)"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$840.500"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl",children:a.jsx(Xr,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+5%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Visitas nicas"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"12.480"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-2xl",children:a.jsx(lU,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded-lg",children:"Estable"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conv. Checkout"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"3.2%"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1 relative z-10",children:"Estado del Dominio"}),a.jsx("h3",{className:"text-lg font-bold relative z-10",children:"ferreteria-norte.com"}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 relative z-10",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-500",children:"SSL Activo"})]}),a.jsx(ol,{className:"absolute -bottom-6 -right-6 w-24 h-24 text-white/5 rotate-12"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-10 flex flex-col items-center justify-center gap-8 border border-slate-200",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"p-3 bg-white shadow-sm rounded-xl text-orange-600",children:a.jsx(_T,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(wT,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(gU,{className:"w-5 h-5"})})]}),a.jsxs("div",{onClick:O,className:"w-full aspect-video bg-white rounded-2xl shadow-2xl overflow-hidden border border-slate-200 group relative cursor-pointer",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),a.jsx("div",{className:"bg-white border rounded-lg px-4 py-0.5 text-[9px] text-slate-400 font-bold",children:"https://ferreteria-norte.com"}),a.jsx("div",{className:"w-4"})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx("div",{className:"w-full h-32 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-300 font-black text-xl uppercase tracking-widest",children:"Banner Oferta"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(V=>a.jsx("div",{className:"aspect-square bg-slate-50 rounded-xl"},V))})]}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(fd,{className:"w-4 h-4"})," Previsualizar Tienda"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Acciones Rpidas"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>n("diseno"),className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(CM,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Subir Banners"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-yellow-50 border border-yellow-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-yellow-400 text-slate-900 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Pv,{className:"w-6 h-6 fill-current"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"MercadoLibre"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-blue-50 border border-blue-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-blue-400 text-white rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(yi,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Gestin de Envos"})]}),a.jsxs("button",{onClick:O,className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Dp,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ver mi Sitio"})]})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[l&&F(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ol,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Multi-Channel Management"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Vende en tu propia tienda y MercadoLibre sincronizado."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:O,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(fd,{className:"w-4 h-4"})," Ver Tienda"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"Dashboard",icon:wT},{id:"catalogo",label:"Catlogo Web",icon:Al},{id:"pedidos",label:"Pedidos Online",icon:ka},{id:"diseno",label:"Personalizacin UI",icon:hd}].map(V=>a.jsxs("button",{onClick:()=>n(V.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===V.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(V.icon,{className:"w-4 h-4"}),V.label]},V.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&q(),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>{o(!0),v(""),_([]),C(null),w(!0)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(Je,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:V.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:V.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:V.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:V.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Qs,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),e==="pedidos"&&$(),e==="diseno"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(hd,{className:"w-6 h-6 text-orange-600"})," Configuracin de Diseo"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color Principal"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-12 h-12 rounded-xl border-none p-0 cursor-pointer"}),a.jsx("input",{className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl font-bold uppercase",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Opciones de Cabecera"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Mostrar buscador prominente"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Habilitar Portal de Clientes"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-100 rounded-[2.5rem] p-8 border border-slate-200 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(_T,{className:"w-12 h-12 text-slate-300"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Los cambios se aplican globalmente al publicar."}),a.jsx("button",{onClick:O,className:"bg-white border border-slate-200 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all",children:"Abrir Previsualizador"})]})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Je,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:b,onChange:V=>{v(V.target.value),P(V.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E&&b.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Be,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):N.length>0?N.map(V=>{var G;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>M(V),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[V.sku,"  ",V.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(G=V.salePrice)==null?void 0:G.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",V.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Je,{className:"w-5 h-5"})})]})]},V.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Er,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!E&&T&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>R(!1,b,S),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Ji,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(V1,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>o(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})})]})},Gxe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(i,s,o)=>{const l=new Blob([i],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=s,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const i=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const i=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(bu,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(I5,{data:t,children:[a.jsx(Jd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Zs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ea,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Fn,{}),a.jsx(qr,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(qr,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(Mp,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:ka},{label:"Ranking de Productos",icon:Kr},{label:"Libro IVA Ventas (AFIP)",icon:Sr},{label:"Libro IVA Compras",icon:Sr},{label:"CITI IVA Ventas (AFIP)",icon:bu,action:n},{label:"CITI IVA Compras (AFIP)",icon:bu,action:r}].map((i,s)=>a.jsxs("button",{onClick:i.action||(()=>alert(`Generar reporte: ${i.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(i.icon,{className:"w-4 h-4"}),i.label]}),i.action?a.jsx(bu,{className:"w-4 h-4 text-slate-400"}):a.jsx(IM,{className:"w-4 h-4 text-slate-300"})]},s))]})]})]})]})},MI=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:i,setCompanyInfo:s})=>{const o=D.useRef(null),[l,c]=D.useState(t),[u,d]=D.useState(!1),{exportAllData:f,deleteAllDocumentsInCollection:h}=Nt(),[y,x]=D.useState(!1),[b,v]=D.useState(!1),[N,_]=D.useState(""),[S,C]=D.useState(!1),T="BORRARTODO",[w,E]=D.useState("factura");D.useEffect(()=>{c(t)},[t]);const A=i.printConfigs[w],I=B=>{var te;const J=(te=B.target.files)==null?void 0:te[0];if(J){const xe=new FileReader;xe.onload=we=>{s(Q=>{var ne;return{...Q,logo:(ne=we.target)==null?void 0:ne.result}})},xe.readAsDataURL(J)}},R=B=>{const{name:J,value:te,type:xe}=B.target,we=B.target.checked;s(Q=>({...Q,[J]:xe==="checkbox"?we:te}))},P=B=>{const{name:J,value:te,type:xe}=B.target,we=B.target.checked;s(Q=>({...Q,arca:{...Q.arca,[J]:xe==="checkbox"?we:te}}))},O=(B,J)=>{s(te=>({...te,printConfigs:{...te.printConfigs,[w]:{...te.printConfigs[w],[B]:J}}}))},M=(B,J)=>{s(te=>({...te,printConfigs:{...te.printConfigs,[w]:{...te.printConfigs[w],margins:{...te.printConfigs[w].margins,[B]:J}}}}))},z=()=>{d(!0),setTimeout(()=>{d(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},F=async()=>{x(!0);try{const J=await f(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"]),te=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,xe=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),we=URL.createObjectURL(xe),Q=document.createElement("a");Q.href=we,Q.download=te,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(we),alert("Backup de datos generado con xito.")}catch(B){console.error("Error al generar backup:",B),alert("Error al generar backup. Consulte la consola para ms detalles.")}finally{x(!1)}},$=async()=>{if(N!==T){alert("Contrasea de seguridad incorrecta.");return}v(!0),C(!1);try{const B=["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"];for(const J of B)await h(J);alert("Todos los datos han sido eliminados del sistema.")}catch(B){console.error("Error al eliminar todos los datos:",B),alert("Error al eliminar todos los datos. Consulte la consola para ms detalles.")}finally{v(!1),_("")}},q=()=>{let B=210,J=297,te=1.2;switch(A.pageSize){case"A5":B=148,J=210,te=1.6;break;case"A6":B=105,J=148,te=2;break;case"80mm":B=80,J=250,te=1.8;break}return A.orientation==="landscape"?{width:J,height:B,scale:te*.8}:{width:B,height:J,scale:te}},{width:V,height:G,scale:K}=q();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>c("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(HF,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>c("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(JF,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>c("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Fp,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>c("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Nv,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>c("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(hd,{className:"w-5 h-5"})," Mdulos"]})]}),l==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Sr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:i.name,onChange:R,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:i.cuit,onChange:R,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Condicin IVA"}),a.jsxs("select",{name:"ivaCondition",value:i.ivaCondition,onChange:R,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold bg-white",children:[a.jsx("option",{children:"Responsable Inscripto"}),a.jsx("option",{children:"Monotributista"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin"}),a.jsx("input",{name:"address",value:i.address,onChange:R,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[i.logo?a.jsx("img",{src:i.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx(CM,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var B;return(B=o.current)==null?void 0:B.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Iv,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:I})]})]})})]}),l==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(pU,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"}),a.jsxs("div",{className:"space-y-4 bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Certificado:"}),a.jsx("span",{className:"text-green-400 font-black",children:"VLIDO"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Vencimiento:"}),a.jsx("span",{className:"text-white font-bold",children:new Date(i.arca.crtValidUntil).toLocaleDateString()})]})]})]})]}),a.jsxs("button",{onClick:z,disabled:u,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(pf,{className:`w-6 h-6 ${u?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(or,{className:"w-5 h-5 text-slate-300"})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Venta"}),a.jsx("input",{type:"number",name:"puntoVenta",value:i.arca.puntoVenta,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ingresos Brutos"}),a.jsx("input",{name:"iibb",value:i.arca.iibb,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-bold"})]})]})})})]})}),l==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(hU,{className:"w-4 h-4 text-purple-600"})," Comprobante a Configurar"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(B=>a.jsx("button",{onClick:()=>E(B),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${w===B?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:B},B))})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(iU,{className:"w-4 h-4 text-purple-600"})," Formato de Hoja"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tamao de Papel"}),a.jsxs("select",{value:A.pageSize,onChange:B=>O("pageSize",B.target.value),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-xl font-bold bg-white outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"A4",children:"A4 (Oficina)"}),a.jsx("option",{value:"A5",children:"A5 (Media Hoja)"}),a.jsx("option",{value:"A6",children:"A6 (1/4 A4 - Folleto)"}),a.jsx("option",{value:"80mm",children:"Ticket 80mm (Trmica)"}),a.jsx("option",{value:"58mm",children:"Ticket 58mm (Trmica)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Orientacin"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O("orientation","portrait"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="portrait"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Vertical"}),a.jsx("button",{onClick:()=>O("orientation","landscape"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="landscape"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Horizontal"})]})]})]})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(tU,{className:"w-4 h-4 text-purple-600"})," Mrgenes (mm)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["top","bottom","left","right"].map(B=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest capitalize",children:B}),a.jsx("input",{type:"number",value:A.margins[B],onChange:J=>M(B,parseInt(J.target.value)||0),className:"w-full px-4 py-2 border-2 border-slate-50 rounded-lg font-bold text-center outline-none focus:ring-2 focus:ring-purple-500"})]},B))})]})]}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(xU,{className:"w-6 h-6 text-purple-600"})," Informacin a Mostrar"]}),a.jsxs("div",{className:"space-y-4",children:[[{key:"showLogo",label:"Logo de Empresa"},{key:"showCuit",label:"CUIT y Datos Fiscales"},{key:"showAddress",label:"Domicilio Comercial"},{key:"showLegal",label:"Leyendas Legales / Pie"},{key:"showQr",label:"QR ARCA (Factura E)"},{key:"showPrices",label:"Mostrar Precios / Importes"}].map(B=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:B.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A[B.key],onChange:J=>O(B.key,J.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},B.key)),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nmero de Copias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"1",max:"5",value:A.copies,onChange:B=>O("copies",parseInt(B.target.value)),className:"flex-1 accent-purple-600"}),a.jsx("span",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-black",children:A.copies})]})]})]})]}),a.jsxs("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:[a.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 text-slate-400",children:[a.jsx(fd,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest italic",children:["Simulacin: ",w]})]}),a.jsxs("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${V}px`,height:`${G}px`,transform:`scale(${K})`,paddingTop:`${A.margins.top/3}px`,paddingBottom:`${A.margins.bottom/3}px`,paddingLeft:`${A.margins.left/3}px`,paddingRight:`${A.margins.right/3}px`},children:[a.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[A.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),A.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]}),a.jsxs("div",{className:"text-[6px] font-black text-slate-300",children:["N ",w==="factura"?"0005-00001234":"RE-001234"]})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("div",{className:"w-full h-2 bg-slate-50 rounded"}),a.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[a.jsx("div",{className:"h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"h-1 bg-slate-100 rounded col-span-2"}),A.showPrices&&a.jsx("div",{className:"h-1 bg-slate-100 rounded text-right"})]}),[1,2,3,4,5].map(B=>a.jsxs("div",{className:"flex justify-between py-0.5 border-b border-slate-50 border-dotted",children:[a.jsx("div",{className:"w-20 h-1 bg-slate-50 rounded"}),A.showPrices&&a.jsx("div",{className:"w-4 h-1 bg-slate-50 rounded"})]},B))]}),a.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex flex-col gap-1 items-end",children:[A.showPrices&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"w-16 h-2 bg-purple-100 rounded"})]}),A.showQr&&a.jsx("div",{className:"w-6 h-6 bg-slate-900 self-start mt-1 rounded-sm flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full animate-pulse"})})]})]}),a.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center gap-1",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[A.pageSize,"  ",A.orientation==="portrait"?"Vertical":"Horizontal"]}),a.jsxs("button",{className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl opacity-0 group-hover:opacity-100 transition-all flex items-center gap-2",children:[a.jsx(Fp,{className:"w-4 h-4"})," Imprimir Prueba"]})]})]})]})})]}),l==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(XF,{className:"w-6 h-6 text-green-600"})," Exportar Datos (Backup)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Genera un archivo JSON con todos los datos de tu ferretera para guardarlo de forma segura."}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-start gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Este backup es un respaldo de datos. Para restaurar, se requerira una importacin manual o un proceso tcnico avanzado."})]})]}),a.jsxs("button",{onClick:F,disabled:y,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Nv,{className:"w-5 h-5"}),y?"Generando Backup...":"Generar Backup (JSON)"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(QF,{className:"w-6 h-6 text-red-600"})," Borrar Todos los Datos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Esta accin es **IRREVERSIBLE**. Eliminar todos los productos, clientes, proveedores, ventas, etc. de tu sistema."}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 flex items-start gap-4",children:[a.jsx(Wi,{className:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:"ADVERTENCIA CRTICA:"}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"No hay marcha atrs. Asegrate de tener un backup reciente y de entender las consecuencias."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Confirmar con Contrasea de Seguridad"}),a.jsx("input",{type:"password",value:N,onChange:B=>_(B.target.value),placeholder:"Escribe 'BORRARTODO' para habilitar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-red-500 outline-none font-bold text-red-600",disabled:b})]}),a.jsxs("button",{onClick:()=>C(!0),disabled:N!==T||b,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-red-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),b?"Eliminando Datos...":"Borrar Todos los Datos"]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[150] flex items-center justify-center p-4 text-center",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl animate-in zoom-in duration-200",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/10",children:a.jsx(Wi,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"ATENCIN! Eliminacin Irreversible"}),a.jsx("p",{className:"text-slate-500 font-medium mb-8 px-4",children:"Ests a punto de borrar **TODOS** los datos de tu empresa (productos, clientes, ventas, etc.). Esta accin no se puede deshacer. Ests absolutamente seguro?"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:$,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-red-600/20 hover:bg-red-500 transition-all",children:"S, ENTIENDO Y QUIERO BORRAR TODO"}),a.jsx("button",{onClick:()=>C(!1),className:"w-full py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-200 transition-all",children:"CANCELAR"})]})]})})]}),l==="system"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-left duration-500",children:r?a.jsxs("section",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(hd,{className:"w-5 h-5 text-orange-500"})," Plan de Suscripcin Actual"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"basic",name:"Basic",price:"$15.000/mes",color:"bg-slate-50 border-slate-200"},{id:"premium",name:"Premium",price:"$25.000/mes",color:"bg-orange-50 border-orange-200"},{id:"enterprise",name:"Enterprise",price:"$45.000/mes",color:"bg-purple-50 border-purple-200"}].map(B=>a.jsxs("button",{onClick:()=>n(B.id),className:`p-6 rounded-2xl border-2 text-left transition-all group ${e===B.id?"ring-4 ring-orange-500/20 border-orange-500 "+B.color:"bg-white border-slate-100 opacity-60 hover:opacity-100"}`,children:[a.jsx("h4",{className:"font-bold text-xl text-slate-800",children:B.name}),a.jsx("p",{className:"text-slate-500 mb-4",children:B.price}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${e===B.id?"bg-orange-600 text-white":"bg-slate-200 text-slate-500"}`,children:e===B.id?"Activo":"Seleccionar"})]},B.id))})]}):a.jsxs("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center",children:[a.jsx(Cg,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Control Restringido"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Solo administradores gestionan el plan."})]})}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada en FerroGest"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3 active:scale-95",children:[a.jsx(Mn,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})};var Hxe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wxe,Kxe;function Jxe(){return{geminiUrl:Wxe,vertexUrl:Kxe}}function Yxe(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Jxe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ds{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(s+1),n[u])}else for(const u of c)g(u,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Xxe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&s.length>l)for(let c=l;c<s.length;c++){const u=s[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}Cw(t,i,s,0,o)}}function Cw(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])Cw(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;s in o&&Cw(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QN(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qxe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Zxe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],tve(o)),e}function eve(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],nve(o)),e}function tve(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>rve(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function nve(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>ive(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function rve(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],uve(n)),e}function ive(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],dve(n)),e}function sve(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ave(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ove(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],lve(o)),e}function lve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function z6(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],cve(o)),e}function cve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function uve(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],QN(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function dve(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],QN(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OI||(OI={}));var DI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(DI||(DI={}));var LI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(LI||(LI={}));var it;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(it||(it={}));var $I;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})($I||($I={}));var VI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(VI||(VI={}));var FI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(FI||(FI={}));var UI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(UI||(UI={}));var BI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(BI||(BI={}));var qI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qI||(qI={}));var zI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(zI||(zI={}));var GI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(GI||(GI={}));var HI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(HI||(HI={}));var WI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(WI||(WI={}));var KI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(KI||(KI={}));var JI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(JI||(JI={}));var YI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(YI||(YI={}));var XI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XI||(XI={}));var QI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(QI||(QI={}));var ZI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ZI||(ZI={}));var eP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eP||(eP={}));var og;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(og||(og={}));var tP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tP||(tP={}));var nP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nP||(nP={}));var rP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rP||(rP={}));var Iw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Iw||(Iw={}));var iP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iP||(iP={}));var sP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(sP||(sP={}));var Pw;(function(t){t.COLLECTION="COLLECTION"})(Pw||(Pw={}));var aP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(aP||(aP={}));var oP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oP||(oP={}));var lP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lP||(lP={}));var cP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cP||(cP={}));var uP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(uP||(uP={}));var dP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dP||(dP={}));var fP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fP||(fP={}));var hP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hP||(hP={}));var pP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pP||(pP={}));var mP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(mP||(mP={}));var gP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(gP||(gP={}));var yP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(yP||(yP={}));var xP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(xP||(xP={}));var vP;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vP||(vP={}));var bP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(bP||(bP={}));var wP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wP||(wP={}));var _P;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(_P||(_P={}));var NP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(NP||(NP={}));var SP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(SP||(SP={}));var EP;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(EP||(EP={}));var TP;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(TP||(TP={}));var AP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(AP||(AP={}));var kP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kP||(kP={}));var CP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(CP||(CP={}));var IP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IP||(IP={}));var PP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PP||(PP={}));var jP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jP||(jP={}));var Qo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Qo||(Qo={}));class jw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class hu{get text(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,x]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class RP{}class MP{}class fve{}class hve{}class pve{}class mve{}class OP{}class DP{}class LP{}class gve{}class lg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lg;let i;const s=e;return n?i=eve(s):i=Zxe(s),Object.assign(r,i),r}}class $P{}class VP{}class FP{}class UP{}class yve{}class xve{}class vve{}class ZN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ZN,s=ove(e);return Object.assign(r,s),r}}class bve{}class wve{}class _ve{}class BP{}class Nve{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Sve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class eS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new eS,s=z6(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function G6(t,e){const n=Ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function H6(t){return Array.isArray(t)?t.map(e=>cg(e)):[cg(t)]}function cg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function W6(t){const e=cg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function K6(t){const e=cg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function J6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qP(e)):[qP(t)]}function Rw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function GP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Sn(t){if(t==null)throw new Error("ContentUnion is required");return Rw(t)?t:{role:"user",parts:J6(t)}}function tS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Sn(n)):[Sn(e)]}function wr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zP(t)||GP(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sn(t)]}const e=[],n=[],r=Rw(t[0]);for(const i of t){const s=Rw(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(zP(i)||GP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:J6(n)}),e}function Eve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(it).includes(n[0].toUpperCase())?n[0].toUpperCase():it.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(it).includes(r.toUpperCase())?r.toUpperCase():it.TYPE_UNSPECIFIED})}}function yl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Eve(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(it).includes(l.toUpperCase())?l.toUpperCase():it.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=yl(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(yl(u))}e[o]=c}else if(i.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=yl(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function nS(t){return yl(t)}function rS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function iS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=yl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=yl(e.response));return t}function Rc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Tve(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function fs(t,e){if(typeof e!="string")throw new Error("name must be a string");return Tve(t,e,"cachedContents")}function Y6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fa(t){return QN(t)}function Ave(t){return t!=null&&typeof t=="object"&&"name"in t}function kve(t){return t!=null&&typeof t=="object"&&"video"in t}function Cve(t){return t!=null&&typeof t=="object"&&"uri"in t}function X6(t){var e;let n;if(Ave(t)&&(n=t.name),!(Cve(t)&&(n=t.uri,n===void 0))&&!(kve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Q6(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Z6(t){for(const e of["models","tunedModels","publisherModels"])if(Ive(t,e))return t[e];return[]}function Ive(t,e){return t!==null&&typeof t=="object"&&e in t}function Pve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jve(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=Pve(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function e$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Rve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function t$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function n$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mve(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>pbe(o))),g(e,["inlinedResponses"],s)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["inlinedEmbedContentResponses"],s)}return e}function Ove(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Dve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],n$(i));const s=p(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],Mve(t$(u))),e}function Mw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],n$(i));const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],Lve(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],Ove(t$(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function Lve(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function $ve(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>hbe(t,o))),g(n,["requests","requests"],s)}return n}function Vve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Fve(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Uve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Bve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function qve(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],zve(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function zve(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function r$(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>wbe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Gve(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Hve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Dve(Rve(i))),n}function HP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],$ve(t,e$(t,i)));const s=p(e,["config"]);return s!=null&&Gve(s,n),n}function Wve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],Vve(e$(t,i)));const s=p(e,["config"]);return s!=null&&Hve(s,n),n}function Kve(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Jve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],nbe(t,i));const s=p(e,["config"]);return s!=null&&Kve(s,n),n}function Yve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Xve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Qve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function Zve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function ebe(t,e){const n={},r=p(e,["contents"]);if(r!=null){let s=tS(t,r);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["requests[]","request","content"],s)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],tbe(i,n)),Xxe(n,{"requests[].*":"requests[].request.*"})),n}function tbe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nbe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],ebe(t,i)),n}function rbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ibe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function abe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],r$(Sn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=p(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],nS(N));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(z=>_be(z))),g(n,["safetySettings"],M)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let M=Rc(C);Array.isArray(M)&&(M=M.map(z=>Sbe(jc(z)))),g(n,["tools"],M)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],Nbe(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=p(e,["cachedContent"]);n!==void 0&&w!=null&&g(n,["cachedContent"],fs(t,w));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const I=p(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],rS(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],fbe(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function obe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>qve(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function lbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function cbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function ube(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function dbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function fbe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let l=wr(i);Array.isArray(l)&&(l=l.map(c=>r$(c))),g(n,["request","contents"],l)}const s=p(e,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],abe(t,o,p(n,["request"],{}))),n}function pbe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],obe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function mbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function ybe(t){const e={},n=p(t,["config"]);return n!=null&&mbe(n,e),e}function xbe(t){const e={},n=p(t,["config"]);return n!=null&&gbe(n,e),e}function vbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>lp(o))),g(e,["batchJobs"],s)}return e}function bbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Mw(o))),g(e,["batchJobs"],s)}return e}function wbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],rbe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],ibe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Fve(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function _be(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Nbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],sbe(r)),e}function Sbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],ube(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],dbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var is;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(is||(is={}));class wo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ebe extends ds{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(is.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=HP(this.apiClient,e),r=n._url,i=me("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Wve(this.apiClient,e);return l=me("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Mw(d))}else{const u=HP(this.apiClient,e);return l=me("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>lp(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jve(this.apiClient,e);return s=me("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>lp(c))}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=cbe(this.apiClient,e);return l=me("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Mw(d))}else{const u=lbe(this.apiClient,e);return l=me("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>lp(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const c=Bve(this.apiClient,e);o=me("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Uve(this.apiClient,e);o=me("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=xbe(e);return l=me("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=bbe(d),h=new BP;return Object.assign(h,f),h})}else{const u=ybe(e);return l=me("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=vbe(d),h=new BP;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Xve(this.apiClient,e);return l=me("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Zve(d))}else{const u=Yve(this.apiClient,e);return l=me("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Qve(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tbe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function WP(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Jbe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Abe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=wr(o);Array.isArray(d)&&(d=d.map(f=>WP(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],WP(Sn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Xbe(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Ybe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function kbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=wr(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],Sn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Qbe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function Cbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],G6(t,r));const i=p(e,["config"]);return i!=null&&Abe(i,n),n}function Ibe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],G6(t,r));const i=p(e,["config"]);return i!=null&&kbe(i,n),n}function Pbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fs(t,r)),n}function jbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fs(t,r)),n}function Rbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Mbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Obe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Dbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $be(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Vbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fs(t,r)),n}function Fbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fs(t,r)),n}function Ube(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Bbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function qbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function zbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Gbe(t){const e={},n=p(t,["config"]);return n!=null&&qbe(n,e),e}function Hbe(t){const e={},n=p(t,["config"]);return n!=null&&zbe(n,e),e}function Wbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Kbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Jbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],Obe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Dbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Tbe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Ybe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Lbe(r)),e}function Xbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Ube(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Bbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Qbe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>$be(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Zbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function ewe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function twe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fs(t,r));const i=p(e,["config"]);return i!=null&&Zbe(i,n),n}function nwe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fs(t,r));const i=p(e,["config"]);return i!=null&&ewe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rwe extends ds{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(is.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ibe(this.apiClient,e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Cbe(this.apiClient,e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Fbe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Vbe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=jbe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Mbe(d),h=new FP;return Object.assign(h,f),h})}else{const u=Pbe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Rbe(d),h=new FP;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=nwe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=twe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Hbe(e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Kbe(d),h=new UP;return Object.assign(h,f),h})}else{const u=Gbe(e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Wbe(d),h=new UP;return Object.assign(h,f),h})}}}function ug(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function Gr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(x){return Promise.resolve(x).then(y,f)}}function l(y,x){r[y]&&(i[y]=function(b){return new Promise(function(v,N){s.push([y,b,v,N])>1||c(y,b)})},x&&(i[y]=x(i[y])))}function c(y,x){try{u(r[y](x))}catch(b){h(s[0][3],b)}}function u(y){y.value instanceof Ce?Promise.resolve(y.value.v).then(d,f):h(s[0][2],y)}function d(y){c("next",y)}function f(y){c("throw",y)}function h(y,x){y(x),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Hr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KP=="function"?KP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,c){o=t[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iwe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:i$(n)}function i$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function swe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JP(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!i$(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class awe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new owe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class owe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),swe(s)}async sendMessage(e){var n;await this.sendPromise;const r=Sn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const c=await i,u=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Sn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?JP(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Gr(this,arguments,function*(){var i,s,o,l,c,u;const d=[];try{for(var f=!0,h=Hr(e),y;y=yield Ce(h.next()),i=y.done,!i;f=!0){l=y.value,f=!1;const x=l;if(iwe(x)){const b=(u=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield Ce(x)}}catch(x){s={error:x}}finally{try{!f&&!i&&(o=h.return)&&(yield Ce(o.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JP(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,lf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lwe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function cwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function uwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],X6(n)),e}function dwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function fwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],X6(n)),e}function hwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function pwe(t){const e={},n=p(t,["config"]);return n!=null&&hwe(n,e),e}function mwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gwe extends ds{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(is.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pwe(e);return s=me("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=mwe(c),d=new bve;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lwe(e);return s=me("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=cwe(c),d=new wve;return Object.assign(d,u),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fwe(e);return s=me("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uwe(e);return s=me("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=dwe(c),d=new _ve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ywe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Rwe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function xwe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bwe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wwe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=p(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const N=p(t,["seed"]);N!=null&&g(e,["seed"],N);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const w=p(t,["topK"]);w!=null&&g(e,["topK"],w);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _we(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Nwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Swe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],iS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],ywe(Sn(x)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let w=Rc(b);Array.isArray(w)&&(w=w.map(E=>Owe(jc(E)))),g(e,["setup","tools"],w)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],Mwe(v));const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ewe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],wwe(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],iS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],Sn(x));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let E=Rc(b);Array.isArray(E)&&(E=E.map(A=>Dwe(jc(A)))),g(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);e!==void 0&&T!=null&&g(e,["setup","proactivity"],T);const w=p(t,["explicitVadSignal"]);return e!==void 0&&w!=null&&g(e,["setup","explicitVadSignal"],w),n}function Twe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Swe(i,n)),n}function Awe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Ewe(i,n)),n}function kwe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Cwe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function Iwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=H6(n);Array.isArray(u)&&(u=u.map(d=>cp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],cp(K6(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],cp(W6(s)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Pwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=H6(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],K6(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],W6(s));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function jwe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const s=p(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Lwe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],$we(d)),e}function Rwe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],xwe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],vwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],cp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Mwe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Owe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],_we(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Nwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Dwe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>bwe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Lwe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["cacheTokensDetails"],y)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function $we(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vwe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Fwe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Uwe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Uwe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Bwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let s=wr(i);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["contents"],s)}return n}function qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["tokensInfo"],i)}return e}function zwe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],Gwe(r)),e}function Gwe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function z0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>e_e(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Hwe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Wwe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Kwe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Sn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l$(l))),g(e,["tools"],o)}const s=p(t,["generationConfig"]);return e!==void 0&&s!=null&&g(e,["generationConfig"],V1e(s)),n}function Jwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=wr(i);Array.isArray(o)&&(o=o.map(l=>z0(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Wwe(s),n}function Ywe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=wr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Kwe(s,n),n}function Xwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function Qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Zwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function e1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function t1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function n1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function r1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=p(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const N=p(t,["labels"]);e!==void 0&&N!=null&&g(e,["labels"],N);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const S=p(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function i1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>a_e(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&r1e(o,n),n}function s1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>G0(s))),g(e,["generatedImages"],i)}return e}function a1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function o1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const s=p(t,["outputDimensionality"]);e!==void 0&&s!=null&&g(e,["parameters","outputDimensionality"],s);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function l1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let l=tS(t,i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const s=p(e,["config"]);s!=null&&a1e(s,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Ke(t,o)),n}function c1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=tS(t,i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const s=p(e,["config"]);return s!=null&&o1e(s,n),n}function u1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function d1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>zwe(o))),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function f1e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function h1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function p1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function g1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function y1e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],z0(Sn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=p(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],nS(N));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(z=>o_e(z))),g(n,["safetySettings"],M)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let M=Rc(C);Array.isArray(M)&&(M=M.map(z=>p_e(jc(z)))),g(n,["tools"],M)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],h_e(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=p(e,["cachedContent"]);n!==void 0&&w!=null&&g(n,["cachedContent"],fs(t,w));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const I=p(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],rS(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],z1e(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function x1e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Sn(i));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=p(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],nS(N));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const S=p(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const T=p(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(V=>V)),g(n,["safetySettings"],q)}const w=p(e,["tools"]);if(n!==void 0&&w!=null){let q=Rc(w);Array.isArray(q)&&(q=q.map(V=>l$(jc(V)))),g(n,["tools"],q)}const E=p(e,["toolConfig"]);n!==void 0&&E!=null&&g(n,["toolConfig"],E);const A=p(e,["labels"]);n!==void 0&&A!=null&&g(n,["labels"],A);const I=p(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],fs(t,I));const R=p(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const P=p(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],rS(O));const M=p(e,["audioTimestamp"]);M!=null&&g(r,["audioTimestamp"],M);const z=p(e,["thinkingConfig"]);z!=null&&g(r,["thinkingConfig"],z);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],G1e(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=p(e,["modelArmorConfig"]);return n!==void 0&&$!=null&&g(n,["modelArmorConfig"],$),r}function YP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=wr(i);Array.isArray(o)&&(o=o.map(l=>z0(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],y1e(t,s,n)),n}function XP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=wr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],x1e(t,s,n)),n}function QP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Fwe(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function ZP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function v1e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const s=p(t,["guidanceScale"]);if(e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function b1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=p(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const N=p(t,["labels"]);e!==void 0&&N!=null&&g(e,["labels"],N);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const S=p(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function w1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&v1e(s,n),n}function _1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&b1e(s,n),n}function N1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O1e(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],a$(i)),e}function S1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>G0(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],o$(i)),e}function E1e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],H0(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>A_e(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function T1e(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["fps"]);e!==void 0&&s!=null&&g(e,["parameters","fps"],s);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const x=p(t,["generateAudio"]);e!==void 0&&x!=null&&g(e,["parameters","generateAudio"],x);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Zr(b));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>k_e(C))),g(e,["instances[0]","referenceImages"],S)}const N=p(t,["mask"]);e!==void 0&&N!=null&&g(e,["instances[0]","mask"],T_e(N));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function A1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],P1e(o)),e}function k1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],j1e(o)),e}function C1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],H0(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],c$(o));const l=p(e,["source"]);l!=null&&R1e(l,n);const c=p(e,["config"]);return c!=null&&E1e(c,n),n}function I1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],Zr(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],u$(o));const l=p(e,["source"]);l!=null&&M1e(l,n);const c=p(e,["config"]);return c!=null&&T1e(c,n),n}function P1e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>L1e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function j1e(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>$1e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function R1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],H0(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],c$(s)),n}function M1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Zr(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],u$(s)),n}function O1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],H1e(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],a$(i)),e}function G0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],s$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],o$(i));const s=p(t,["prompt"]);return s!=null&&g(e,["enhancedPrompt"],s),e}function D1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],s$(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["labels"],i)}return e}function L1e(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],S_e(n)),e}function $1e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],E_e(n)),e}function V1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=p(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const N=p(t,["seed"]);N!=null&&g(e,["seed"],N);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const w=p(t,["topK"]);w!=null&&g(e,["topK"],w);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function F1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function U1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function B1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function q1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function z1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function G1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const s=p(t,["outputMimeType"]);s!=null&&g(e,["imageOutputOptions","mimeType"],s);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function H1e(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],fa(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function s$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],fa(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function H0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],fa(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Zr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],fa(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function W1e(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Q6(t,l)),r}function K1e(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Q6(t,l)),r}function J1e(t,e){const n={},r=p(e,["config"]);return r!=null&&W1e(t,r,n),n}function Y1e(t,e){const n={},r=p(e,["config"]);return r!=null&&K1e(t,r,n),n}function X1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=Z6(i);Array.isArray(s)&&(s=s.map(o=>Ow(o))),g(e,["models"],s)}return e}function Q1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=Z6(i);Array.isArray(s)&&(s=s.map(o=>Dw(o))),g(e,["models"],s)}return e}function Z1e(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function Ow(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["version"]);s!=null&&g(e,["version"],s);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],m_e(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const x=p(t,["thinking"]);return x!=null&&g(e,["thinking"],x),e}function Dw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["versionId"]);s!=null&&g(e,["version"],s);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>f1e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],g_e(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function e_e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],h1e(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],p1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Vwe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function t_e(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Zr(n)),e}function n_e(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function r_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["source"]);i!=null&&s_e(i,n);const s=p(e,["config"]);return s!=null&&n_e(s,n),n}function i_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>G0(i))),g(e,["generatedImages"],r)}return e}function s_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Zr(i));const s=p(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>t_e(l))),g(e,["instances[0]","productImages"],o)}return n}function a_e(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Zr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const s=p(t,["maskImageConfig"]);s!=null&&g(e,["maskImageConfig"],Z1e(s));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],Hwe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function a$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function o$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function o_e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function l_e(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Zr(n)),e}function c_e(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const s=p(t,["confidenceThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","confidenceThreshold"],s);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function u_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["source"]);i!=null&&f_e(i,n);const s=p(e,["config"]);return s!=null&&c_e(s,n),n}function d_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>D1e(i))),g(e,["generatedMasks"],r)}return e}function f_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Zr(i));const s=p(t,["scribbleImage"]);return e!==void 0&&s!=null&&g(e,["instances[0]","scribble"],l_e(s)),n}function h_e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],m1e(r)),e}function p_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],B1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],q1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function l$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>g1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function m_e(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function g_e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function y_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function x_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function v_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Ke(t,r));const i=p(e,["config"]);return i!=null&&y_e(i,n),n}function b_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&x_e(i,n),n}function w_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function __e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Zr(i));const s=p(e,["upscaleFactor"]);s!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=p(e,["config"]);return o!=null&&w_e(o,n),n}function N_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>G0(s))),g(e,["generatedImages"],i)}return e}function S_e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],fa(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function E_e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],fa(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function T_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Zr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function A_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],H0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function k_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Zr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function c$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],fa(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function u$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],fa(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function I_e(t){const e={},n=p(t,["config"]);return n!=null&&C_e(n,e),e}function P_e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function j_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&P_e(r,e),e}function R_e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function M_e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["customMetadata"],s)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function O_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],L_e(o)),e}function D_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&M_e(i,e),e}function L_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function $_e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function V_e(t){const e={},n=p(t,["config"]);return n!=null&&$_e(n,e),e}function F_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["fileSearchStores"],s)}return e}function d$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function U_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&d$(r,e),e}function B_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_e="Content-Type",z_e="X-Server-Timeout",G_e="User-Agent",Lw="x-goog-api-client",H_e="1.38.0",W_e=`google-genai-sdk/${H_e}`,K_e="v1beta1",J_e="v1beta";class Y_e{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:K_e}else{if(!this.clientOptions.apiKey)throw new lf({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:J_e,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Pw.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&X_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ej(i),new jw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ej(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Gr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Ce(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(d,{stream:!0});try{const x=JSON.parse(f);if("error"in x){const b=JSON.parse(JSON.stringify(x.error)),v=b.status,N=b.code,_=`got status: ${v}. ${JSON.stringify(x)}`;if(N>=400&&N<600)throw new lf({message:_,status:N})}}catch(x){if(x.name==="ApiError")throw x}o+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const v of c){const N=o.indexOf(v);N!==-1&&(h===-1||N<h)&&(h=N,y=v.length)}if(h===-1)break;const x=o.substring(0,h);o=o.substring(h+y);const b=x.trim();if(b.startsWith(l)){const v=b.substring(l.length).trim();try{const N=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ce(new jw(N))}catch(N){throw new Error(`exception parsing stream chunk ${v}. ${N}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=W_e+" "+this.clientOptions.userAgentExtra;return e[G_e]=n,e[Lw]=n,e[q_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(z_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},u=this.getFileName(e),d=me("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,n==null?void 0:n.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),l=String(o.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&d$(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function ej(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new lf({message:i,status:n}):new Error(i)}}function X_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_e="mcp_used/unknown";let Z_e=!1;function f$(t){for(const e of t)if(eNe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Z_e}function h$(t){var e;const n=(e=t[Lw])!==null&&e!==void 0?e:"";t[Lw]=(n+` ${Q_e}`).trimStart()}function eNe(t){return t!==null&&typeof t=="object"&&t instanceof sS}function tNe(t){return Gr(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield Ce(n.listTools({cursor:i}));for(const l of o.tools)yield yield Ce(l),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class sS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new sS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,Hr(tNe(d))),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const f=i;o.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),jve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nNe(t,e,n){const r=new Sve;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class rNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=aNe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},y=this.apiClient,x={onopen:h,onmessage:S=>{nNe(y,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(c,sNe(o),x);b.connect(),await d;const _={setup:{model:Ke(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new iNe(b,this.apiClient)}}class iNe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Cwe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kwe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qo.PLAY)}pause(){this.sendPlaybackControl(Qo.PAUSE)}stop(){this.sendPlaybackControl(Qo.STOP)}resetContext(){this.sendPlaybackControl(Qo.RESET_CONTEXT)}close(){this.conn.close()}}function sNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oNe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lNe(t,e,n){const r=new Nve;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=jwe(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class cNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new rNe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&f$(e.config.tools)&&h$(f);const h=hNe(f);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),O=!!I&&!!R||!!P;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",P="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${P}=${I}`}let y=()=>{};const x=new Promise(I=>{y=I}),b=e.callbacks,v=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),y({})},N=this.apiClient,_={onopen:v,onmessage:I=>{lNe(N,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(d,fNe(h),_);S.connect(),await x;let C=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(C=`projects/${I}/locations/${R}/`+C)}let T={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[og.AUDIO]}:e.config.responseModalities=[og.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],E=[];for(const I of w)if(this.isCallableTool(I)){const R=I;E.push(await R.tool())}else E.push(I);E.length>0&&(e.config.tools=E);const A={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=Awe(this.apiClient,A):T=Twe(this.apiClient,A),delete T.config,S.send(JSON.stringify(T)),new dNe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uNe={turnComplete:!0};class dNe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=wr(n.turns),e.isVertexAI()||(r=r.map(i=>z0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(oNe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},uNe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Pwe(e)}:n={realtimeInput:Iwe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tj=10;function nj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(xl(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function xl(t){return"callTool"in t&&typeof t.callTool=="function"}function pNe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>xl(i)))!==null&&r!==void 0?r:!1}function rj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(xl(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function ij(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mNe extends ds{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!pNe(n)||nj(n.config))return await this.generateContentInternal(c);const u=rj(n);if(u.length>0){const b=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,f;const h=wr(c.contents),y=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:tj;let x=0;for(;x<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,v=[];for(const N of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(xl(N)){const S=await N.callTool(d.functionCalls);v.push(...S)}x++,f={role:"user",parts:v},c.contents=wr(c.contents),c.contents.push(b),c.contents.push(f),ij(c.config)&&(h.push(b),h.push(f))}return ij(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,s,o,l;if(this.maybeMoveToResponseJsonSchem(n),nj(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=rj(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new wo(is.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>xl(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&f$(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),h$(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(xl(o)){const l=o,c=await l.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:tj;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return Gr(this,arguments,function*(){for(var h,y,x,b,v,N;l<s;){o&&(l++,o=!1);const T=yield Ce(u.processParamsMaybeAddMcpUsage(f)),w=yield Ce(u.generateContentStreamInternal(T)),E=[],A=[];try{for(var _=!0,S=(y=void 0,Hr(w)),C;C=yield Ce(S.next()),h=C.done,!h;_=!0){b=C.value,_=!1;const I=b;if(yield yield Ce(I),I.candidates&&(!((v=I.candidates[0])===null||v===void 0)&&v.content)){A.push(I.candidates[0].content);for(const R of(N=I.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(l<s&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){const P=yield Ce(d.get(R.functionCall.name).callTool([R.functionCall]));E.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!_&&!h&&(x=S.return)&&(yield Ce(x.call(S)))}finally{if(y)throw y.error}}if(E.length>0){o=!0;const I=new hu;I.candidates=[{content:{role:"user",parts:E}}],yield yield Ce(I);const R=[];R.push(...A),R.push({role:"user",parts:E});const P=wr(f.contents).concat(R);f.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=XP(this.apiClient,e);return l=me("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ZP(d),h=new hu;return Object.assign(h,f),h})}else{const u=YP(this.apiClient,e);return l=me("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=QP(d),h=new hu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=XP(this.apiClient,e);return l=me("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Gr(this,arguments,function*(){var h,y,x,b;try{for(var v=!0,N=Hr(f),_;_=yield Ce(N.next()),h=_.done,!h;v=!0){b=_.value,v=!1;const S=b,C=ZP(yield Ce(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new hu;Object.assign(T,C),yield yield Ce(T)}}catch(S){y={error:S}}finally{try{!v&&!h&&(x=N.return)&&(yield Ce(x.call(N)))}finally{if(y)throw y.error}}})})}else{const u=YP(this.apiClient,e);return l=me("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return Gr(this,arguments,function*(){var h,y,x,b;try{for(var v=!0,N=Hr(f),_;_=yield Ce(N.next()),h=_.done,!h;v=!0){b=_.value,v=!1;const S=b,C=QP(yield Ce(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new hu;Object.assign(T,C),yield yield Ce(T)}}catch(S){y={error:S}}finally{try{!v&&!h&&(x=N.return)&&(yield Ce(x.call(N)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=c1e(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=d1e(d),h=new RP;return Object.assign(h,f),h})}else{const u=l1e(this.apiClient,e);return l=me("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=u1e(d),h=new RP;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=_1e(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=S1e(d),h=new MP;return Object.assign(h,f),h})}else{const u=w1e(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=N1e(d),h=new MP;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=i1e(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=s1e(c),d=new fve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=__e(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=N_e(c),d=new hve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=r_e(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=i_e(c),d=new pve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=u_e(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=d_e(c),d=new mve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=U1e(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Dw(d))}else{const u=F1e(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Ow(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Y1e(this.apiClient,e);return l=me("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Q1e(d),h=new OP;return Object.assign(h,f),h})}else{const u=J1e(this.apiClient,e);return l=me("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=X1e(d),h=new OP;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=b_e(this.apiClient,e);return l=me("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Dw(d))}else{const u=v_e(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Ow(d))}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=e1e(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=n1e(d),h=new DP;return Object.assign(h,f),h})}else{const u=Zwe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=t1e(d),h=new DP;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ywe(this.apiClient,e);return l=me("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Qwe(d),h=new LP;return Object.assign(h,f),h})}else{const u=Jwe(this.apiClient,e);return l=me("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Xwe(d),h=new LP;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Bwe(this.apiClient,e);return s=me("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=qwe(c),d=new gve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=I1e(this.apiClient,e);return l=me("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=k1e(d),h=new lg;return Object.assign(h,f),h})}else{const u=C1e(this.apiClient,e);return l=me("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const f=A1e(d),h=new lg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gNe extends ds{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ave(e);return l=me("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=sve(e);return l=me("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Qxe(e);return s=me("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yNe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xNe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ANe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function vNe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],TNe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function bNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],vNe(t,r,n)),n}function wNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _Ne(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function SNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ENe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],iS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=p(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],xNe(Sn(x)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let w=Rc(b);Array.isArray(w)&&(w=w.map(E=>CNe(jc(E)))),g(e,["setup","tools"],w)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],kNe(v));const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function TNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],ENe(i,n)),n}function ANe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],wNe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],_Ne(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],yNe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function kNe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CNe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],NNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],SNe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function INe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function PNe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=INe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];s&&c.push(s),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jNe extends ds{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=bNe(this.apiClient,e);s=me("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=PNe(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RNe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function MNe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&RNe(r,e),e}function ONe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function DNe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function LNe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&DNe(r,e),e}function $Ne(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VNe extends ds{constructor(e){super(),this.apiClient=e,this.list=async n=>new wo(is.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ONe(e);return s=me("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=MNe(e);i=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LNe(e);return s=me("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=$Ne(c),d=new yve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FNe extends ds{constructor(e,n=new VNe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new wo(is.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=I_e(e);return s=me("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=R_e(e);return s=me("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=j_e(e);i=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=V_e(e);return s=me("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=F_e(c),d=new xve;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=U_e(e);return s=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=B_e(c),d=new vve;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=D_e(e);return s=me("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=O_e(c),d=new ZN;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return p$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const UNe=()=>p$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Vw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ar extends Error{}class On extends Ar{constructor(e,n,r,i){super(`${On.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new W0({message:r,cause:Vw(n)});const s=n;return e===400?new g$(e,s,r,i):e===401?new y$(e,s,r,i):e===403?new x$(e,s,r,i):e===404?new v$(e,s,r,i):e===409?new b$(e,s,r,i):e===422?new w$(e,s,r,i):e===429?new _$(e,s,r,i):e>=500?new N$(e,s,r,i):new On(e,s,r,i)}}class Fw extends On{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class W0 extends On{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class m$ extends W0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class g$ extends On{}class y$ extends On{}class x$ extends On{}class v$ extends On{}class b$ extends On{}class w$ extends On{}class _$ extends On{}class N$ extends On{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BNe=/^[a-z][a-z0-9+.-]*:/i,qNe=t=>BNe.test(t);let Uw=t=>(Uw=Array.isArray,Uw(t));const zNe=Uw;let GNe=zNe;const sj=GNe;function HNe(t){if(!t)return!0;for(const e in t)return!1;return!0}function WNe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const KNe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ar(`${t} must be an integer`);if(e<0)throw new Ar(`${t} must be a positive integer`);return e},JNe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YNe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XNe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const QNe=()=>{var t,e,n,r,i;const s=XNe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":oj(Deno.build.os),"X-Stainless-Arch":aj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":oj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":aj((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=ZNe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZNe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const aj=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",oj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let jh;const eSe=()=>jh??(jh=QNe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tSe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function S$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nSe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return S$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function E$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function rSe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iSe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ax(t,e,n){return T$(),new File(t,e??"unknown_file",n)}function sSe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const aSe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",oSe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&A$(t),lSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cSe(t,e,n){if(T$(),t=await t,oSe(t))return t instanceof File?t:Ax([await t.arrayBuffer()],t.name);if(lSe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ax(await Bw(i),e,n)}const r=await Bw(t);if(e||(e=sSe(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Ax(r,e,n)}async function Bw(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(A$(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(aSe(t))try{for(var l=!0,c=Hr(t),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const d=i;o.push(...await Bw(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${uSe(t)}`)}return o}function uSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k${constructor(e){this._client=e}}k$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const lj=Object.freeze(Object.create(null)),dSe=(t=C$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((d,f,h)=>{var y,x,b;/[?#]/.test(f)&&(i=!0);const v=r[h];let N=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((b=Object.getPrototypeOf((x=Object.getPrototypeOf((y=v.hasOwnProperty)!==null&&y!==void 0?y:lj))!==null&&x!==void 0?x:lj))===null||b===void 0?void 0:b.toString))&&(N=v+"",s.push({start:d.length+f.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":N)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((d,f)=>d.start-f.start),s.length>0){let d=0;const f=s.reduce((h,y)=>{const x=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,h+x+b},"");throw new Ar(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},Rh=dSe(C$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I$ extends k${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=ug(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Ar("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Ar("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rh`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Rh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Rh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=ug(s,["api_version"]);return this._client.get(Rh`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}I$._key=Object.freeze(["interactions"]);class P$ extends I${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fSe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Mh;function aS(t){let e;return(Mh??(e=new globalThis.TextEncoder,Mh=e.encode.bind(e)))(t)}let Oh;function cj(t){let e;return(Oh??(e=new globalThis.TextDecoder,Oh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?aS(e):e;this.buffer=fSe([this.buffer,n]);const r=[];let i;for(;(i=hSe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(cj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=cj(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}K0.NEWLINE_CHARS=new Set([`
`,"\r"]);K0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hSe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function pSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dg={off:0,error:200,warn:300,info:400,debug:500},uj=(t,e,n)=>{if(t){if(WNe(dg,t))return t;kn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(dg))}`)}};function Tu(){}function Dh(t,e,n){return!e||dg[t]>dg[n]?Tu:e[t].bind(e)}const mSe={error:Tu,warn:Tu,info:Tu,debug:Tu};let dj=new WeakMap;function kn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return mSe;const i=dj.get(n);if(i&&i[0]===r)return i[1];const s={error:Dh("error",n,r),warn:Dh("warn",n,r),info:Dh("info",n,r),debug:Dh("debug",n,r)};return dj.set(n,[r,s]),s}const Aa=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zo{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?kn(r):console;function o(){return Gr(this,arguments,function*(){var c,u,d,f;if(i)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,x=Hr(gSe(e,n)),b;b=yield Ce(x.next()),c=b.done,!c;y=!0){f=b.value,y=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ce(JSON.parse(v.data))}catch(N){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),N}}}catch(v){u={error:v}}finally{try{!y&&!c&&(d=x.return)&&(yield Ce(d.call(x)))}finally{if(u)throw u.error}}h=!0}catch(v){if($w(v))return yield Ce(void 0);throw v}finally{h||n.abort()}})}return new Zo(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return Gr(this,arguments,function*(){var c,u,d,f;const h=new K0,y=E$(e);try{for(var x=!0,b=Hr(y),v;v=yield Ce(b.next()),c=v.done,!c;x=!0){f=v.value,x=!1;const N=f;for(const _ of h.decode(N))yield yield Ce(_)}}catch(N){u={error:N}}finally{try{!x&&!c&&(d=b.return)&&(yield Ce(d.call(b)))}finally{if(u)throw u.error}}for(const N of h.flush())yield yield Ce(N)})}function o(){return Gr(this,arguments,function*(){var c,u,d,f;if(i)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,x=Hr(s()),b;b=yield Ce(x.next()),c=b.done,!c;y=!0){f=b.value,y=!1;const v=f;h||v&&(yield yield Ce(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!y&&!c&&(d=x.return)&&(yield Ce(d.call(x)))}finally{if(u)throw u.error}}h=!0}catch(v){if($w(v))return yield Ce(void 0);throw v}finally{h||n.abort()}})}return new Zo(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Zo(()=>i(e),this.controller,this.client),new Zo(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return S$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=aS(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function gSe(t,e){return Gr(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ar("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ar("Attempted to iterate over a response with no body");const l=new xSe,c=new K0,u=E$(t.body);try{for(var d=!0,f=Hr(ySe(u)),h;h=yield Ce(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const y=o;for(const x of c.decode(y)){const b=l.decode(x);b&&(yield yield Ce(b))}}}catch(y){i={error:y}}finally{try{!d&&!r&&(s=f.return)&&(yield Ce(s.call(f)))}finally{if(i)throw i.error}}for(const y of c.flush()){const x=l.decode(y);x&&(yield yield Ce(x))}})}function ySe(t){return Gr(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,c=Hr(t),u;u=yield Ce(c.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const d=s;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?aS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let y;for(;(y=pSe(o))!==-1;)yield yield Ce(o.slice(0,y)),o=o.slice(y)}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=c.return)&&(yield Ce(i.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Ce(o))})}class xSe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=vSe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function vSe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bSe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var l;if(e.options.stream)return kn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Zo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return kn(t).debug(`[${r}] response parsed`,Aa({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS extends Promise{constructor(e,n,r=bSe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new oS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j$=Symbol("brand.privateNullableHeaders");function*wSe(t){if(!t)return;if(j$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():sj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=sj(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const pu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of wSe(r)){const l=s.toLowerCase();i.has(l)||(e.delete(s),i.add(l)),o===null?(e.delete(s),n.add(l)):(e.append(s,o),n.delete(l))}}return{[j$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kx=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=Hxe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var R$;class J0{constructor(e){var n,r,i,s,o,l,c,{baseURL:u=kx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=kx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=ug(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:J0.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(o=(s=uj(y.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:uj(kx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:x,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:tSe(),this.encoder=iSe,this._options=y,this.apiKey=d,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=pu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return pu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ar(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${UNe()}`}makeStatusError(e,n,r,i){return On.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=qNe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return HNe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new oS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(kn(this).debug(`[${h}] sending request`,Aa({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new Fw;const b=new AbortController,v=await this.fetchWithTimeout(d,u,f,b).catch(Vw),N=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Fw;const C=$w(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return kn(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${S}`),kn(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${S})`,Aa({retryOfRequestLogID:r,url:d,durationMs:N-x,message:v.message})),this.retryRequest(l,n,r??h);throw kn(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),kn(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Aa({retryOfRequestLogID:r,url:d,durationMs:N-x,message:v.message})),C?new m$:new W0({cause:v})}const _=`[${h}${y}] ${u.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${N-x}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const I=`retrying, ${n} attempts remaining`;return await rSe(v.body),kn(this).info(`${_} - ${I}`),kn(this).debug(`[${h}] response error (${I})`,Aa({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:N-x})),this.retryRequest(l,n,r??h,v.headers)}const C=S?"error; no more retries left":"error; not retryable";kn(this).info(`${_} - ${C}`);const T=await v.text().catch(I=>Vw(I).message),w=JNe(T),E=w?void 0:T;throw kn(this).debug(`[${h}] response error (${C})`,Aa({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:E,durationMs:Date.now()-x})),this.makeStatusError(v.status,w,E,v.headers)}return kn(this).info(_),kn(this).debug(`[${h}] response start`,Aa({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:N-x})),{response:v,options:l,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:l}=s,c=ug(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await YNe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&KNe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:o}),x=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:x},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=pu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),eSe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=pu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nSe(e)}:this.encoder({body:e,headers:r})}}J0.DEFAULT_TIMEOUT=6e4;class Zt extends J0{constructor(){super(...arguments),this.interactions=new P$(this)}}R$=Zt;Zt.GeminiNextGenAPIClient=R$;Zt.GeminiNextGenAPIClientError=Ar;Zt.APIError=On;Zt.APIConnectionError=W0;Zt.APIConnectionTimeoutError=m$;Zt.APIUserAbortError=Fw;Zt.NotFoundError=v$;Zt.ConflictError=b$;Zt.RateLimitError=_$;Zt.BadRequestError=g$;Zt.AuthenticationError=y$;Zt.InternalServerError=N$;Zt.PermissionDeniedError=x$;Zt.UnprocessableEntityError=w$;Zt.toFile=cSe;Zt.Interactions=P$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Se(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function NSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function SSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function ESe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function TSe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=p(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ASe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],fj(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],fj(y))}const s=p(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(d==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function kSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&VSe(s);const o=p(t,["config"]);return o!=null&&TSe(o,n),n}function CSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&FSe(s,n,e);const o=p(t,["config"]);return o!=null&&ASe(o,n,e),n}function ISe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function PSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function jSe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function RSe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function MSe(t,e){const n={},r=p(t,["config"]);return r!=null&&jSe(r,n),n}function OSe(t,e){const n={},r=p(t,["config"]);return r!=null&&RSe(r,n),n}function DSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>M$(l))),g(n,["tuningJobs"],o)}return n}function LSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>qw(l))),g(n,["tuningJobs"],o)}return n}function $Se(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function VSe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["examples","examples"],i)}return n}function FSe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function M$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],Y6(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],$Se(h)),n}function qw(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],Y6(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const x=p(t,["preTunedModel"]);x!=null&&g(n,["preTunedModel"],x);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const N=p(t,["tuningDataStats"]);N!=null&&g(n,["tuningDataStats"],N);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const S=p(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const T=p(t,["experiment"]);T!=null&&g(n,["experiment"],T);const w=p(t,["labels"]);w!=null&&g(n,["labels"],w);const E=p(t,["outputUri"]);E!=null&&g(n,["outputUri"],E);const A=p(t,["pipelineJob"]);A!=null&&g(n,["pipelineJob"],A);const I=p(t,["serviceAccount"]);I!=null&&g(n,["serviceAccount"],I);const R=p(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const P=p(t,["veoTuningSpec"]);return P!=null&&g(n,["veoTuningSpec"],P),n}function USe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function fj(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BSe extends ds{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(is.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Iw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=PSe(e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>qw(d))}else{const u=ISe(e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>M$(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=OSe(e);return l=me("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=LSe(d),h=new $P;return Object.assign(h,f),h})}else{const u=MSe(e);return l=me("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=DSe(d),h=new $P;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=NSe(e);return l=me("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ESe(d),h=new VP;return Object.assign(h,f),h})}else{const u=_Se(e);return l=me("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=SSe(d),h=new VP;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=CSe(e,e);return s=me("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>qw(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kSe(e);return s=me("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>USe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zSe=1024*1024*8,GSe=3,HSe=1e3,WSe=2,fg="x-goog-upload-status";async function KSe(t,e,n){var r;const i=await O$(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[fg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function JSe(t,e,n){var r;const i=await O$(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[fg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=z6(s),l=new eS;return Object.assign(l,o),l}async function O$(t,e,n){var r,i;let s=0,o=0,l=new jw(new Response),c="upload";for(s=t.size;o<s;){const u=Math.min(zSe,s-o),d=t.slice(o,o+u);o+u>=s&&(c+=", finalize");let f=0,h=HSe;for(;f<GSe&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[fg]));)f++,await XSe(h),h=h*WSe;if(o+=u,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[fg])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function YSe(t){return{size:t.size,type:t.type}}function XSe(t){return new Promise(e=>setTimeout(e,t))}class QSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZSe{create(e,n,r){return new eEe(e,n,r)}}class eEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hj="x-goog-api-key";class tEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(hj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nEe="gl-node/";class lS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yxe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new tEe(this.apiKey);this.apiClient=new Y_e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nEe+"web",uploader:new QSe,downloader:new qSe}),this.models=new mNe(this.apiClient),this.live=new cNe(this.apiClient,i,new ZSe),this.batches=new Ebe(this.apiClient),this.chats=new awe(this.models,this.apiClient),this.caches=new rwe(this.apiClient),this.files=new gwe(this.apiClient),this.operations=new gNe(this.apiClient),this.authTokens=new jNe(this.apiClient),this.tunings=new BSe(this.apiClient),this.fileSearchStores=new FNe(this.apiClient)}}var rEe={};const iEe=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Nt(),[i,s]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=D.useMemo(()=>{const v=e.reduce((_,S)=>_+S.stock*S.costPrice,0),N=n.reduce((_,S)=>_+(S.balance>0?S.balance:0),0);return v+N+25e5},[e,n]),y=D.useMemo(()=>r.reduce((v,N)=>v+Math.abs(N.balance<0?N.balance:0),0),[r]),x=h-y,b=async()=>{l(!0);try{const v=new lS({apiKey:rEe.API_KEY}),N=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${h}, 
      Pasivos: $${y}, 
      Patrimonio Neto: $${x}. 
      Ventas proyectadas mes: $6M. 
      Dame un anlisis de solvencia y 3 recomendaciones estratgicas para mejorar el flujo de caja.`,_=await v.models.generateContent({model:"gemini-3-flash-preview",contents:N});u(_.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA. Verifique conexin.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:q1},{id:"cashflow",label:"Cash Flow",icon:hT},{id:"breakeven",label:"Punto de Equilibrio",icon:Mp},{id:"accounting",label:"Libro Diario",icon:Sr}].map(v=>a.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${i===v.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",h.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Ji,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(Lp,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",y.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(z1,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(UM,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(hT,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(lr,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(Kr,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(dU,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),i==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Kr,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]}),a.jsxs("select",{className:"bg-slate-50 border-none text-xs font-bold rounded-xl px-4 py-2 outline-none",children:[a.jsx("option",{children:"ltimos 6 meses"}),a.jsx("option",{children:"Ao 2024"})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(P5,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Jd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Zs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(ea,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Fn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(Jr,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(Jr,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(GF,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Auditor de IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Analizo en tiempo real tu estructura de costos, stock y deuda para darte proyecciones de flujo de caja."}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(Be,{className:"w-4 h-4 animate-spin"}):a.jsx(pf,{className:"w-4 h-4"}),o?"Analizando...":"Generar Reporte IA"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Desglose de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(Zfe,{children:[a.jsx(cs,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((v,N)=>a.jsx(Qg,{fill:v.color},`cell-${N}`))}),a.jsx(Fn,{})]})})}),a.jsx("div",{className:"space-y-2",children:f.map(v=>a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),a.jsx("span",{className:"text-slate-600",children:v.name})]}),a.jsxs("span",{className:"text-slate-900",children:[v.value,"%"]})]},v.name))})]})]})]}),i==="cashflow"&&a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(I5,{data:d,children:[a.jsx(Jd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Zs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ea,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Fn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(Ba,{iconType:"circle"}),a.jsx(qr,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(qr,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(qr,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-green-50 p-8 rounded-[2.5rem] border border-green-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-green-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(VF,{className:"w-5 h-5"})," Principales Ingresos"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Ventas de Mostrador",amount:45e5,color:"bg-green-500"},{cat:"Cobranza Cta. Cte.",amount:12e5,color:"bg-green-400"},{cat:"Intereses / Otros",amount:3e5,color:"bg-green-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-green-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/6e6*100}%`}})})]},v.cat))})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-red-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ji,{className:"w-5 h-5"})," Principales Salidas"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Pagos a Proveedores",amount:38e5,color:"bg-red-500"},{cat:"Sueldos y Cargas",amount:5e5,color:"bg-red-400"},{cat:"Gastos de Estructura",amount:2e5,color:"bg-red-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-red-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-red-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/45e5*100}%`}})})]},v.cat))})]})]})]}),i==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales (Alquiler, Sueldos, Luz)"}),a.jsxs("div",{className:"relative",children:[a.jsx(lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Contribucin Promedio (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx($M,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:35,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-bold text-blue-800 leading-relaxed",children:"El punto de equilibrio se calcula dividiendo tus costos fijos por el porcentaje de margen de contribucin. Mantener tus costos fijos bajos es la clave para reducir el riesgo operativo de tu ferretera."})]})]}),a.jsx("div",{className:"hidden md:block w-px bg-slate-100"}),a.jsxs("div",{className:"w-full md:w-80 space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Simulador de Metas"}),a.jsx("div",{className:"space-y-6",children:[{label:"Escenario Pesimista",sales:18e5,status:"Prdida",color:"text-red-600"},{label:"Escenario Base",sales:35e5,status:"Ganancia",color:"text-green-600"},{label:"Escenario Optimista",sales:5e6,status:"Excelente",color:"text-blue-600"}].map(v=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-2xl border border-slate-100 space-y-2 group hover:border-orange-200 transition-all",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:v.label}),a.jsxs("p",{className:"font-black text-slate-800 text-lg",children:["$",v.sales.toLocaleString()]}),a.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full bg-white border ${v.color}`,children:v.status})]},v.label))})]})]})}),i==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Sr,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(al,{className:"w-4 h-4"})," Mayo 2024"]}),a.jsx("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex items-center gap-2",children:"Exportar PDF"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5",children:"Descripcin de Operacin"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Ventas Mostrador",desc:"Facturacin diaria POS-01",debe:145e3,haber:0,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",desc:"Pago Factura #4829 - Sinteplast",debe:0,haber:85200,status:"Auditado"},{date:"19-05-24",ref:"AST-118",account:"Caja Central",desc:"Apertura de Caja inicial",debe:25e3,haber:0,status:"Auditado"},{date:"18-05-24",ref:"AST-115",account:"Banco Francs",desc:"Transferencia sueldos depsito",debe:0,haber:45e4,status:"Pendiente"}].map((v,N)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:v.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:v.account})}),a.jsx("td",{className:"px-8 py-5 text-sm font-medium text-slate-500",children:v.desc}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:v.debe>0?`$${v.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:v.haber>0?`$${v.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${v.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100 animate-pulse"}`,children:v.status})})]},N))})]})})]})]})},sEe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:i}=Nt(),s=[{id:"sales",name:"Ventas"},{id:"inventory",name:"Inventario"},{id:"cashier",name:"Cajas"},{id:"purchases",name:"Compras"},{id:"finance",name:"Finanzas"},{id:"ecommerce",name:"E-Commerce"},{id:"reports",name:"Informes"}],[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState({}),[h,y]=D.useState("general"),[x,b]=D.useState(!1),v=w=>(w.salary||0)+(w.advances||[]).reduce((E,A)=>E+A.amount,0),N=w=>{var E;u(w),f(w||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((E=i[0])==null?void 0:E.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),y("general"),l(!0)},_=w=>{const{name:E,value:A}=w.target;f(I=>({...I,[E]:A}))},S=w=>{const E=d.modules||[],A=E.includes(w);f(I=>({...I,modules:A?E.filter(R=>R!==w):[...E,w]}))},C=async()=>{if(!d.name||!d.email||!d.password){alert("Por favor, complete todos los campos obligatorios incluyendo la contrasea.");return}b(!0);try{c?await n(c.id,d):await e(d),l(!1)}catch{alert("Error al guardar el usuario.")}finally{b(!1)}},T=async w=>{window.confirm("Eliminar este usuario? No podr volver a ingresar.")&&await r(w)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Usuarios Internos"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona los accesos de tu equipo sin usar consolas externas."})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(H1,{className:"w-5 h-5"})," Crear Cuenta de Acceso"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),a.jsx("th",{className:"px-8 py-5",children:"Rol / Acceso"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5",children:"Sueldo + Adelantos"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-100 flex items-center justify-center font-black text-orange-600 text-lg border border-orange-200",children:w.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:w.email})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[w.role==="Administrador"?a.jsx(z1,{className:"w-4 h-4 text-orange-600"}):a.jsx(mU,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-600",children:w.role})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ra,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-xs font-bold",children:w.branchName})]})}),a.jsxs("td",{className:"px-8 py-6 font-black text-slate-900",children:["$",v(w).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>N(w),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(w.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},w.id))})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:c?"Editar Cuenta":"Nueva Cuenta de Acceso"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[500px]",children:[a.jsx("div",{className:"w-1/3 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Acceso y Login",icon:Cg},{id:"financial",label:"Finanzas",icon:lr},{id:"modules",label:"Permisos",icon:hd}].map(w=>a.jsxs("button",{onClick:()=>y(w.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${h===w.id?"bg-orange-600 text-white":"text-slate-500 hover:bg-white"}`,children:[a.jsx(w.icon,{className:"w-4 h-4 inline-block mr-2"}),w.label]},w.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[h==="general"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:d.name||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:d.email||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea del Sistema"}),a.jsx("input",{name:"password",type:"password",value:d.password||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rol Operativo"}),a.jsxs("select",{name:"role",value:d.role,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"Vendedor",children:"Vendedor"}),a.jsx("option",{value:"Administrador",children:"Administrador"}),a.jsx("option",{value:"Contador",children:"Contador"}),a.jsx("option",{value:"Depsito",children:"Depsito"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:d.branchName,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:i.map(w=>a.jsx("option",{value:w.name,children:w.name},w.id))})]})]})]}),h==="financial"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sueldo Mensual ($)"}),a.jsx("input",{name:"salary",type:"number",value:d.salary||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:d.joiningDate||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),h==="modules"&&a.jsx("div",{className:"grid grid-cols-1 gap-3 animate-in fade-in duration-300",children:s.map(w=>a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600",checked:(d.modules||[]).includes(w.id),onChange:()=>S(w.id)}),a.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase tracking-widest",children:w.name})]},w.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400",children:"Cancelar"}),a.jsxs("button",{onClick:C,disabled:x,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase shadow-xl hover:bg-orange-500 flex items-center gap-2",children:[x?a.jsx(Be,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),x?"Guardando...":"Habilitar Acceso"]})]})]})})]})},aEe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:i,deleteBranch:s}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,y]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{y(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const x=S=>{const{name:C,value:T,type:w}=S.target,E=S.target.checked;y(A=>({...A,[C]:w==="checkbox"?E:T}))},b=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await i(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(S){alert("Error al guardar la sucursal."),console.error("Error saving branch:",S)}},v=S=>{f(S),u(!0)},N=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Be,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(Wi,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(pf,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((S,C)=>S+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:N,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(S=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${S.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Ra,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${S.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:S.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(DM,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:S.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(U1,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:S.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[S.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Xr,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:S.manager})]})]})})]}),a.jsxs("button",{onClick:()=>v(S),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(or,{className:"w-4 h-4"})]})]},S.id)),a.jsxs("button",{onClick:N,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(Je,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(Kr,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(S=>S.dailySales>0).map(S=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:S.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${S.dailySales/_*100}%`}})})]},S.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Ji,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Ra,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Ra,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(wn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ra,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Sr,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:x,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(KF,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:S=>y(C=>({...C,status:S.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Mn,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},oEe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[i]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),s=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=i.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx($y,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(zF,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:i.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(Ki,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:i.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(yi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Kr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(RM,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),s.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(B1,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),s.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(Ki,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx($1,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(gi,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(oU,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx($y,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(Xe,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx($y,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(yi,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},lEe=20,cEe=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:i,fetchProductsPaginatedAndFiltered:s}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,y]=D.useState(!1),[x,b]=D.useState([]),[v,N]=D.useState(null),[_,S]=D.useState(!0),[C,T]=D.useState(!1);D.useRef(null);const[w,E]=D.useState(null),[A,I]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[R,P]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[O,M]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[z,F]=D.useState({isFractionable:!1,unitName:"",unitsPerParent:1}),[$,q]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),V=D.useCallback(async(B=!1)=>{if(!C){T(!0);try{const J={limit:lEe,searchTerm:o.toLowerCase().trim(),startAfterDoc:B?void 0:v,orderByField:"name",orderDirection:"asc"},{products:te,lastVisible:xe,hasMore:we}=await s(J);b(Q=>B?te:[...Q,...te]),N(xe),S(we)}catch(J){console.error("Error loading products:",J)}finally{T(!1)}}},[o,s,v]);D.useEffect(()=>{if(!t){const B=setTimeout(()=>{V(!0)},500);return()=>clearTimeout(B)}},[o,t]),D.useMemo(()=>{let B=R.baseCost;R.discounts.forEach(xe=>{xe>0&&(B=B*(1-xe/100))});const J=B*(1+R.markup/100),te=J*(1+R.ivaRate/100);return{netCost:B,priceWithoutIva:J,finalSalePrice:te}},[R]);const G=()=>{E(null),I({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),P({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),M({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),F({isFractionable:!1,unitName:"",unitsPerParent:1}),q({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},K=B=>{E(B),B?(I({name:B.name,sku:B.sku,category:B.category,brand:B.brand,saleCurrency:B.saleCurrency||"ARS",supplierProductCode:B.supplierProductCode||"",imageUrl:B.imageUrl||"",primaryUnit:B.primaryUnit||"unidad",saleUnit:B.saleUnit||"unidad"}),P({baseCost:B.costPrice||0,ivaRate:21,discounts:[0,0,0],markup:B.salePrice&&B.costPrice?(B.salePrice/(B.costPrice*1.21)-1)*100:30,supplierId:B.supplierId||"",purchaseCurrency:B.purchaseCurrency||"ARS"}),M({stock:B.stock,minStock:B.minStock||5,location:B.location||"",reorderPoint:B.reorderPoint||0,targetStock:B.targetStock||0,packQuantity:B.packQuantity||1}),F({isFractionable:B.isFractionable||!1,unitName:B.unitName||"",unitsPerParent:B.unitsPerParent||1}),q({isOnline:B.isOnline||!1,onlinePriceAdjustment:B.onlinePriceAdjustment||0,mlSync:B.mlSync||!1})):G(),u(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de stock centralizada."})]}),a.jsxs("button",{onClick:()=>K(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-200",children:[a.jsx(Je,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por nombre o SKU...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none transition-all",value:o,onChange:B=>l(B.target.value)})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:x.length===0&&!C?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-8 py-12 text-center text-slate-400",children:"No se encontraron productos."})}):x.map(B=>{var J;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:B.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:B.sku})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`font-black px-3 py-1 rounded-lg ${B.stock<=(B.minStock||0)?"bg-red-50 text-red-600":"text-slate-700"}`,children:B.stock})}),a.jsxs("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:["$",(J=B.salePrice)==null?void 0:J.toLocaleString("es-AR",{minimumFractionDigits:2})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>K(B),className:"p-2 text-slate-400 hover:text-orange-600 transition-colors",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(B.id),className:"p-2 text-slate-400 hover:text-red-600 transition-colors",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},B.id)})})]})}),C&&a.jsx("div",{className:"p-8 text-center bg-slate-50/50 border-t border-slate-100",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 text-orange-600 font-bold",children:[a.jsx(Be,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Sincronizando inventario..."})]})})]})]})},uEe=()=>{var b;const t=D.useRef(null),[e,n]=D.useState(1),[r,i]=D.useState(null),[s,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Sv,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:Xr,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:yi,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:Al,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:F1,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=v=>{switch(v){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},y=v=>{var _;const N=(_=v.target.files)==null?void 0:_[0];o(N||null)},x=()=>{if(!s)return;c(!0);let v=0;const N=setInterval(()=>{v+=10,d(v),v>=100&&(clearInterval(N),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(kM,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Qs},{id:2,label:"Cargar Archivo",icon:Tv},{id:3,label:"Mapear Columnas",icon:bt},{id:4,label:"Anlisis y Carga",icon:wn}].map((v,N)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===v.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=v.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>v.id?a.jsx(wn,{className:"w-6 h-6"}):v.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:v.label})]}),N<3&&a.jsx(or,{className:"w-5 h-5 text-slate-100"})]},v.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(v=>a.jsxs("button",{onClick:()=>{i(v.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${v.bg} ${v.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(v.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:v.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:v.desc})]},v.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(Ev,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(b=f.find(v=>v.id===r))==null?void 0:b.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var v;return(v=t.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[s?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Ev,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:s.name}),a.jsxs("button",{onClick:v=>{v.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(Xe,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Tv,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:y})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(bu,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!s,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Qs,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(v=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[v.label," ",v.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(or,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},v.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(Er,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:x,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(Be,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Wi,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(Wi,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(wn,{className:"w-5 h-5"})]})]})]})]})]})},dEe=10,fEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Nt(),[n,r]=D.useState("sugerencias"),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:y}=await t({limit:dEe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(y)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{i&&d(i)},[i,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(Je,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:i,onChange:f=>s(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(Tl,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(Be,{className:"animate-spin mx-auto"})]})]})]})},hEe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Nt(),[i,s]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,y]=D.useState({show:!1,type:null}),x=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],b=w=>{const E=encodeURIComponent(`Hola ${w.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(w.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${w.whatsapp}?text=${E}`,"_blank")},v=t.filter(w=>(w.name.toLowerCase().includes(o.toLowerCase())||w.cuit.includes(o))&&(i==="clients"?w.balance<0:!0)),N=e.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.cuit.includes(o)),_=t.filter(w=>w.balance<0).reduce((w,E)=>w+Math.abs(E.balance),0),S=e.reduce((w,E)=>w+Math.abs(E.balance),0),C=()=>{u(null),f(null)},T=()=>{const w=h.type==="RECIBO",E=w?c:d;return E?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${w?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(VM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:w?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[E.name,"  ",E.cuit]})]})]}),a.jsx("button",{onClick:()=>y({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${w?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",w?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:md},{id:"transfer",label:"Transferencia",icon:Lp},{id:"check",label:"Cheque",icon:Sr}].map(A=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(A.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:A.label})]},A.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>y({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),y({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${w?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(Mn,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const w=!!c,E=w?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&T(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(kM,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>y({show:!0,type:w?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${w?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(Je,{className:"w-4 h-4"})," ",w?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${w?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${w?"bg-orange-600":"bg-blue-600"}`,children:E.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:E.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:E.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:w?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(E.balance).toLocaleString()]})]})]}),a.jsx(lr,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($1,{className:`w-5 h-5 ${w?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:x.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(A.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:A.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:A.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(fd,{className:"w-4 h-4"})," Ver"]})})]},A.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(UM,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(Kr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(lr,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-S).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Xr,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>s("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(yi,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:w=>l(w.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:i==="clients"?v.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(w),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:w.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(w.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:E=>{E.stopPropagation(),b(w)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(sU,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(or,{className:"w-5 h-5 text-slate-300"})]})})]},w.id)):N.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(w),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:w.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(w.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(or,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},w.id))})]})]})]})},pEe=()=>{const{transactions:t}=Nt(),[e,n]=D.useState("boxes"),[r,i]=D.useState({show:!1,type:null}),[s,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState(null),[y,x]=D.useState([{id:"1",name:"Caja Mostrador 01",balance:142500,type:"efectivo",status:"abierta",responsible:"Carlos V."},{id:"2",name:"Banco Nacin (Cta Cte)",balance:45e4,type:"banco",status:"abierta",responsible:"Admin"},{id:"3",name:"Caja Fuerte / Reserva",balance:12e5,type:"efectivo",status:"cerrada",lastClosed:"2024-05-20"},{id:"4",name:"Cartera de Cheques",balance:85400,type:"cheques",status:"abierta"}]),[b,v]=D.useState([{id:"m1",date:new Date().toISOString(),boxId:"1",type:"ingreso",amount:4500,method:"efectivo",category:"Venta",description:"Ticket #4829",user:"Carlos V."},{id:"m2",date:new Date().toISOString(),boxId:"1",type:"egreso",amount:1200,method:"efectivo",category:"Gastos",description:"Compra de artculos limpieza",user:"Carlos V."},{id:"m3",date:new Date().toISOString(),boxId:"2",type:"transferencia",amount:5e4,method:"transferencia",category:"Interno",description:"De Caja Mostrador a Banco",user:"Admin"}]),N=D.useMemo(()=>y.reduce((w,E)=>w+E.balance,0),[y]),_=D.useMemo(()=>y.filter(w=>w.type==="efectivo").reduce((w,E)=>w+E.balance,0),[y]),S=w=>{w.preventDefault();const E=new FormData(w.currentTarget),A=parseFloat(E.get("amount")),I=E.get("boxId"),R=r.type,P={id:`m${Date.now()}`,date:new Date().toISOString(),boxId:I,type:R,amount:A,method:E.get("method"),category:E.get("category"),description:E.get("description"),user:"Admin"};v([P,...b]),x(O=>O.map(M=>M.id===I?{...M,balance:R==="egreso"?M.balance-A:M.balance+A}:M)),i({show:!1,type:null}),alert("Movimiento registrado con xito")},C=w=>{w.preventDefault();const E=new FormData(w.currentTarget),A=E.get("name"),I=E.get("type"),R=E.get("responsible"),P=parseFloat(E.get("balance"))||0;if(f)x(O=>O.map(M=>M.id===f.id?{...M,name:A,type:I,responsible:R}:M)),alert("Caja actualizada con xito");else{const O={id:`box-${Date.now()}`,name:A,type:I,responsible:R,balance:P,status:"abierta"};x(M=>[...M,O]),alert("Nueva caja creada con xito")}c(!1),h(null)},T=w=>{window.confirm("Ests seguro de eliminar este fondo? Solo puedes hacerlo si no tiene movimientos pendientes.")&&x(E=>E.filter(A=>A.id!==w))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Control de Cajas"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Gestin de flujo de fondos, arqueos y transferencias bancarias."})]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>n("boxes"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="boxes"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Estado de Fondos"}),a.jsx("button",{onClick:()=>n("history"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="history"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Historial de Movimientos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(z1,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(lr,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(BF,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Lp,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",y.filter(w=>w.type==="banco").reduce((w,E)=>w+E.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(qs,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Tarjetas / MP"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$45.820"})]})]})]}),e==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.map(w=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${w.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:w.type==="banco"?a.jsx(Lp,{className:"w-6 h-6"}):w.type==="virtual"?a.jsx(qs,{className:"w-6 h-6"}):a.jsx(md,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{h(w),c(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(w.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:w.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",w.balance.toLocaleString()]}),w.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(Xr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:w.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{d(w),o(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(Mp,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>i({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(mT,{className:"w-4 h-4"})," Transferir"]})]})]}),w.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",w.lastClosed]}),a.jsxs("button",{onClick:()=>x(E=>E.map(A=>A.id===w.id?{...A,status:"abierta"}:A)),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(Je,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},w.id)),a.jsxs("button",{onClick:()=>{h(null),c(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(Je,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-orange-600"})," Acciones de Tesorera"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>i({show:!0,type:"ingreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-green-50 border border-transparent hover:border-green-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-green-600 shadow-sm group-hover:bg-green-600 group-hover:text-white transition-all",children:a.jsx(pT,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ingreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Aporte, Sobrante, Devolucin"})]})]}),a.jsx(or,{className:"w-5 h-5 text-slate-300"})]}),a.jsxs("button",{onClick:()=>i({show:!0,type:"egreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-red-50 border border-transparent hover:border-red-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-red-600 shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all",children:a.jsx(gT,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Egreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gastos, Retiro, Pago Varios"})]})]}),a.jsx(or,{className:"w-5 h-5 text-slate-300"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsx(Er,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejo de Control"}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Realiza cierres de caja al menos una vez al da para detectar desvos de efectivo. Las transferencias a banco deben registrarse inmediatamente para mantener la conciliacin exacta."}),a.jsxs("button",{className:"text-orange-400 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:underline",children:["Ver Gua de Auditora ",a.jsx(Ji,{className:"w-3 h-3"})]})]})]})]})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(RM,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Medio"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(w=>{var E;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(w.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(w.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((E=y.find(A=>A.id===w.boxId))==null?void 0:E.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.category}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:w.description})]}),a.jsx("td",{className:"px-8 py-5 uppercase font-black text-[10px] text-slate-500",children:w.method}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.type==="egreso"?"text-red-600":w.type==="ingreso"?"text-green-600":"text-blue-600"}`,children:[w.type==="egreso"?"-":w.type==="transferencia"?"":"+","$",w.amount.toLocaleString()]})}),a.jsxs("td",{className:"px-8 py-5 text-center",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(fd,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(Fp,{className:"w-5 h-5"})})]})]},w.id)})})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(md,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:f?"Editar Caja":"Nueva Caja / Fondo"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de activos financieros"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:C,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Caja / Cuenta"}),a.jsx("input",{name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Caja Chica Mostrador"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:(f==null?void 0:f.type)||"efectivo",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"}),a.jsx("option",{value:"cheques",children:"Cartera de Cheques"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:(f==null?void 0:f.responsible)||"",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre del encargado"})]})]}),!f&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full pl-12 pr-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-xl text-orange-600",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 uppercase text-xs tracking-widest hover:bg-orange-500 transition-all",children:f?"Guardar Cambios":"Crear Caja"})]})]})]})}),r.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${r.type==="ingreso"?"bg-green-600":r.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.type==="ingreso"?a.jsx(pT,{className:"w-6 h-6"}):r.type==="egreso"?a.jsx(gT,{className:"w-6 h-6"}):a.jsx(mT,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",r.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Movimiento de tesorera manual"})]})]}),a.jsx("button",{onClick:()=>i({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja Origen/Destino"}),a.jsx("select",{name:"boxId",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500",children:y.filter(w=>w.status==="abierta").map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsx("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:r.type==="ingreso"?a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Aporte Propietario"}),a.jsx("option",{children:"Sobrante de Caja"}),a.jsx("option",{children:"Devolucin Proveedor"}),a.jsx("option",{children:"Otros Ingresos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Gasto Limpieza/Insumos"}),a.jsx("option",{children:"Retiro de Propietario"}),a.jsx("option",{children:"Pago a Cadete/Flete"}),a.jsx("option",{children:"Sueldos / Adelantos"}),a.jsx("option",{children:"Servicios (Luz, Gas, etc)"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medio de Pago"}),a.jsxs("select",{name:"method",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"transferencia",children:"Transferencia / QR"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Motivo detallado del movimiento..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>i({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${r.type==="ingreso"?"bg-green-600 shadow-green-600/20":"bg-red-600 shadow-red-600/20"}`,children:"Confirmar Registro"})]})]})]})}),s&&u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Mp,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Arqueo de Caja"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:u.name})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-white",children:a.jsx(Xe,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumen Sistema"}),a.jsxs("div",{className:"space-y-3 bg-slate-50 p-6 rounded-3xl border border-slate-100 shadow-inner",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-slate-500",children:[a.jsx("span",{children:"Saldo Inicial:"}),a.jsx("span",{children:"$100.000"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-green-600",children:[a.jsx("span",{children:"Ventas (+):"}),a.jsx("span",{children:"$45.200"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-red-500",children:[a.jsx("span",{children:"Egresos (-):"}),a.jsx("span",{children:"$2.700"})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center font-black text-slate-900 text-lg",children:[a.jsx("span",{children:"Saldo Esperado:"}),a.jsxs("span",{children:["$",u.balance.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conteo Fsico"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Efectivo en Caja ($)"}),a.jsx("input",{type:"number",placeholder:"Ingresa monto contado...",className:"w-full px-5 py-4 border-2 border-orange-100 rounded-2xl focus:ring-4 focus:ring-orange-500/20 outline-none font-black text-2xl text-orange-600 shadow-sm"}),a.jsx("p",{className:"text-[9px] text-slate-400 italic",children:"Cuenta cada billete y moneda antes de cerrar."})]})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx(Ki,{className:"w-8 h-8 text-orange-600 shrink-0"}),a.jsx("p",{className:"text-xs font-bold text-orange-900 leading-relaxed",children:'Al cerrar la caja, se generar un reporte de arqueo. Si existe diferencia, se registrar como "Faltante/Sobrante" automticamente para auditar luego.'})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{x(w=>w.map(E=>E.id===u.id?{...E,status:"cerrada",lastClosed:new Date().toLocaleDateString()}:E)),alert("Caja Cerrada con xito. Reporte impreso."),o(!1)},className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Confirmar Arqueo y Cerrar Caja ",a.jsx(Mn,{className:"w-5 h-5"})]})]})]})})]})};var D$={};async function mEe(t,e){const r=await new lS({apiKey:D$.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{invoiceNumber:{type:it.STRING},supplierName:{type:it.STRING},supplierCuit:{type:it.STRING},date:{type:it.STRING},items:{type:it.ARRAY,items:{type:it.OBJECT,properties:{sku:{type:it.STRING},description:{type:it.STRING},quantity:{type:it.NUMBER},unitPrice:{type:it.NUMBER},total:{type:it.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:it.NUMBER},iva:{type:it.NUMBER},totalAmount:{type:it.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}async function gEe(t){const e=new lS({apiKey:D$.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). Ejemplo: [{ "productName": "martillo", "quantity": 2 }, { "productName": "cemento", "quantity": 1 }].
  
  Mensaje: "${t}"`;try{const s=((await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:it.ARRAY,items:{type:it.OBJECT,properties:{productName:{type:it.STRING,description:"The name of the product mentioned."},quantity:{type:it.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"],propertyOrdering:["productName","quantity"]}}}})).text||"[]").replace(/```json\s*|```/g,"").trim();return JSON.parse(s)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const yEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e,addProduct:n}=Nt(),r=D.useRef(null),[i,s]=D.useState("ia"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,y]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),x=_=>{var C;const S=(C=_.target.files)==null?void 0:C[0];if(S){const T=new FileReader;T.onload=w=>{var E;f({name:S.name,type:S.type,preview:(E=w.target)==null?void 0:E.result})},T.readAsDataURL(S)}},b=async()=>{if(d){l(!0);try{const _=d.preview.split(",")[1],S=await mEe(_,d.type),C=await Promise.all(S.items.map(async T=>{const{products:w}=await e({limit:1,searchTerm:T.sku||T.description.split(" ")[0],orderByField:"name"});return{...T,matchedProduct:w[0]}}));y({invoiceNumber:S.invoiceNumber||"",supplierName:S.supplierName||"",date:S.date||new Date().toISOString().split("T")[0],items:C}),alert("Documento procesado con xito.")}catch(_){console.error(_),alert("Error al procesar el documento con IA.")}finally{l(!1)}}},v=async()=>{u(!0);try{for(const _ of h.items)if(_.matchedProduct){const S=(_.matchedProduct.stock||0)+_.quantity;await t(_.matchedProduct.id,{costPrice:_.unitPrice,stock:S})}else console.log("Producto no encontrado, debera crearse:",_.description);alert("Compra registrada. Inventario y costos actualizados."),y({invoiceNumber:"",supplierName:"",date:"",items:[]}),f(null)}finally{u(!1)}},N=h.items.reduce((_,S)=>_+S.unitPrice*S.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>s("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${i==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Cv,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${i==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Je,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[i==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(vU,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),d?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[d.type.includes("image")?a.jsx("img",{src:d.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Sr,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:d.name})]}),a.jsx("button",{onClick:()=>f(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(Xe,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Cv,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var _;return(_=r.current)==null?void 0:_.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Sr,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:r,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:x})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Er,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:h.supplierName,onChange:_=>y({...h,supplierName:_.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:h.invoiceNumber,onChange:_=>y({...h,invoiceNumber:_.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:h.date,onChange:_=>y({...h,date:_.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(LM,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[h.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(V1,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):h.items.map((_,S)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:_.description}),_.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(wn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",_.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(Ki,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:_.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",_.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",_.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},S))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",N.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(N*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:v,disabled:c||h.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[c?a.jsx(Be,{className:"animate-spin w-6 h-6"}):a.jsx(Mn,{className:"w-6 h-6"}),c?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},xEe=20,vEe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Nt(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[y,x]=D.useState(!1),[b,v]=D.useState([]),[N,_]=D.useState(null),[S,C]=D.useState(!0),[T,w]=D.useState(!1),E=D.useRef(null),A=D.useCallback(M=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{i(M)},300)},[]),I=D.useCallback(async(M=!1,z=r,F=N)=>{w(!0);try{const $={limit:xEe,searchTerm:z.toLowerCase().trim(),startAfterDoc:M?void 0:F,orderByField:"name",orderDirection:"asc"},{products:q,lastVisible:V,hasMore:G}=await n($);v(K=>M?q:[...K,...q]),_(V),C(G)}catch($){console.error("Error loading products:",$)}finally{w(!1)}},[r,N,n]);D.useEffect(()=>{e||(v([]),_(null),C(!0),I(!0,r,null))},[r,e,I]);const R=M=>{c(M),d(0),h(""),o(!0)},P=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}x(!0);try{const M=(l.stock||0)+u;await t(l.id,{stock:M}),alert(`Stock de "${l.name}" ajustado a ${M} unidades.`),o(!1),c(null),v(z=>z.map(F=>F.id===l.id?{...F,stock:M}:F))}catch(M){console.error("Error al guardar el ajuste de stock:",M),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{x(!1)}}};return(e||T)&&b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Be,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:M=>{i(M.target.value),A(M.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[b.map(M=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(B1,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:M.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[M.sku,"  ",M.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${M.stock<(M.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:M.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:M.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>R(M),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(gi,{className:"w-5 h-5"})," Ajustar"]})})]},M.id)),b.length===0&&!T&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),T&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Be,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!T&&S&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>I(!1,r,N),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Ji,{className:"w-4 h-4 -rotate-90"})]})})]}),s&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(gi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(M=>M-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(aU,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:M=>d(Number(M.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(M=>M+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(Tl,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:M=>h(M.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:y,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Mn,{className:"w-5 h-5"}),y?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},bEe=20,wEe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Nt(),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,y]=D.useState([]),[x,b]=D.useState(null),[v,N]=D.useState(!0),[_,S]=D.useState(!1),C=D.useRef(null),T=D.useCallback(F=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{s(F)},300)},[]),w=D.useCallback(async(F=!1,$=i,q=x)=>{S(!0);try{const V={limit:bEe,searchTerm:$.toLowerCase().trim(),startAfterDoc:F?void 0:q,orderByField:"name",orderDirection:"asc"},{products:G,lastVisible:K,hasMore:B}=await r(V);y(J=>F?G:[...J,...G]),b(K),N(B)}catch(V){console.error("Error loading products:",V)}finally{S(!1)}},[i,x,r]);D.useEffect(()=>{n||(y([]),b(null),N(!0),w(!0,i,null),l([]))},[i,n,w]);const E=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.category&&F.add($.category)),Array.from(F).sort()},[h]),A=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.brand&&F.add($.brand)),Array.from(F).sort()},[h]),I=F=>{l($=>$.includes(F)?$.filter(q=>q!==F):[...$,F])},R=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(F=>F.id))},P=(F,$)=>{f(q=>({...q,[F]:$}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},M=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const F={};if(d.supplierId&&(F.supplierId=d.supplierId),d.category&&(F.category=d.category),d.brand&&(F.brand=d.brand),d.reorderPoint!==""&&(F.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(F.targetStock=Number(d.targetStock)),Object.keys(F).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const $=new Map;for(const q of o){const V=h.find(K=>K.id===q);if(!V)continue;const G={...F};if(d.markup!==""){const K=Number(d.markup);!isNaN(K)&&V.costPrice!==void 0&&(G.salePrice=V.costPrice*(1+K/100))}await e(q,G),$.set(q,{...V,...G})}y(q=>q.map(V=>$.has(V.id)?$.get(V.id):V)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch($){console.error("Error al aplicar cambios masivos:",$),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Be,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:i,onChange:F=>{s(F.target.value),T(F.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(Op,{className:"w-5 h-5 text-orange-600"}):a.jsx(Up,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(F=>{var $,q;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>I(F.id),className:"p-1",children:o.includes(F.id)?a.jsx(Op,{className:"w-5 h-5 text-orange-600"}):a.jsx(Up,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:F.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:(($=t.find(V=>V.id===F.supplierId))==null?void 0:$.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:F.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${F.stock<(F.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:F.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(q=F.salePrice)==null?void 0:q.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.targetStock||"N/A"})]},F.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Be,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&v&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>w(!1,i,x),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Ji,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:F=>P("supplierId",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:F=>P("markup",F.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:F=>P("category",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),E.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:F=>P("brand",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),A.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:F=>P("reorderPoint",F.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:F=>P("targetStock",F.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:M,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(Be,{className:"w-4 h-4 animate-spin"}):a.jsx(Mn,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},_Ee=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,y]=D.useState(!0),[x,b]=D.useState(!1),[v,N]=D.useState(!1),[_,S]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,T]=D.useState(!1),[w,E]=D.useState(!1),A="https://ferrogest.app/ml-callback";D.useEffect(()=>{const $=localStorage.getItem("mlClientId")||"",q=localStorage.getItem("mlClientSecret")||"",V=localStorage.getItem("mlUserId")||null,G=localStorage.getItem("mlNickname")||null,K=localStorage.getItem("mlAutoSyncStock")==="true",B=localStorage.getItem("mlAutoSyncPrices")==="true";r($),s(q),l(V),u(G),f(K),y(B);const J=localStorage.getItem("andreaniConfig");J&&S(JSON.parse(J))},[]);const I=()=>{N(!0),setTimeout(()=>{N(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},R=async()=>{if(!n||!i){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}b(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise($=>setTimeout($,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch($){console.error("Error al conectar con MercadoLibre:",$),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{b(!1)}},P=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:$,clientSecret:q,accountNumber:V,branchCode:G}=_;if(!$||!q||!V||!G){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}T(!0);try{await new Promise(B=>setTimeout(B,2500));const K={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};S(K),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(K))}catch(K){console.error("Error al conectar con Andreani:",K),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{T(!1)}},M=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},z=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(Pv,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:I,disabled:v||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[v?a.jsx(Lu,{className:"w-5 h-5 animate-spin"}):a.jsx(Lu,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(bT,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:$=>r($.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:i,onChange:$=>s($.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(Vy,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:A}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(A),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:R,disabled:x||!n||!i,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[x?a.jsx(Be,{className:"w-5 h-5"}):a.jsx(YF,{className:"w-5 h-5"}),x?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Qs,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:$=>f($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:$=>y($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Mn,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),F=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(yi,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(Du,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Lu,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(bT,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:$=>S(q=>({...q,clientId:$.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:$=>S(q=>({...q,clientSecret:$.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:$=>S(q=>({...q,accountNumber:$.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:$=>S(q=>({...q,branchCode:$.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx(Be,{className:"w-5 h-5"}):a.jsx(Du,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:M,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Mn,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Du,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:Pv},{id:"andreani",label:"Andreani Envos",icon:yi},{id:"other",label:"Otras Conexiones",icon:Vy}].map($=>a.jsxs("button",{onClick:()=>e($.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===$.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&z(),t==="andreani"&&F(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(Vy,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(G1,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},NEe=10,SEe=()=>{var Q;const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Nt(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState(null),[y,x]=D.useState(null),[b,v]=D.useState(!1),[N,_]=D.useState(""),[S,C]=D.useState([]),[T,w]=D.useState(null),[E,A]=D.useState(!0),[I,R]=D.useState(!1),P=D.useRef(null),O=D.useCallback((ne,he)=>{let H=ne.salePrice;if(!he||!ne.costPrice)return H||0;const ae=e.find(ue=>ue.id===he.priceListId);if(ae){const ue=ne.costPrice;ae.modifierType==="margin"?H=ue*(1+ae.value/100):ae.modifierType==="percentage_over_base"&&(H=(ne.salePrice||0)*(1+ae.value/100))}return he.specialDiscount>0&&(H=H*(1-he.specialDiscount/100)),parseFloat(H.toFixed(2))},[e]),M=async()=>{if(!r.trim()){x("Por favor, ingresa un mensaje para analizar.");return}o(!0),x(null),c([]),d([]);try{const ne=await gEe(r);c(ne);const he=[];for(const H of ne){const{products:ae}=await n({limit:1,searchTerm:H.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(ae.length>0){const ue=ae[0],ie=O(ue,f);he.push({productId:ue.id,sku:ue.sku,name:ue.name,brand:ue.brand,quantity:H.quantity,unitPrice:ie,subtotal:parseFloat((ie*H.quantity).toFixed(2)),originalProduct:ue})}else he.push({productId:`unmatched-${Date.now()}-${H.productName}`,sku:"N/A",name:H.productName,brand:"N/A",quantity:H.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:H.productName})}d(he)}catch(ne){console.error("Error al analizar el mensaje:",ne),x("Ocurri un error al procesar el mensaje con la IA. Intenta de nuevo.")}finally{o(!1)}};D.useEffect(()=>{d(ne=>ne.map(he=>({...he,unitPrice:he.originalProduct?O(he.originalProduct,f):he.unitPrice})))},[f,O]);const z=(ne,he)=>{d(H=>H.map(ae=>ae.productId===ne?{...ae,quantity:he,subtotal:parseFloat((ae.unitPrice*he).toFixed(2))}:ae))},F=ne=>{d(he=>he.filter(H=>H.productId!==ne))},$=D.useCallback(async(ne=!1,he=N,H=T)=>{R(!0);try{const ae={limit:NEe,searchTerm:he.toLowerCase().trim(),startAfterDoc:ne?void 0:H,orderByField:"name",orderDirection:"asc"},{products:ue,lastVisible:ie,hasMore:Oe}=await n(ae);C(Y=>ne?ue:[...Y,...ue]),w(ie),A(Oe)}catch(ae){console.error("Error loading products for picker:",ae)}finally{R(!1)}},[N,T,n]),q=D.useCallback(ne=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{$(!0,ne,null)},300)},[$]);D.useEffect(()=>{b&&(C([]),w(null),A(!0),$(!0,N,null))},[N,b,$]);const V=(ne,he)=>{if(u.find(ae=>ae.productId===ne.id))d(ae=>ae.map(ue=>ue.productId===ne.id?{...ue,quantity:Number(ue.quantity)+1,subtotal:parseFloat((ue.unitPrice*(Number(ue.quantity)+1)).toFixed(2))}:ue));else{const ae=O(ne,f);d(ue=>[...ue,{productId:ne.id,sku:ne.sku,name:ne.name,brand:ne.brand,quantity:1,unitPrice:ae,subtotal:parseFloat(ae.toFixed(2)),originalProduct:ne}])}v(!1),_("")},G=D.useMemo(()=>u.reduce((ne,he)=>ne+he.unitPrice*he.quantity,0),[u]),K=G*.21,B=G+K,J=()=>{i(""),c([]),d([]),h(null),x(null)},te=()=>{if(!f){alert("Por favor, selecciona un cliente para guardar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}console.log("Saving Quote for client:",f.name,"Items:",u,"Total:",B),alert("Cotizacin guardada (simulada) para "+f.name)},xe=()=>{if(!f||!f.whatsapp){alert("Por favor, selecciona un cliente con nmero de WhatsApp para enviar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}let ne=`Hola ${f.name}! Aqu tienes tu cotizacin de FerroGest:

`;u.forEach(H=>{ne+=`- ${H.quantity}x ${H.name} ($${H.unitPrice.toLocaleString()}/u) - Subtotal: $${(H.quantity*H.unitPrice).toLocaleString()}
`}),ne+=`
Subtotal: $${G.toLocaleString()}`,ne+=`
IVA (21%): $${K.toLocaleString()}`,ne+=`
Total: *$${B.toLocaleString()}*

`,ne+="Esperamos tu confirmacin!";const he=encodeURIComponent(ne);window.open(`https://wa.me/${f.whatsapp}?text=${he}`,"_blank")},we=ne=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Je,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto Manual"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:N,onChange:he=>{_(he.target.value),q(he.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:I&&N.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Be,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):S.length>0?S.map(he=>{var H;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>V(he),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:he.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[he.sku,"  ",he.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(H=he.salePrice)==null?void 0:H.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",he.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Je,{className:"w-5 h-5"})})]})]},he.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Er,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!I&&E&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>$(!1,N,T),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Ji,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(V1,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>v(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Vp,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:J,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(pf,{className:"w-4 h-4"})," Limpiar"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Vp,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:ne=>i(ne.target.value)}),y&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(Ki,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:y})]}),a.jsxs("button",{onClick:M,disabled:s||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?a.jsx(Be,{className:"w-6 h-6 animate-spin"}):a.jsx(Cv,{className:"w-6 h-6"}),s?"Analizando Mensaje...":"Analizar Mensaje con IA"]}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 italic text-center",children:"La IA intentar extraer productos y cantidades."})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(pd,{className:"w-6 h-6 text-orange-600"})," Cotizacin Provisional"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Xr,{className:"w-3 h-3"})," Seleccionar Cliente"]}),a.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:ne=>h(t.find(he=>he.id===ne.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(ne=>a.jsxs("option",{value:ne.id,children:[ne.name," (",ne.cuit,")"]},ne.id))]}),f&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-2",children:[a.jsx($p,{className:"w-4 h-4 text-orange-400"}),a.jsxs("span",{children:["Lista: ",((Q=e.find(ne=>ne.id===f.priceListId))==null?void 0:Q.name)||"N/A"]}),f.specialDiscount>0&&a.jsxs("span",{className:"ml-2",children:[" | Desc. Esp.: ",f.specialDiscount,"%"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Precio Unit."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay productos en la cotizacin."})}):u.map((ne,he)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:ne.originalProduct?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400",children:a.jsx(Al,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:ne.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[ne.sku,"  Stock: ",ne.originalProduct.stock]})]})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Ki,{className:"w-4 h-4"})," ",ne.unmatchedText||ne.name," (No encontrado)",a.jsx("button",{onClick:()=>v(!0),className:"ml-2 px-3 py-1 bg-red-50 text-red-600 rounded-md text-[10px] font-bold hover:bg-red-100 transition-colors",title:"Buscar y reemplazar",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:ne.quantity,onChange:H=>z(ne.productId,Number(H.target.value)),className:"w-20 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",ne.unitPrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",(ne.quantity*ne.unitPrice).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>F(ne.productId),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},ne.productId||he))})]})}),a.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 transition-all flex items-center justify-center gap-2",children:[a.jsx(Je,{className:"w-4 h-4"})," Aadir Producto Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",G.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",K.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",B.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-4",children:[a.jsxs("button",{onClick:te,disabled:u.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Mn,{className:"w-5 h-5"})," Guardar Cotizacin"]}),a.jsxs("button",{onClick:xe,disabled:u.length===0||!(f!=null&&f.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(FM,{className:"w-5 h-5"})," Enviar por WhatsApp"]})]})]})})]}),b&&we()]})},mu={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},Cx={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},EEe=10,TEe=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:i,fetchProductsPaginatedAndFiltered:s}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,y]=D.useState(null),[x,b]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[v,N]=D.useState([]),[_,S]=D.useState(!1),[C,T]=D.useState(!1),[w,E]=D.useState(""),[A,I]=D.useState([]),[R,P]=D.useState(null),[O,M]=D.useState(!0),[z,F]=D.useState(!1),$=D.useRef(null),[q,V]=D.useState(!1),[G,K]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),B=D.useCallback(async(Y=!1,ce=w,Te=R)=>{F(!0);try{const ze={limit:EEe,searchTerm:ce.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:Y?void 0:Te},{products:en,lastVisible:fn,hasMore:$n}=await s(ze);I(Vn=>Y?en:[...Vn,...en]),P(fn),M($n)}catch(ze){console.error("Error loading products for picker:",ze)}finally{F(!1)}},[w,R,s]),J=D.useCallback(Y=>{$.current&&clearTimeout($.current),$.current=setTimeout(()=>{B(!0,Y,null)},300)},[B]);D.useEffect(()=>{C&&(I([]),P(null),M(!0),B(!0,w,null))},[w,C,B]),D.useEffect(()=>{if(x.clientId){const Y=t.find(ce=>ce.id===x.clientId);Y&&b(ce=>({...ce,clientName:Y.name}))}else b(Y=>({...Y,clientName:""}))},[x.clientId,t]),D.useEffect(()=>{const Y=v.reduce((ce,Te)=>ce+Te.subtotal,0);b(ce=>({...ce,total:parseFloat(Y.toFixed(2))}))},[v]);const te=Y=>{Y?(y(Y),b(Y),N(Y.items)):(y(null),b({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),N([])),f(!0)},xe=(Y,ce)=>{N(Te=>Te.map((ze,en)=>{if(en===Y){const fn=Math.max(1,ce),$n=ze.unitPrice*fn;return{...ze,quantity:fn,subtotal:parseFloat($n.toFixed(2))}}return ze}))},we=Y=>{N(ce=>ce.filter((Te,ze)=>ze!==Y))},Q=Y=>{const ce=v.findIndex(Te=>Te.productId===Y.id&&!Te.isService);if(ce!==-1)xe(ce,v[ce].quantity+1);else{const Te=Y.salePrice;N(ze=>[...ze,{productId:Y.id,sku:Y.sku,name:Y.name,brand:Y.brand,quantity:1,unitPrice:Te,subtotal:parseFloat(Te.toFixed(2)),originalProduct:Y}])}T(!1),E("")},ne=()=>{if(!G.name||G.unitPrice<=0||G.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const Y=G.unitPrice*G.quantity;N(ce=>[...ce,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:G.name,brand:"N/A",quantity:G.quantity,unitPrice:G.unitPrice,subtotal:parseFloat(Y.toFixed(2)),isService:!0,serviceDescription:G.serviceDescription,originalProduct:null}]),V(!1),K({name:"",serviceDescription:"",unitPrice:0,quantity:1})},he=async()=>{if(!x.clientId||v.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}S(!0);try{const Y={clientId:x.clientId,clientName:x.clientName||"Cliente",items:v,total:v.reduce((ce,Te)=>ce+Te.subtotal,0),status:x.status||"pendiente_preparacion",dateCreated:x.dateCreated||new Date().toISOString().split("T")[0],dateDue:x.dateDue,notes:x.notes,isServiceOrder:v.some(ce=>ce.isService)};h?await r(h.id,Y):await n(Y),alert("Pedido guardado con xito!"),f(!1)}catch(Y){console.error("Error al guardar el pedido:",Y),alert("Ocurri un error al guardar el pedido.")}finally{S(!1)}},H=async Y=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await i(Y),alert("Pedido eliminado con xito.")}catch(ce){console.error("Error al eliminar el pedido:",ce),alert("Ocurri un error al eliminar el pedido.")}},ae=async(Y,ce)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${mu[ce]}"?`))try{await r(Y,{status:ce}),alert("Estado del pedido actualizado.")}catch(Te){console.error("Error al actualizar estado del pedido:",Te),alert("Ocurri un error al actualizar el estado.")}},ue=D.useMemo(()=>e.filter(Y=>{const ce=Y.clientName.toLowerCase().includes(o.toLowerCase())||Y.id.toLowerCase().includes(o.toLowerCase()),Te=c==="all"||Y.status===c;return ce&&Te}).sort((Y,ce)=>new Date(ce.dateCreated).getTime()-new Date(Y.dateCreated).getTime()),[e,o,c]),ie=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Je,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:w,onChange:Y=>{E(Y.target.value),J(Y.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:z&&w.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Be,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):A.length>0?A.map(Y=>{var ce;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>Q(Y),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:Y.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[Y.sku,"  ",Y.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(ce=Y.salePrice)==null?void 0:ce.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",Y.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Je,{className:"w-5 h-5"})})]})]},Y.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Er,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!z&&O&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>B(!1,w,R),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Ji,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(Er,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>T(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),Oe=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Sr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:G.name,onChange:Y=>K(ce=>({...ce,name:Y.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:G.serviceDescription,onChange:Y=>K(ce=>({...ce,serviceDescription:Y.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:G.unitPrice||"",onChange:Y=>K(ce=>({...ce,unitPrice:parseFloat(Y.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:G.quantity||"",onChange:Y=>K(ce=>({...ce,quantity:parseInt(Y.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ne,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(Je,{className:"w-5 h-5"})]})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(kv,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>te(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:o,onChange:Y=>l(Y.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(Y=>a.jsx("button",{onClick:()=>u(Y),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===Y?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:Y==="all"?"Todos":mu[Y]},Y))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ue.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(kv,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):ue.map(Y=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:Y.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:Y.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:Y.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(al,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Y.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:Y.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(al,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Y.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[Y.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${Cx[Y.status]}`,children:mu[Y.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",Y.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>te(Y),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>H(Y.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(Xt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(pf,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(mu).map(ce=>a.jsxs("button",{onClick:()=>ae(Y.id,ce),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${Cx[ce].split(" ")[0]} ${Cx[ce].split(" ")[1]}`}),mu[ce]]},ce))})]})]})})]},Y.id))})]})})]}),d&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[C&&ie(),q&&Oe(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Je,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ii,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:x.clientId||"",onChange:Y=>b(ce=>({...ce,clientId:Y.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(al,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:x.dateDue||"",onChange:Y=>b(ce=>({...ce,dateDue:Y.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>T(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Je,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>V(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Je,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):v.map((Y,ce)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:Y.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Y.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:Y.quantity,onChange:Te=>xe(ce,parseInt(Te.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",Y.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",Y.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>we(ce),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},ce))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:x.notes||"",onChange:Y=>b(ce=>({...ce,notes:Y.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(x.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:he,disabled:_,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[_?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Mn,{className:"w-5 h-5"}),h?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]})]})},pj={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},AEe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},kEe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:i,addTransaction:s}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,y]=D.useState(null),[x,b]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[v,N]=D.useState(!1),[_,S]=D.useState(!1),[C,T]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[w,E]=D.useState(!1);D.useEffect(()=>{const $=(x.totalAmount||0)-(x.downPayment||0),q=x.installmentsCount>0?x.installmentsCount:1,V=parseFloat(($/q).toFixed(2));b(G=>({...G,amountPerInstallment:V,remainingAmount:h?h.remainingAmount:parseFloat($.toFixed(2))}))},[x.totalAmount,x.downPayment,x.installmentsCount,h]),D.useEffect(()=>{if(x.clientId){const $=t.find(q=>q.id===x.clientId);$&&b(q=>({...q,clientName:$.name}))}else b($=>({...$,clientName:""}))},[x.clientId,t]);const A=$=>{$?(y($),b($)):(y(null),b({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},I=async()=>{if(!x.clientId||!x.description||!x.totalAmount||x.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}setIsSavingOrder(!0);try{const $={clientId:x.clientId,clientName:x.clientName||"Cliente",totalAmount:x.totalAmount,downPayment:x.downPayment||0,installmentsCount:Math.max(1,x.installmentsCount||1),amountPerInstallment:x.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:x.totalAmount-(x.downPayment||0),payments:x.payments||[],status:x.status||"activo",startDate:x.startDate||new Date().toISOString().split("T")[0],nextDueDate:x.nextDueDate,description:x.description};h?await r(h.id,$):await n($),alert("Plan de cuotas guardado con xito!"),f(!1)}catch($){console.error("Error al guardar el plan de cuotas:",$),alert("Ocurri un error al guardar el plan de cuotas.")}finally{N(!1)}},R=async $=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await i($),alert("Plan de cuotas eliminado con xito.")}catch(q){console.error("Error al eliminar el plan de cuotas:",q),alert("Ocurri un error al eliminar el plan de cuotas.")}},P=$=>{y($),T({amountPaid:Math.min($.amountPerInstallment,$.remainingAmount),method:"efectivo",notes:""}),S(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}E(!0);try{const $=h.remainingAmount-C.amountPaid,q=$<=0?"pagado":"activo",V={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},G=[...h.payments,V],K=t.find(B=>B.id===h.clientId);K&&await M(h.clientId,K.balance+C.amountPaid),await s({amount:C.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:$,payments:G,status:q,nextDueDate:q==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),S(!1),y(null)}catch($){console.error("Error al registrar pago:",$),alert("Ocurri un error al registrar el pago.")}finally{E(!1)}},M=async($,q)=>{console.log(`Simulating client ${$} balance update to: $${q}`)},z=D.useMemo(()=>e.filter($=>{const q=$.clientName.toLowerCase().includes(o.toLowerCase())||$.id.toLowerCase().includes(o.toLowerCase()),V=c==="all"||$.status===c;return q&&V}).sort(($,q)=>new Date(q.startDate).getTime()-new Date($.startDate).getTime()),[e,o,c]),F=D.useMemo(()=>e.filter($=>$.status==="activo"||$.status==="mora").reduce(($,q)=>$+q.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(qs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>A(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(q1,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter($=>$.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(Wi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter($=>$.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Kr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",F.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:$=>l($.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map($=>a.jsx("button",{onClick:()=>u($),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===$?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:$==="all"?"Todos":pj[$]},$))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:z.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):z.map($=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[$.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:$.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:$.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:$.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[$.payments.filter(q=>q.amountPaid>0).length,"/",$.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",$.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",$.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${$.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",$.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:$.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(al,{className:"w-3.5 h-3.5 text-slate-400"}),new Date($.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${AEe[$.status]}`,children:pj[$.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>A($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P($),disabled:$.status==="pagado"||$.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(lr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>R($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},$.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(qs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ii,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:x.clientId||"",onChange:$=>b(q=>({...q,clientId:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map($=>a.jsxs("option",{value:$.id,children:[$.name," (",$.cuit,")"]},$.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:x.description||"",onChange:$=>b(q=>({...q,description:$.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:x.totalAmount||"",onChange:$=>b(q=>({...q,totalAmount:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:x.downPayment||"",onChange:$=>b(q=>({...q,downPayment:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:x.installmentsCount||"",onChange:$=>b(q=>({...q,installmentsCount:parseInt($.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(al,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:x.startDate||"",onChange:$=>b(q=>({...q,startDate:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((x.totalAmount||0)-(x.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(x.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($1,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map(($,q)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date($.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",$.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:$.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:$.notes||"-"})]},$.id||q))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:I,disabled:v||!x.clientId||!x.description||!x.totalAmount||x.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[v?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(Mn,{className:"w-5 h-5"}),v?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(lr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:$=>T(q=>({...q,amountPaid:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:$=>T(q=>({...q,method:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:$=>T(q=>({...q,notes:$.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:w||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[w?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(wn,{className:"w-5 h-5"}),w?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},CEe=()=>{const{salesZones:t,users:e,branches:n,addSalesZone:r,updateSalesZone:i,deleteSalesZone:s}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState(!1),[h,y]=D.useState(""),[x,b]=D.useState({name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),v=(t||[]).filter(C=>{var T;return C.name.toLowerCase().includes(h.toLowerCase())||((T=C.description)==null?void 0:T.toLowerCase().includes(h.toLowerCase()))}),N=C=>{u(C),b(C||{name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),l(!0)},_=async()=>{if(!x.name){alert("El nombre de la zona es obligatorio.");return}f(!0);try{c?(await i(c.id,x),alert("Zona actualizada con xito.")):(await r(x),alert("Zona creada con xito.")),l(!1)}catch(C){console.error("Error al guardar zona:",C),alert("Error al procesar la solicitud.")}finally{f(!1)}},S=async C=>{if(window.confirm("Est seguro de eliminar esta zona?"))try{await s(C)}catch(T){console.error("Error al eliminar:",T)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(ol,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Zonas de Venta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la distribucin territorial de tus vendedores y sucursales."})]})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nueva Zona"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar zona por nombre o descripcin...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:h,onChange:C=>y(C.target.value)})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:[v.map(C=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] p-6 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(U1,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-400 hover:text-blue-600",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(C.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:C.name}),a.jsx("p",{className:"text-slate-400 text-xs mt-1 mb-4 line-clamp-2",children:C.description||"Sin descripcin"}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Xr,{className:"w-3 h-3"})," Vendedores"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedUserIds||[]).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Ra,{className:"w-3 h-3"})," Sucursales"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedBranchIds||[]).length})]})]})]},C.id)),v.length===0&&a.jsxs("div",{className:"col-span-full py-20 text-center text-slate-300",children:[a.jsx(F1,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-[0.2em]",children:"No se encontraron zonas"})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(ol,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:c?"Editar Zona":"Nueva Zona"}),a.jsx("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin territorial"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Zona"}),a.jsx("input",{value:x.name||"",onChange:C=>b({...x,name:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold",placeholder:"Ej: Zona Norte GBA"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{value:x.description||"",onChange:C=>b({...x,description:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none",placeholder:"Alcance geogrfico, objetivos, etc."})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Asignaciones:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Puedes vincular vendedores y sucursales a esta zona para segmentar reportes de ventas y stock."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:_,disabled:d,className:"flex-[1.5] py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[d?a.jsx(Be,{className:"animate-spin w-5 h-5"}):a.jsx(Mn,{className:"w-5 h-5"}),d?"Guardando...":"Guardar Zona"]})]})]})})]})},IEe=()=>{const{products:t,suppliers:e,updateProduct:n}=Nt(),[r,i]=D.useState(""),[s,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,y=f.reorderPoint||0,x=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=y&&x}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const y=h.supplierId||"unassigned";f[y]||(f[y]=[]),f[y].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(y=>y.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(PM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente por proveedor."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Fp,{className:"w-4 h-4"})," Imprimir Listado"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(Tl,{className:"w-4 h-4"})," Generar Pedidos Masivos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar en faltantes por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>i(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(wn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente segn sus puntos de pedido."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(yi,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(FM,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer Mn."}),a.jsx("th",{className:"px-8 py-5",children:"Cambiar Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(y=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${y.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(Ki,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:y.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:y.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${y.stock<=0?"text-red-600":"text-orange-600"}`,children:y.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:y.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"font-black text-slate-900",children:(y.targetStock||0)-(y.stock||0)>0?(y.targetStock||0)-(y.stock||0):1}),a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Unidades"})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:s===y.id,onChange:x=>u(y.id,x.target.value),value:y.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),s===y.id&&a.jsx(Be,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg shadow-orange-600/20",title:"Aadir a pedido",children:a.jsx(Tl,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 transition-all",children:a.jsx(DM,{className:"w-4 h-4"})})]})})]},y.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona la reposicin?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu automticamente cuando su stock actual iguala o es menor al ",a.jsx("b",{children:"Punto de Reorden"})," configurado en su ficha. El clculo de reposicin se basa en el ",a.jsx("b",{children:"Stock Deseado"})," para optimizar el espacio de depsito y capital inmovilizado."]})]})]})]})};var PEe={};const mj=PEe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function L$(t,e){await new Promise(i=>setTimeout(i,Math.random()*1500+500)),(mj.includes("DEMO_KEY")||mj.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const jEe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:i,deleteClient:s}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,y]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[x,b]=D.useState(""),[v,N]=D.useState(!1);U.useEffect(()=>{n.length>0&&!h.priceListId&&y(P=>{var O,M;return{...P,priceListId:((O=n.find(z=>z.isBase))==null?void 0:O.id)||((M=n[0])==null?void 0:M.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}N(!0);try{const P=await L$(h.cuit,"client");y(O=>{var M,z;return{...O,name:P.name,email:P.email,whatsapp:P.phone,priceListId:((M=n.find(F=>F.isBase))==null?void 0:M.id)||((z=n[0])==null?void 0:z.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(P){alert(`Error al buscar CUIT en ARCA: ${P.message}`),console.error("ARCA CUIT Lookup Error:",P)}finally{N(!1)}},S=()=>{x.trim()&&(y(P=>({...P,authorizedPersons:[...P.authorizedPersons||[],x.trim()]})),b(""))},C=P=>{y(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(M=>M!==P)}))},T=async()=>{var P,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await i(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),y({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((P=n.find(M=>M.isBase))==null?void 0:P.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b("")}catch(M){alert("Error al guardar el cliente."),console.error(M)}},w=async P=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await s(P),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},E=P=>{var O,M;f(P),y(P||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(z=>z.isBase))==null?void 0:O.id)||((M=n[0])==null?void 0:M.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b(""),u("general"),l(!0)},A=()=>{t&&(l(!1),t("balances"))},I=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},R=P=>{var O;return P&&((O=n.find(M=>M.id===P))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>E(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:P.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:P.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(OM,{className:"w-4 h-4 text-slate-300"})," ",P.email]}),P.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(uU,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${P.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:P.balance<0?`DEBE $${Math.abs(P.balance).toLocaleString()}`:`SALDO $${P.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",P.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:A,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(qs,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(P),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(Dp,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>w(P.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(Xt,{className:"w-5 h-5"})})]})})]},P.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:Av}].map(P=>a.jsxs("button",{onClick:()=>u(P.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===P.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[P.icon&&a.jsx(P.icon,{className:"w-4 h-4 inline-block mr-2"})," ",P.label]},P.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:P=>y({...h,cuit:P.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:v,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:v?a.jsx(Be,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:P=>y({...h,name:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:P=>y({...h,email:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:P=>y({...h,whatsapp:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>y({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>y({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($p,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx($p,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:R(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>y({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>y({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(H1,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:x,onChange:P=>b(P.target.value),onKeyPress:P=>{P.key==="Enter"&&S()}}),a.jsx("button",{onClick:S,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:P}),a.jsx("button",{onClick:()=>C(P),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(Xt,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qs,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(Wi,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(lr,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:A,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(Dp,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:I,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(MM,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Av,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:P=>y({...h,pointsEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(G1,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:P=>y({...h,accumulatedPoints:Number(P.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:T,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(Mn,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},REe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Nt(),[i,s]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,y]=D.useState(!1),x=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}y(!0);try{const C=await L$(c.cuit,"supplier");u(T=>({...T,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{y(!1)}},b=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),s(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},v=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(T){alert("Error al eliminar el proveedor."),console.error(T)}},N=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),s(!0)},_=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},S=C=>{u(T=>({...T,discounts:(T.discounts||[]).filter((w,E)=>E!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Je,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((T,w)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",T,"%"]},w)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(cU,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(Xt,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(or,{className:"w-5 h-5"})})]})]},C.id))})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Xe,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:x,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(Be,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,T)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>S(T),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(Xe,{className:"w-3 h-3"})})]},T))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:b,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},MEe=({onLoginSuccess:t})=>{const[e,n]=D.useState(""),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState(null),u="admin",d="admin123",f=async h=>{h.preventDefault(),o(!0),c(null);try{if(e.toLowerCase()===u&&r===d){t("admin","Administrador Maestro");return}const y=Et(Me,"users"),x=tp(y,pI("email","==",e),pI("password","==",r)),b=await rp(x);if(b.empty)c("Usuario o contrasea incorrectos.");else{const v=b.docs[0].data();t(v.role.toLowerCase(),v.name)}}catch(y){console.error(y),c("Error al conectar con la base de datos.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-6",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2rem] flex items-center justify-center mx-auto shadow-lg shadow-orange-600/30",children:a.jsx(ka,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"FerroGest ERP"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Ingresa a tu plataforma de gestin."})]}),l&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-in shake duration-300",children:[a.jsx(Xe,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase",children:l})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:h=>i(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:s,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[s?a.jsx(Be,{className:"w-5 h-5 animate-spin"}):a.jsx(UF,{className:"w-5 h-5"}),s?"VERIFICANDO...":"ENTRAR AL SISTEMA"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold text-center uppercase tracking-widest leading-relaxed",children:"Si olvidaste tus credenciales, consulta con el Administrador Maestro de la ferretera."})})]})})},OEe=({currentUser:t,onLogout:e})=>{const[n,r]=D.useState("dashboard"),[i,s]=D.useState("enterprise"),{error:o}=Nt(),[l,c]=D.useState({name:"FerroGest",logo:null,showLogoInSidebar:!1,cuit:"30-12345678-9",address:"Av. Principal 123, Ciudad",ivaCondition:"Responsable Inscripto",phone:"+54 11 1234-5678",email:"contacto@ferrogest.com",arca:{enabled:!0,pointOfSale:1,crtValidUntil:new Date().toISOString()},printConfigs:{factura:{pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},remito:{pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!1,showPrices:!1,copies:2},recibo:{pageSize:"A5",orientation:"landscape",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!1,showPrices:!0,copies:1},etiqueta:{pageSize:"80mm",orientation:"portrait",margins:{top:2,bottom:2,left:2,right:2},showLogo:!1,showCuit:!1,showAddress:!1,showLegal:!1,showQr:!1,showPrices:!0,copies:1}}}),u=D.useMemo(()=>[{id:"dashboard",component:a.jsx(the,{})},{id:"sales",component:a.jsx($xe,{})},{id:"remitos",component:a.jsx(Vxe,{})},{id:"inventory",component:a.jsx(cEe,{})},{id:"missing-items",component:a.jsx(IEe,{})},{id:"stock-adjustment",component:a.jsx(vEe,{})},{id:"bulk-modification",component:a.jsx(wEe,{})},{id:"warehouse",component:a.jsx(oEe,{})},{id:"branches",component:a.jsx(aEe,{})},{id:"clients",component:a.jsx(jEe,{onNavigate:r})},{id:"suppliers",component:a.jsx(REe,{})},{id:"balances",component:a.jsx(hEe,{})},{id:"sales-zones",component:a.jsx(CEe,{})},{id:"loyalty",component:a.jsx(Uxe,{})},{id:"ecommerce",component:a.jsx(zxe,{})},{id:"integrations",component:a.jsx(_Ee,{})},{id:"quotes",component:a.jsx(SEe,{})},{id:"orders",component:a.jsx(TEe,{})},{id:"installments",component:a.jsx(kEe,{})},{id:"reports",component:a.jsx(Gxe,{})},{id:"finance",component:a.jsx(iEe,{})},{id:"users",component:a.jsx(sEe,{})},{id:"bulk-import",component:a.jsx(uEe,{})},{id:"purchase-orders",component:a.jsx(fEe,{})},{id:"prices",component:a.jsx(Fxe,{})},{id:"cashier",component:a.jsx(pEe,{})},{id:"purchases",component:a.jsx(yEe,{})},{id:"settings",component:a.jsx(MI,{initialTab:"company",plan:i,setPlan:s,isAdmin:t.role==="admin",companyInfo:l,setCompanyInfo:c})},{id:"data",component:a.jsx(MI,{initialTab:"data",plan:i,setPlan:s,isAdmin:t.role==="admin",companyInfo:l,setCompanyInfo:c})}],[i,l,t.role]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[a.jsx(_U,{activeTab:n,setActiveTab:r,companyInfo:l,currentUser:t,onLogout:e}),a.jsx("main",{className:"flex-1 h-screen overflow-y-auto p-8 relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[o&&a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6",children:[a.jsx(Wi,{className:"w-6 h-6 text-red-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-bold",children:"Error de Sistema"}),a.jsx("p",{className:"text-red-700 text-sm",children:o})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-xl font-bold text-xs uppercase",children:"Reintentar"})]}),u.map(d=>a.jsx("div",{className:n===d.id?"block":"hidden",children:d.component},d.id))]})})]})},DEe=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(!0);D.useEffect(()=>{const o=localStorage.getItem("ferrogest_session");o&&e(JSON.parse(o)),r(!1)},[]);const i=(o,l)=>{const c={name:l,role:o};e(c),localStorage.setItem("ferrogest_session",JSON.stringify(c))},s=()=>{e(null),localStorage.removeItem("ferrogest_session")};return n?a.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:a.jsx(Be,{className:"w-12 h-12 animate-spin text-orange-600"})}):t?a.jsx(Lxe,{children:a.jsx(OEe,{currentUser:t,onLogout:s})}):a.jsx(MEe,{onLoginSuccess:i})},$$=document.getElementById("root");if(!$$)throw new Error("Could not find root element to mount to");const LEe=Ix.createRoot($$);LEe.render(a.jsx(U.StrictMode,{children:a.jsx(DEe,{})}));
