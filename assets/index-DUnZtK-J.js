(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lk={exports:{}},Pm={},$k={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),dj=Symbol.for("react.portal"),hj=Symbol.for("react.fragment"),pj=Symbol.for("react.strict_mode"),mj=Symbol.for("react.profiler"),gj=Symbol.for("react.provider"),yj=Symbol.for("react.context"),vj=Symbol.for("react.forward_ref"),_j=Symbol.for("react.suspense"),xj=Symbol.for("react.memo"),wj=Symbol.for("react.lazy"),FT=Symbol.iterator;function bj(t){return t===null||typeof t!="object"?null:(t=FT&&t[FT]||t["@@iterator"],typeof t=="function"?t:null)}var Vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uk=Object.assign,jk={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=jk,this.updater=n||Vk}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fk(){}Fk.prototype=Ml.prototype;function qx(t,e,n){this.props=t,this.context=e,this.refs=jk,this.updater=n||Vk}var zx=qx.prototype=new Fk;zx.constructor=qx;Uk(zx,Ml.prototype);zx.isPureReactComponent=!0;var BT=Array.isArray,Bk=Object.prototype.hasOwnProperty,Hx={current:null},Gk={key:!0,ref:!0,__self:!0,__source:!0};function qk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Bk.call(e,r)&&!Gk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tf,type:t,key:o,ref:s,props:i,_owner:Hx.current}}function Ej(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function Tj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GT=/\/+/g;function Ty(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tj(""+t.key):e.toString(36)}function ah(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tf:case dj:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ty(s,0):r,BT(i)?(n="",t!=null&&(n=t.replace(GT,"$&/")+"/"),ah(i,e,n,"",function(u){return u})):i!=null&&(Wx(i)&&(i=Ej(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(GT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",BT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ty(o,a);s+=ah(o,e,n,l,i)}else if(l=bj(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ty(o,a++),s+=ah(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function xd(t,e,n){if(t==null)return t;var r=[],i=0;return ah(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Sj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},lh={transition:null},Aj={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:lh,ReactCurrentOwner:Hx};function zk(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:xd,forEach:function(t,e,n){xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xd(t,function(){e++}),e},toArray:function(t){return xd(t,function(e){return e})||[]},only:function(t){if(!Wx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Ml;Me.Fragment=hj;Me.Profiler=mj;Me.PureComponent=qx;Me.StrictMode=pj;Me.Suspense=_j;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aj;Me.act=zk;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Hx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bk.call(e,l)&&!Gk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tf,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:yj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gj,_context:t},t.Consumer=t};Me.createElement=qk;Me.createFactory=function(t){var e=qk.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:vj,render:t}};Me.isValidElement=Wx;Me.lazy=function(t){return{$$typeof:wj,_payload:{_status:-1,_result:t},_init:Sj}};Me.memo=function(t,e){return{$$typeof:xj,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=lh.transition;lh.transition={};try{t()}finally{lh.transition=e}};Me.unstable_act=zk;Me.useCallback=function(t,e){return An.current.useCallback(t,e)};Me.useContext=function(t){return An.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Me.useEffect=function(t,e){return An.current.useEffect(t,e)};Me.useId=function(){return An.current.useId()};Me.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return An.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Me.useRef=function(t){return An.current.useRef(t)};Me.useState=function(t){return An.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return An.current.useTransition()};Me.version="18.3.1";$k.exports=Me;var $=$k.exports;const V=rt($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij=$,Cj=Symbol.for("react.element"),Pj=Symbol.for("react.fragment"),Nj=Object.prototype.hasOwnProperty,kj=Ij.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rj={key:!0,ref:!0,__self:!0,__source:!0};function Hk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Nj.call(e,r)&&!Rj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Cj,type:t,key:o,ref:s,props:i,_owner:kj.current}}Pm.Fragment=Pj;Pm.jsx=Hk;Pm.jsxs=Hk;Lk.exports=Pm;var g=Lk.exports,jv={},Wk={exports:{}},Xn={},Kk={exports:{}},Jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Y=U.length;U.push(K);e:for(;0<Y;){var se=Y-1>>>1,ee=U[se];if(0<i(ee,K))U[se]=K,U[Y]=ee,Y=se;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Y=U.pop();if(Y!==K){U[0]=Y;e:for(var se=0,ee=U.length,le=ee>>>1;se<le;){var Ce=2*(se+1)-1,Ne=U[Ce],We=Ce+1,z=U[We];if(0>i(Ne,Y))We<ee&&0>i(z,Ne)?(U[se]=z,U[We]=Y,se=We):(U[se]=Ne,U[Ce]=Y,se=Ce);else if(We<ee&&0>i(z,Y))U[se]=z,U[We]=Y,se=We;else break e}}return K}function i(U,K){var Y=U.sortIndex-K.sortIndex;return Y!==0?Y:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function N(U){if(w=!1,T(U),!v)if(n(l)!==null)v=!0,G(A);else{var K=n(u);K!==null&&W(N,K.startTime-U)}}function A(U,K){v=!1,w&&(w=!1,x(C),C=-1),y=!0;var Y=h;try{for(T(K),f=n(l);f!==null&&(!(f.expirationTime>K)||U&&!M());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ee=se(f.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),T(K)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var Ce=n(u);Ce!==null&&W(N,Ce.startTime-K),le=!1}return le}finally{f=null,h=Y,y=!1}}var P=!1,S=null,C=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var U=t.unstable_now();R=U;var K=!0;try{K=S(!0,U)}finally{K?O():(P=!1,S=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){_(D,0)};function G(U){S=U,P||(P=!0,O())}function W(U,K){C=_(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,G(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Y=h;h=K;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return K()}finally{h=Y}},t.unstable_scheduleCallback=function(U,K,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,U={id:c++,callback:K,priorityLevel:U,startTime:Y,expirationTime:ee,sortIndex:-1},Y>se?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(w?(x(C),C=-1):w=!0,W(N,Y-se))):(U.sortIndex=ee,e(l,U),v||y||(v=!0,G(A))),U},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(U){var K=h;return function(){var Y=h;h=K;try{return U.apply(this,arguments)}finally{h=Y}}}})(Jk);Kk.exports=Jk;var Mj=Kk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj=$,Jn=Mj;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yk=new Set,dc={};function Fs(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(dc[t]=e,t=0;t<e.length;t++)Yk.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fv=Object.prototype.hasOwnProperty,Dj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qT={},zT={};function Lj(t){return Fv.call(zT,t)?!0:Fv.call(qT,t)?!1:Dj.test(t)?zT[t]=!0:(qT[t]=!0,!1)}function $j(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vj(t,e,n,r){if(e===null||typeof e>"u"||$j(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kx=/[\-:]([a-z])/g;function Jx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yx(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vj(e,n,i,r)&&(n=null),r||i===null?Lj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=Oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),fa=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Qk=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Gv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),Zx=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),Zk=Symbol.for("react.offscreen"),HT=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=HT&&t[HT]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Sy;function $u(t){if(Sy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sy=e&&e[1]||""}return`
`+Sy+t}var Ay=!1;function Iy(t,e){if(!t||Ay)return"";Ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ay=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$u(t):""}function Uj(t){switch(t.tag){case 5:return $u(t.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return t=Iy(t.type,!1),t;case 11:return t=Iy(t.type.render,!1),t;case 1:return t=Iy(t.type,!0),t;default:return""}}function zv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case fa:return"Portal";case Bv:return"Profiler";case Xx:return"StrictMode";case Gv:return"Suspense";case qv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qk:return(t.displayName||"Context")+".Consumer";case Xk:return(t._context.displayName||"Context")+".Provider";case Qx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zx:return e=t.displayName||null,e!==null?e:zv(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return zv(t(e))}catch{}}return null}function jj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zv(e);case 8:return e===Xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fj(t){var e=eR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bd(t){t._valueTracker||(t._valueTracker=Fj(t))}function tR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hv(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function WT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nR(t,e){e=e.checked,e!=null&&Yx(t,"checked",e,!1)}function Wv(t,e){nR(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kv(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kv(t,e,n){(e!=="number"||kh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vu=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Vu(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function rR(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,oR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bj=["Webkit","ms","Moz","O"];Object.keys(Wu).forEach(function(t){Bj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wu[e]=Wu[t]})});function sR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wu.hasOwnProperty(t)&&Wu[t]?(""+e).trim():e+"px"}function aR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Gj=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xv(t,e){if(e){if(Gj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Qv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=null;function ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e0=null,Na=null,ka=null;function XT(t){if(t=If(t)){if(typeof e0!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Om(e),e0(t.stateNode,t.type,e))}}function lR(t){Na?ka?ka.push(t):ka=[t]:Na=t}function uR(){if(Na){var t=Na,e=ka;if(ka=Na=null,XT(t),e)for(t=0;t<e.length;t++)XT(e[t])}}function cR(t,e){return t(e)}function fR(){}var Cy=!1;function dR(t,e,n){if(Cy)return t(e,n);Cy=!0;try{return cR(t,e,n)}finally{Cy=!1,(Na!==null||ka!==null)&&(fR(),uR())}}function pc(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var t0=!1;if(bi)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{t0=!1}function qj(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ku=!1,Rh=null,Mh=!1,n0=null,zj={onError:function(t){Ku=!0,Rh=t}};function Hj(t,e,n,r,i,o,s,a,l){Ku=!1,Rh=null,qj.apply(zj,arguments)}function Wj(t,e,n,r,i,o,s,a,l){if(Hj.apply(this,arguments),Ku){if(Ku){var u=Rh;Ku=!1,Rh=null}else throw Error(ne(198));Mh||(Mh=!0,n0=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QT(t){if(Bs(t)!==t)throw Error(ne(188))}function Kj(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return QT(i),t;if(o===r)return QT(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function pR(t){return t=Kj(t),t!==null?mR(t):null}function mR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mR(t);if(e!==null)return e;t=t.sibling}return null}var gR=Jn.unstable_scheduleCallback,ZT=Jn.unstable_cancelCallback,Jj=Jn.unstable_shouldYield,Yj=Jn.unstable_requestPaint,Tt=Jn.unstable_now,Xj=Jn.unstable_getCurrentPriorityLevel,tw=Jn.unstable_ImmediatePriority,yR=Jn.unstable_UserBlockingPriority,Oh=Jn.unstable_NormalPriority,Qj=Jn.unstable_LowPriority,vR=Jn.unstable_IdlePriority,Nm=null,Gr=null;function Zj(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Nm,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:nF,eF=Math.log,tF=Math.LN2;function nF(t){return t>>>=0,t===0?32:31-(eF(t)/tF|0)|0}var Td=64,Sd=4194304;function Uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Uu(a):(o&=s,o!==0&&(r=Uu(o)))}else s=n&~i,s!==0?r=Uu(s):o!==0&&(r=Uu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function rF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Cr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _R(){var t=Td;return Td<<=1,!(Td&4194240)&&(Td=64),t}function Py(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function oF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function nw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function xR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wR,rw,bR,ER,TR,i0=!1,Ad=[],mo=null,go=null,yo=null,mc=new Map,gc=new Map,no=[],sF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eS(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(e.pointerId)}}function vu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=If(e),e!==null&&rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aF(t,e,n,r,i){switch(e){case"focusin":return mo=vu(mo,t,e,n,r,i),!0;case"dragenter":return go=vu(go,t,e,n,r,i),!0;case"mouseover":return yo=vu(yo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return mc.set(o,vu(mc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gc.set(o,vu(gc.get(o)||null,t,e,n,r,i)),!0}return!1}function SR(t){var e=cs(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=hR(n),e!==null){t.blockedOn=e,TR(t.priority,function(){bR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zv=r,n.target.dispatchEvent(r),Zv=null}else return e=If(n),e!==null&&rw(e),t.blockedOn=n,!1;e.shift()}return!0}function tS(t,e,n){uh(t)&&n.delete(e)}function lF(){i0=!1,mo!==null&&uh(mo)&&(mo=null),go!==null&&uh(go)&&(go=null),yo!==null&&uh(yo)&&(yo=null),mc.forEach(tS),gc.forEach(tS)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,i0||(i0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,lF)))}function yc(t){function e(i){return _u(i,t)}if(0<Ad.length){_u(Ad[0],t);for(var n=1;n<Ad.length;n++){var r=Ad[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mo!==null&&_u(mo,t),go!==null&&_u(go,t),yo!==null&&_u(yo,t),mc.forEach(e),gc.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)SR(n),n.blockedOn===null&&no.shift()}var Ra=Vi.ReactCurrentBatchConfig,Lh=!0;function uF(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=1,iw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function cF(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=4,iw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function iw(t,e,n,r){if(Lh){var i=o0(t,e,n,r);if(i===null)Uy(t,e,r,$h,n),eS(t,r);else if(aF(i,t,e,n,r))r.stopPropagation();else if(eS(t,r),e&4&&-1<sF.indexOf(t)){for(;i!==null;){var o=If(i);if(o!==null&&wR(o),o=o0(t,e,n,r),o===null&&Uy(t,e,r,$h,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Uy(t,e,r,null,n)}}var $h=null;function o0(t,e,n,r){if($h=null,t=ew(r),t=cs(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $h=t,null}function AR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xj()){case tw:return 1;case yR:return 4;case Oh:case Qj:return 16;case vR:return 536870912;default:return 16}default:return 16}}var lo=null,ow=null,ch=null;function IR(){if(ch)return ch;var t,e=ow,n=e.length,r,i="value"in lo?lo.value:lo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ch=i.slice(t,1<r?1-r:void 0)}function fh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Id(){return!0}function nS(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Id:nS,this.isPropagationStopped=nS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=Qn(Ol),Af=vt({},Ol,{view:0,detail:0}),fF=Qn(Af),Ny,ky,xu,km=vt({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(Ny=t.screenX-xu.screenX,ky=t.screenY-xu.screenY):ky=Ny=0,xu=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:ky}}),rS=Qn(km),dF=vt({},km,{dataTransfer:0}),hF=Qn(dF),pF=vt({},Af,{relatedTarget:0}),Ry=Qn(pF),mF=vt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),gF=Qn(mF),yF=vt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vF=Qn(yF),_F=vt({},Ol,{data:0}),iS=Qn(_F),xF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bF[t])?!!e[t]:!1}function aw(){return EF}var TF=vt({},Af,{key:function(t){if(t.key){var e=xF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(t){return t.type==="keypress"?fh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SF=Qn(TF),AF=vt({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oS=Qn(AF),IF=vt({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),CF=Qn(IF),PF=vt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),NF=Qn(PF),kF=vt({},km,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RF=Qn(kF),MF=[9,13,27,32],lw=bi&&"CompositionEvent"in window,Ju=null;bi&&"documentMode"in document&&(Ju=document.documentMode);var OF=bi&&"TextEvent"in window&&!Ju,CR=bi&&(!lw||Ju&&8<Ju&&11>=Ju),sS=" ",aS=!1;function PR(t,e){switch(t){case"keyup":return MF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function DF(t,e){switch(t){case"compositionend":return NR(e);case"keypress":return e.which!==32?null:(aS=!0,sS);case"textInput":return t=e.data,t===sS&&aS?null:t;default:return null}}function LF(t,e){if(ha)return t==="compositionend"||!lw&&PR(t,e)?(t=IR(),ch=ow=lo=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CR&&e.locale!=="ko"?null:e.data;default:return null}}var $F={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$F[t.type]:e==="textarea"}function kR(t,e,n,r){lR(r),e=Vh(e,"onChange"),0<e.length&&(n=new sw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yu=null,vc=null;function VF(t){BR(t,0)}function Rm(t){var e=ga(t);if(tR(e))return t}function UF(t,e){if(t==="change")return e}var RR=!1;if(bi){var My;if(bi){var Oy="oninput"in document;if(!Oy){var uS=document.createElement("div");uS.setAttribute("oninput","return;"),Oy=typeof uS.oninput=="function"}My=Oy}else My=!1;RR=My&&(!document.documentMode||9<document.documentMode)}function cS(){Yu&&(Yu.detachEvent("onpropertychange",MR),vc=Yu=null)}function MR(t){if(t.propertyName==="value"&&Rm(vc)){var e=[];kR(e,vc,t,ew(t)),dR(VF,e)}}function jF(t,e,n){t==="focusin"?(cS(),Yu=e,vc=n,Yu.attachEvent("onpropertychange",MR)):t==="focusout"&&cS()}function FF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rm(vc)}function BF(t,e){if(t==="click")return Rm(e)}function GF(t,e){if(t==="input"||t==="change")return Rm(e)}function qF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:qF;function _c(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fv.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function fS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dS(t,e){var n=fS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fS(n)}}function OR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DR(){for(var t=window,e=kh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kh(t.document)}return e}function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zF(t){var e=DR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OR(n.ownerDocument.documentElement,n)){if(r!==null&&uw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=dS(n,o);var s=dS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HF=bi&&"documentMode"in document&&11>=document.documentMode,pa=null,s0=null,Xu=null,a0=!1;function hS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a0||pa==null||pa!==kh(r)||(r=pa,"selectionStart"in r&&uw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xu&&_c(Xu,r)||(Xu=r,r=Vh(s0,"onSelect"),0<r.length&&(e=new sw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},Dy={},LR={};bi&&(LR=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Mm(t){if(Dy[t])return Dy[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LR)return Dy[t]=e[n];return t}var $R=Mm("animationend"),VR=Mm("animationiteration"),UR=Mm("animationstart"),jR=Mm("transitionend"),FR=new Map,pS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){FR.set(t,e),Fs(e,[t])}for(var Ly=0;Ly<pS.length;Ly++){var $y=pS[Ly],WF=$y.toLowerCase(),KF=$y[0].toUpperCase()+$y.slice(1);Vo(WF,"on"+KF)}Vo($R,"onAnimationEnd");Vo(VR,"onAnimationIteration");Vo(UR,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(jR,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function mS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wj(r,e,void 0,t),t.currentTarget=null}function BR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;mS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;mS(i,a,u),o=l}}}if(Mh)throw t=n0,Mh=!1,n0=null,t}function lt(t,e){var n=e[d0];n===void 0&&(n=e[d0]=new Set);var r=t+"__bubble";n.has(r)||(GR(e,t,2,!1),n.add(r))}function Vy(t,e,n){var r=0;e&&(r|=4),GR(n,t,r,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function xc(t){if(!t[Pd]){t[Pd]=!0,Yk.forEach(function(n){n!=="selectionchange"&&(JF.has(n)||Vy(n,!1,t),Vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,Vy("selectionchange",!1,e))}}function GR(t,e,n,r){switch(AR(e)){case 1:var i=uF;break;case 4:i=cF;break;default:i=iw}n=i.bind(null,e,n,t),i=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}dR(function(){var u=o,c=ew(n),f=[];e:{var h=FR.get(t);if(h!==void 0){var y=sw,v=t;switch(t){case"keypress":if(fh(n)===0)break e;case"keydown":case"keyup":y=SF;break;case"focusin":v="focus",y=Ry;break;case"focusout":v="blur",y=Ry;break;case"beforeblur":case"afterblur":y=Ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=CF;break;case $R:case VR:case UR:y=gF;break;case jR:y=NF;break;case"scroll":y=fF;break;case"wheel":y=RF;break;case"copy":case"cut":case"paste":y=vF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=oS}var w=(e&4)!==0,_=!w&&t==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,T;b!==null;){T=b;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=pc(b,x),N!=null&&w.push(wc(b,N,T)))),_)break;b=b.return}0<w.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Zv&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Ei]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?cs(v):null,v!==null&&(_=Bs(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=rS,N="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=oS,N="onPointerLeave",x="onPointerEnter",b="pointer"),_=y==null?h:ga(y),T=v==null?h:ga(v),h=new w(N,b+"leave",y,n,c),h.target=_,h.relatedTarget=T,N=null,cs(c)===u&&(w=new w(x,b+"enter",v,n,c),w.target=T,w.relatedTarget=_,N=w),_=N,y&&v)t:{for(w=y,x=v,b=0,T=w;T;T=na(T))b++;for(T=0,N=x;N;N=na(N))T++;for(;0<b-T;)w=na(w),b--;for(;0<T-b;)x=na(x),T--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=na(w),x=na(x)}w=null}else w=null;y!==null&&gS(f,h,y,w,!1),v!==null&&_!==null&&gS(f,_,v,w,!0)}}e:{if(h=u?ga(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=UF;else if(lS(h))if(RR)A=GF;else{A=FF;var P=jF}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=BF);if(A&&(A=A(t,u))){kR(f,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Kv(h,"number",h.value)}switch(P=u?ga(u):window,t){case"focusin":(lS(P)||P.contentEditable==="true")&&(pa=P,s0=u,Xu=null);break;case"focusout":Xu=s0=pa=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,hS(f,n,c);break;case"selectionchange":if(HF)break;case"keydown":case"keyup":hS(f,n,c)}var S;if(lw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ha?PR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(CR&&n.locale!=="ko"&&(ha||C!=="onCompositionStart"?C==="onCompositionEnd"&&ha&&(S=IR()):(lo=c,ow="value"in lo?lo.value:lo.textContent,ha=!0)),P=Vh(u,C),0<P.length&&(C=new iS(C,t,null,n,c),f.push({event:C,listeners:P}),S?C.data=S:(S=NR(n),S!==null&&(C.data=S)))),(S=OF?DF(t,n):LF(t,n))&&(u=Vh(u,"onBeforeInput"),0<u.length&&(c=new iS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}BR(f,e)})}function wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pc(t,n),o!=null&&r.unshift(wc(t,o,i)),o=pc(t,e),o!=null&&r.push(wc(t,o,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pc(n,o),l!=null&&s.unshift(wc(n,l,a))):i||(l=pc(n,o),l!=null&&s.push(wc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var YF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function yS(t){return(typeof t=="string"?t:""+t).replace(YF,`
`).replace(XF,"")}function Nd(t,e,n){if(e=yS(e),yS(t)!==e&&n)throw Error(ne(425))}function Uh(){}var l0=null,u0=null;function c0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f0=typeof setTimeout=="function"?setTimeout:void 0,QF=typeof clearTimeout=="function"?clearTimeout:void 0,vS=typeof Promise=="function"?Promise:void 0,ZF=typeof queueMicrotask=="function"?queueMicrotask:typeof vS<"u"?function(t){return vS.resolve(null).then(t).catch(e4)}:f0;function e4(t){setTimeout(function(){throw t})}function jy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yc(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),jr="__reactFiber$"+Dl,bc="__reactProps$"+Dl,Ei="__reactContainer$"+Dl,d0="__reactEvents$"+Dl,t4="__reactListeners$"+Dl,n4="__reactHandles$"+Dl;function cs(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_S(t);t!==null;){if(n=t[jr])return n;t=_S(t)}return e}t=n,n=t.parentNode}return null}function If(t){return t=t[jr]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Om(t){return t[bc]||null}var h0=[],ya=-1;function Uo(t){return{current:t}}function ft(t){0>ya||(t.current=h0[ya],h0[ya]=null,ya--)}function st(t,e){ya++,h0[ya]=t.current,t.current=e}var Ro={},vn=Uo(Ro),Dn=Uo(!1),Ss=Ro;function Ka(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function jh(){ft(Dn),ft(vn)}function xS(t,e,n){if(vn.current!==Ro)throw Error(ne(168));st(vn,e),st(Dn,n)}function qR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,jj(t)||"Unknown",i));return vt({},n,r)}function Fh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Ss=vn.current,st(vn,t),st(Dn,Dn.current),!0}function wS(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=qR(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,ft(Dn),ft(vn),st(vn,t)):ft(Dn),st(Dn,n)}var li=null,Dm=!1,Fy=!1;function zR(t){li===null?li=[t]:li.push(t)}function r4(t){Dm=!0,zR(t)}function jo(){if(!Fy&&li!==null){Fy=!0;var t=0,e=Je;try{var n=li;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}li=null,Dm=!1}catch(i){throw li!==null&&(li=li.slice(t+1)),gR(tw,jo),i}finally{Je=e,Fy=!1}}return null}var va=[],_a=0,Bh=null,Gh=0,rr=[],ir=0,As=null,ci=1,fi="";function rs(t,e){va[_a++]=Gh,va[_a++]=Bh,Bh=t,Gh=e}function HR(t,e,n){rr[ir++]=ci,rr[ir++]=fi,rr[ir++]=As,As=t;var r=ci;t=fi;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var o=32-Cr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ci=1<<32-Cr(e)+i|n<<i|r,fi=o+t}else ci=1<<o|n<<i|r,fi=t}function cw(t){t.return!==null&&(rs(t,1),HR(t,1,0))}function fw(t){for(;t===Bh;)Bh=va[--_a],va[_a]=null,Gh=va[--_a],va[_a]=null;for(;t===As;)As=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null,ci=rr[--ir],rr[ir]=null}var Kn=null,Hn=null,dt=!1,Sr=null;function WR(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:ci,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function p0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m0(t){if(dt){var e=Hn;if(e){var n=e;if(!bS(t,e)){if(p0(t))throw Error(ne(418));e=vo(n.nextSibling);var r=Kn;e&&bS(t,e)?WR(r,n):(t.flags=t.flags&-4097|2,dt=!1,Kn=t)}}else{if(p0(t))throw Error(ne(418));t.flags=t.flags&-4097|2,dt=!1,Kn=t}}}function ES(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function kd(t){if(t!==Kn)return!1;if(!dt)return ES(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c0(t.type,t.memoizedProps)),e&&(e=Hn)){if(p0(t))throw KR(),Error(ne(418));for(;e;)WR(t,e),e=vo(e.nextSibling)}if(ES(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?vo(t.stateNode.nextSibling):null;return!0}function KR(){for(var t=Hn;t;)t=vo(t.nextSibling)}function Ja(){Hn=Kn=null,dt=!1}function dw(t){Sr===null?Sr=[t]:Sr.push(t)}var i4=Vi.ReactCurrentBatchConfig;function wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TS(t){var e=t._init;return e(t._payload)}function JR(t){function e(x,b){if(t){var T=x.deletions;T===null?(x.deletions=[b],x.flags|=16):T.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=bo(x,b),x.index=0,x.sibling=null,x}function o(x,b,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<b?(x.flags|=2,b):T):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,T,N){return b===null||b.tag!==6?(b=Ky(T,x.mode,N),b.return=x,b):(b=i(b,T),b.return=x,b)}function l(x,b,T,N){var A=T.type;return A===da?c(x,b,T.props.children,N,T.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zi&&TS(A)===b.type)?(N=i(b,T.props),N.ref=wu(x,b,T),N.return=x,N):(N=vh(T.type,T.key,T.props,null,x.mode,N),N.ref=wu(x,b,T),N.return=x,N)}function u(x,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Jy(T,x.mode,N),b.return=x,b):(b=i(b,T.children||[]),b.return=x,b)}function c(x,b,T,N,A){return b===null||b.tag!==7?(b=xs(T,x.mode,N,A),b.return=x,b):(b=i(b,T),b.return=x,b)}function f(x,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ky(""+b,x.mode,T),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:return T=vh(b.type,b.key,b.props,null,x.mode,T),T.ref=wu(x,null,b),T.return=x,T;case fa:return b=Jy(b,x.mode,T),b.return=x,b;case Zi:var N=b._init;return f(x,N(b._payload),T)}if(Vu(b)||gu(b))return b=xs(b,x.mode,T,null),b.return=x,b;Rd(x,b)}return null}function h(x,b,T,N){var A=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(x,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:return T.key===A?l(x,b,T,N):null;case fa:return T.key===A?u(x,b,T,N):null;case Zi:return A=T._init,h(x,b,A(T._payload),N)}if(Vu(T)||gu(T))return A!==null?null:c(x,b,T,N,null);Rd(x,T)}return null}function y(x,b,T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(b,x,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wd:return x=x.get(N.key===null?T:N.key)||null,l(b,x,N,A);case fa:return x=x.get(N.key===null?T:N.key)||null,u(b,x,N,A);case Zi:var P=N._init;return y(x,b,T,P(N._payload),A)}if(Vu(N)||gu(N))return x=x.get(T)||null,c(b,x,N,A,null);Rd(b,N)}return null}function v(x,b,T,N){for(var A=null,P=null,S=b,C=b=0,I=null;S!==null&&C<T.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var R=h(x,S,T[C],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(x,S),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,S=I}if(C===T.length)return n(x,S),dt&&rs(x,C),A;if(S===null){for(;C<T.length;C++)S=f(x,T[C],N),S!==null&&(b=o(S,b,C),P===null?A=S:P.sibling=S,P=S);return dt&&rs(x,C),A}for(S=r(x,S);C<T.length;C++)I=y(S,x,C,T[C],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&S.forEach(function(M){return e(x,M)}),dt&&rs(x,C),A}function w(x,b,T,N){var A=gu(T);if(typeof A!="function")throw Error(ne(150));if(T=A.call(T),T==null)throw Error(ne(151));for(var P=A=null,S=b,C=b=0,I=null,R=T.next();S!==null&&!R.done;C++,R=T.next()){S.index>C?(I=S,S=null):I=S.sibling;var M=h(x,S,R.value,N);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(x,S),b=o(M,b,C),P===null?A=M:P.sibling=M,P=M,S=I}if(R.done)return n(x,S),dt&&rs(x,C),A;if(S===null){for(;!R.done;C++,R=T.next())R=f(x,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return dt&&rs(x,C),A}for(S=r(x,S);!R.done;C++,R=T.next())R=y(S,x,C,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&S.forEach(function(D){return e(x,D)}),dt&&rs(x,C),A}function _(x,b,T,N){if(typeof T=="object"&&T!==null&&T.type===da&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:e:{for(var A=T.key,P=b;P!==null;){if(P.key===A){if(A=T.type,A===da){if(P.tag===7){n(x,P.sibling),b=i(P,T.props.children),b.return=x,x=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zi&&TS(A)===P.type){n(x,P.sibling),b=i(P,T.props),b.ref=wu(x,P,T),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}T.type===da?(b=xs(T.props.children,x.mode,N,T.key),b.return=x,x=b):(N=vh(T.type,T.key,T.props,null,x.mode,N),N.ref=wu(x,b,T),N.return=x,x=N)}return s(x);case fa:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(x,b.sibling),b=i(b,T.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Jy(T,x.mode,N),b.return=x,x=b}return s(x);case Zi:return P=T._init,_(x,b,P(T._payload),N)}if(Vu(T))return v(x,b,T,N);if(gu(T))return w(x,b,T,N);Rd(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,T),b.return=x,x=b):(n(x,b),b=Ky(T,x.mode,N),b.return=x,x=b),s(x)):n(x,b)}return _}var Ya=JR(!0),YR=JR(!1),qh=Uo(null),zh=null,xa=null,hw=null;function pw(){hw=xa=zh=null}function mw(t){var e=qh.current;ft(qh),t._currentValue=e}function g0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){zh=t,hw=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(hw!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(zh===null)throw Error(ne(308));xa=t,zh.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var fs=null;function gw(t){fs===null?fs=[t]:fs.push(t)}function XR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var eo=!1;function yw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _o(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ti(t,n)}return i=r.interleaved,i===null?(e.next=e,gw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ti(t,n)}function dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}function SS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var i=t.updateQueue;eo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=vt({},f,h);break e;case 2:eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=f}}function AS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Cf={},qr=Uo(Cf),Ec=Uo(Cf),Tc=Uo(Cf);function ds(t){if(t===Cf)throw Error(ne(174));return t}function vw(t,e){switch(st(Tc,e),st(Ec,t),st(qr,Cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yv(e,t)}ft(qr),st(qr,e)}function Xa(){ft(qr),ft(Ec),ft(Tc)}function ZR(t){ds(Tc.current);var e=ds(qr.current),n=Yv(e,t.type);e!==n&&(st(Ec,t),st(qr,n))}function _w(t){Ec.current===t&&(ft(qr),ft(Ec))}var mt=Uo(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var By=[];function xw(){for(var t=0;t<By.length;t++)By[t]._workInProgressVersionPrimary=null;By.length=0}var hh=Vi.ReactCurrentDispatcher,Gy=Vi.ReactCurrentBatchConfig,Is=0,yt=null,Mt=null,Bt=null,Kh=!1,Qu=!1,Sc=0,o4=0;function ln(){throw Error(ne(321))}function ww(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function bw(t,e,n,r,i,o){if(Is=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hh.current=t===null||t.memoizedState===null?u4:c4,t=n(r,i),Qu){o=0;do{if(Qu=!1,Sc=0,25<=o)throw Error(ne(301));o+=1,Bt=Mt=null,e.updateQueue=null,hh.current=f4,t=n(r,i)}while(Qu)}if(hh.current=Jh,e=Mt!==null&&Mt.next!==null,Is=0,Bt=Mt=yt=null,Kh=!1,e)throw Error(ne(300));return t}function Ew(){var t=Sc!==0;return Sc=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function pr(){if(Mt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Bt===null?yt.memoizedState:Bt.next;if(e!==null)Bt=e,Mt=t;else{if(t===null)throw Error(ne(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ac(t,e){return typeof e=="function"?e(t):e}function qy(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,yt.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Mr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zy(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mr(o,e.memoizedState)||(Mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function e2(){}function t2(t,e){var n=yt,r=pr(),i=e(),o=!Mr(r.memoizedState,i);if(o&&(r.memoizedState=i,Mn=!0),r=r.queue,Tw(i2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Ic(9,r2.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(ne(349));Is&30||n2(n,e,i)}return i}function n2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r2(t,e,n,r){e.value=n,e.getSnapshot=r,o2(e)&&s2(t)}function i2(t,e,n){return n(function(){o2(e)&&s2(t)})}function o2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function s2(t){var e=Ti(t,1);e!==null&&Pr(e,t,1,-1)}function IS(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},e.queue=t,t=t.dispatch=l4.bind(null,yt,t),[e.memoizedState,t]}function Ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a2(){return pr().memoizedState}function ph(t,e,n,r){var i=Vr();yt.flags|=t,i.memoizedState=Ic(1|e,n,void 0,r===void 0?null:r)}function Lm(t,e,n,r){var i=pr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var s=Mt.memoizedState;if(o=s.destroy,r!==null&&ww(r,s.deps)){i.memoizedState=Ic(e,n,o,r);return}}yt.flags|=t,i.memoizedState=Ic(1|e,n,o,r)}function CS(t,e){return ph(8390656,8,t,e)}function Tw(t,e){return Lm(2048,8,t,e)}function l2(t,e){return Lm(4,2,t,e)}function u2(t,e){return Lm(4,4,t,e)}function c2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f2(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4,4,c2.bind(null,e,t),n)}function Sw(){}function d2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p2(t,e,n){return Is&21?(Mr(n,e)||(n=_R(),yt.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function s4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Gy.transition;Gy.transition={};try{t(!1),e()}finally{Je=n,Gy.transition=r}}function m2(){return pr().memoizedState}function a4(t,e,n){var r=wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g2(t))y2(e,n);else if(n=XR(t,e,n,r),n!==null){var i=En();Pr(n,t,r,i),v2(n,e,r)}}function l4(t,e,n){var r=wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g2(t))y2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mr(a,s)){var l=e.interleaved;l===null?(i.next=i,gw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XR(t,e,i,r),n!==null&&(i=En(),Pr(n,t,r,i),v2(n,e,r))}}function g2(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function y2(t,e){Qu=Kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}var Jh={readContext:hr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},u4={readContext:hr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:CS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ph(4194308,4,c2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return ph(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a4.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:IS,useDebugValue:Sw,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=IS(!1),e=t[0];return t=s4.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Vr();if(dt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Gt===null)throw Error(ne(349));Is&30||n2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,CS(i2.bind(null,r,o,t),[t]),r.flags|=2048,Ic(9,r2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Vr(),e=Gt.identifierPrefix;if(dt){var n=fi,r=ci;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c4={readContext:hr,useCallback:d2,useContext:hr,useEffect:Tw,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:h2,useReducer:qy,useRef:a2,useState:function(){return qy(Ac)},useDebugValue:Sw,useDeferredValue:function(t){var e=pr();return p2(e,Mt.memoizedState,t)},useTransition:function(){var t=qy(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1},f4={readContext:hr,useCallback:d2,useContext:hr,useEffect:Tw,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:h2,useReducer:zy,useRef:a2,useState:function(){return zy(Ac)},useDebugValue:Sw,useDeferredValue:function(t){var e=pr();return Mt===null?e.memoizedState=t:p2(e,Mt.memoizedState,t)},useTransition:function(){var t=zy(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function y0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $m={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=wo(t),o=vi(r,i);o.payload=e,n!=null&&(o.callback=n),e=_o(t,o,i),e!==null&&(Pr(e,t,i,r),dh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=wo(t),o=vi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_o(t,o,i),e!==null&&(Pr(e,t,i,r),dh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=wo(t),i=vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=_o(t,i,r),e!==null&&(Pr(e,t,r,n),dh(e,t,r))}};function PS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!_c(n,r)||!_c(i,o):!0}function _2(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=hr(o):(i=Ln(e)?Ss:vn.current,r=e.contextTypes,o=(r=r!=null)?Ka(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function NS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$m.enqueueReplaceState(e,e.state,null)}function v0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hr(o):(o=Ln(e)?Ss:vn.current,i.context=Ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(y0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$m.enqueueReplaceState(i,i.state,null),Hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=Uj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d4=typeof WeakMap=="function"?WeakMap:Map;function x2(t,e,n){n=vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xh||(Xh=!0,P0=r),_0(t,e)},n}function w2(t,e,n){n=vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_0(t,e),typeof r!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function kS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=A4.bind(null,t,e,n),e.then(t,t))}function RS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function MS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vi(-1,1),e.tag=2,_o(n,e,1))),n.lanes|=1),t)}var h4=Vi.ReactCurrentOwner,Mn=!1;function wn(t,e,n,r){e.child=t===null?YR(e,null,n,r):Ya(e,t.child,n,r)}function OS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=bw(t,e,n,r,o,i),n=Ew(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(dt&&n&&cw(e),e.flags|=1,wn(t,e,r,i),e.child)}function DS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Mw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,b2(t,e,o,r,i)):(t=vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_c,n(s,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=bo(o,r),t.ref=e.ref,t.return=e,e.child=t}function b2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_c(o,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Si(t,e,i)}return x0(t,e,n,r,i)}function E2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ba,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(ba,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,st(ba,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,st(ba,Gn),Gn|=r;return wn(t,e,i,n),e.child}function T2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,i){var o=Ln(n)?Ss:vn.current;return o=Ka(e,o),Ma(e,i),n=bw(t,e,n,r,o,i),r=Ew(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(dt&&r&&cw(e),e.flags|=1,wn(t,e,n,i),e.child)}function LS(t,e,n,r,i){if(Ln(n)){var o=!0;Fh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)mh(t,e),_2(e,n,r),v0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ln(n)?Ss:vn.current,u=Ka(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&NS(e,s,r,u),eo=!1;var h=e.memoizedState;s.state=h,Hh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Dn.current||eo?(typeof c=="function"&&(y0(e,n,c,r),l=e.memoizedState),(a=eo||PS(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,QR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Ln(n)?Ss:vn.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&NS(e,s,r,l),eo=!1,h=e.memoizedState,s.state=h,Hh(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Dn.current||eo?(typeof y=="function"&&(y0(e,n,y,r),v=e.memoizedState),(u=eo||PS(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return w0(t,e,n,r,o,i)}function w0(t,e,n,r,i,o){T2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&wS(e,n,!1),Si(t,e,o);r=e.stateNode,h4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&wS(e,n,!0),e.child}function S2(t){var e=t.stateNode;e.pendingContext?xS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xS(t,e.context,!1),vw(t,e.containerInfo)}function $S(t,e,n,r,i){return Ja(),dw(i),e.flags|=256,wn(t,e,n,r),e.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function E0(t){return{baseLanes:t,cachePool:null,transitions:null}}function A2(t,e,n){var r=e.pendingProps,i=mt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(mt,i&1),t===null)return m0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jm(s,r,0,null),t=xs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=E0(n),e.memoizedState=b0,t):Aw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return p4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=bo(a,o):(o=xs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?E0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=b0,r}return o=t.child,t=o.sibling,r=bo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Aw(t,e){return e=jm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Md(t,e,n,r){return r!==null&&dw(r),Ya(e,t.child,null,n),t=Aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hy(Error(ne(422))),Md(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jm({mode:"visible",children:r.children},i,0,null),o=xs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,s),e.child.memoizedState=E0(s),e.memoizedState=b0,o);if(!(e.mode&1))return Md(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Hy(o,r,void 0),Md(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mn||a){if(r=Gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ti(t,i),Pr(r,t,i,-1))}return Rw(),r=Hy(Error(ne(421))),Md(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=vo(i.nextSibling),Kn=e,dt=!0,Sr=null,t!==null&&(rr[ir++]=ci,rr[ir++]=fi,rr[ir++]=As,ci=t.id,fi=t.overflow,As=e),e=Aw(e,r.children),e.flags|=4096,e)}function VS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g0(t.return,e,n)}function Wy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function I2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VS(t,n,e);else if(t.tag===19)VS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wy(e,!0,n,null,o);break;case"together":Wy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m4(t,e,n){switch(e.tag){case 3:S2(e),Ja();break;case 5:ZR(e);break;case 1:Ln(e.type)&&Fh(e);break;case 4:vw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?A2(t,e,n):(st(mt,mt.current&1),t=Si(t,e,n),t!==null?t.sibling:null);st(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,E2(t,e,n)}return Si(t,e,n)}var C2,T0,P2,N2;C2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T0=function(){};P2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ds(qr.current);var o=null;switch(n){case"input":i=Hv(t,i),r=Hv(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Jv(t,i),r=Jv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Xv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};N2=function(t,e,n,r){n!==r&&(e.flags|=4)};function bu(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g4(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Ln(e.type)&&jh(),un(e),null;case 3:return r=e.stateNode,Xa(),ft(Dn),ft(vn),xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(R0(Sr),Sr=null))),T0(t,e),un(e),null;case 5:_w(e);var i=ds(Tc.current);if(n=e.type,t!==null&&e.stateNode!=null)P2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return un(e),null}if(t=ds(qr.current),kd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jr]=e,r[bc]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<ju.length;i++)lt(ju[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":WT(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":JT(r,o),lt("invalid",r)}Xv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nd(r.textContent,a,t),i=["children",""+a]):dc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&lt("scroll",r)}switch(n){case"input":bd(r),KT(r,o,!0);break;case"textarea":bd(r),YT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jr]=e,t[bc]=r,C2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qv(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ju.length;i++)lt(ju[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":WT(t,r),i=Hv(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":JT(t,r),i=Jv(t,r),lt("invalid",t);break;default:i=r}Xv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?aR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hc(t,l):typeof l=="number"&&hc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",t):l!=null&&Yx(t,o,l,s))}switch(n){case"input":bd(t),KT(t,r,!1);break;case"textarea":bd(t),YT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)N2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=ds(Tc.current),ds(qr.current),kd(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return un(e),null;case 13:if(ft(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Hn!==null&&e.mode&1&&!(e.flags&128))KR(),Ja(),e.flags|=98560,o=!1;else if(o=kd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[jr]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else Sr!==null&&(R0(Sr),Sr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ot===0&&(Ot=3):Rw())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Xa(),T0(t,e),t===null&&xc(e.stateNode.containerInfo),un(e),null;case 10:return mw(e.type._context),un(e),null;case 17:return Ln(e.type)&&jh(),un(e),null;case 19:if(ft(mt),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)bu(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wh(t),s!==null){for(e.flags|=128,bu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(mt,mt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Za&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!dt)return un(e),null}else 2*Tt()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=mt.current,st(mt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return kw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function y4(t,e){switch(fw(e),e.tag){case 1:return Ln(e.type)&&jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),ft(Dn),ft(vn),xw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _w(e),null;case 13:if(ft(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(mt),null;case 4:return Xa(),null;case 10:return mw(e.type._context),null;case 22:case 23:return kw(),null;case 24:return null;default:return null}}var Od=!1,hn=!1,v4=typeof WeakSet=="function"?WeakSet:Set,de=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function S0(t,e,n){try{n()}catch(r){wt(t,e,r)}}var US=!1;function _4(t,e){if(l0=Lh,t=DR(),uw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u0={focusedElem:t,selectionRange:n},Lh=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:br(e.type,w),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){wt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return v=US,US=!1,v}function Zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&S0(e,n,o)}i=i.next}while(i!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function k2(t){var e=t.alternate;e!==null&&(t.alternate=null,k2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[bc],delete e[d0],delete e[t4],delete e[n4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R2(t){return t.tag===5||t.tag===3||t.tag===4}function jS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}function C0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C0(t,e,n),t=t.sibling;t!==null;)C0(t,e,n),t=t.sibling}var Yt=null,Er=!1;function Yi(t,e,n){for(n=n.child;n!==null;)M2(t,e,n),n=n.sibling}function M2(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Nm,n)}catch{}switch(n.tag){case 5:hn||wa(n,e);case 6:var r=Yt,i=Er;Yt=null,Yi(t,e,n),Yt=r,Er=i,Yt!==null&&(Er?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Er?(t=Yt,n=n.stateNode,t.nodeType===8?jy(t.parentNode,n):t.nodeType===1&&jy(t,n),yc(t)):jy(Yt,n.stateNode));break;case 4:r=Yt,i=Er,Yt=n.stateNode.containerInfo,Er=!0,Yi(t,e,n),Yt=r,Er=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&S0(n,e,s),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!hn&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Yi(t,e,n),hn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function FS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new v4),e.forEach(function(r){var i=C4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Er=!1;break e;case 3:Yt=a.stateNode.containerInfo,Er=!0;break e;case 4:Yt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Yt===null)throw Error(ne(160));M2(o,s,i),Yt=null,Er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)O2(e,t),e=e.sibling}function O2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),$r(t),r&4){try{Zu(3,t,t.return),Vm(3,t)}catch(w){wt(t,t.return,w)}try{Zu(5,t,t.return)}catch(w){wt(t,t.return,w)}}break;case 1:xr(e,t),$r(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(xr(e,t),$r(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{hc(i,"")}catch(w){wt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&nR(i,o),Qv(a,s);var u=Qv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?aR(i,f):c==="dangerouslySetInnerHTML"?oR(i,f):c==="children"?hc(i,f):Yx(i,c,f,u)}switch(a){case"input":Wv(i,o);break;case"textarea":rR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pa(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[bc]=o}catch(w){wt(t,t.return,w)}}break;case 6:if(xr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){wt(t,t.return,w)}}break;case 3:if(xr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(w){wt(t,t.return,w)}break;case 4:xr(e,t),$r(t);break;case 13:xr(e,t),$r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Pw=Tt())),r&4&&FS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||c,xr(e,t),hn=u):xr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(f=de=c;de!==null;){switch(h=de,y=h.child,h.tag){case 0:case 11:case 14:case 15:Zu(4,h,h.return);break;case 1:wa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){wt(r,n,w)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){GS(f);continue}}y!==null?(y.return=h,de=y):GS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sR("display",s))}catch(w){wt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){wt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xr(e,t),$r(t),r&4&&FS(t);break;case 21:break;default:xr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R2(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hc(i,""),r.flags&=-33);var o=jS(t);C0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jS(t);I0(t,a,s);break;default:throw Error(ne(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x4(t,e,n){de=t,D2(t)}function D2(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Od;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Od;var u=hn;if(Od=s,(hn=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?qS(i):l!==null?(l.return=s,de=l):qS(i);for(;o!==null;)de=o,D2(o),o=o.sibling;de=i,Od=a,hn=u}BS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):BS(t)}}function BS(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&AS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}hn||e.flags&512&&A0(e)}catch(h){wt(e,e.return,h)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function GS(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function qS(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var o=e.return;try{A0(e)}catch(l){wt(e,o,l)}break;case 5:var s=e.return;try{A0(e)}catch(l){wt(e,s,l)}}}catch(l){wt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var w4=Math.ceil,Yh=Vi.ReactCurrentDispatcher,Iw=Vi.ReactCurrentOwner,lr=Vi.ReactCurrentBatchConfig,je=0,Gt=null,It=null,en=0,Gn=0,ba=Uo(0),Ot=0,Cc=null,Cs=0,Um=0,Cw=0,ec=null,kn=null,Pw=0,Za=1/0,ai=null,Xh=!1,P0=null,xo=null,Dd=!1,uo=null,Qh=0,tc=0,N0=null,gh=-1,yh=0;function En(){return je&6?Tt():gh!==-1?gh:gh=Tt()}function wo(t){return t.mode&1?je&2&&en!==0?en&-en:i4.transition!==null?(yh===0&&(yh=_R()),yh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:AR(t.type)),t):1}function Pr(t,e,n,r){if(50<tc)throw tc=0,N0=null,Error(ne(185));Sf(t,n,r),(!(je&2)||t!==Gt)&&(t===Gt&&(!(je&2)&&(Um|=n),Ot===4&&ro(t,en)),$n(t,r),n===1&&je===0&&!(e.mode&1)&&(Za=Tt()+500,Dm&&jo()))}function $n(t,e){var n=t.callbackNode;iF(t,e);var r=Dh(t,t===Gt?en:0);if(r===0)n!==null&&ZT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ZT(n),e===1)t.tag===0?r4(zS.bind(null,t)):zR(zS.bind(null,t)),ZF(function(){!(je&6)&&jo()}),n=null;else{switch(xR(r)){case 1:n=tw;break;case 4:n=yR;break;case 16:n=Oh;break;case 536870912:n=vR;break;default:n=Oh}n=G2(n,L2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L2(t,e){if(gh=-1,yh=0,je&6)throw Error(ne(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=Dh(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zh(t,r);else{e=r;var i=je;je|=2;var o=V2();(Gt!==t||en!==e)&&(ai=null,Za=Tt()+500,_s(t,e));do try{T4();break}catch(a){$2(t,a)}while(!0);pw(),Yh.current=o,je=i,It!==null?e=0:(Gt=null,en=0,e=Ot)}if(e!==0){if(e===2&&(i=r0(t),i!==0&&(r=i,e=k0(t,i))),e===1)throw n=Cc,_s(t,0),ro(t,r),$n(t,Tt()),n;if(e===6)ro(t,r);else{if(i=t.current.alternate,!(r&30)&&!b4(i)&&(e=Zh(t,r),e===2&&(o=r0(t),o!==0&&(r=o,e=k0(t,o))),e===1))throw n=Cc,_s(t,0),ro(t,r),$n(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:is(t,kn,ai);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=Pw+500-Tt(),10<e)){if(Dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=f0(is.bind(null,t,kn,ai),e);break}is(t,kn,ai);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Cr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w4(r/1960))-r,10<r){t.timeoutHandle=f0(is.bind(null,t,kn,ai),r);break}is(t,kn,ai);break;case 5:is(t,kn,ai);break;default:throw Error(ne(329))}}}return $n(t,Tt()),t.callbackNode===n?L2.bind(null,t):null}function k0(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=Zh(t,e),t!==2&&(e=kn,kn=n,e!==null&&R0(e)),t}function R0(t){kn===null?kn=t:kn.push.apply(kn,t)}function b4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Cw,e&=~Um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function zS(t){if(je&6)throw Error(ne(327));Oa();var e=Dh(t,0);if(!(e&1))return $n(t,Tt()),null;var n=Zh(t,e);if(t.tag!==0&&n===2){var r=r0(t);r!==0&&(e=r,n=k0(t,r))}if(n===1)throw n=Cc,_s(t,0),ro(t,e),$n(t,Tt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,kn,ai),$n(t,Tt()),null}function Nw(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Za=Tt()+500,Dm&&jo())}}function Ps(t){uo!==null&&uo.tag===0&&!(je&6)&&Oa();var e=je;je|=1;var n=lr.transition,r=Je;try{if(lr.transition=null,Je=1,t)return t()}finally{Je=r,lr.transition=n,je=e,!(je&6)&&jo()}}function kw(){Gn=ba.current,ft(ba)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QF(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jh();break;case 3:Xa(),ft(Dn),ft(vn),xw();break;case 5:_w(r);break;case 4:Xa();break;case 13:ft(mt);break;case 19:ft(mt);break;case 10:mw(r.type._context);break;case 22:case 23:kw()}n=n.return}if(Gt=t,It=t=bo(t.current,null),en=Gn=e,Ot=0,Cc=null,Cw=Um=Cs=0,kn=ec=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fs=null}return t}function $2(t,e){do{var n=It;try{if(pw(),hh.current=Jh,Kh){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kh=!1}if(Is=0,Bt=Mt=yt=null,Qu=!1,Sc=0,Iw.current=null,n===null||n.return===null){Ot=1,Cc=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=RS(s);if(y!==null){y.flags&=-257,MS(y,s,a,o,e),y.mode&1&&kS(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){kS(o,u,e),Rw();break e}l=Error(ne(426))}}else if(dt&&a.mode&1){var _=RS(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),MS(_,s,a,o,e),dw(Qa(l,a));break e}}o=l=Qa(l,a),Ot!==4&&(Ot=2),ec===null?ec=[o]:ec.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=x2(o,l,e);SS(o,x);break e;case 1:a=l;var b=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xo===null||!xo.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=w2(o,a,e);SS(o,N);break e}}o=o.return}while(o!==null)}j2(n)}catch(A){e=A,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function V2(){var t=Yh.current;return Yh.current=Jh,t===null?Jh:t}function Rw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(Cs&268435455)&&!(Um&268435455)||ro(Gt,en)}function Zh(t,e){var n=je;je|=2;var r=V2();(Gt!==t||en!==e)&&(ai=null,_s(t,e));do try{E4();break}catch(i){$2(t,i)}while(!0);if(pw(),je=n,Yh.current=r,It!==null)throw Error(ne(261));return Gt=null,en=0,Ot}function E4(){for(;It!==null;)U2(It)}function T4(){for(;It!==null&&!Jj();)U2(It)}function U2(t){var e=B2(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?j2(t):It=e,Iw.current=null}function j2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y4(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(n=g4(n,e,Gn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function is(t,e,n){var r=Je,i=lr.transition;try{lr.transition=null,Je=1,S4(t,e,n,r)}finally{lr.transition=i,Je=r}return null}function S4(t,e,n,r){do Oa();while(uo!==null);if(je&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oF(t,o),t===Gt&&(It=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,G2(Oh,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Je;Je=1;var a=je;je|=4,Iw.current=null,_4(t,n),O2(n,t),zF(u0),Lh=!!l0,u0=l0=null,t.current=n,x4(n),Yj(),je=a,Je=s,lr.transition=o}else t.current=n;if(Dd&&(Dd=!1,uo=t,Qh=i),o=t.pendingLanes,o===0&&(xo=null),Zj(n.stateNode),$n(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xh)throw Xh=!1,t=P0,P0=null,t;return Qh&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===N0?tc++:(tc=0,N0=t):tc=0,jo(),null}function Oa(){if(uo!==null){var t=xR(Qh),e=lr.transition,n=Je;try{if(lr.transition=null,Je=16>t?16:t,uo===null)var r=!1;else{if(t=uo,uo=null,Qh=0,je&6)throw Error(ne(331));var i=je;for(je|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:Zu(8,c,o)}var f=c.child;if(f!==null)f.return=c,de=f;else for(;de!==null;){c=de;var h=c.sibling,y=c.return;if(k2(c),c===u){de=null;break}if(h!==null){h.return=y,de=h;break}de=y}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,de=x;break e}de=o.return}}var b=t.current;for(de=b;de!==null;){s=de;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,de=T;else e:for(s=b;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vm(9,a)}}catch(A){wt(a,a.return,A)}if(a===s){de=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,de=N;break e}de=a.return}}if(je=i,jo(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Nm,t)}catch{}r=!0}return r}finally{Je=n,lr.transition=e}}return!1}function HS(t,e,n){e=Qa(n,e),e=x2(t,e,1),t=_o(t,e,1),e=En(),t!==null&&(Sf(t,1,e),$n(t,e))}function wt(t,e,n){if(t.tag===3)HS(t,t,n);else for(;e!==null;){if(e.tag===3){HS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xo===null||!xo.has(r))){t=Qa(n,t),t=w2(e,t,1),e=_o(e,t,1),t=En(),e!==null&&(Sf(e,1,t),$n(e,t));break}}e=e.return}}function A4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&(Ot===4||Ot===3&&(en&130023424)===en&&500>Tt()-Pw?_s(t,0):Cw|=n),$n(t,e)}function F2(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=En();t=Ti(t,e),t!==null&&(Sf(t,e,n),$n(t,n))}function I4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F2(t,n)}function C4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),F2(t,n)}var B2;B2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,m4(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,dt&&e.flags&1048576&&HR(e,Gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mh(t,e),t=e.pendingProps;var i=Ka(e,vn.current);Ma(e,n),i=bw(null,e,r,t,i,n);var o=Ew();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,Fh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yw(e),i.updater=$m,e.stateNode=i,i._reactInternals=e,v0(e,r,t,n),e=w0(null,e,r,!0,o,n)):(e.tag=0,dt&&o&&cw(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N4(r),t=br(r,t),i){case 0:e=x0(null,e,r,t,n);break e;case 1:e=LS(null,e,r,t,n);break e;case 11:e=OS(null,e,r,t,n);break e;case 14:e=DS(null,e,r,br(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),x0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),LS(t,e,r,i,n);case 3:e:{if(S2(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,QR(t,e),Hh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(ne(423)),e),e=$S(t,e,r,n,i);break e}else if(r!==i){i=Qa(Error(ne(424)),e),e=$S(t,e,r,n,i);break e}else for(Hn=vo(e.stateNode.containerInfo.firstChild),Kn=e,dt=!0,Sr=null,n=YR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),r===i){e=Si(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return ZR(e),t===null&&m0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,c0(r,i)?s=null:o!==null&&c0(r,o)&&(e.flags|=32),T2(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&m0(e),null;case 13:return A2(t,e,n);case 4:return vw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),OS(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,st(qh,r._currentValue),r._currentValue=s,o!==null)if(Mr(o.value,s)){if(o.children===i.children&&!Dn.current){e=Si(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),g0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),g0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=hr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),DS(t,e,r,i,n);case 15:return b2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),mh(t,e),e.tag=1,Ln(r)?(t=!0,Fh(e)):t=!1,Ma(e,n),_2(e,r,i),v0(e,r,i,n),w0(null,e,r,!0,t,n);case 19:return I2(t,e,n);case 22:return E2(t,e,n)}throw Error(ne(156,e.tag))};function G2(t,e){return gR(t,e)}function P4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new P4(t,e,n,r)}function Mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N4(t){if(typeof t=="function")return Mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qx)return 11;if(t===Zx)return 14}return 2}function bo(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Mw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case da:return xs(n.children,i,o,e);case Xx:s=8,i|=8;break;case Bv:return t=sr(12,n,e,i|2),t.elementType=Bv,t.lanes=o,t;case Gv:return t=sr(13,n,e,i),t.elementType=Gv,t.lanes=o,t;case qv:return t=sr(19,n,e,i),t.elementType=qv,t.lanes=o,t;case Zk:return jm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xk:s=10;break e;case Qk:s=9;break e;case Qx:s=11;break e;case Zx:s=14;break e;case Zi:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xs(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function jm(t,e,n,r){return t=sr(22,t,r,e),t.elementType=Zk,t.lanes=n,t.stateNode={isHidden:!1},t}function Ky(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Jy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Py(0),this.expirationTimes=Py(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Py(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ow(t,e,n,r,i,o,s,a,l){return t=new k4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yw(o),t}function R4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q2(t){if(!t)return Ro;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Ln(n))return qR(t,n,e)}return e}function z2(t,e,n,r,i,o,s,a,l){return t=Ow(n,r,!0,t,i,o,s,a,l),t.context=q2(null),n=t.current,r=En(),i=wo(n),o=vi(r,i),o.callback=e??null,_o(n,o,i),t.current.lanes=i,Sf(t,i,r),$n(t,r),t}function Fm(t,e,n,r){var i=e.current,o=En(),s=wo(i);return n=q2(n),e.context===null?e.context=n:e.pendingContext=n,e=vi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_o(i,e,s),t!==null&&(Pr(t,i,s,o),dh(t,i,s)),s}function ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function WS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dw(t,e){WS(t,e),(t=t.alternate)&&WS(t,e)}function M4(){return null}var H2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lw(t){this._internalRoot=t}Bm.prototype.render=Lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Fm(t,e,null,null)};Bm.prototype.unmount=Lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Fm(null,t,null,null)}),e[Ei]=null}};function Bm(t){this._internalRoot=t}Bm.prototype.unstable_scheduleHydration=function(t){if(t){var e=ER();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&SR(t)}};function $w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KS(){}function O4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ep(s);o.call(u)}}var s=z2(e,r,t,0,null,!1,!1,"",KS);return t._reactRootContainer=s,t[Ei]=s.current,xc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ep(l);a.call(u)}}var l=Ow(t,0,!1,null,null,!1,!1,"",KS);return t._reactRootContainer=l,t[Ei]=l.current,xc(t.nodeType===8?t.parentNode:t),Ps(function(){Fm(e,l,n,r)}),l}function qm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ep(s);a.call(l)}}Fm(e,s,t,i)}else s=O4(n,e,t,i,r);return ep(s)}wR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uu(e.pendingLanes);n!==0&&(nw(e,n|1),$n(e,Tt()),!(je&6)&&(Za=Tt()+500,jo()))}break;case 13:Ps(function(){var r=Ti(t,1);if(r!==null){var i=En();Pr(r,t,1,i)}}),Dw(t,1)}};rw=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=En();Pr(e,t,134217728,n)}Dw(t,134217728)}};bR=function(t){if(t.tag===13){var e=wo(t),n=Ti(t,e);if(n!==null){var r=En();Pr(n,t,e,r)}Dw(t,e)}};ER=function(){return Je};TR=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};e0=function(t,e,n){switch(e){case"input":if(Wv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Om(r);if(!i)throw Error(ne(90));tR(r),Wv(r,i)}}}break;case"textarea":rR(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};cR=Nw;fR=Ps;var D4={usingClientEntryPoint:!1,Events:[If,ga,Om,lR,uR,Nw]},Eu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L4={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pR(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||M4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Nm=Ld.inject(L4),Gr=Ld}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(e))throw Error(ne(200));return R4(t,e,null,n)};Xn.createRoot=function(t,e){if(!$w(t))throw Error(ne(299));var n=!1,r="",i=H2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ow(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,xc(t.nodeType===8?t.parentNode:t),new Lw(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=pR(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ps(t)};Xn.hydrate=function(t,e,n){if(!Gm(e))throw Error(ne(200));return qm(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!$w(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=H2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=z2(e,null,t,1,n??null,i,!1,o,s),t[Ei]=e.current,xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bm(e)};Xn.render=function(t,e,n){if(!Gm(e))throw Error(ne(200));return qm(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Gm(t))throw Error(ne(40));return t._reactRootContainer?(Ps(function(){qm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};Xn.unstable_batchedUpdates=Nw;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gm(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return qm(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function W2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W2)}catch(t){console.error(t)}}W2(),Wk.exports=Xn;var $4=Wk.exports,JS=$4;jv.createRoot=JS.createRoot,jv.hydrateRoot=JS.hydrateRoot;var YS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},J2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new U4;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j4=function(t){const e=K2(t);return J2.encodeByteArray(e,!0)},tp=function(t){return j4(t).replace(/\./g,"")},Y2=function(t){try{return J2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=()=>F4().__FIREBASE_DEFAULTS__,G4=()=>{if(typeof process>"u"||typeof YS>"u")return;const t=YS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return B4()||G4()||q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X2=t=>{var e,n;return(n=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z4=t=>{const e=X2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q2=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config},Z2=t=>{var e;return(e=zm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tp(JSON.stringify(n)),tp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function J4(){var t;const e=(t=zm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z4(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eB(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tB(){try{return typeof indexedDB=="object"}catch{return!1}}function nB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rB,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function iB(t,e){return t.replace(oB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oB=/\{\$([^}]+)}/g;function sB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function np(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(XS(o)&&XS(s)){if(!np(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aB(t,e){const n=new lB(t,e);return n.subscribe.bind(n)}class lB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yy),i.error===void 0&&(i.error=Yy),i.complete===void 0&&(i.complete=Yy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dB(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fB(t){return t===os?void 0:t}function dB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const pB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},mB=$e.INFO,gB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},yB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vw{constructor(e){this.name=e,this._logLevel=mB,this._logHandler=yB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const vB=(t,e)=>e.some(n=>t instanceof n);let QS,ZS;function _B(){return QS||(QS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xB(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eM=new WeakMap,M0=new WeakMap,tM=new WeakMap,Xy=new WeakMap,Uw=new WeakMap;function wB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Eo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eM.set(n,t)}).catch(()=>{}),Uw.set(e,t),e}function bB(t){if(M0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});M0.set(t,e)}let O0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EB(t){O0=t(O0)}function TB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qy(this),e,...n);return tM.set(r,e.sort?e.sort():[e]),Eo(r)}:xB().includes(t)?function(...e){return t.apply(Qy(this),e),Eo(eM.get(this))}:function(...e){return Eo(t.apply(Qy(this),e))}}function SB(t){return typeof t=="function"?TB(t):(t instanceof IDBTransaction&&bB(t),vB(t,_B())?new Proxy(t,O0):t)}function Eo(t){if(t instanceof IDBRequest)return wB(t);if(Xy.has(t))return Xy.get(t);const e=SB(t);return e!==t&&(Xy.set(t,e),Uw.set(e,t)),e}const Qy=t=>Uw.get(t);function AB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Eo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Eo(s.result),l.oldVersion,l.newVersion,Eo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const IB=["get","getKey","getAll","getAllKeys","count"],CB=["put","add","delete","clear"],Zy=new Map;function e1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zy.get(e))return Zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IB.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zy.set(e,o),o}EB(t=>({...t,get:(e,n,r)=>e1(e,n)||t.get(e,n,r),has:(e,n)=>!!e1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",t1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Vw("@firebase/app"),kB="@firebase/app-compat",RB="@firebase/analytics-compat",MB="@firebase/analytics",OB="@firebase/app-check-compat",DB="@firebase/app-check",LB="@firebase/auth",$B="@firebase/auth-compat",VB="@firebase/database",UB="@firebase/data-connect",jB="@firebase/database-compat",FB="@firebase/functions",BB="@firebase/functions-compat",GB="@firebase/installations",qB="@firebase/installations-compat",zB="@firebase/messaging",HB="@firebase/messaging-compat",WB="@firebase/performance",KB="@firebase/performance-compat",JB="@firebase/remote-config",YB="@firebase/remote-config-compat",XB="@firebase/storage",QB="@firebase/storage-compat",ZB="@firebase/firestore",e3="@firebase/vertexai-preview",t3="@firebase/firestore-compat",n3="firebase",r3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",i3={[D0]:"fire-core",[kB]:"fire-core-compat",[MB]:"fire-analytics",[RB]:"fire-analytics-compat",[DB]:"fire-app-check",[OB]:"fire-app-check-compat",[LB]:"fire-auth",[$B]:"fire-auth-compat",[VB]:"fire-rtdb",[UB]:"fire-data-connect",[jB]:"fire-rtdb-compat",[FB]:"fire-fn",[BB]:"fire-fn-compat",[GB]:"fire-iid",[qB]:"fire-iid-compat",[zB]:"fire-fcm",[HB]:"fire-fcm-compat",[WB]:"fire-perf",[KB]:"fire-perf-compat",[JB]:"fire-rc",[YB]:"fire-rc-compat",[XB]:"fire-gcs",[QB]:"fire-gcs-compat",[ZB]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Map,o3=new Map,$0=new Map;function n1(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if($0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,t);for(const n of rp.values())n1(n,t);for(const n of o3.values())n1(n,t);return!0}function jw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function co(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Pf("app","Firebase",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=r3;function nM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=Q2()),!n)throw To.create("no-options");const o=rp.get(i);if(o){if(np(n,o.options)&&np(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}const s=new hB(i);for(const l of $0.values())s.addComponent(l);const a=new a3(n,r,s);return rp.set(i,a),a}function rM(t=L0){const e=rp.get(t);if(!e&&t===L0&&Q2())return nM();if(!e)throw To.create("no-app",{appName:t});return e}function So(t,e,n){var r;let i=(r=i3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}el(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebase-heartbeat-database",u3=1,Pc="firebase-heartbeat-store";let ev=null;function iM(){return ev||(ev=AB(l3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw To.create("idb-open",{originalErrorMessage:t.message})})),ev}async function c3(t){try{const n=(await iM()).transaction(Pc),r=await n.objectStore(Pc).get(oM(t));return await n.done,r}catch(e){if(e instanceof Ui)Ai.warn(e.message);else{const n=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function r1(t,e){try{const r=(await iM()).transaction(Pc,"readwrite");await r.objectStore(Pc).put(e,oM(t)),await r.done}catch(n){if(n instanceof Ui)Ai.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function oM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1024,d3=30*24*60*60*1e3;class h3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=i1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=d3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i1(),{heartbeatsToSend:r,unsentEntries:i}=p3(this._heartbeatsCache.heartbeats),o=tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ai.warn(n),""}}}function i1(){return new Date().toISOString().substring(0,10)}function p3(t,e=f3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tB()?nB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o1(t){return tp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){el(new Ns("platform-logger",e=>new PB(e),"PRIVATE")),el(new Ns("heartbeat",e=>new h3(e),"PRIVATE")),So(D0,t1,t),So(D0,t1,"esm2017"),So("fire-js","")}g3("");var y3="firebase",v3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(y3,v3,"app");var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,sM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,M,D){for(var O=Array(arguments.length-2),j=2;j<arguments.length;j++)O[j-2]=arguments[j];return C.prototype[M].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)R[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],M=S.g[2];var D=S.g[3],O=C+(D^I&(M^D))+R[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[1]+3905402710&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[2]+606105819&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[5]+1200080426&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[6]+2821735955&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[9]+2336552879&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[10]+4294925233&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[13]+4254626195&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[14]+2792965006&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(M^D&(I^M))+R[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[6]+3225465664&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[11]+643717713&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[10]+38016083&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[15]+3634488961&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[14]+3275163606&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[3]+4107603335&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[2]+4243563512&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[7]+1735328473&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(I^M^D)+R[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[8]+2272392833&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[11]+1839030562&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[4]+1272893353&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[7]+4139469664&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[0]+3936430074&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[3]+3572445317&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[12]+3873151461&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[15]+530742520&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(M^(I|~D))+R[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[7]+1126891415&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[14]+2878612391&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[3]+2399980690&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[10]+4293915773&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[15]+4264355552&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[6]+2734768916&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[11]+3174756917&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[2]+718787259&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,R=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(R[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,R),M=0;break}}else for(;D<C;)if(R[M++]=S[D++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],R=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;R&&D==C||(I[M]=D,R=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return _(u(-S));for(var C=[],I=1,R=0;S>=I;R++)C[R]=S/I|0,I*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return _(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=f,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),O=parseInt(S.substring(M,M+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(O))):(R=R.j(I),R=R.add(u(O)))}return R}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-_(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(w(this))return"-"+_(this).toString(S);for(var C=u(Math.pow(S,6)),I=this,R="";;){var M=N(I,C).g;I=x(I,M.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,v(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:v(S)?0:1};function _(S){for(var C=S.g.length,I=[],R=0;R<C;R++)I[R]=~S.g[R];return new s(I,~S.h).add(h)}t.abs=function(){return w(this)?_(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0,M=0;M<=C;M++){var D=R+(this.i(M)&65535)+(S.i(M)&65535),O=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);R=O>>>16,D&=65535,O&=65535,I[M]=O<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(_(C))}t.j=function(S){if(v(this)||v(S))return f;if(w(this))return w(S)?_(this).j(_(S)):_(_(this).j(S));if(w(S))return _(this.j(_(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<S.g.length;M++){var D=this.i(R)>>>16,O=this.i(R)&65535,j=S.i(M)>>>16,B=S.i(M)&65535;I[2*R+2*M]+=O*B,b(I,2*R+2*M),I[2*R+2*M+1]+=D*B,b(I,2*R+2*M+1),I[2*R+2*M+1]+=O*j,b(I,2*R+2*M+1),I[2*R+2*M+2]+=D*j,b(I,2*R+2*M+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function T(S,C){this.g=S,this.h=C}function N(S,C){if(v(C))throw Error("division by zero");if(v(S))return new T(f,f);if(w(S))return C=N(_(S),C),new T(_(C.g),_(C.h));if(w(C))return C=N(S,_(C)),new T(_(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(S);)I=A(I),R=A(R);var M=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!v(R);){var O=D.add(R);0>=O.l(S)&&(M=M.add(I),D=O),R=P(R,1),I=P(I,1)}return C=x(S,M.j(C)),new T(M,C)}for(M=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),O=D.j(C);w(O)||0<O.l(S);)I-=R,D=u(I),O=D.j(C);v(D)&&(D=h),M=M.add(D),S=x(S,O)}return new T(M,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function A(S){for(var C=S.g.length+1,I=[],R=0;R<C;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function P(S,C){var I=C>>5;C%=32;for(var R=S.g.length-I,M=[],D=0;D<R;D++)M[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ws=s}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aM,Fu,lM,_h,V0,uM,cM,fM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,k){return p==Array.prototype||p==Object.prototype||(p[E]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var E=0;E<p.length;++E){var k=p[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var k=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var F=p[L];if(!(F in k))break e;k=k[F]}p=p[p.length-1],L=k[p],E=E(L),E!=L&&E!=null&&e(k,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var k=0,L=!1,F={next:function(){if(!L&&k<p.length){var q=k++;return{value:E(q,p[q]),done:!1}}return L=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function u(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function c(p,E,k){return p.call.apply(p.bind,arguments)}function f(p,E,k){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,L),p.apply(E,F)}}return function(){return p.apply(E,arguments)}}function h(p,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(p,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function v(p,E){function k(){}k.prototype=E.prototype,p.aa=E.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(L,F,q){for(var oe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)oe[tt-2]=arguments[tt];return E.prototype[F].apply(L,oe)}}function w(p){const E=p.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=p[L];return k}return[]}function _(p,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const F=p.length||0,q=L.length||0;p.length=F+q;for(let oe=0;oe<q;oe++)p[F+oe]=L[oe]}else p.push(L)}}class x{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){return/^[\s\xa0]*$/.test(p)}function T(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(p,E,k){for(const L in p)E.call(k,p[L],L,p)}function S(p,E){for(const k in p)E.call(void 0,p[k],k,p)}function C(p){const E={};for(const k in p)E[k]=p[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let k,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(k in L)p[k]=L[k];for(let q=0;q<I.length;q++)k=I[q],Object.prototype.hasOwnProperty.call(L,k)&&(p[k]=L[k])}}function M(p){var E=1;p=p.split(":");const k=[];for(;0<E&&p.length;)k.push(p.shift()),E--;return p.length&&k.push(p.join(":")),k}function D(p){a.setTimeout(()=>{throw p},0)}function O(){var p=K;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class j{constructor(){this.h=this.g=null}add(E,k){const L=B.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new x(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,U=!1,K=new j,Y=()=>{const p=a.Promise.resolve(void 0);W=()=>{p.then(se)}};var se=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(k){D(k)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}U=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return p}();function Ne(p,E){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(A){e:{try{N(E.nodeName);var F=!0;break e}catch{}F=!1}F||(E=null)}}else k=="mouseover"?E=p.fromElement:k=="mouseout"&&(E=p.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:We[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ne.aa.h.call(this)}}v(Ne,le);var We={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function ie(p,E,k,L,F){this.listener=p,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=F,this.key=++Ue,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function _e(p){this.src=p,this.g={},this.h=0}_e.prototype.add=function(p,E,k,L,F){var q=p.toString();p=this.g[q],p||(p=this.g[q]=[],this.h++);var oe=Le(p,E,L,F);return-1<oe?(E=p[oe],k||(E.fa=!1)):(E=new ie(E,this.src,q,!!L,F),E.fa=k,p.push(E)),E};function Q(p,E){var k=E.type;if(k in p.g){var L=p.g[k],F=Array.prototype.indexOf.call(L,E,void 0),q;(q=0<=F)&&Array.prototype.splice.call(L,F,1),q&&(ye(E),p.g[k].length==0&&(delete p.g[k],p.h--))}}function Le(p,E,k,L){for(var F=0;F<p.length;++F){var q=p[F];if(!q.da&&q.listener==E&&q.capture==!!k&&q.ha==L)return F}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),et={};function X(p,E,k,L,F){if(Array.isArray(E)){for(var q=0;q<E.length;q++)X(p,E[q],k,L,F);return null}return k=Ko(k),p&&p[z]?p.K(E,k,u(L)?!!L.capture:!1,F):me(p,E,k,!1,L,F)}function me(p,E,k,L,F,q){if(!E)throw Error("Invalid event type");var oe=u(F)?!!F.capture:!!F,tt=ni(p);if(tt||(p[Ie]=tt=new _e(p)),k=tt.add(E,k,L,oe,q),k.proxy)return k;if(L=Qe(),k.proxy=L,L.src=p,L.listener=k,p.addEventListener)Ce||(F=oe),F===void 0&&(F=!1),p.addEventListener(E.toString(),L,F);else if(p.attachEvent)p.attachEvent(Nt(E.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Qe(){function p(k){return E.call(p.src,p.listener,k)}const E=jn;return p}function Vt(p,E,k,L,F){if(Array.isArray(E))for(var q=0;q<E.length;q++)Vt(p,E[q],k,L,F);else L=u(L)?!!L.capture:!!L,k=Ko(k),p&&p[z]?(p=p.i,E=String(E).toString(),E in p.g&&(q=p.g[E],k=Le(q,k,L,F),-1<k&&(ye(q[k]),Array.prototype.splice.call(q,k,1),q.length==0&&(delete p.g[E],p.h--)))):p&&(p=ni(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Le(E,k,L,F)),(k=-1<p?E[p]:null)&&Un(k))}function Un(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[z])Q(E.i,p);else{var k=p.type,L=p.proxy;E.removeEventListener?E.removeEventListener(k,L,p.capture):E.detachEvent?E.detachEvent(Nt(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=ni(E))?(Q(k,p),k.h==0&&(k.src=null,E[Ie]=null)):ye(p)}}}function Nt(p){return p in et?et[p]:et[p]="on"+p}function jn(p,E){if(p.da)p=!0;else{E=new Ne(E,this);var k=p.listener,L=p.ha||p.src;p.fa&&Un(p),p=k.call(L,E)}return p}function ni(p){return p=p[Ie],p instanceof _e?p:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(p){return typeof p=="function"?p:(p[zi]||(p[zi]=function(E){return p.handleEvent(E)}),p[zi])}function Ut(){ee.call(this),this.i=new _e(this),this.M=this,this.F=null}v(Ut,ee),Ut.prototype[z]=!0,Ut.prototype.removeEventListener=function(p,E,k,L){Vt(this,p,E,k,L)};function Ht(p,E){var k,L=p.F;if(L)for(k=[];L;L=L.F)k.push(L);if(p=p.M,L=E.type||E,typeof E=="string")E=new le(E,p);else if(E instanceof le)E.target=E.target||p;else{var F=E;E=new le(L,p),R(E,F)}if(F=!0,k)for(var q=k.length-1;0<=q;q--){var oe=E.g=k[q];F=Xs(oe,L,!0,E)&&F}if(oe=E.g=p,F=Xs(oe,L,!0,E)&&F,F=Xs(oe,L,!1,E)&&F,k)for(q=0;q<k.length;q++)oe=E.g=k[q],F=Xs(oe,L,!1,E)&&F}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var k=p.g[E],L=0;L<k.length;L++)ye(k[L]);delete p.g[E],p.h--}}this.F=null},Ut.prototype.K=function(p,E,k,L){return this.i.add(String(p),E,!1,k,L)},Ut.prototype.L=function(p,E,k,L){return this.i.add(String(p),E,!0,k,L)};function Xs(p,E,k,L){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var F=!0,q=0;q<E.length;++q){var oe=E[q];if(oe&&!oe.da&&oe.capture==k){var tt=oe.listener,Wt=oe.ha||oe.src;oe.fa&&Q(p.i,oe),F=tt.call(Wt,L)!==!1&&F}}return F&&!L.defaultPrevented}function Xf(p,E,k){if(typeof p=="function")k&&(p=h(p,k));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(p,E||0)}function Qf(p){p.g=Xf(()=>{p.g=null,p.i&&(p.i=!1,Qf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class uy extends ee{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(p){ee.call(this),this.h=p,this.g={}}v(Jo,ee);var Zf=[];function ed(p){P(p.g,function(E,k){this.g.hasOwnProperty(k)&&Un(E)},p),p.g={}}Jo.prototype.N=function(){Jo.aa.N.call(this),ed(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=a.JSON.stringify,cy=a.JSON.parse,fy=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function ou(){}ou.prototype.h=null;function td(p){return p.h||(p.h=p.i())}function nd(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){le.call(this,"d")}v(su,le);function au(){le.call(this,"c")}v(au,le);var ri={},rd=null;function Xo(){return rd=rd||new Ut}ri.La="serverreachability";function id(p){le.call(this,ri.La,p)}v(id,le);function Z(p){const E=Xo();Ht(E,new id(E))}ri.STAT_EVENT="statevent";function ae(p,E){le.call(this,ri.STAT_EVENT,p),this.stat=E}v(ae,le);function ge(p){const E=Xo();Ht(E,new ae(E,p))}ri.Ma="timingevent";function Qo(p,E){le.call(this,ri.Ma,p),this.size=E}v(Qo,le);function Cn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},E)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function GU(p,E,k,L,F,q){p.info(function(){if(p.g)if(q)for(var oe="",tt=q.split("&"),Wt=0;Wt<tt.length;Wt++){var Be=tt[Wt].split("=");if(1<Be.length){var sn=Be[0];Be=Be[1];var an=sn.split("_");oe=2<=an.length&&an[1]=="type"?oe+(sn+"="+Be+"&"):oe+(sn+"=redacted&")}}else oe=null;else oe=q;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+E+`
`+k+`
`+oe})}function qU(p,E,k,L,F,q,oe){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+E+`
`+k+`
`+q+" "+oe})}function Qs(p,E,k,L){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+HU(p,k)+(L?" "+L:"")})}function zU(p,E){p.info(function(){return"TIMEOUT: "+E})}Hi.prototype.info=function(){};function HU(p,E){if(!p.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var L=k[p];if(!(2>L.length)){var F=L[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return iu(k)}catch{return E}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dy;function sd(){}v(sd,ou),sd.prototype.g=function(){return new XMLHttpRequest},sd.prototype.i=function(){return{}},dy=new sd;function Wi(p,E,k,L){this.j=p,this.i=E,this.l=k,this.R=L||1,this.U=new Jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rT}function rT(){this.i=null,this.g="",this.h=!1}var iT={},hy={};function py(p,E,k){p.L=1,p.v=cd(ii(E)),p.m=k,p.P=!0,oT(p,null)}function oT(p,E){p.F=Date.now(),ad(p),p.A=ii(p.v);var k=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),_T(k.i,"t",L),p.C=0,k=p.j.J,p.h=new rT,p.g=$T(p.j,k?E:null,!p.m),0<p.O&&(p.M=new uy(h(p.Y,p,p.g),p.O)),E=p.U,k=p.g,L=p.ca;var F="readystatechange";Array.isArray(F)||(F&&(Zf[0]=F.toString()),F=Zf);for(var q=0;q<F.length;q++){var oe=X(k,F[q],L||E.handleEvent,!1,E.h||E);if(!oe)break;E.g[oe.key]=oe}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Z(),GU(p.i,p.u,p.A,p.l,p.R,p.m)}Wi.prototype.ca=function(p){p=p.target;const E=this.M;E&&oi(p)==3?E.j():this.Y(p)},Wi.prototype.Y=function(p){try{if(p==this.g)e:{const an=oi(this.g);var E=this.g.Ba();const ta=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||AT(this.g)))){this.J||an!=4||E==7||(E==8||0>=ta?Z(3):Z(2)),my(this);var k=this.g.Z();this.X=k;t:if(sT(this)){var L=AT(this.g);p="";var F=L.length,q=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),lu(this);var oe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<F;E++)this.h.h=!0,p+=this.h.i.decode(L[E],{stream:!(q&&E==F-1)});L.length=0,this.h.g+=p,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=k==200,qU(this.i,this.u,this.A,this.l,this.R,an,k),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Wt=this.g;if((tt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(tt)){var Be=tt;break t}}Be=null}if(k=Be)Qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gy(this,k);else{this.o=!1,this.s=3,ge(12),Zo(this),lu(this);break e}}if(this.P){k=!0;let _r;for(;!this.J&&this.C<oe.length;)if(_r=WU(this,oe),_r==hy){an==4&&(this.s=4,ge(14),k=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==iT){this.s=4,ge(15),Qs(this.i,this.l,oe,"[Invalid Chunk]"),k=!1;break}else Qs(this.i,this.l,_r,null),gy(this,_r);if(sT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||oe.length!=0||this.h.h||(this.s=1,ge(16),k=!1),this.o=this.o&&k,!k)Qs(this.i,this.l,oe,"[Invalid Chunked Response]"),Zo(this),lu(this);else if(0<oe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),by(sn),sn.M=!0,ge(11))}}else Qs(this.i,this.l,oe,null),gy(this,oe);an==4&&Zo(this),this.o&&!this.J&&(an==4?MT(this.j,this):(this.o=!1,ad(this)))}else cj(this.g),k==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),Zo(this),lu(this)}}}catch{}finally{}};function sT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function WU(p,E){var k=p.C,L=E.indexOf(`
`,k);return L==-1?hy:(k=Number(E.substring(k,L)),isNaN(k)?iT:(L+=1,L+k>E.length?hy:(E=E.slice(L,L+k),p.C=L+k,E)))}Wi.prototype.cancel=function(){this.J=!0,Zo(this)};function ad(p){p.S=Date.now()+p.I,aT(p,p.I)}function aT(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Cn(h(p.ba,p),E)}function my(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Wi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(zU(this.i,this.A),this.L!=2&&(Z(),ge(17)),Zo(this),this.s=2,lu(this)):aT(this,this.S-p)};function lu(p){p.j.G==0||p.J||MT(p.j,p)}function Zo(p){my(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,ed(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function gy(p,E){try{var k=p.j;if(k.G!=0&&(k.g==p||yy(k.h,p))){if(!p.K&&yy(k.h,p)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)gd(k),pd(k);else break e;wy(k),ge(18)}}else k.za=F[1],0<k.za-k.T&&37500>F[2]&&k.F&&k.v==0&&!k.C&&(k.C=Cn(h(k.Za,k),6e3));if(1>=cT(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ts(k,11)}else if((p.K||k.g==p)&&gd(k),!b(E))for(F=k.Da.g.parse(E),E=0;E<F.length;E++){let Be=F[E];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const sn=Be[3];sn!=null&&(k.la=sn,k.j.info("VER="+k.la));const an=Be[4];an!=null&&(k.Aa=an,k.j.info("SVER="+k.Aa));const ta=Be[5];ta!=null&&typeof ta=="number"&&0<ta&&(L=1.5*ta,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const _r=p.g;if(_r){const vd=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var q=L.h;q.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vy(q,q.h),q.h=null))}if(L.D){const Ey=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ey&&(L.ya=Ey,at(L.I,L.D,Ey))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var oe=p;if(L.qa=LT(L,L.J?L.ia:null,L.W),oe.K){fT(L.h,oe);var tt=oe,Wt=L.L;Wt&&(tt.I=Wt),tt.B&&(my(tt),ad(tt)),L.g=oe}else kT(L);0<k.i.length&&md(k)}else Be[0]!="stop"&&Be[0]!="close"||ts(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ts(k,7):xy(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}Z(4)}catch{}}var KU=class{constructor(p,E){this.g=p,this.map=E}};function lT(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uT(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function cT(p){return p.h?1:p.g?p.g.size:0}function yy(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function vy(p,E){p.g?p.g.add(E):p.h=E}function fT(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}lT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function dT(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const k of p.g.values())E=E.concat(k.D);return E}return w(p.i)}function JU(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var E=[],k=p.length,L=0;L<k;L++)E.push(p[L]);return E}E=[],k=0;for(L in p)E[k++]=p[L];return E}function YU(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var E=[];p=p.length;for(var k=0;k<p;k++)E.push(k);return E}E=[],k=0;for(const L in p)E[k++]=L;return E}}}function hT(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var k=YU(p),L=JU(p),F=L.length,q=0;q<F;q++)E.call(void 0,L[q],k&&k[q],p)}var pT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XU(p,E){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var L=p[k].indexOf("="),F=null;if(0<=L){var q=p[k].substring(0,L);F=p[k].substring(L+1)}else q=p[k];E(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function es(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof es){this.h=p.h,ld(this,p.j),this.o=p.o,this.g=p.g,ud(this,p.s),this.l=p.l;var E=p.i,k=new fu;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),mT(this,k),this.m=p.m}else p&&(E=String(p).match(pT))?(this.h=!1,ld(this,E[1]||"",!0),this.o=uu(E[2]||""),this.g=uu(E[3]||"",!0),ud(this,E[4]),this.l=uu(E[5]||"",!0),mT(this,E[6]||"",!0),this.m=uu(E[7]||"")):(this.h=!1,this.i=new fu(null,this.h))}es.prototype.toString=function(){var p=[],E=this.j;E&&p.push(cu(E,gT,!0),":");var k=this.g;return(k||E=="file")&&(p.push("//"),(E=this.o)&&p.push(cu(E,gT,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(cu(k,k.charAt(0)=="/"?ej:ZU,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",cu(k,nj)),p.join("")};function ii(p){return new es(p)}function ld(p,E,k){p.j=k?uu(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ud(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function mT(p,E,k){E instanceof fu?(p.i=E,rj(p.i,p.h)):(k||(E=cu(E,tj)),p.i=new fu(E,p.h))}function at(p,E,k){p.i.set(E,k)}function cd(p){return at(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function uu(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function cu(p,E,k){return typeof p=="string"?(p=encodeURI(p).replace(E,QU),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function QU(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var gT=/[#\/\?@]/g,ZU=/[#\?:]/g,ej=/[#\?]/g,tj=/[#\?@]/g,nj=/#/g;function fu(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Ki(p){p.g||(p.g=new Map,p.h=0,p.i&&XU(p.i,function(E,k){p.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=fu.prototype,t.add=function(p,E){Ki(this),this.i=null,p=Zs(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(E),this.h+=1,this};function yT(p,E){Ki(p),E=Zs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function vT(p,E){return Ki(p),E=Zs(p,E),p.g.has(E)}t.forEach=function(p,E){Ki(this),this.g.forEach(function(k,L){k.forEach(function(F){p.call(E,F,L,this)},this)},this)},t.na=function(){Ki(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const F=p[L];for(let q=0;q<F.length;q++)k.push(E[L])}return k},t.V=function(p){Ki(this);let E=[];if(typeof p=="string")vT(this,p)&&(E=E.concat(this.g.get(Zs(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)E=E.concat(p[k])}return E},t.set=function(p,E){return Ki(this),this.i=null,p=Zs(this,p),vT(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function _T(p,E,k){yT(p,E),0<k.length&&(p.i=null,p.g.set(Zs(p,E),w(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const q=encodeURIComponent(String(L)),oe=this.V(L);for(L=0;L<oe.length;L++){var F=q;oe[L]!==""&&(F+="="+encodeURIComponent(String(oe[L]))),p.push(F)}}return this.i=p.join("&")};function Zs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function rj(p,E){E&&!p.j&&(Ki(p),p.i=null,p.g.forEach(function(k,L){var F=L.toLowerCase();L!=F&&(yT(this,L),_T(this,F,k))},p)),p.j=E}function ij(p,E){const k=new Hi;if(a.Image){const L=new Image;L.onload=y(Ji,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Ji,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Ji,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Ji,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else E(!1)}function oj(p,E){const k=new Hi,L=new AbortController,F=setTimeout(()=>{L.abort(),Ji(k,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:L.signal}).then(q=>{clearTimeout(F),q.ok?Ji(k,"TestPingServer: ok",!0,E):Ji(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(F),Ji(k,"TestPingServer: error",!1,E)})}function Ji(p,E,k,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(k)}catch{}}function sj(){this.g=new fy}function aj(p,E,k){const L=k||"";try{hT(p,function(F,q){let oe=F;u(F)&&(oe=iu(F)),E.push(L+q+"="+encodeURIComponent(oe))})}catch(F){throw E.push(L+"type="+encodeURIComponent("_badmap")),F}}function fd(p){this.l=p.Ub||null,this.j=p.eb||!1}v(fd,ou),fd.prototype.g=function(){return new dd(this.l,this.j)},fd.prototype.i=function(p){return function(){return p}}({});function dd(p,E){Ut.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(dd,Ut),t=dd.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,hu(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xT(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xT(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?du(this):hu(this),this.readyState==3&&xT(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,du(this))},t.Qa=function(p){this.g&&(this.response=p,du(this))},t.ga=function(){this.g&&du(this)};function du(p){p.readyState=4,p.l=null,p.j=null,p.v=null,hu(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=E.next();return p.join(`\r
`)};function hu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function wT(p){let E="";return P(p,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function _y(p,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=wT(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):at(p,E,k))}function xt(p){Ut.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(xt,Ut);var lj=/^https?$/i,uj=["POST","PUT"];t=xt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dy.g(),this.v=this.o?td(this.o):td(dy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(q){bT(this,q);return}if(p=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)k.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const q of L.keys())k.set(q,L.get(q));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(q=>q.toLowerCase()=="content-type"),F=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uj,E,void 0))||L||F||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of k)this.g.setRequestHeader(q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ST(this),this.u=!0,this.g.send(p),this.u=!1}catch(q){bT(this,q)}};function bT(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,ET(p),hd(p)}function ET(p){p.A||(p.A=!0,Ht(p,"complete"),Ht(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ht(this,"complete"),Ht(this,"abort"),hd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?TT(this):this.bb())},t.bb=function(){TT(this)};function TT(p){if(p.h&&typeof s<"u"&&(!p.v[1]||oi(p)!=4||p.Z()!=2)){if(p.u&&oi(p)==4)Xf(p.Ea,0,p);else if(Ht(p,"readystatechange"),oi(p)==4){p.h=!1;try{const oe=p.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=oe===0){var F=String(p.D).match(pT)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),L=!lj.test(F?F.toLowerCase():"")}k=L}if(k)Ht(p,"complete"),Ht(p,"success");else{p.m=6;try{var q=2<oi(p)?p.g.statusText:""}catch{q=""}p.l=q+" ["+p.Z()+"]",ET(p)}}finally{hd(p)}}}}function hd(p,E){if(p.g){ST(p);const k=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ht(p,"ready");try{k.onreadystatechange=L}catch{}}}function ST(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function oi(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),cy(E)}};function AT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function cj(p){const E={};p=(p.g&&2<=oi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(b(p[L]))continue;var k=M(p[L]);const F=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const q=E[F]||[];E[F]=q,q.push(k)}S(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(p,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||E}function IT(p){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,p),this.cb=pu("retryDelaySeedMs",1e4,p),this.Wa=pu("forwardChannelMaxRetries",2,p),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new lT(p&&p.concurrentRequestLimit),this.Da=new sj,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=IT.prototype,t.la=8,t.G=1,t.connect=function(p,E,k,L){ge(0),this.W=p,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=LT(this,null,this.W),md(this)};function xy(p){if(CT(p),p.G==3){var E=p.U++,k=ii(p.I);if(at(k,"SID",p.K),at(k,"RID",E),at(k,"TYPE","terminate"),mu(p,k),E=new Wi(p,p.j,E),E.L=2,E.v=cd(ii(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=$T(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ad(E)}DT(p)}function pd(p){p.g&&(by(p),p.g.cancel(),p.g=null)}function CT(p){pd(p),p.u&&(a.clearTimeout(p.u),p.u=null),gd(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function md(p){if(!uT(p.h)&&!p.s){p.s=!0;var E=p.Ga;W||Y(),U||(W(),U=!0),K.add(E,p),p.B=0}}function fj(p,E){return cT(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Cn(h(p.Ga,p,E),OT(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const F=new Wi(this,this.j,p);let q=this.o;if(this.S&&(q?(q=C(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=NT(this,F,E),k=ii(this.I),at(k,"RID",p),at(k,"CVER",22),this.D&&at(k,"X-HTTP-Session-Id",this.D),mu(this,k),q&&(this.O?E="headers="+encodeURIComponent(String(wT(q)))+"&"+E:this.m&&_y(k,this.m,q)),vy(this.h,F),this.Ua&&at(k,"TYPE","init"),this.P?(at(k,"$req",E),at(k,"SID","null"),F.T=!0,py(F,k,null)):py(F,k,E),this.G=2}}else this.G==3&&(p?PT(this,p):this.i.length==0||uT(this.h)||PT(this))};function PT(p,E){var k;E?k=E.l:k=p.U++;const L=ii(p.I);at(L,"SID",p.K),at(L,"RID",k),at(L,"AID",p.T),mu(p,L),p.m&&p.o&&_y(L,p.m,p.o),k=new Wi(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),E&&(p.i=E.D.concat(p.i)),E=NT(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),vy(p.h,k),py(k,L,E)}function mu(p,E){p.H&&P(p.H,function(k,L){at(E,L,k)}),p.l&&hT({},function(k,L){at(E,L,k)})}function NT(p,E,k){k=Math.min(p.i.length,k);var L=p.l?h(p.l.Na,p.l,p):null;e:{var F=p.i;let q=-1;for(;;){const oe=["count="+k];q==-1?0<k?(q=F[0].g,oe.push("ofs="+q)):q=0:oe.push("ofs="+q);let tt=!0;for(let Wt=0;Wt<k;Wt++){let Be=F[Wt].g;const sn=F[Wt].map;if(Be-=q,0>Be)q=Math.max(0,F[Wt].g-100),tt=!1;else try{aj(sn,oe,"req"+Be+"_")}catch{L&&L(sn)}}if(tt){L=oe.join("&");break e}}}return p=p.i.splice(0,k),E.D=p,L}function kT(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;W||Y(),U||(W(),U=!0),K.add(E,p),p.v=0}}function wy(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Cn(h(p.Fa,p),OT(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,RT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Cn(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),pd(this),RT(this))};function by(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function RT(p){p.g=new Wi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=ii(p.qa);at(E,"RID","rpc"),at(E,"SID",p.K),at(E,"AID",p.T),at(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&at(E,"TO",p.ja),at(E,"TYPE","xmlhttp"),mu(p,E),p.m&&p.o&&_y(E,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=cd(ii(E)),k.m=null,k.P=!0,oT(k,p)}t.Za=function(){this.C!=null&&(this.C=null,pd(this),wy(this),ge(19))};function gd(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function MT(p,E){var k=null;if(p.g==E){gd(p),by(p),p.g=null;var L=2}else if(yy(p.h,E))k=E.D,fT(p.h,E),L=1;else return;if(p.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var F=p.B;L=Xo(),Ht(L,new Qo(L,k)),md(p)}else kT(p);else if(F=E.s,F==3||F==0&&0<E.X||!(L==1&&fj(p,E)||L==2&&wy(p)))switch(k&&0<k.length&&(E=p.h,E.i=E.i.concat(k)),F){case 1:ts(p,5);break;case 4:ts(p,10);break;case 3:ts(p,6);break;default:ts(p,2)}}}function OT(p,E){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*E}function ts(p,E){if(p.j.info("Error code "+E),E==2){var k=h(p.fb,p),L=p.Xa;const F=!L;L=new es(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ld(L,"https"),cd(L),F?ij(L.toString(),k):oj(L.toString(),k)}else ge(2);p.G=0,p.l&&p.l.sa(E),DT(p),CT(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function DT(p){if(p.G=0,p.ka=[],p.l){const E=dT(p.h);(E.length!=0||p.i.length!=0)&&(_(p.ka,E),_(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function LT(p,E,k){var L=k instanceof es?ii(k):new es(k);if(L.g!="")E&&(L.g=E+"."+L.g),ud(L,L.s);else{var F=a.location;L=F.protocol,E=E?E+"."+F.hostname:F.hostname,F=+F.port;var q=new es(null);L&&ld(q,L),E&&(q.g=E),F&&ud(q,F),k&&(q.l=k),L=q}return k=p.D,E=p.ya,k&&E&&at(L,k,E),at(L,"VER",p.la),mu(p,L),L}function $T(p,E,k){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new xt(new fd({eb:k})):new xt(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function VT(){}t=VT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yd(){}yd.prototype.g=function(p,E){return new Fn(p,E)};function Fn(p,E){Ut.call(this),this.g=new IT(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!b(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ea(this)}v(Fn,Ut),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){xy(this.g)},Fn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=iu(p),p=k);E.i.push(new KU(E.Ya++,p)),E.G==3&&md(E)},Fn.prototype.N=function(){this.g.l=null,delete this.j,xy(this.g),delete this.g,Fn.aa.N.call(this)};function UT(p){su.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const k in E){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}v(UT,su);function jT(){au.call(this),this.status=1}v(jT,au);function ea(p){this.g=p}v(ea,VT),ea.prototype.ua=function(){Ht(this.g,"a")},ea.prototype.ta=function(p){Ht(this.g,new UT(p))},ea.prototype.sa=function(p){Ht(this.g,new jT)},ea.prototype.ra=function(){Ht(this.g,"b")},yd.prototype.createWebChannel=yd.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,fM=function(){return new yd},cM=function(){return Xo()},uM=ri,V0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,_h=od,nT.COMPLETE="complete",lM=nT,nd.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,Fu=nd,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,aM=xt}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const a1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Vw("@firebase/firestore");function Tu(){return ks.logLevel}function ve(t,...e){if(ks.logLevel<=$e.DEBUG){const n=e.map(Fw);ks.debug(`Firestore (${$l}): ${t}`,...n)}}function Ii(t,...e){if(ks.logLevel<=$e.ERROR){const n=e.map(Fw);ks.error(`Firestore (${$l}): ${t}`,...n)}}function tl(t,...e){if(ks.logLevel<=$e.WARN){const n=e.map(Fw);ks.warn(`Firestore (${$l}): ${t}`,...n)}}function Fw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function Ye(t,e){t||Ee()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class x3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w3{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ao,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ao)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new dM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new dn(e)}}class b3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new T3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Lt(0,0))}static max(){return new Se(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Nc{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Nc{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ot.fromString(e))}static fromName(e){return new xe(ot.fromString(e).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ot(e.slice()))}}function C3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Mo(i,xe.empty(),e)}function P3(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(Se.min(),xe.empty(),-1)}static max(){return new Mo(Se.max(),xe.empty(),-1)}}function N3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==k3)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function M3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bw.oe=-1;function Hm(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function O3(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u1(this.data.getIterator())}getIteratorFrom(e){return new u1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class u1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new tn(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mM("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=D3.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gw(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?Gw(e):e}function kc(t){const e=Oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:V3(t)?9007199254740991:$3(t)?10:11:Ee()}function Qr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Oo(i.timestampValue),a=Oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Et(i.doubleValue),a=Et(o.doubleValue);return s===a?ip(s)===ip(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(l1(s)!==l1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Qr(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Mc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Et(o.integerValue||o.doubleValue),l=Et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return c1(t.timestampValue,e.timestampValue);case 4:return c1(kc(t),kc(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rs(o),l=Rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ge(a[u],l[u]);if(c!==0)return c}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ge(Et(o.latitude),Et(s.latitude));return a!==0?a:Ge(Et(o.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=Ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:f1(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ud.mapValue&&s===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(s===Ud.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ge(l[f],c[f]);if(h!==0)return h;const y=rl(a[l[f]],u[c[f]]);if(y!==0)return y}return Ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function c1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Oo(t),r=Oo(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function f1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rl(n[i],r[i]);if(o)return o}return Ge(n.length,r.length)}function il(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=U0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${U0(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function op(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j0(t){return!!t&&"integerValue"in t}function qw(t){return!!t&&"arrayValue"in t}function d1(t){return!!t&&"nullValue"in t}function h1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function $3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(nc(this.value))}}function gM(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new Qt([n]);if(xh(r)){const o=gM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Se.min(),Se.min(),Se.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Se.min(),Se.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Se.min(),Se.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function p1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(s.referenceValue),n.key):r=rl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function m1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function U3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yM=class{};class Ct extends yM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F3(e,n,r):n==="array-contains"?new q3(e,r):n==="in"?new z3(e,r):n==="not-in"?new H3(e,r):n==="array-contains-any"?new W3(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B3(e,r):new G3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends yM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Or(e,n)}matches(e){return vM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vM(t){return t.op==="and"}function _M(t){return j3(t)&&vM(t)}function j3(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function F0(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+il(t.value);if(_M(t))return t.filters.map(e=>F0(e)).join(",");{const e=t.filters.map(n=>F0(n)).join(",");return`${t.op}(${e})`}}function xM(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&xM(s,i.filters[a]),!0):!1}(t,e):void Ee()}function wM(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(wM).join(" ,")+"}"}(t):"Filter"}class F3 extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class B3 extends Ct{constructor(e,n){super(e,"in",n),this.keys=bM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G3 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=bM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class q3 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qw(n)&&Mc(n.arrayValue,this.value)}}class z3 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class H3 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mc(this.value.arrayValue,n)}}class W3 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function g1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new K3(t,e,n,r,i,o,s)}function zw(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>F0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.ue=n}return e.ue}function Hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m1(t.startAt,e.startAt)&&m1(t.endAt,e.endAt)}function B0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J3(t,e,n,r,i,o,s,a){return new qs(t,e,n,r,i,o,s,a)}function Ww(t){return new qs(t)}function y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kw(t){return t.collectionGroup!==null}function Da(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tn(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Oc(o,r))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new Oc(Qt.keyField(),r))}return e.ce}function zr(t){const e=Ae(t);return e.le||(e.le=Y3(e,Da(t))),e.le}function Y3(t,e){if(t.limitType==="F")return g1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Oc(i.field,o)});const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return g1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G0(t,e){const n=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sp(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return Hw(zr(t),zr(e))&&t.limitType===e.limitType}function EM(t){return`${zw(zr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wM(i)).join(", ")}]`),Hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=p1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(s,a,l){const u=p1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function X3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TM(t){return(e,n)=>{let r=!1;for(const i of Da(t)){const o=Q3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q3(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new _t(xe.comparator);function Ci(){return Z3}const SM=new _t(xe.comparator);function Bu(...t){let e=SM;for(const n of t)e=e.insert(n.key,n);return e}function AM(t){let e=SM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return rc()}function IM(){return rc()}function rc(){return new Vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const e5=new _t(xe.comparator),t5=new tn(xe.comparator);function Oe(...t){let e=t5;for(const n of t)e=e.add(n);return e}const n5=new tn(Ge);function r5(){return n5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function CM(t){return{integerValue:""+t}}function i5(t,e){return O3(e)?CM(e):Jw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function o5(t,e,n){return t instanceof ap?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wm(o)&&(o=Gw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dc?NM(t,e):t instanceof Lc?kM(t,e):function(i,o){const s=PM(i,o),a=v1(s)+v1(i.Pe);return j0(s)&&j0(i.Pe)?CM(a):Jw(i.serializer,a)}(t,e)}function s5(t,e,n){return t instanceof Dc?NM(t,e):t instanceof Lc?kM(t,e):n}function PM(t,e){return t instanceof lp?function(r){return j0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ap extends Ym{}class Dc extends Ym{constructor(e){super(),this.elements=e}}function NM(t,e){const n=RM(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lc extends Ym{constructor(e){super(),this.elements=e}}function kM(t,e){let n=RM(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class lp extends Ym{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function v1(t){return Et(t.integerValue||t.doubleValue)}function RM(t){return qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dc&&i instanceof Dc||r instanceof Lc&&i instanceof Lc?nl(r.elements,i.elements,Qr):r instanceof lp&&i instanceof lp?Qr(r.Pe,i.Pe):r instanceof ap&&i instanceof ap}(t.transform,e.transform)}class l5{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function MM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yw(t.key,ur.none()):new Mf(t.key,t.data,ur.none());{const n=t.data,r=Rn.empty();let i=new tn(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Wn(i.toArray()),ur.none())}}function u5(t,e,n){t instanceof Mf?function(i,o,s){const a=i.value.clone(),l=x1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!wh(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=x1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(OM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Mf?function(o,s,a,l){if(!wh(o.precondition,s))return a;const u=o.value.clone(),c=w1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!wh(o.precondition,s))return a;const u=w1(o.fieldTransforms,l,s),c=s.data;return c.setAll(OM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return wh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function c5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PM(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function _1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(o,s)=>a5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mf extends Xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends Xm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x1(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,s5(s,a,n[i]))}return r}function w1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,o5(o,s,e))}return r}class Yw extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f5 extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&u5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=MM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>_1(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>_1(n,r))}}class Xw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return e5}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Xw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ve;function m5(t){switch(t){default:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function DM(t){if(t===void 0)return Ii("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(Ve=St||(St={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new ws([4294967295,4294967295],0);function b1(t){const e=g5().encode(t),n=new sM;return n.update(e),new Uint8Array(n.digest())}function E1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,o],0)]}class Qw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ws.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(y5)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=b1(e),[r,i]=E1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Qw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=b1(e),[r,i]=E1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qm(Se.min(),i,new _t(Ge),Ci(),Oe())}}class Of{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Of(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LM{constructor(e,n){this.targetId=e,this.me=n}}class $M{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T1{constructor(){this.fe=0,this.ge=A1(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Of(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=A1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class v5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ci(),this.qe=S1(),this.Qe=new _t(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(B0(o))if(r===0){const s=new xe(o.path);this.Ue(n,s,pn.newNoDocument(s,Se.min()))}else Ye(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof mM)return tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qw(s,i,o)}catch(l){return tl(l instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&B0(a.target)){const l=new xe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,pn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Qm(e,n,this.Qe,this.ke,r);return this.ke=Ci(),this.qe=S1(),this.Qe=new _t(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new T1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new T1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function S1(){return new _t(xe.comparator)}function A1(){return new _t(xe.comparator)}const _5={asc:"ASCENDING",desc:"DESCENDING"},x5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w5={and:"AND",or:"OR"};class b5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q0(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E5(t,e){return up(t,e.toTimestamp())}function Hr(t){return Ye(!!t),Se.fromTimestamp(function(n){const r=Oo(n);return new Lt(r.seconds,r.nanos)}(t))}function Zw(t,e){return z0(t,e).canonicalString()}function z0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UM(t){const e=ot.fromString(t);return Ye(qM(e)),e}function H0(t,e){return Zw(t.databaseId,e.path)}function tv(t,e){const n=UM(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(FM(n))}function jM(t,e){return Zw(t.databaseId,e)}function T5(t){const e=UM(t);return e.length===4?ot.emptyPath():FM(e)}function W0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FM(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I1(t,e,n){return{name:H0(t,e),fields:n.value.mapValue.fields}}function S5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Buffer||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:DM(u.code);return new ue(c,u.message||"")}(s);n=new $M(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tv(t,r.document.name),o=Hr(r.document.updateTime),s=r.document.createTime?Hr(r.document.createTime):Se.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tv(t,r.document),o=r.readTime?Hr(r.readTime):Se.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tv(t,r.document),o=r.removedTargetIds||[];n=new bh([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new p5(i,o),a=r.targetId;n=new LM(a,s)}}return n}function A5(t,e){let n;if(e instanceof Mf)n={update:I1(t,e.key,e.value)};else if(e instanceof Yw)n={delete:H0(t,e.key)};else if(e instanceof Fo)n={update:I1(t,e.key,e.data),updateMask:D5(e.fieldMask)};else{if(!(e instanceof f5))return Ee();n={verify:H0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ap)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:E5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function I5(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hr(i.updateTime):Hr(o);return s.isEqual(Se.min())&&(s=Hr(o)),new l5(s,i.transformResults||[])}(n,e))):[]}function C5(t,e){return{documents:[jM(t,e.path)]}}function P5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jM(t,i);const o=function(u){if(u.length!==0)return GM(Or.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:R5(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=q0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function N5(t){let e=T5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=BM(f);return h instanceof Or&&_M(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Oc(ua(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Hm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new ol(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new ol(y,h)}(n.endAt)),J3(e,i,s,o,a,"F",l,u)}function k5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>BM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function R5(t){return _5[t]}function M5(t){return x5[t]}function O5(t){return w5[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Qt.fromServerFormat(t.fieldPath)}function GM(t){return t instanceof Ct?function(n){if(n.op==="=="){if(h1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(d1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(d1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:M5(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(i=>GM(i));return r.length===1?r[0]:{compositeFilter:{op:O5(n.op),filters:r}}}(t):Ee()}function D5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.ct=e}}function $5(t){const e=N5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.un=new U5}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Mo.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class U5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sl(0)}static kn(){return new sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.changes=new Vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,Wn.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ci();const s=rc(),a=function(){return rc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ic(c.mutation,u,c.mutation.getFieldMask(),Lt.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new F5(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rc();let i=new _t((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=IM();c.forEach(h=>{if(!o.has(h)){const y=MM(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(hs());let a=-1,l=o;return s.next(u=>te.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:AM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Bu();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const u=function(f,h){return new qs(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let a=Bu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ic(c.mutation,u,Wn.empty(),Lt.now()),Jm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$5(i.bundledQuery),readTime:Hr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.overlays=new _t(xe.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,s=new xe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _t((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=hs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h5(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.Tr=new tn(jt.Er),this.dr=new tn(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new xe(new ot([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new xe(new ot([])),r=new jt(n,e),i=new jt(n,e+1);let o=Oe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return xe.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(jt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new d5(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ge);return n.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const s=new jt(new xe(o),0);let a=new tn(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),te.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jt(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.Mr=e,this.docs=function(){return new _t(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ci();const s=n.path,a=new xe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||N3(P3(c),r)<=0||(i.has(c.key)||Jm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K5(this)}getSize(e){return te.resolve(this.size)}}class K5 extends j5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.persistence=e,this.Nr=new Vl(n=>zw(n),Hw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eb,this.targetCount=0,this.kr=sl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bw(0),this.Kr=!1,this.Kr=!0,this.$r=new z5,this.referenceDelegate=e(this),this.Ur=new J5(this),this.indexManager=new V5,this.remoteDocumentCache=function(i){return new W5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new L5(n),this.Gr=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new H5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new X5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class X5 extends R3{constructor(e){super(),this.currentSequenceNumber=e}}class tb{constructor(e){this.persistence=e,this.Jr=new eb,this.Yr=null}static Zr(e){return new tb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=xe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new nb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return eB()?8:M3(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Q5;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Tu()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Tu()<=$e.DEBUG&&ve("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Tu()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):te.resolve())}Yi(e,n){if(y1(n))return te.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sp(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,sp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return y1(n)||i.isEqual(Se.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?te.resolve(null):(Tu()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.rs(e,s,n,C3(i,-1)).next(a=>a))})}ts(e,n){let r=new tn(TM(e));return n.forEach((i,o)=>{Jm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Tu()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(Ge),this._s=new Vl(o=>zw(o),Hw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function t6(t,e,n,r){return new e6(t,e,n,r)}async function zM(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function n6(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=te.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(w=>{const _=u.docVersions.get(v);Ye(_!==null),w.version.compareTo(_)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HM(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function r6(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(w,_,x){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Ci(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(i6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function i6(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ci();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function o6(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s6(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new fo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function K0(t,e,n){const r=Ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Rf(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function C1(t,e,n){const r=Ae(t);let i=Se.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ae(l),h=f._s.get(c);return h!==void 0?te.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Oe())).next(a=>(a6(r,X3(e),a),{documents:a,Ts:o})))}function a6(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class P1{constructor(){this.activeTargetIds=r5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l6{constructor(){this.so=new P1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new P1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function nv(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class d6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=nv(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw tl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=c6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=nv();return new Promise((s,a)=>{const l=new aM;l.setWithCredentials(!0),l.listenOnce(lM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _h.NO_ERROR:const c=l.getResponseJson();ve(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case _h.TIMEOUT:ve(cn,`RPC '${e}' ${o} timed out`),a(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const f=l.getStatus();if(ve(cn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(y.status);a(new ue(v,y.message))}else a(new ue(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ve(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(cn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=nv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fM(),a=cM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ve(cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new f6({Io:_=>{y?ve(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(ve(cn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(cn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),w=(_,x,b)=>{_.listen(x,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Fu.EventType.OPEN,()=>{y||(ve(cn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),w(f,Fu.EventType.CLOSE,()=>{y||(y=!0,ve(cn,`RPC '${e}' stream ${i} transport closed`),v.So())}),w(f,Fu.EventType.ERROR,_=>{y||(y=!0,tl(cn,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),w(f,Fu.EventType.MESSAGE,_=>{var x;if(!y){const b=_.data[0];Ye(!!b);const T=b,N=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(N){ve(cn,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=St[I];if(R!==void 0)return DM(R)}(A),S=N.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),y=!0,v.So(new ue(P,S)),f.close()}else ve(cn,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),w(a,uM.STAT_EVENT,_=>{_.stat===V0.PROXY?ve(cn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===V0.NOPROXY&&ve(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new b5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h6 extends KM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=S5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?Hr(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=W0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=B0(l)?{documents:C5(o,l)}:{query:P5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VM(o,s.resumeToken);const u=q0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=up(o,s.snapshotVersion.toTimestamp());const u=q0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=k5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=W0(this.serializer),n.removeTarget=e,this.a_(n)}}class p6 extends KM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I5(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=W0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>A5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,z0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,z0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class g6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ii(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zs(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.L_.add(4),await Df(u),u.q_.set("Unknown"),u.L_.delete(4),await eg(u)}(this))})}),this.q_=new g6(r,i)}}async function eg(t){if(zs(t))for(const e of t.B_)await e(!0)}async function Df(t){for(const e of t.B_)await e(!1)}function JM(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sb(n)?ob(n):Ul(n).r_()&&ib(n,e))}function rb(t,e){const n=Ae(t),r=Ul(n);n.N_.delete(e),r.r_()&&YM(n,e),n.N_.size===0&&(r.r_()?r.o_():zs(n)&&n.q_.set("Unknown"))}function ib(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).A_(e)}function YM(t,e){t.Q_.xe(e),Ul(t).R_(e)}function ob(t){t.Q_=new v5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.q_.v_()}function sb(t){return zs(t)&&!Ul(t).n_()&&t.N_.size>0}function zs(t){return Ae(t).L_.size===0}function XM(t){t.Q_=void 0}async function v6(t){t.q_.set("Online")}async function _6(t){t.N_.forEach((e,n)=>{ib(t,e)})}async function x6(t,e){XM(t),sb(t)?(t.q_.M_(e),ob(t)):t.q_.set("Unknown")}async function w6(t,e,n){if(t.q_.set("Online"),e instanceof $M&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cp(t,r)}else if(e instanceof bh?t.Q_.Ke(e):e instanceof LM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await HM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),YM(o,l);const f=new fo(c.target,l,u,c.sequenceNumber);ib(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await cp(t,r)}}async function cp(t,e,n){if(!Rf(e))throw e;t.L_.add(1),await Df(t),t.q_.set("Offline"),n||(n=()=>HM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await eg(t)})}function QM(t,e){return e().catch(n=>cp(t,n,e))}async function tg(t){const e=Ae(t),n=Do(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b6(e);)try{const i=await o6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,E6(e,i)}catch(i){await cp(e,i)}ZM(e)&&eO(e)}function b6(t){return zs(t)&&t.O_.length<10}function E6(t,e){t.O_.push(e);const n=Do(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZM(t){return zs(t)&&!Do(t).n_()&&t.O_.length>0}function eO(t){Do(t).start()}async function T6(t){Do(t).p_()}async function S6(t){const e=Do(t);for(const n of t.O_)e.m_(n.mutations)}async function A6(t,e,n){const r=t.O_.shift(),i=Xw.from(r,e,n);await QM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tg(t)}async function I6(t,e){e&&Do(t).V_&&await async function(r,i){if(function(s){return m5(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();Do(r).s_(),await QM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await tg(r)}}(t,e),ZM(t)&&eO(t)}async function k1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.L_.add(3),await Df(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await eg(n)}async function C6(t,e){const n=Ae(t);e?(n.L_.delete(2),await eg(n)):e||(n.L_.add(2),await Df(n),n.q_.set("Unknown"))}function Ul(t){return t.K_||(t.K_=function(n,r,i){const o=Ae(n);return o.w_(),new h6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v6.bind(null,t),Ro:_6.bind(null,t),mo:x6.bind(null,t),d_:w6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sb(t)?ob(t):t.q_.set("Unknown")):(await t.K_.stop(),XM(t))})),t.K_}function Do(t){return t.U_||(t.U_=function(n,r,i){const o=Ae(n);return o.w_(),new p6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T6.bind(null,t),mo:I6.bind(null,t),f_:S6.bind(null,t),g_:A6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tg(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ab(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lb(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),Rf(t))return new ue(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Bu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.W_=new _t(xe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new al(e,n,La.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N6{constructor(){this.queries=M1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),o=i.queries;i.queries=M1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function M1(){return new Vl(t=>EM(t),Km)}async function tO(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new P6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=lb(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ub(n)}async function nO(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k6(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ub(n)}function R6(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ub(t){t.Y_.forEach(e=>{e.next()})}var J0,O1;(O1=J0||(J0={})).ea="default",O1.Cache="cache";class rO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.key=e}}class oO{constructor(e){this.key=e}}class M6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=TM(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new R1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=Jm(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;h&&y?h.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),_=!0):this.ga(h,y)||(r.track({type:2,doc:y}),_=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),_=!0):h&&!y&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return w(y)-w(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new al(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new R1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new iO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class O6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D6{constructor(e){this.key=e,this.va=!1}}class L6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Vl(a=>EM(a),Km),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(xe.comparator),this.Na=new Map,this.La=new eb,this.Ba={},this.ka=new Map,this.qa=sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $6(t,e,n=!0){const r=fO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await sO(r,e,n,!0),i}async function V6(t,e){const n=fO(t);await sO(n,e,!0,!1)}async function sO(t,e,n,r){const i=await s6(t.localStore,zr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await U6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JM(t.remoteStore,i),a}async function U6(t,e,n,r,i){t.Ka=(f,h,y)=>async function(w,_,x,b){let T=_.view.ma(x);T.ns&&(T=await C1(w.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,T)));const N=b&&b.targetChanges.get(_.targetId),A=b&&b.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(T,w.isPrimaryClient,N,A);return L1(w,_.targetId,P.wa),P.snapshot}(t,f,h,y);const o=await C1(t.localStore,e,!0),s=new M6(e,o.Ts),a=s.ma(o.documents),l=Of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);L1(t,n,u.wa);const c=new O6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function j6(t,e,n){const r=Ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Km(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rb(r.remoteStore,i.targetId),Y0(r,i.targetId)}).catch(kf)):(Y0(r,i.targetId),await K0(r.localStore,i.targetId,!0))}async function F6(t,e){const n=Ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rb(n.remoteStore,r.targetId))}async function B6(t,e,n){const r=J6(t);try{const i=await function(s,a){const l=Ae(s),u=Lt.now(),c=a.reduce((y,v)=>y.add(v.key),Oe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Ci(),w=Oe();return l.cs.getEntries(y,c).next(_=>{v=_,v.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(_=>{f=_;const x=[];for(const b of a){const T=c5(b,f.get(b.key).overlayedDocument);T!=null&&x.push(new Fo(b.key,T,gM(T.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(_=>{h=_;const x=_.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(y,_.batchId,x)})}).then(()=>({batchId:h.batchId,changes:AM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new _t(Ge)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Lf(r,i.changes),await tg(r.remoteStore)}catch(i){const o=lb(i,"Failed to persist write");n.reject(o)}}async function aO(t,e){const n=Ae(t);try{const r=await r6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ye(s.va):i.removedDocuments.size>0&&(Ye(s.va),s.va=!1))}),await Lf(n,r,e)}catch(r){await kf(r)}}function D1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ae(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&ub(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G6(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new _t(xe.comparator);s=s.insert(o,pn.newNoDocument(o,Se.min()));const a=Oe().add(o),l=new Qm(Se.min(),new Map,new _t(Ge),s,a);await aO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),cb(r)}else await K0(r.localStore,e,!1).then(()=>Y0(r,e,n)).catch(kf)}async function q6(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await n6(n.localStore,e);uO(n,r,null),lO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lf(n,i)}catch(i){await kf(i)}}async function z6(t,e,n){const r=Ae(t);try{const i=await function(s,a){const l=Ae(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ye(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);uO(r,e,n),lO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lf(r,i)}catch(i){await kf(i)}}function lO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uO(t,e,n){const r=Ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cO(t,r)})}function cO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(rb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cb(t))}function L1(t,e,n){for(const r of n)r instanceof iO?(t.La.addReference(r.key,e),H6(t,r)):r instanceof oO?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cO(t,r.key)):Ee()}function H6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),cb(t))}function cb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new xe(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new D6(n)),t.Oa=t.Oa.insert(n,r),JM(t.remoteStore,new fo(zr(Ww(n.path)),r,"TargetPurposeLimboResolution",Bw.oe))}}async function Lf(t,e,n){const r=Ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=nb.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(u,h=>te.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>te.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Rf(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function W6(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await zM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lf(n,r.hs)}}function K6(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function fO(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G6.bind(null,e),e.Ca.d_=k6.bind(null,e.eventManager),e.Ca.$a=R6.bind(null,e.eventManager),e}function J6(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return t6(this.persistence,new Z5,e.initialUser,this.serializer)}Ga(e){return new Y5(tb.Zr,this.serializer)}Wa(e){return new l6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class X0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N6}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(o){return new d6(o)}(e.databaseInfo);return function(o,s,a,l){return new m6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new y6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return N1.D()?new N1:new u6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new L6(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ae(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Df(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}X0.provider={build:()=>new X0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=hM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X6(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>k1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>k1(e.remoteStore,i)),t._onlineComponents=e}async function X6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await iv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await iv(t,new fp)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await iv(t,new fp);return t._offlineComponents}async function hO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await $1(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await $1(t,new X0))),t._onlineComponents}function Q6(t){return hO(t).then(e=>e.syncEngine)}async function Q0(t){const e=await hO(t),n=e.eventManager;return n.onListen=$6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),n}function Z6(t,e,n={}){const r=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new dO({next:h=>{c.Za(),s.enqueueAndForget(()=>nO(o,f)),h.fromCache&&l.source==="server"?u.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new rO(a,c,{includeMetadataChanges:!0,_a:!0});return tO(o,f)}(await Q0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eG(t,e,n,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!xe.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(xe.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(t);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tG(t,e){if(e<=0)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _3;switch(r.type){case"firstParty":return new E3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V1.get(n);r&&(ve("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())}(this),Promise.resolve()}}function nG(t,e,n,r={}){var i;const o=(t=cr(t,rg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dn.MOCK_USER;else{a=W4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(u)}t._authCredentials=new x3(new dM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Io extends ei{constructor(e,n,r){super(e,n,Ww(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new xe(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=rn(t),mO("collection","path",e),t instanceof rg){const r=ot.fromString(e,...n);return j1(r),new Io(t,null,r)}{if(!(t instanceof Tn||t instanceof Io))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return j1(r),new Io(t.firestore,null,r)}}function Ke(t,e,...n){if(t=rn(t),arguments.length===1&&(e=hM.newId()),mO("doc","path",e),t instanceof rg){const r=ot.fromString(e,...n);return U1(r),new Tn(t,null,new xe(r))}{if(!(t instanceof Tn||t instanceof Io))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return U1(r),new Tn(t.firestore,t instanceof Io?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WM(this,"async_queue_retry"),this.Vu=()=>{const r=rv();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rf(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ab.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function G1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Lo extends rg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B1(e),this._firestoreClient=void 0,await e}}}function rG(t,e){const n=typeof t=="object"?t:rM(),r=typeof t=="string"?t:"(default)",i=jw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=z4("firestore");o&&nG(i,...o)}return i}function fb(t){if(t._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iG(t),t._firestoreClient}function iG(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new L3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Y6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(on.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=/^__.*__$/;class sG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mf(e,this.data,n,this.fieldTransforms)}}class gO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class mb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yO(this.Cu)&&oG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Qu(e,n,r,i=!1){return new mb({Cu:e,methodName:n,qu:r,path:Qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new aG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vO(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);gb("Data must be an object, but it was:",s,r);const a=xO(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=Z0(e,f,n);if(!s.contains(h))throw new ue(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bO(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new sG(new Rn(a),l,u)}class og extends db{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}function lG(t,e,n,r){const i=t.Qu(1,e,n);gb("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Gs(r,(l,u)=>{const c=yb(e,l,n);u=rn(u);const f=i.Nu(c);if(u instanceof og)o.push(c);else{const h=Vf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Wn(o);return new gO(s,a,i.fieldTransforms)}function uG(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Z0(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Z0(e,o[h])),l.push(o[h+1]);const u=[],c=Rn.empty();for(let h=a.length-1;h>=0;--h)if(!bO(u,a[h])){const y=a[h];let v=l[h];v=rn(v);const w=s.Nu(y);if(v instanceof og)u.push(y);else{const _=Vf(v,w);_!=null&&(u.push(y),c.set(y,_))}}const f=new Wn(u);return new gO(c,f,s.fieldTransforms)}function _O(t,e,n,r=!1){return Vf(n,t.Qu(r?4:3,e))}function Vf(t,e){if(wO(t=rn(t)))return gb("Unsupported field value:",e,t),xO(t,e);if(t instanceof db)return function(r,i){if(!yO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Vf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:up(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(i.serializer,o)}}if(r instanceof hb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:VM(i.serializer,r._byteString)};if(r instanceof Tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Jw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ng(r)}`)}(t,e)}function xO(t,e){const n={};return pM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const o=Vf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof hb||t instanceof ll||t instanceof Tn||t instanceof db||t instanceof pb)}function gb(t,e,n){if(!wO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ng(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Z0(t,e,n){if((e=rn(e))instanceof ig)return e._internalPath;if(typeof e=="string")return yb(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const cG=new RegExp("[~\\*/\\[\\]]");function yb(t,e,n){if(e.search(cG)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(J.INVALID_ARGUMENT,a+t+l)}function bO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fG extends vb{data(){return super.data()}}function sg(t,e){return typeof e=="string"?yb(t,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{}class ag extends _b{}function oc(t,e,...n){let r=[];e instanceof _b&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof xb).length,a=o.filter(l=>l instanceof lg).length;if(s>1||s>0&&a>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lg extends ag{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=this._parse(e);return TO(e._query,n),new ei(e.firestore,e.converter,G0(e._query,n))}_parse(e){const n=$f(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){z1(f,c);const y=[];for(const v of f)y.push(q1(l,o,v));h={arrayValue:{values:y}}}else h=q1(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||z1(f,c),h=_O(a,s,f,c==="in"||c==="not-in");return Ct.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ov(t,e,n){const r=e,i=sg("where",t);return lg._create(i,r,n)}class xb extends _b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TO(s,l),s=G0(s,l)}(e._query,n),new ei(e.firestore,e.converter,G0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wb extends ag{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wb(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(o,s)}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function dG(t,e="asc"){const n=e,r=sg("orderBy",t);return wb._create(r,n)}class bb extends ag{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new bb(e,n,r)}_apply(e){return new ei(e.firestore,e.converter,sp(e._query,this._limit,this._limitType))}}function hG(t){return tG("limit",t),bb._create("limit",t,"F")}class Eb extends ag{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Eb(e,n,r)}_apply(e){const n=mG(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function pG(...t){return Eb._create("startAfter",t,!1)}function mG(t,e,n,r){if(n[0]=rn(n[0]),n[0]instanceof vb)return function(o,s,a,l,u){if(!l)throw new ue(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of Da(o))if(f.field.isKeyField())c.push(op(s,l.key));else{const h=l.data.field(f.field);if(Wm(h))throw new ue(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=f.field.canonicalString();throw new ue(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new ol(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$f(t.firestore);return function(s,a,l,u,c,f){const h=s.explicitOrderBy;if(c.length>h.length)throw new ue(J.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<c.length;v++){const w=c[v];if(h[v].field.isKeyField()){if(typeof w!="string")throw new ue(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!Kw(s)&&w.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const _=s.path.child(ot.fromString(w));if(!xe.isDocumentKey(_))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const x=new xe(_);y.push(op(a,x))}else{const _=_O(l,u,w);y.push(_)}}return new ol(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function q1(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kw(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!xe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return op(t,new xe(r))}if(n instanceof Tn)return op(t,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function z1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gG{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Et(s.doubleValue));return new pb(o)}convertGeoPoint(e){return new hb(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=Oo(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ye(qM(r));const i=new Rc(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AO extends vb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Eh extends AO{data(e={}){return super.data(e)}}class IO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Eh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Eh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:yG(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Tb extends gG{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Co(t){t=cr(t,ei);const e=cr(t.firestore,Lo),n=fb(e),r=new Tb(e);return EO(t._query),Z6(n,t._query).then(i=>new IO(e,r,t,i))}function vG(t,e,n){t=cr(t,Tn);const r=cr(t.firestore,Lo),i=SO(t.converter,e);return ug(r,[vO($f(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function Nn(t,e,n,...r){t=cr(t,Tn);const i=cr(t.firestore,Lo),o=$f(i);let s;return s=typeof(e=rn(e))=="string"||e instanceof ig?uG(o,"updateDoc",t._key,e,n,r):lG(o,"updateDoc",t._key,e),ug(i,[s.toMutation(t._key,ur.exists(!0))])}function Pn(t){return ug(cr(t.firestore,Lo),[new Yw(t._key,ur.none())])}function Kt(t,e){const n=cr(t.firestore,Lo),r=Ke(t),i=SO(t.converter,e);return ug(n,[vO($f(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Zn(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||G1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(G1(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Tn)u=cr(t.firestore,Lo),c=Ww(t._key.path),l={next:f=>{e[s]&&e[s](_G(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=cr(t,ei);u=cr(f.firestore,Lo),c=f._query;const h=new Tb(u);l={next:y=>{e[s]&&e[s](new IO(u,h,f,y))},error:e[s+1],complete:e[s+2]},EO(t._query)}return function(h,y,v,w){const _=new dO(w),x=new rO(y,_,v);return h.asyncQueue.enqueueAndForget(async()=>tO(await Q0(h),x)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>nO(await Q0(h),x))}}(fb(u),c,a,l)}function ug(t,e){return function(r,i){const o=new Ao;return r.asyncQueue.enqueueAndForget(async()=>B6(await Q6(r),i,o)),o.promise}(fb(t),e)}function _G(t,e,n){const r=n.docs.get(e._key),i=new Tb(t);return new AO(t,i,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$l=i})(Ll),el(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Lo(new w3(r.getProvider("auth-internal")),new S3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),So(a1,"4.7.3",e),So(a1,"4.7.3","esm2017")})();function Sb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xG=CO,PO=new Pf("auth","Firebase",CO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Vw("@firebase/auth");function wG(t,...e){hp.logLevel<=$e.WARN&&hp.warn(`Auth (${Ll}): ${t}`,...e)}function Th(t,...e){hp.logLevel<=$e.ERROR&&hp.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw Ab(t,...e)}function Wr(t,...e){return Ab(t,...e)}function NO(t,e,n){const r=Object.assign(Object.assign({},xG()),{[e]:n});return new Pf("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return NO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PO.create(t,...e)}function be(t,e,...n){if(!t)throw Ab(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Th(e),new Error(e)}function Ni(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bG(){return H1()==="http:"||H1()==="https:"}function H1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bG()||X4()||"connection"in navigator)?navigator.onLine:!0}function TG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=K4()||Q4()}get(){return EG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=new Uf(3e4,6e4);function Cb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jl(t,e,n,r,i={}){return RO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Nf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return Y4()||(u.referrerPolicy="no-referrer"),kO.fetch()(MO(t,t.config.apiHost,n,a),u)})}async function RO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SG),e);try{const i=new CG(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Fd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Fd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NO(t,c,u);Pi(t,c)}}catch(i){if(i instanceof Ui)throw i;Pi(t,"network-request-failed",{message:String(i)})}}async function IG(t,e,n,r,i={}){const o=await jl(t,e,n,r,i);return"mfaPendingCredential"in o&&Pi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ib(t.config,i):`${t.config.apiScheme}://${i}`}class CG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),AG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(t,e){return jl(t,"POST","/v1/accounts:delete",e)}async function OO(t,e){return jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NG(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=Pb(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sc(sv(i.auth_time)),issuedAtTime:sc(sv(i.iat)),expirationTime:sc(sv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sv(t){return Number(t)*1e3}function Pb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y2(n);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W1(t){const e=Pb(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&kG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,OO(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DO(o.providerUserInfo):[],a=OG(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new t_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function MG(t){const e=rn(t);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DO(t){return t.map(e=>{var{providerId:n}=e,r=Sb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DG(t,e){const n=await RO(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LG(t,e){return jl(t,"POST","/v2/accounts:revokeToken",Cb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=W1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await DG(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NG(this,e)}reload(){return MG(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(co(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await $c(this,PG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:S}=n;be(T&&S,e,"internal-error");const C=$a.fromJSON(this.name,S);be(typeof T=="string",e,"internal-error"),Xi(f,e.name),Xi(h,e.name),be(typeof N=="boolean",e,"internal-error"),be(typeof A=="boolean",e,"internal-error"),Xi(y,e.name),Xi(v,e.name),Xi(w,e.name),Xi(_,e.name),Xi(x,e.name),Xi(b,e.name);const I=new hi({uid:T,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:A,photoURL:v,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:x,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?DO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new $a;a.updateFromIdToken(r);const l=new hi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Map;function pi(t){Ni(t instanceof Function,"Expected a class definition");let e=K1.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LO.type="NONE";const J1=LO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Sh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(pi(J1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||pi(J1);const s=Sh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=hi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Va(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Va(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($O(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BO(e))return"Blackberry";if(GO(e))return"Webos";if(VO(e))return"Safari";if((e.includes("chrome/")||UO(e))&&!e.includes("edge/"))return"Chrome";if(FO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $O(t=_n()){return/firefox\//i.test(t)}function VO(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UO(t=_n()){return/crios\//i.test(t)}function jO(t=_n()){return/iemobile/i.test(t)}function FO(t=_n()){return/android/i.test(t)}function BO(t=_n()){return/blackberry/i.test(t)}function GO(t=_n()){return/webos/i.test(t)}function Nb(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $G(t=_n()){var e;return Nb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VG(){return Z4()&&document.documentMode===10}function qO(t=_n()){return Nb(t)||FO(t)||GO(t)||BO(t)||/windows phone/i.test(t)||jO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e=[]){let n;switch(t){case"Browser":n=Y1(_n());break;case"Worker":n=`${Y1(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t,e={}){return jl(t,"GET","/v2/passwordPolicy",Cb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=6;class BG{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:FG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new UG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OO(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(co(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(co(this.app))return Promise.reject(bs(this));const n=e?rn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return co(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return co(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jG(this),n=new BG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wG(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kb(t){return rn(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=aB(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qG(t){Rb=t}function zG(t){return Rb.loadJS(t)}function HG(){return Rb.gapiScript}function WG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t,e){const n=jw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(np(o,e??{}))return i;Pi(i,"already-initialized")}return n.initialize({options:e})}function JG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YG(t,e,n){const r=kb(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=HO(e),{host:s,port:a}=XG(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),QG()}function HO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XG(t){const e=HO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Q1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Q1(s)}}}function Q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e){return IG(t,"POST","/v1/accounts:signInWithIdp",Cb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="http://localhost";class Os extends WO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ua(e,n)}buildRequest(){const e={requestUri:ZG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends KO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends jf{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends jf{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends jf{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await hi._fromIdTokenResponse(e,r,i),s=Z1(r);return new ul({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z1(r);return new ul({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mp(e,n,r,i)}}function JO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(t,o,e,r):o})}async function e8(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e,n=!1){const{auth:r}=t;if(co(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const o=await $c(t,JO(r,i,e,t),n);be(o.idToken,r,"internal-error");const s=Pb(o.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),ul._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e,n=!1){if(co(t.app))return Promise.reject(bs(t));const r="signIn",i=await JO(t,r,e),o=await ul._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function r8(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function i8(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=1e3,s8=10;class XO extends YO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);VG()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,s8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},o8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XO.type="LOCAL";const a8=XO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO extends YO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QO.type="SESSION";const ZO=QO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await l8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Mb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function c8(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function f8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h8(){return eD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebaseLocalStorageDb",p8=1,yp="firebaseLocalStorage",nD="fbase_key";class Ff{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fg(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function m8(){const t=indexedDB.deleteDatabase(tD);return new Ff(t).toPromise()}function n_(){const t=indexedDB.open(tD,p8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yp,{keyPath:nD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await m8(),e(await n_()))})})}async function eA(t,e,n){const r=fg(t,!0).put({[nD]:e,value:n});return new Ff(r).toPromise()}async function g8(t,e){const n=fg(t,!1).get(e),r=await new Ff(n).toPromise();return r===void 0?null:r.value}function tA(t,e){const n=fg(t,!0).delete(e);return new Ff(n).toPromise()}const y8=800,v8=3;class rD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(h8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f8(),!this.activeServiceWorker)return;this.sender=new u8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await eA(e,gp,"1"),await tA(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=fg(i,!1).getAll();return new Ff(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rD.type="LOCAL";const _8=rD;new Uf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t,e){return e?pi(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends WO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w8(t){return n8(t.auth,new Ob(t),t.bypassAuthState)}function b8(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),t8(n,new Ob(t),t.bypassAuthState)}async function E8(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),e8(n,new Ob(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w8;case"linkViaPopup":case"linkViaRedirect":return E8;case"reauthViaPopup":case"reauthViaRedirect":return b8;default:Pi(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new Uf(2e3,1e4);class Ea extends iD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T8.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="pendingRedirect",Ah=new Map;class A8 extends iD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await I8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I8(t,e){const n=N8(e),r=P8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function C8(t,e){Ah.set(t._key(),e)}function P8(t){return pi(t._redirectPersistence)}function N8(t){return Sh(S8,t.config.apiKey,t.name)}async function k8(t,e,n=!1){if(co(t.app))return Promise.reject(bs(t));const r=kb(t),i=x8(r,e),s=await new A8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=10*60*1e3;class M8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R8&&this.cachedEventUids.clear(),this.cachedEventUids.has(nA(e))}saveEventToCache(e){this.cachedEventUids.add(nA(e)),this.lastProcessedEventTime=Date.now()}}function nA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e={}){return jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$8=/^https?/;async function V8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D8(t);for(const n of e)try{if(U8(n))return}catch{}Pi(t,"unauthorized-domain")}function U8(t){const e=e_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$8.test(n))return!1;if(L8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Uf(3e4,6e4);function rA(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F8(t){return new Promise((e,n)=>{var r,i,o;function s(){rA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rA(),n(Wr(t,"network-request-failed"))},timeout:j8.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)s();else{const a=WG("iframefcb");return Kr()[a]=()=>{gapi.load?s():n(Wr(t,"network-request-failed"))},zG(`${HG()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function B8(t){return Ih=Ih||F8(t),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new Uf(5e3,15e3),q8="__/auth/iframe",z8="emulator/auth/iframe",H8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K8(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ib(e,z8):`https://${t.config.authDomain}/${q8}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=W8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nf(r).slice(1)}`}async function J8(t){const e=await B8(t),n=Kr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:K8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Wr(t,"network-request-failed"),a=Kr().setTimeout(()=>{o(s)},G8.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X8=500,Q8=600,Z8="_blank",e9="http://localhost";class iA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t9(t,e,n,r=X8,i=Q8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Y8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=_n().toLowerCase();n&&(a=UO(u)?Z8:n),$O(u)&&(e=e||e9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if($G(u)&&a!=="_self")return n9(e||"",a),new iA(null);const f=window.open(e||"",a,c);be(f,t,"popup-blocked");try{f.focus()}catch{}return new iA(f)}function n9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="__/auth/handler",i9="emulator/auth/handler",o9=encodeURIComponent("fac");async function oA(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof KO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof jf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${o9}=${encodeURIComponent(l)}`:"";return`${s9(t)}?${Nf(a).slice(1)}${u}`}function s9({config:t}){return t.emulator?Ib(t,i9):`https://${t.authDomain}/${r9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZO,this._completeRedirectFn=k8,this._overrideRedirectResult=C8}async _openPopup(e,n,r,i){var o;Ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await oA(e,n,r,e_(),i);return t9(e,s,Mb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await oA(e,n,r,e_(),i);return c8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J8(e),r=new M8(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(av,{type:av},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[av];s!==void 0&&n(!!s),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qO()||VO()||Nb()}}const l9=a9;var sA="@firebase/auth",aA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f9(t){el(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zO(t)},u=new GG(r,i,o,l);return JG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new Ns("auth-internal",e=>{const n=kb(e.getProvider("auth").getImmediate());return(r=>new u9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(sA,aA,c9(t)),So(sA,aA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=5*60,h9=Z2("authIdTokenMaxAge")||d9;let lA=null;const p9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h9)return;const i=n==null?void 0:n.token;lA!==i&&(lA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m9(t=rM()){const e=jw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KG(t,{popupRedirectResolver:l9,persistence:[_8,a8,ZO]}),r=Z2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=p9(o.toString());i8(n,s,()=>s(n.currentUser)),r8(n,a=>s(a))}}const i=X2("auth");return i&&YG(n,`http://${i}`),n}function g9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Wr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",g9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f9("Browser");var ra={};const y9={apiKey:ra.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ra.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ra.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},sD=nM(y9),pe=rG(sD);m9(sD);new ui;const aD=$.createContext(void 0),v9=({children:t})=>{const[e,n]=$.useState([]),[r,i]=$.useState([]),[o,s]=$.useState([]),[a,l]=$.useState([]),[u,c]=$.useState([]),[f,h]=$.useState([]),[y,v]=$.useState([]),[w,_]=$.useState([]),[x,b]=$.useState([]),[T,N]=$.useState([]),[A,P]=$.useState([]),[S,C]=$.useState([]),[I,R]=$.useState([]),[M,D]=$.useState([]),[O,j]=$.useState([]),[B,G]=$.useState(!0),[W,U]=$.useState(null);$.useEffect(()=>{const Z=[Zn(ke(pe,"products"),ae=>n(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"clients"),ae=>i(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"suppliers"),ae=>s(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"priceLists"),ae=>c(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"branches"),ae=>h(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"users"),ae=>N(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"salesZones"),ae=>b(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"sales"),ae=>P(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"remitos"),ae=>C(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"boxes"),ae=>R(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"brands"),ae=>D(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"categories"),ae=>j(ae.docs.map(ge=>({id:ge.id,...ge.data()}))))];return G(!1),()=>Z.forEach(ae=>ae())},[]);const K=$.useCallback(async Z=>{let ae=oc(ke(pe,"products"),dG(Z.orderByField||"name",Z.orderDirection||"asc"));Z.startAfterDoc&&(ae=oc(ae,pG(Z.startAfterDoc))),ae=oc(ae,hG(Z.limit));const ge=await Co(ae);return{products:ge.docs.map(Cn=>({id:Cn.id,...Cn.data()})),lastVisible:ge.docs[ge.docs.length-1],hasMore:ge.docs.length===Z.limit}},[]),Y=async Z=>e.find(ae=>ae.id===Z)||null,se=async Z=>{await Kt(ke(pe,"products"),Z)},ee=async(Z,ae)=>{await Nn(Ke(pe,"products",Z),ae)},le=async Z=>{await Pn(Ke(pe,"products",Z))},Ce=async Z=>(await Kt(ke(pe,"sales"),Z)).id,Ne=async Z=>A.find(ae=>ae.id===Z)||null,We=async Z=>{await Kt(ke(pe,"clients"),Z)},z=async(Z,ae)=>{await Nn(Ke(pe,"clients",Z),ae)},Ue=async Z=>{await Pn(Ke(pe,"clients",Z))},ie=async Z=>{await Kt(ke(pe,"suppliers"),Z)},ye=async(Z,ae)=>{await Nn(Ke(pe,"suppliers",Z),ae)},_e=async Z=>{await Pn(Ke(pe,"suppliers",Z))},Q=async Z=>{await Kt(ke(pe,"priceLists"),Z)},Le=async(Z,ae)=>{await Nn(Ke(pe,"priceLists",Z),ae)},Ie=async Z=>{await Pn(Ke(pe,"priceLists",Z))},et=async Z=>{await Kt(ke(pe,"branches"),Z)},X=async(Z,ae)=>{await Nn(Ke(pe,"branches",Z),ae)},me=async Z=>{await Pn(Ke(pe,"branches",Z))},Qe=async Z=>{await Kt(ke(pe,"orders"),Z)},Vt=async(Z,ae)=>{await Nn(Ke(pe,"orders",Z),ae)},Un=async Z=>{await Pn(Ke(pe,"orders",Z))},Nt=async Z=>{await Kt(ke(pe,"installmentPlans"),Z)},jn=async(Z,ae)=>{await Nn(Ke(pe,"installmentPlans",Z),ae)},ni=async Z=>{await Pn(Ke(pe,"installmentPlans",Z))},zi=async Z=>{await Kt(ke(pe,"transactions"),Z)},Ko=async Z=>{await Kt(ke(pe,"users"),Z)},Ut=async(Z,ae)=>{await Nn(Ke(pe,"users",Z),ae)},Ht=async Z=>{await Pn(Ke(pe,"users",Z))},Xs=async Z=>{await Kt(ke(pe,"salesZones"),Z)},Xf=async(Z,ae)=>{await Nn(Ke(pe,"salesZones",Z),ae)},Qf=async Z=>{await Pn(Ke(pe,"salesZones",Z))},uy=async Z=>(await Kt(ke(pe,"remitos"),Z)).id,Jo=async(Z,ae)=>{await Nn(Ke(pe,"remitos",Z),ae)},Zf=async Z=>{await Pn(Ke(pe,"remitos",Z))},ed=async Z=>S.find(ae=>ae.id===Z)||null,iu=async Z=>{await Kt(ke(pe,"boxes"),Z)},cy=async(Z,ae)=>{await Nn(Ke(pe,"boxes",Z),ae)},fy=async Z=>{await Pn(Ke(pe,"boxes",Z))},ou=async Z=>{await Kt(ke(pe,"brands"),Z)},td=async(Z,ae)=>{await Nn(Ke(pe,"brands",Z),ae)},nd=async Z=>{await Pn(Ke(pe,"brands",Z))},Yo=async Z=>{await Kt(ke(pe,"categories"),Z)},su=async(Z,ae)=>{await Nn(Ke(pe,"categories",Z),ae)},au=async Z=>{await Pn(Ke(pe,"categories",Z))},ri=async Z=>{const ae={};for(const ge of Z){const Qo=await Co(ke(pe,ge));ae[ge]=Qo.docs.map(Cn=>({id:Cn.id,...Cn.data()}))}return ae},rd=async Z=>{for(const[ae,ge]of Object.entries(Z)){await Xo(ae);for(const Qo of ge){const{id:Cn,...Hi}=Qo;Cn?await vG(Ke(pe,ae,Cn),Hi):await Kt(ke(pe,ae),Hi)}}},Xo=async Z=>{const ae=await Co(ke(pe,Z));for(const ge of ae.docs)await Pn(ge.ref)},id=$.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:f,orders:y,installmentPlans:w,users:T,loading:B,error:W,salesZones:x,sales:A,remitos:S,boxes:I,brands:M,categories:O,fetchProductsPaginatedAndFiltered:K,getProductById:Y,addProduct:se,updateProduct:ee,deleteProduct:le,addSale:Ce,getSaleById:Ne,addClient:We,updateClient:z,deleteClient:Ue,addSupplier:ie,updateSupplier:ye,deleteSupplier:_e,addPriceList:Q,updatePriceList:Le,deletePriceList:Ie,addBranch:et,updateBranch:X,deleteBranch:me,addOrder:Qe,updateOrder:Vt,deleteOrder:Un,addInstallmentPlan:Nt,updateInstallmentPlan:jn,deleteInstallmentPlan:ni,addTransaction:zi,exportAllData:ri,importAllData:rd,deleteAllDocumentsInCollection:Xo,addUser:Ko,updateUser:Ut,deleteUser:Ht,addSalesZone:Xs,updateSalesZone:Xf,deleteSalesZone:Qf,addRemito:uy,updateRemito:Jo,deleteRemito:Zf,getRemitoById:ed,addBox:iu,updateBox:cy,deleteBox:fy,addBrand:ou,updateBrand:td,deleteBrand:nd,addCategory:Yo,updateCategory:su,deleteCategory:au}),[e,r,o,a,u,f,y,w,T,B,W,x,A,S,I,M,O]);return g.jsx(aD.Provider,{value:id,children:t})},dg=()=>{const t=$.useContext(aD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,..._9,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${x9(t)}`,a].join(" "),...u},[...e.map(([f,h])=>$.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=fe("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=fe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=fe("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=fe("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=fe("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=fe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=fe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=fe("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=fe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=fe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=fe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=fe("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=fe("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=fe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=fe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=fe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),z9=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{var s;const o=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:hD}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:pg},{id:"quotes",label:"Cotizaciones",icon:Vc},{id:"clients",label:"Clientes",icon:Bf},{id:"ecommerce",label:"E-Commerce",icon:Uc}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:xp},{id:"stock-adjustment",label:"Ajuste de Stock",icon:hg},{id:"suppliers",label:"Proveedores",icon:vD},{id:"catalog-config",label:"Marcas & Rubros",icon:j9}]},{title:"Administracin",items:[{id:"cashier",label:"Cajas y Pagos",icon:r_},{id:"reports",label:"Informes e IVA",icon:cD}]},{title:"Sistema",items:[{id:"users",label:"Personal",icon:gD},{id:"settings",label:"Configuracin",icon:U9}]}];return g.jsxs("div",{className:"w-72 bg-slate-950 h-full flex flex-col text-slate-400 border-r border-slate-900 shadow-2xl relative z-20",children:[g.jsx("div",{className:"p-8",children:g.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-[2rem] border border-white/5 shadow-inner",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-orange-900/20 rotate-3",children:g.jsx($b,{className:"text-white",size:24})}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("h1",{className:"text-white font-black text-sm truncate uppercase tracking-tighter italic",children:(n==null?void 0:n.name)||"FerroGest"}),g.jsx("p",{className:"text-[9px] font-black text-orange-500 uppercase tracking-[0.2em] opacity-80",children:"ERP v4.0"})]})]})}),g.jsx("nav",{className:"flex-1 px-4 space-y-8 overflow-y-auto custom-scrollbar pb-10 text-left",children:o.map(a=>g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"px-4 text-[9px] font-black text-slate-600 uppercase tracking-[0.3em] opacity-50",children:a.title}),g.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const u=l.icon,c=t===l.id;return g.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300 group ${c?"bg-orange-600 text-white shadow-xl shadow-orange-900/40 translate-x-1":"hover:bg-white/5 hover:text-slate-200"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(u,{size:18,strokeWidth:c?3:2,className:c?"text-white":"text-slate-500 group-hover:text-orange-500 transition-colors"}),g.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${c?"text-white":""}`,children:l.label})]}),c&&g.jsx(_p,{size:14,className:"animate-pulse"})]},l.id)})})]},a.title))}),g.jsxs("div",{className:"p-6 bg-black/20 border-t border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-black text-xs text-orange-500 border-2 border-slate-700",children:((s=r==null?void 0:r.name)==null?void 0:s.substring(0,2).toUpperCase())||"AD"}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("p",{className:"text-xs font-black text-white truncate uppercase tracking-tighter",children:(r==null?void 0:r.name)||"Administrador"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:(r==null?void 0:r.role)||"Master"})]})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[g.jsx(L9,{size:16})," Salir del Sistema"]})]})]})},H9={dashboard:{label:"Dashboard",icon:hD},inventory:{label:"Inventario",icon:fD},sales:{label:"Ventas",icon:uD},purchases:{label:"Compras",icon:pg},clients:{label:"Clientes",icon:Bf},suppliers:{label:"Proveedores",icon:vD},cashier:{label:"Cajas",icon:Vb},reports:{label:"Informes",icon:cD},quotes:{label:"Cotizaciones",icon:Vc},ecommerce:{label:"E-Commerce",icon:Uc},"stock-adjustment":{label:"Ajuste Stock",icon:hg},users:{label:"Personal",icon:G9},settings:{label:"Configuracin",icon:gD},"missing-items":{label:"Faltantes",icon:I9},"bulk-modification":{label:"Modif. Masiva",icon:M9},remitos:{label:"Remitos",icon:C9}},W9=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>g.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=H9[i],s=o==null?void 0:o.icon,a=i===e;return g.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&g.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),g.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:g.jsx(Jr,{size:12})})]},i)})}),K9=({onLoginSuccess:t})=>{const[e,n]=$.useState("employee"),[r,i]=$.useState(""),[o,s]=$.useState(""),[a,l]=$.useState(""),[u,c]=$.useState(!1),[f,h]=$.useState(null),y="admin",v="admin123",w=async x=>{x.preventDefault(),c(!0),h(null);const b=r.trim(),T=o.trim();try{if(b.toLowerCase()===y&&T===v){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=ke(pe,"users"),A=oc(N,ov("email","==",b),ov("password","==",T)),P=await Co(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const S=P.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},_=async x=>{x.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const T=ke(pe,"clients"),N=oc(T,ov("cuit","==",b)),A=await Co(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),g.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:g.jsx($b,{className:"w-10 h-10"})}),g.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),g.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[g.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(wp,{className:"w-4 h-4"})," Personal"]}),g.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(lv,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&g.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[g.jsx(Jr,{className:"w-5 h-5 text-red-600"}),g.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(_D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),g.jsxs("div",{className:"relative",children:[g.jsx(D9,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"password",value:o,onChange:x=>s(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(ki,{className:"w-5 h-5 animate-spin"}):g.jsx(E9,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):g.jsxs("form",{onSubmit:_,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),g.jsxs("div",{className:"relative",children:[g.jsx(lv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(ki,{className:"w-5 h-5 animate-spin"}):g.jsx(lv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),g.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function wD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wD(t))&&(r&&(r+=" "),r+=e);return r}var J9=Array.isArray,Vn=J9,Y9=typeof _d=="object"&&_d&&_d.Object===Object&&_d,bD=Y9,X9=bD,Q9=typeof self=="object"&&self&&self.Object===Object&&self,Z9=X9||Q9||Function("return this")(),ti=Z9,eq=ti,tq=eq.Symbol,Gf=tq,gA=Gf,ED=Object.prototype,nq=ED.hasOwnProperty,rq=ED.toString,Su=gA?gA.toStringTag:void 0;function iq(t){var e=nq.call(t,Su),n=t[Su];try{t[Su]=void 0;var r=!0}catch{}var i=rq.call(t);return r&&(e?t[Su]=n:delete t[Su]),i}var oq=iq,sq=Object.prototype,aq=sq.toString;function lq(t){return aq.call(t)}var uq=lq,yA=Gf,cq=oq,fq=uq,dq="[object Null]",hq="[object Undefined]",vA=yA?yA.toStringTag:void 0;function pq(t){return t==null?t===void 0?hq:dq:vA&&vA in Object(t)?cq(t):fq(t)}var ji=pq;function mq(t){return t!=null&&typeof t=="object"}var Fi=mq,gq=ji,yq=Fi,vq="[object Symbol]";function _q(t){return typeof t=="symbol"||yq(t)&&gq(t)==vq}var Fl=_q,xq=Vn,wq=Fl,bq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eq=/^\w*$/;function Tq(t,e){if(xq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wq(t)?!0:Eq.test(t)||!bq.test(t)||e!=null&&t in Object(e)}var Ub=Tq;function Sq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=Sq;const Bl=rt(Bo);var Aq=ji,Iq=Bo,Cq="[object AsyncFunction]",Pq="[object Function]",Nq="[object GeneratorFunction]",kq="[object Proxy]";function Rq(t){if(!Iq(t))return!1;var e=Aq(t);return e==Pq||e==Nq||e==Cq||e==kq}var jb=Rq;const Pe=rt(jb);var Mq=ti,Oq=Mq["__core-js_shared__"],Dq=Oq,uv=Dq,_A=function(){var t=/[^.]+$/.exec(uv&&uv.keys&&uv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lq(t){return!!_A&&_A in t}var $q=Lq,Vq=Function.prototype,Uq=Vq.toString;function jq(t){if(t!=null){try{return Uq.call(t)}catch{}try{return t+""}catch{}}return""}var TD=jq,Fq=jb,Bq=$q,Gq=Bo,qq=TD,zq=/[\\^$.*+?()[\]{}|]/g,Hq=/^\[object .+?Constructor\]$/,Wq=Function.prototype,Kq=Object.prototype,Jq=Wq.toString,Yq=Kq.hasOwnProperty,Xq=RegExp("^"+Jq.call(Yq).replace(zq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qq(t){if(!Gq(t)||Bq(t))return!1;var e=Fq(t)?Xq:Hq;return e.test(qq(t))}var Zq=Qq;function ez(t,e){return t==null?void 0:t[e]}var tz=ez,nz=Zq,rz=tz;function iz(t,e){var n=rz(t,e);return nz(n)?n:void 0}var Hs=iz,oz=Hs,sz=oz(Object,"create"),mg=sz,xA=mg;function az(){this.__data__=xA?xA(null):{},this.size=0}var lz=az;function uz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cz=uz,fz=mg,dz="__lodash_hash_undefined__",hz=Object.prototype,pz=hz.hasOwnProperty;function mz(t){var e=this.__data__;if(fz){var n=e[t];return n===dz?void 0:n}return pz.call(e,t)?e[t]:void 0}var gz=mz,yz=mg,vz=Object.prototype,_z=vz.hasOwnProperty;function xz(t){var e=this.__data__;return yz?e[t]!==void 0:_z.call(e,t)}var wz=xz,bz=mg,Ez="__lodash_hash_undefined__";function Tz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bz&&e===void 0?Ez:e,this}var Sz=Tz,Az=lz,Iz=cz,Cz=gz,Pz=wz,Nz=Sz;function Gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gl.prototype.clear=Az;Gl.prototype.delete=Iz;Gl.prototype.get=Cz;Gl.prototype.has=Pz;Gl.prototype.set=Nz;var kz=Gl;function Rz(){this.__data__=[],this.size=0}var Mz=Rz;function Oz(t,e){return t===e||t!==t&&e!==e}var Fb=Oz,Dz=Fb;function Lz(t,e){for(var n=t.length;n--;)if(Dz(t[n][0],e))return n;return-1}var gg=Lz,$z=gg,Vz=Array.prototype,Uz=Vz.splice;function jz(t){var e=this.__data__,n=$z(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Uz.call(e,n,1),--this.size,!0}var Fz=jz,Bz=gg;function Gz(t){var e=this.__data__,n=Bz(e,t);return n<0?void 0:e[n][1]}var qz=Gz,zz=gg;function Hz(t){return zz(this.__data__,t)>-1}var Wz=Hz,Kz=gg;function Jz(t,e){var n=this.__data__,r=Kz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Yz=Jz,Xz=Mz,Qz=Fz,Zz=qz,eH=Wz,tH=Yz;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=Xz;ql.prototype.delete=Qz;ql.prototype.get=Zz;ql.prototype.has=eH;ql.prototype.set=tH;var yg=ql,nH=Hs,rH=ti,iH=nH(rH,"Map"),Bb=iH,wA=kz,oH=yg,sH=Bb;function aH(){this.size=0,this.__data__={hash:new wA,map:new(sH||oH),string:new wA}}var lH=aH;function uH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cH=uH,fH=cH;function dH(t,e){var n=t.__data__;return fH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vg=dH,hH=vg;function pH(t){var e=hH(this,t).delete(t);return this.size-=e?1:0,e}var mH=pH,gH=vg;function yH(t){return gH(this,t).get(t)}var vH=yH,_H=vg;function xH(t){return _H(this,t).has(t)}var wH=xH,bH=vg;function EH(t,e){var n=bH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var TH=EH,SH=lH,AH=mH,IH=vH,CH=wH,PH=TH;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=SH;zl.prototype.delete=AH;zl.prototype.get=IH;zl.prototype.has=CH;zl.prototype.set=PH;var Gb=zl,SD=Gb,NH="Expected a function";function qb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(qb.Cache||SD),n}qb.Cache=SD;var AD=qb;const kH=rt(AD);var RH=AD,MH=500;function OH(t){var e=RH(t,function(r){return n.size===MH&&n.clear(),r}),n=e.cache;return e}var DH=OH,LH=DH,$H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VH=/\\(\\)?/g,UH=LH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($H,function(n,r,i,o){e.push(i?o.replace(VH,"$1"):r||n)}),e}),jH=UH;function FH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zb=FH,bA=Gf,BH=zb,GH=Vn,qH=Fl,EA=bA?bA.prototype:void 0,TA=EA?EA.toString:void 0;function ID(t){if(typeof t=="string")return t;if(GH(t))return BH(t,ID)+"";if(qH(t))return TA?TA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zH=ID,HH=zH;function WH(t){return t==null?"":HH(t)}var CD=WH,KH=Vn,JH=Ub,YH=jH,XH=CD;function QH(t,e){return KH(t)?t:JH(t,e)?[t]:YH(XH(t))}var PD=QH,ZH=Fl;function eW(t){if(typeof t=="string"||ZH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _g=eW,tW=PD,nW=_g;function rW(t,e){e=tW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nW(e[n++])];return n&&n==r?t:void 0}var Hb=rW,iW=Hb;function oW(t,e,n){var r=t==null?void 0:iW(t,e);return r===void 0?n:r}var ND=oW;const fr=rt(ND);function sW(t){return t==null}var aW=sW;const De=rt(aW);var lW=ji,uW=Vn,cW=Fi,fW="[object String]";function dW(t){return typeof t=="string"||!uW(t)&&cW(t)&&lW(t)==fW}var hW=dW;const Ls=rt(hW);var kD={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=Symbol.for("react.element"),Kb=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),pW=Symbol.for("react.server_context"),Sg=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Ig=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),mW=Symbol.for("react.offscreen"),RD;RD=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wb:switch(t=t.type,t){case xg:case bg:case wg:case Ag:case Ig:return t;default:switch(t=t&&t.$$typeof,t){case pW:case Tg:case Sg:case Pg:case Cg:case Eg:return t;default:return e}}case Kb:return e}}}Xe.ContextConsumer=Tg;Xe.ContextProvider=Eg;Xe.Element=Wb;Xe.ForwardRef=Sg;Xe.Fragment=xg;Xe.Lazy=Pg;Xe.Memo=Cg;Xe.Portal=Kb;Xe.Profiler=bg;Xe.StrictMode=wg;Xe.Suspense=Ag;Xe.SuspenseList=Ig;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return yr(t)===Tg};Xe.isContextProvider=function(t){return yr(t)===Eg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wb};Xe.isForwardRef=function(t){return yr(t)===Sg};Xe.isFragment=function(t){return yr(t)===xg};Xe.isLazy=function(t){return yr(t)===Pg};Xe.isMemo=function(t){return yr(t)===Cg};Xe.isPortal=function(t){return yr(t)===Kb};Xe.isProfiler=function(t){return yr(t)===bg};Xe.isStrictMode=function(t){return yr(t)===wg};Xe.isSuspense=function(t){return yr(t)===Ag};Xe.isSuspenseList=function(t){return yr(t)===Ig};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xg||t===bg||t===wg||t===Ag||t===Ig||t===mW||typeof t=="object"&&t!==null&&(t.$$typeof===Pg||t.$$typeof===Cg||t.$$typeof===Eg||t.$$typeof===Tg||t.$$typeof===Sg||t.$$typeof===RD||t.getModuleId!==void 0)};Xe.typeOf=yr;kD.exports=Xe;var gW=kD.exports,yW=ji,vW=Fi,_W="[object Number]";function xW(t){return typeof t=="number"||vW(t)&&yW(t)==_W}var MD=xW;const wW=rt(MD);var bW=MD;function EW(t){return bW(t)&&t!=+t}var TW=EW;const Hl=rt(TW);var Ir=function(e){return e===0?0:e>0?1:-1},ps=function(e){return Ls(e)&&e.indexOf("%")===e.length-1},re=function(e){return wW(e)&&!Hl(e)},SW=function(e){return De(e)},Dt=function(e){return re(e)||Ls(e)},AW=0,qf=function(e){var n=++AW;return"".concat(e||"").concat(n)},$s=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Ls(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Hl(o)&&(o=r),i&&o>n&&(o=n),o},ao=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},IW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},or=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function bp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var CW=function(e,n){return re(e)&&re(n)?e-n:Ls(e)&&Ls(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var PW=["viewBox","children"],NW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SA=["points","pathLength"],cv={svg:PW,polygon:SA,polyline:SA},Jb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ep=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Bl(r))return null;var i={};return Object.keys(r).forEach(function(o){Jb.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},kW=function(e,n,r){return function(i){return e(n,r,i),null}},Tp=function(e,n,r){if(!Bl(e)||s_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Jb.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=kW(s,n,r))}),i},RW=["children"],MW=["children"];function AA(t,e){if(t==null)return{};var n=OW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}var IA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_i=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CA=null,fv=null,Yb=function t(e){if(e===CA&&Array.isArray(fv))return fv;var n=[];return $.Children.forEach(e,function(r){De(r)||(gW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fv=n,CA=e,n};function Nr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return _i(i)}):r=[_i(e)],Yb(t).forEach(function(i){var o=fr(i,"type.displayName")||fr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qn(t,e){var n=Nr(t,e);return n&&n[0]}var PA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},DW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LW=function(e){return e&&e.type&&Ls(e.type)&&DW.indexOf(e.type)>=0},$W=function(e){return e&&a_(e)==="object"&&"clipDot"in e},VW=function(e,n,r,i){var o,s=(o=cv==null?void 0:cv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||NW.includes(n))||r&&Jb.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Bl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;VW((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},l_=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return NA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!NA(o,s))return!1}return!0},NA=function(e,n){if(De(e)&&De(n))return!0;if(!De(e)&&!De(n)){var r=e.props||{},i=r.children,o=AA(r,RW),s=n.props||{},a=s.children,l=AA(s,MW);return i&&a?Fa(o,l)&&l_(i,a):!i&&!a?Fa(o,l):!1}return!1},kA=function(e,n){var r=[],i={};return Yb(e).forEach(function(o,s){if(LW(o))r.push(o);else if(o){var a=_i(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},UW=function(e){var n=e&&e.type;return n&&IA[n]?IA[n]:null},jW=function(e,n){return Yb(n).indexOf(e)},FW=["children","width","height","viewBox","className","style","title","desc"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function BW(t,e){if(t==null)return{};var n=GW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=BW(t,FW),c=i||{width:n,height:r,x:0,y:0},f=Fe("recharts-surface",o);return V.createElement("svg",u_({},Re(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),V.createElement("title",null,a),V.createElement("desc",null,l),e)}var qW=["children","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function zW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=zW(t,qW),o=Fe("recharts-layer",r);return V.createElement("g",f_({className:o},Re(i,!0),{ref:e}),n)}),xi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function WW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var KW=WW,JW=KW;function YW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:JW(t,e,n)}var XW=YW,QW="\\ud800-\\udfff",ZW="\\u0300-\\u036f",e7="\\ufe20-\\ufe2f",t7="\\u20d0-\\u20ff",n7=ZW+e7+t7,r7="\\ufe0e\\ufe0f",i7="\\u200d",o7=RegExp("["+i7+QW+n7+r7+"]");function s7(t){return o7.test(t)}var OD=s7;function a7(t){return t.split("")}var l7=a7,DD="\\ud800-\\udfff",u7="\\u0300-\\u036f",c7="\\ufe20-\\ufe2f",f7="\\u20d0-\\u20ff",d7=u7+c7+f7,h7="\\ufe0e\\ufe0f",p7="["+DD+"]",d_="["+d7+"]",h_="\\ud83c[\\udffb-\\udfff]",m7="(?:"+d_+"|"+h_+")",LD="[^"+DD+"]",$D="(?:\\ud83c[\\udde6-\\uddff]){2}",VD="[\\ud800-\\udbff][\\udc00-\\udfff]",g7="\\u200d",UD=m7+"?",jD="["+h7+"]?",y7="(?:"+g7+"(?:"+[LD,$D,VD].join("|")+")"+jD+UD+")*",v7=jD+UD+y7,_7="(?:"+[LD+d_+"?",d_,$D,VD,p7].join("|")+")",x7=RegExp(h_+"(?="+h_+")|"+_7+v7,"g");function w7(t){return t.match(x7)||[]}var b7=w7,E7=l7,T7=OD,S7=b7;function A7(t){return T7(t)?S7(t):E7(t)}var I7=A7,C7=XW,P7=OD,N7=I7,k7=CD;function R7(t){return function(e){e=k7(e);var n=P7(e)?N7(e):void 0,r=n?n[0]:e.charAt(0),i=n?C7(n,1).join(""):e.slice(1);return r[t]()+i}}var M7=R7,O7=M7,D7=O7("toUpperCase"),L7=D7;const Ng=rt(L7);function it(t){return function(){return t}}const FD=Math.cos,Sp=Math.sin,Dr=Math.sqrt,Ap=Math.PI,kg=2*Ap,p_=Math.PI,m_=2*p_,ss=1e-6,$7=m_-ss;function BD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function V7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class U7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BD:V7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ss)if(!(Math.abs(f*l-u*c)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,w=l*l+u*u,_=y*y+v*v,x=Math.sqrt(w),b=Math.sqrt(h),T=o*Math.tan((p_-Math.acos((w+h-_)/(2*x*b)))/2),N=T/b,A=T/x;Math.abs(N-1)>ss&&this._append`L${e+N*c},${n+N*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-c)>ss)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%m_+m_),h>$7?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ss&&this._append`A${r},${r},0,${+(h>=p_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Xb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new U7(e)}function Qb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GD(t){this._context=t}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rg(t){return new GD(t)}function qD(t){return t[0]}function zD(t){return t[1]}function HD(t,e){var n=it(!0),r=null,i=Rg,o=null,s=Xb(a);t=typeof t=="function"?t:t===void 0?qD:it(t),e=typeof e=="function"?e:e===void 0?zD:it(e);function a(l){var u,c=(l=Qb(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Bd(t,e,n){var r=null,i=it(!0),o=null,s=Rg,a=null,l=Xb(u);t=typeof t=="function"?t:t===void 0?qD:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zD:it(+n);function u(f){var h,y,v,w=(f=Qb(f)).length,_,x=!1,b,T=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(_=f[h],h,f))===x)if(x=!x)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(T[v],N[v]);a.lineEnd(),a.areaEnd()}x&&(T[h]=+t(_,h,f),N[h]=+e(_,h,f),a.point(r?+r(_,h,f):T[h],n?+n(_,h,f):N[h]))}if(b)return a=null,b+""||null}function c(){return HD().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:it(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class WD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function j7(t){return new WD(t,!0)}function F7(t){return new WD(t,!1)}const Zb={draw(t,e){const n=Dr(e/Ap);t.moveTo(n,0),t.arc(0,0,n,0,kg)}},B7={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KD=Dr(1/3),G7=KD*2,q7={draw(t,e){const n=Dr(e/G7),r=n*KD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},z7={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},H7=.8908130915292852,JD=Sp(Ap/10)/Sp(7*Ap/10),W7=Sp(kg/10)*JD,K7=-FD(kg/10)*JD,J7={draw(t,e){const n=Dr(e*H7),r=W7*n,i=K7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=kg*o/5,a=FD(s),l=Sp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},dv=Dr(3),Y7={draw(t,e){const n=-Dr(e/(dv*3));t.moveTo(0,n*2),t.lineTo(-dv*n,-n),t.lineTo(dv*n,-n),t.closePath()}},er=-.5,tr=Dr(3)/2,g_=1/Dr(12),X7=(g_/2+1)*3,Q7={draw(t,e){const n=Dr(e/X7),r=n/2,i=n*g_,o=r,s=n*g_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function Z7(t,e){let n=null,r=Xb(i);t=typeof t=="function"?t:it(t||Zb),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:it(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:it(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ip(){}function Cp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function YD(t){this._context=t}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eK(t){return new YD(t)}function XD(t){this._context=t}XD.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tK(t){return new XD(t)}function QD(t){this._context=t}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nK(t){return new QD(t)}function ZD(t){this._context=t}ZD.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rK(t){return new ZD(t)}function RA(t){return t<0?-1:1}function MA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(RA(o)+RA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function OA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Pp(t){this._context=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hv(this,this._t0,OA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hv(this,OA(this,n=MA(this,t,e)),n);break;default:hv(this,this._t0,n=MA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eL(t){this._context=new tL(t)}(eL.prototype=Object.create(Pp.prototype)).point=function(t,e){Pp.prototype.point.call(this,e,t)};function tL(t){this._context=t}tL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function iK(t){return new Pp(t)}function oK(t){return new eL(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=DA(t),i=DA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function sK(t){return new nL(t)}function Mg(t,e){this._context=t,this._t=e}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aK(t){return new Mg(t,.5)}function lK(t){return new Mg(t,0)}function uK(t){return new Mg(t,1)}function fl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function y_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cK(t,e){return t[e]}function fK(t){const e=[];return e.key=t,e}function dK(){var t=it([]),e=y_,n=fl,r=cK;function i(o){var s=Array.from(t.apply(this,arguments),fK),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=Qb(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?y_:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fl,i):n},i}function hK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fl(t,e)}}function pK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fl(t,e)}}function mK(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var w=t[e[v]],_=w[r][1]||0,x=w[r-1][1]||0;y+=_-x}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}var gK=["type","size","sizeType"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){yK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yK(t,e,n){return e=vK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vK(t){var e=_K(t,"string");return jc(e)=="symbol"?e:e+""}function _K(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t,e){if(t==null)return{};var n=wK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rL={symbolCircle:Zb,symbolCross:B7,symbolDiamond:q7,symbolSquare:z7,symbolStar:J7,symbolTriangle:Y7,symbolWye:Q7},bK=Math.PI/180,EK=function(e){var n="symbol".concat(Ng(e));return rL[n]||Zb},TK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*bK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SK=function(e,n){rL["symbol".concat(Ng(e))]=n},eE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=xK(e,gK),u=$A($A({},l),{},{type:r,size:o,sizeType:a}),c=function(){var _=EK(r),x=Z7().type(_).size(TK(o,a,r));return x()},f=u.className,h=u.cx,y=u.cy,v=Re(u,!0);return h===+h&&y===+y&&o===+o?V.createElement("path",v_({},v,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};eE.registerSymbol=SK;function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){Fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function PK(t,e,n){return e&&CK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NK(t,e,n){return e=Np(e),kK(t,iL()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function kK(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(t)}function RK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function MK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function Fc(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=OK(t,"string");return dl(e)=="symbol"?e:e+""}function OK(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,tE=function(t){function e(){return IK(this,e),NK(this,e,arguments)}return MK(e,t),PK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=AK({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(eE,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var w=y.formatter||l,_=Fe(Fc(Fc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Pe(y.value)?null:y.value;xi(!Pe(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return V.createElement("li",__({className:_,style:f,key:"legend-item-".concat(v)},Tp(r.props,y,v)),V.createElement(c_,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(x,y,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);Fc(tE,"displayName","Legend");Fc(tE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DK=yg;function LK(){this.__data__=new DK,this.size=0}var $K=LK;function VK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var UK=VK;function jK(t){return this.__data__.get(t)}var FK=jK;function BK(t){return this.__data__.has(t)}var GK=BK,qK=yg,zK=Bb,HK=Gb,WK=200;function KK(t,e){var n=this.__data__;if(n instanceof qK){var r=n.__data__;if(!zK||r.length<WK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new HK(r)}return n.set(t,e),this.size=n.size,this}var JK=KK,YK=yg,XK=$K,QK=UK,ZK=FK,eJ=GK,tJ=JK;function Wl(t){var e=this.__data__=new YK(t);this.size=e.size}Wl.prototype.clear=XK;Wl.prototype.delete=QK;Wl.prototype.get=ZK;Wl.prototype.has=eJ;Wl.prototype.set=tJ;var sL=Wl,nJ="__lodash_hash_undefined__";function rJ(t){return this.__data__.set(t,nJ),this}var iJ=rJ;function oJ(t){return this.__data__.has(t)}var sJ=oJ,aJ=Gb,lJ=iJ,uJ=sJ;function kp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new aJ;++e<n;)this.add(t[e])}kp.prototype.add=kp.prototype.push=lJ;kp.prototype.has=uJ;var aL=kp;function cJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var lL=cJ;function fJ(t,e){return t.has(e)}var uL=fJ,dJ=aL,hJ=lL,pJ=uL,mJ=1,gJ=2;function yJ(t,e,n,r,i,o){var s=n&mJ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&gJ?new dJ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],w=e[f];if(r)var _=s?r(w,v,f,e,t,o):r(v,w,f,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(y){if(!hJ(e,function(x,b){if(!pJ(y,b)&&(v===x||i(v,x,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(v===w||i(v,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var cL=yJ,vJ=ti,_J=vJ.Uint8Array,xJ=_J;function wJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var bJ=wJ;function EJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var nE=EJ,UA=Gf,jA=xJ,TJ=Fb,SJ=cL,AJ=bJ,IJ=nE,CJ=1,PJ=2,NJ="[object Boolean]",kJ="[object Date]",RJ="[object Error]",MJ="[object Map]",OJ="[object Number]",DJ="[object RegExp]",LJ="[object Set]",$J="[object String]",VJ="[object Symbol]",UJ="[object ArrayBuffer]",jJ="[object DataView]",FA=UA?UA.prototype:void 0,pv=FA?FA.valueOf:void 0;function FJ(t,e,n,r,i,o,s){switch(n){case jJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case UJ:return!(t.byteLength!=e.byteLength||!o(new jA(t),new jA(e)));case NJ:case kJ:case OJ:return TJ(+t,+e);case RJ:return t.name==e.name&&t.message==e.message;case DJ:case $J:return t==e+"";case MJ:var a=AJ;case LJ:var l=r&CJ;if(a||(a=IJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=PJ,s.set(t,e);var c=SJ(a(t),a(e),r,i,o,s);return s.delete(t),c;case VJ:if(pv)return pv.call(t)==pv.call(e)}return!1}var BJ=FJ;function GJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fL=GJ,qJ=fL,zJ=Vn;function HJ(t,e,n){var r=e(t);return zJ(t)?r:qJ(r,n(t))}var WJ=HJ;function KJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var JJ=KJ;function YJ(){return[]}var XJ=YJ,QJ=JJ,ZJ=XJ,eY=Object.prototype,tY=eY.propertyIsEnumerable,BA=Object.getOwnPropertySymbols,nY=BA?function(t){return t==null?[]:(t=Object(t),QJ(BA(t),function(e){return tY.call(t,e)}))}:ZJ,rY=nY;function iY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oY=iY,sY=ji,aY=Fi,lY="[object Arguments]";function uY(t){return aY(t)&&sY(t)==lY}var cY=uY,GA=cY,fY=Fi,dL=Object.prototype,dY=dL.hasOwnProperty,hY=dL.propertyIsEnumerable,pY=GA(function(){return arguments}())?GA:function(t){return fY(t)&&dY.call(t,"callee")&&!hY.call(t,"callee")},rE=pY,Rp={exports:{}};function mY(){return!1}var gY=mY;Rp.exports;(function(t,e){var n=ti,r=gY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Rp,Rp.exports);var hL=Rp.exports,yY=9007199254740991,vY=/^(?:0|[1-9]\d*)$/;function _Y(t,e){var n=typeof t;return e=e??yY,!!e&&(n=="number"||n!="symbol"&&vY.test(t))&&t>-1&&t%1==0&&t<e}var iE=_Y,xY=9007199254740991;function wY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xY}var oE=wY,bY=ji,EY=oE,TY=Fi,SY="[object Arguments]",AY="[object Array]",IY="[object Boolean]",CY="[object Date]",PY="[object Error]",NY="[object Function]",kY="[object Map]",RY="[object Number]",MY="[object Object]",OY="[object RegExp]",DY="[object Set]",LY="[object String]",$Y="[object WeakMap]",VY="[object ArrayBuffer]",UY="[object DataView]",jY="[object Float32Array]",FY="[object Float64Array]",BY="[object Int8Array]",GY="[object Int16Array]",qY="[object Int32Array]",zY="[object Uint8Array]",HY="[object Uint8ClampedArray]",WY="[object Uint16Array]",KY="[object Uint32Array]",ut={};ut[jY]=ut[FY]=ut[BY]=ut[GY]=ut[qY]=ut[zY]=ut[HY]=ut[WY]=ut[KY]=!0;ut[SY]=ut[AY]=ut[VY]=ut[IY]=ut[UY]=ut[CY]=ut[PY]=ut[NY]=ut[kY]=ut[RY]=ut[MY]=ut[OY]=ut[DY]=ut[LY]=ut[$Y]=!1;function JY(t){return TY(t)&&EY(t.length)&&!!ut[bY(t)]}var YY=JY;function XY(t){return function(e){return t(e)}}var pL=XY,Mp={exports:{}};Mp.exports;(function(t,e){var n=bD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Mp,Mp.exports);var QY=Mp.exports,ZY=YY,eX=pL,qA=QY,zA=qA&&qA.isTypedArray,tX=zA?eX(zA):ZY,mL=tX,nX=oY,rX=rE,iX=Vn,oX=hL,sX=iE,aX=mL,lX=Object.prototype,uX=lX.hasOwnProperty;function cX(t,e){var n=iX(t),r=!n&&rX(t),i=!n&&!r&&oX(t),o=!n&&!r&&!i&&aX(t),s=n||r||i||o,a=s?nX(t.length,String):[],l=a.length;for(var u in t)(e||uX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sX(u,l)))&&a.push(u);return a}var fX=cX,dX=Object.prototype;function hX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dX;return t===n}var pX=hX;function mX(t,e){return function(n){return t(e(n))}}var gL=mX,gX=gL,yX=gX(Object.keys,Object),vX=yX,_X=pX,xX=vX,wX=Object.prototype,bX=wX.hasOwnProperty;function EX(t){if(!_X(t))return xX(t);var e=[];for(var n in Object(t))bX.call(t,n)&&n!="constructor"&&e.push(n);return e}var TX=EX,SX=jb,AX=oE;function IX(t){return t!=null&&AX(t.length)&&!SX(t)}var zf=IX,CX=fX,PX=TX,NX=zf;function kX(t){return NX(t)?CX(t):PX(t)}var Og=kX,RX=WJ,MX=rY,OX=Og;function DX(t){return RX(t,OX,MX)}var LX=DX,HA=LX,$X=1,VX=Object.prototype,UX=VX.hasOwnProperty;function jX(t,e,n,r,i,o){var s=n&$X,a=HA(t),l=a.length,u=HA(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:UX.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var w=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){h=a[f];var x=t[h],b=e[h];if(r)var T=s?r(b,x,h,e,t,o):r(x,b,h,t,e,o);if(!(T===void 0?x===b||i(x,b,n,r,o):T)){w=!1;break}_||(_=h=="constructor")}if(w&&!_){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var FX=jX,BX=Hs,GX=ti,qX=BX(GX,"DataView"),zX=qX,HX=Hs,WX=ti,KX=HX(WX,"Promise"),JX=KX,YX=Hs,XX=ti,QX=YX(XX,"Set"),yL=QX,ZX=Hs,eQ=ti,tQ=ZX(eQ,"WeakMap"),nQ=tQ,w_=zX,b_=Bb,E_=JX,T_=yL,S_=nQ,vL=ji,Kl=TD,WA="[object Map]",rQ="[object Object]",KA="[object Promise]",JA="[object Set]",YA="[object WeakMap]",XA="[object DataView]",iQ=Kl(w_),oQ=Kl(b_),sQ=Kl(E_),aQ=Kl(T_),lQ=Kl(S_),as=vL;(w_&&as(new w_(new ArrayBuffer(1)))!=XA||b_&&as(new b_)!=WA||E_&&as(E_.resolve())!=KA||T_&&as(new T_)!=JA||S_&&as(new S_)!=YA)&&(as=function(t){var e=vL(t),n=e==rQ?t.constructor:void 0,r=n?Kl(n):"";if(r)switch(r){case iQ:return XA;case oQ:return WA;case sQ:return KA;case aQ:return JA;case lQ:return YA}return e});var uQ=as,mv=sL,cQ=cL,fQ=BJ,dQ=FX,QA=uQ,ZA=Vn,eI=hL,hQ=mL,pQ=1,tI="[object Arguments]",nI="[object Array]",Gd="[object Object]",mQ=Object.prototype,rI=mQ.hasOwnProperty;function gQ(t,e,n,r,i,o){var s=ZA(t),a=ZA(e),l=s?nI:QA(t),u=a?nI:QA(e);l=l==tI?Gd:l,u=u==tI?Gd:u;var c=l==Gd,f=u==Gd,h=l==u;if(h&&eI(t)){if(!eI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new mv),s||hQ(t)?cQ(t,e,n,r,i,o):fQ(t,e,l,n,r,i,o);if(!(n&pQ)){var y=c&&rI.call(t,"__wrapped__"),v=f&&rI.call(e,"__wrapped__");if(y||v){var w=y?t.value():t,_=v?e.value():e;return o||(o=new mv),i(w,_,n,r,o)}}return h?(o||(o=new mv),dQ(t,e,n,r,i,o)):!1}var yQ=gQ,vQ=yQ,iI=Fi;function _L(t,e,n,r,i){return t===e?!0:t==null||e==null||!iI(t)&&!iI(e)?t!==t&&e!==e:vQ(t,e,n,r,_L,i)}var sE=_L,_Q=sL,xQ=sE,wQ=1,bQ=2;function EQ(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new _Q;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?xQ(c,u,wQ|bQ,r,f):h))return!1}}return!0}var TQ=EQ,SQ=Bo;function AQ(t){return t===t&&!SQ(t)}var xL=AQ,IQ=xL,CQ=Og;function PQ(t){for(var e=CQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,IQ(i)]}return e}var NQ=PQ;function kQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wL=kQ,RQ=TQ,MQ=NQ,OQ=wL;function DQ(t){var e=MQ(t);return e.length==1&&e[0][2]?OQ(e[0][0],e[0][1]):function(n){return n===t||RQ(n,t,e)}}var LQ=DQ;function $Q(t,e){return t!=null&&e in Object(t)}var VQ=$Q,UQ=PD,jQ=rE,FQ=Vn,BQ=iE,GQ=oE,qQ=_g;function zQ(t,e,n){e=UQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=qQ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&GQ(i)&&BQ(s,i)&&(FQ(t)||jQ(t)))}var HQ=zQ,WQ=VQ,KQ=HQ;function JQ(t,e){return t!=null&&KQ(t,e,WQ)}var YQ=JQ,XQ=sE,QQ=ND,ZQ=YQ,eZ=Ub,tZ=xL,nZ=wL,rZ=_g,iZ=1,oZ=2;function sZ(t,e){return eZ(t)&&tZ(e)?nZ(rZ(t),e):function(n){var r=QQ(n,t);return r===void 0&&r===e?ZQ(n,t):XQ(e,r,iZ|oZ)}}var aZ=sZ;function lZ(t){return t}var Jl=lZ;function uZ(t){return function(e){return e==null?void 0:e[t]}}var cZ=uZ,fZ=Hb;function dZ(t){return function(e){return fZ(e,t)}}var hZ=dZ,pZ=cZ,mZ=hZ,gZ=Ub,yZ=_g;function vZ(t){return gZ(t)?pZ(yZ(t)):mZ(t)}var _Z=vZ,xZ=LQ,wZ=aZ,bZ=Jl,EZ=Vn,TZ=_Z;function SZ(t){return typeof t=="function"?t:t==null?bZ:typeof t=="object"?EZ(t)?wZ(t[0],t[1]):xZ(t):TZ(t)}var Go=SZ;function AZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var bL=AZ;function IZ(t){return t!==t}var CZ=IZ;function PZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var NZ=PZ,kZ=bL,RZ=CZ,MZ=NZ;function OZ(t,e,n){return e===e?MZ(t,e,n):kZ(t,RZ,n)}var DZ=OZ,LZ=DZ;function $Z(t,e){var n=t==null?0:t.length;return!!n&&LZ(t,e,0)>-1}var VZ=$Z;function UZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jZ=UZ;function FZ(){}var BZ=FZ,gv=yL,GZ=BZ,qZ=nE,zZ=1/0,HZ=gv&&1/qZ(new gv([,-0]))[1]==zZ?function(t){return new gv(t)}:GZ,WZ=HZ,KZ=aL,JZ=VZ,YZ=jZ,XZ=uL,QZ=WZ,ZZ=nE,eee=200;function tee(t,e,n){var r=-1,i=JZ,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=YZ;else if(o>=eee){var u=e?null:QZ(t);if(u)return ZZ(u);s=!1,i=XZ,l=new KZ}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var nee=tee,ree=Go,iee=nee;function oee(t,e){return t&&t.length?iee(t,ree(e)):[]}var see=oee;const oI=rt(see);function EL(t,e,n){return e===!0?oI(t,n):Pe(e)?oI(t,e):t}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var aee=["ref"];function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SL(r.key),r)}}function uee(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cee(t,e,n){return e=Op(e),fee(t,TL()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function fee(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dee(t)}function dee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function Dg(t,e,n){return e=SL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SL(t){var e=pee(t,"string");return hl(e)=="symbol"?e:e+""}function pee(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mee(t,e){if(t==null)return{};var n=gee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yee(t){return t.value}function vee(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=mee(e,aee);return V.createElement(tE,n)}var lI=1,Ba=function(t){function e(){var n;lee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cee(this,e,[].concat(i)),Dg(n,"lastBoundingBox",{width:-1,height:-1}),n}return hee(e,t),uee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lI||Math.abs(i.height-this.lastBoundingBox.height)>lI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return si(si({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=si(si({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},vee(o,si(si({},this.props),{},{payload:EL(c,u,yee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=si(si({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&re(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Dg(Ba,"displayName","Legend");Dg(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uI=Gf,_ee=rE,xee=Vn,cI=uI?uI.isConcatSpreadable:void 0;function wee(t){return xee(t)||_ee(t)||!!(cI&&t&&t[cI])}var bee=wee,Eee=fL,Tee=bee;function AL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Tee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?AL(a,e-1,n,r,i):Eee(i,a):r||(i[i.length]=a)}return i}var IL=AL;function See(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Aee=See,Iee=Aee,Cee=Iee(),Pee=Cee,Nee=Pee,kee=Og;function Ree(t,e){return t&&Nee(t,e,kee)}var CL=Ree,Mee=zf;function Oee(t,e){return function(n,r){if(n==null)return n;if(!Mee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Dee=Oee,Lee=CL,$ee=Dee,Vee=$ee(Lee),aE=Vee,Uee=aE,jee=zf;function Fee(t,e){var n=-1,r=jee(t)?Array(t.length):[];return Uee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var PL=Fee;function Bee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Gee=Bee,fI=Fl;function qee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=fI(t),s=e!==void 0,a=e===null,l=e===e,u=fI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var zee=qee,Hee=zee;function Wee(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Hee(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Kee=Wee,yv=zb,Jee=Hb,Yee=Go,Xee=PL,Qee=Gee,Zee=pL,ete=Kee,tte=Jl,nte=Vn;function rte(t,e,n){e.length?e=yv(e,function(o){return nte(o)?function(s){return Jee(s,o.length===1?o[0]:o)}:o}):e=[tte];var r=-1;e=yv(e,Zee(Yee));var i=Xee(t,function(o,s,a){var l=yv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Qee(i,function(o,s){return ete(o,s,n)})}var ite=rte;function ote(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ste=ote,ate=ste,dI=Math.max;function lte(t,e,n){return e=dI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=dI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ate(t,this,a)}}var ute=lte;function cte(t){return function(){return t}}var fte=cte,dte=Hs,hte=function(){try{var t=dte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NL=hte,pte=fte,hI=NL,mte=Jl,gte=hI?function(t,e){return hI(t,"toString",{configurable:!0,enumerable:!1,value:pte(e),writable:!0})}:mte,yte=gte,vte=800,_te=16,xte=Date.now;function wte(t){var e=0,n=0;return function(){var r=xte(),i=_te-(r-n);if(n=r,i>0){if(++e>=vte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bte=wte,Ete=yte,Tte=bte,Ste=Tte(Ete),Ate=Ste,Ite=Jl,Cte=ute,Pte=Ate;function Nte(t,e){return Pte(Cte(t,e,Ite),t+"")}var kte=Nte,Rte=Fb,Mte=zf,Ote=iE,Dte=Bo;function Lte(t,e,n){if(!Dte(n))return!1;var r=typeof e;return(r=="number"?Mte(n)&&Ote(e,n.length):r=="string"&&e in n)?Rte(n[e],t):!1}var Lg=Lte,$te=IL,Vte=ite,Ute=kte,pI=Lg,jte=Ute(function(t,e){if(t==null)return[];var n=e.length;return n>1&&pI(t,e[0],e[1])?e=[]:n>2&&pI(e[0],e[1],e[2])&&(e=[e[0]]),Vte(t,$te(e,1),[])}),Fte=jte;const lE=rt(Fte);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function Bte(t,e){return Hte(t)||zte(t,e)||qte(t,e)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hte(t){if(Array.isArray(t))return t}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wte(t,e,n){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Jte(t,"string");return Bc(e)=="symbol"?e:e+""}function Jte(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var Xte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,w=e.label,_=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,T=function(){if(c&&c.length){var D={padding:0,margin:0},O=(h?lE(c,h):c).map(function(j,B){if(j.type==="none")return null;var G=vv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},a),W=j.formatter||f||Yte,U=j.value,K=j.name,Y=U,se=K;if(W&&Y!=null&&se!=null){var ee=W(U,K,j,B,c);if(Array.isArray(ee)){var le=Bte(ee,2);Y=le[0],se=le[1]}else Y=ee}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:G},Dt(se)?V.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Dt(se)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},Y),V.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},N=vv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=vv({margin:0},u),P=!De(w),S=P?w:"",C=Fe("recharts-default-tooltip",y),I=Fe("recharts-tooltip-label",v);P&&_&&c!==void 0&&c!==null&&(S=_(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",I_({className:C,style:N},R),V.createElement("p",{className:I,style:A},V.isValidElement(S)?S:"".concat(S)),T())};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function qd(t,e,n){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Zte(t,"string");return Gc(e)=="symbol"?e:e+""}function Zte(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Au="recharts-tooltip-wrapper",ene={visibility:"hidden"};function tne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Au,qd(qd(qd(qd({},"".concat(Au,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(Au,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(Au,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(Au,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function yI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&re(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,w=l[r]+u;return v>w?Math.max(c,l[r]):Math.max(f,l[r])}function nne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=yI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=yI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=nne({translateX:c,translateY:f,useTranslate3d:a})):u=ene,{cssProperties:u,cssClasses:tne({translateX:c,translateY:f,coordinate:n})}}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function one(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function sne(t,e,n){return e&&one(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ane(t,e,n){return e=Dp(e),lne(t,kL()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function lne(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return une(t)}function une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function P_(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=fne(t,"string");return pl(e)=="symbol"?e:e+""}function fne(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xI=1,dne=function(t){function e(){var n;ine(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ane(this,e,[].concat(i)),P_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return cne(e,t),sne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xI||Math.abs(r.height-this.state.lastBoundingBox.height)>xI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,w=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,T=rne({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:x}),N=T.cssClasses,A=T.cssProperties,P=_I(_I({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}($.PureComponent),hne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yl={isSsr:hne()};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function gne(t,e,n){return e&&mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yne(t,e,n){return e=Lp(e),vne(t,ML()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function vne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ne(t)}function _ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function xne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function uE(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=wne(t,"string");return ml(e)=="symbol"?e:e+""}function wne(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bne(t){return t.dataKey}function Ene(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(Xte,e)}var Ur=function(t){function e(){return pne(this,e),yne(this,e,arguments)}return xne(e,t),gne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,w=i.payloadUniqBy,_=i.position,x=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,A=v??[];f&&A.length&&(A=EL(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,bne));var P=A.length>0;return V.createElement(dne,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:_,reverseDirection:x,useTranslate3d:b,viewBox:T,wrapperStyle:N},Ene(u,bI(bI({},this.props),{},{payload:A})))}}])}($.PureComponent);uE(Ur,"displayName","Tooltip");uE(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Tne=ti,Sne=function(){return Tne.Date.now()},Ane=Sne,Ine=/\s/;function Cne(t){for(var e=t.length;e--&&Ine.test(t.charAt(e)););return e}var Pne=Cne,Nne=Pne,kne=/^\s+/;function Rne(t){return t&&t.slice(0,Nne(t)+1).replace(kne,"")}var Mne=Rne,One=Mne,EI=Bo,Dne=Fl,TI=NaN,Lne=/^[-+]0x[0-9a-f]+$/i,$ne=/^0b[01]+$/i,Vne=/^0o[0-7]+$/i,Une=parseInt;function jne(t){if(typeof t=="number")return t;if(Dne(t))return TI;if(EI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=EI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=One(t);var n=$ne.test(t);return n||Vne.test(t)?Une(t.slice(2),n?2:8):Lne.test(t)?TI:+t}var DL=jne,Fne=Bo,_v=Ane,SI=DL,Bne="Expected a function",Gne=Math.max,qne=Math.min;function zne(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Bne);e=SI(e)||0,Fne(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Gne(SI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var S=r,C=i;return r=i=void 0,u=P,s=t.apply(C,S),s}function v(P){return u=P,a=setTimeout(x,e),c?y(P):s}function w(P){var S=P-l,C=P-u,I=e-S;return f?qne(I,o-C):I}function _(P){var S=P-l,C=P-u;return l===void 0||S>=e||S<0||f&&C>=o}function x(){var P=_v();if(_(P))return b(P);a=setTimeout(x,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(_v())}function A(){var P=_v(),S=_(P);if(r=arguments,i=this,l=P,S){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(x,e),y(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=T,A.flush=N,A}var Hne=zne,Wne=Hne,Kne=Bo,Jne="Expected a function";function Yne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Jne);return Kne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wne(t,e,{leading:r,maxWait:e,trailing:i})}var Xne=Yne;const LL=rt(Xne);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return e=Zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return qc(e)=="symbol"?e:e+""}function ere(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tre(t,e){return ore(t)||ire(t,e)||rre(t,e)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(t,e){if(t){if(typeof t=="string")return II(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(t,e)}}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ore(t){if(Array.isArray(t))return t}var sre=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,w=v===void 0?0:v,_=t.id,x=t.className,b=t.onResize,T=t.style,N=T===void 0?{}:T,A=$.useRef(null),P=$.useRef();P.current=b,$.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),C=tre(S,2),I=C[0],R=C[1],M=$.useCallback(function(O,j){R(function(B){var G=Math.round(O),W=Math.round(j);return B.containerWidth===G&&B.containerHeight===W?B:{containerWidth:G,containerHeight:W}})},[]);$.useEffect(function(){var O=function(K){var Y,se=K[0].contentRect,ee=se.width,le=se.height;M(ee,le),(Y=P.current)===null||Y===void 0||Y.call(P,ee,le)};w>0&&(O=LL(O,w,{trailing:!0,leading:!1}));var j=new ResizeObserver(O),B=A.current.getBoundingClientRect(),G=B.width,W=B.height;return M(G,W),j.observe(A.current),function(){j.disconnect()}},[M,w]);var D=$.useMemo(function(){var O=I.containerWidth,j=I.containerHeight;if(O<0||j<0)return null;xi(ps(s)||ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),xi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ps(s)?O:s,G=ps(l)?j:l;n&&n>0&&(B?G=B/n:G&&(B=G*n),h&&G>h&&(G=h)),xi(B>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,G,s,l,c,f,n);var W=!Array.isArray(y)&&_i(y.type).endsWith("Chart");return V.Children.map(y,function(U){return V.isValidElement(U)?$.cloneElement(U,zd({width:B,height:G},W?{style:zd({height:"100%",width:"100%",maxHeight:G,maxWidth:B},U.props.style)}:{})):U})},[n,y,l,h,f,c,I,s]);return V.createElement("div",{id:_?"".concat(_):void 0,className:Fe("recharts-responsive-container",x),style:zd(zd({},N),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},D)}),$L=function(e){return null};$L.displayName="Cell";function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e,n){return e=lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=ure(t,"string");return zc(e)=="symbol"?e:e+""}function ure(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},cre=2e3,fre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PI="recharts_measurement_span";function dre(t){var e=k_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ac=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yl.isSsr)return{width:0,height:0};var r=dre(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(PI);o||(o=document.createElement("span"),o.setAttribute("id",PI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=k_(k_({},fre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>cre&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},hre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function $p(t,e){return yre(t)||gre(t,e)||mre(t,e)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function yre(t){if(Array.isArray(t))return t}function vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xre(r.key),r)}}function _re(t,e,n){return e&&kI(t.prototype,e),n&&kI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xre(t){var e=wre(t,"string");return Hc(e)=="symbol"?e:e+""}function wre(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ere=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tre=Object.keys(VL),Ta="NaN";function Sre(t,e){return t*VL[e]}var Hd=function(){function t(e,n){vre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bre.test(n)&&(this.num=NaN,this.unit=""),Tre.includes(n)&&(this.num=Sre(e,n),this.unit="px")}return _re(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ere.exec(n))!==null&&r!==void 0?r:[],o=$p(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function UL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=RI.exec(e))!==null&&n!==void 0?n:[],i=$p(r,4),o=i[1],s=i[2],a=i[3],l=Hd.parse(o??""),u=Hd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace(RI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=MI.exec(e))!==null&&f!==void 0?f:[],y=$p(h,4),v=y[1],w=y[2],_=y[3],x=Hd.parse(v??""),b=Hd.parse(_??""),T=w==="+"?x.add(b):x.subtract(b);if(T.isNaN())return Ta;e=e.replace(MI,T.toString())}return e}var OI=/\(([^()]*)\)/;function Are(t){for(var e=t;e.includes("(");){var n=OI.exec(e),r=$p(n,2),i=r[1];e=e.replace(OI,UL(i))}return e}function Ire(t){var e=t.replace(/\s+/g,"");return e=Are(e),e=UL(e),e}function Cre(t){try{return Ire(t)}catch{return Ta}}function xv(t){var e=Cre(t.slice(5,-1));return e===Ta?"":e}var Pre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nre=["dx","dy","angle","className","breakAll"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function DI(t,e){if(t==null)return{};var n=kre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LI(t,e){return Dre(t)||Ore(t,e)||Mre(t,e)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Dre(t){if(Array.isArray(t))return t}var jL=/[ \f\n\r\t\v\u2028\u2029]+/,FL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];De(n)||(r?o=n.toString().split(""):o=n.toString().split(jL));var s=o.map(function(l){return{word:l,width:ac(l,i).width}}),a=r?0:ac("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Lre=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=re(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(G,W){var U=W.word,K=W.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+K+r<Number(i)))Y.words.push(U),Y.width+=K+r;else{var se={words:[U],width:K};G.push(se)}return G},[])},y=h(n),v=function(B){return B.reduce(function(G,W){return G.width>W.width?G:W})};if(!c)return y;for(var w="",_=function(B){var G=f.slice(0,B),W=FL({breakAll:u,style:l,children:G+w}).wordsWithComputedWidth,U=h(W),K=U.length>s||v(U).width>Number(i);return[K,U]},x=0,b=f.length-1,T=0,N;x<=b&&T<=f.length-1;){var A=Math.floor((x+b)/2),P=A-1,S=_(P),C=LI(S,2),I=C[0],R=C[1],M=_(A),D=LI(M,1),O=D[0];if(!I&&!O&&(x=A+1),I&&O&&(b=A-1),!I&&O){N=R;break}T++}return N||y},VI=function(e){var n=De(e)?[]:e.toString().split(jL);return[{words:n}]},$re=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Yl.isSsr){var l,u,c=FL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return VI(i);return Lre({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return VI(i)},UI="#808080",Vp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,w=v===void 0?"end":v,_=e.fill,x=_===void 0?UI:_,b=DI(e,Pre),T=$.useMemo(function(){return $re({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,S=b.className,C=b.breakAll,I=DI(b,Nre);if(!Dt(r)||!Dt(o))return null;var R=r+(re(N)?N:0),M=o+(re(A)?A:0),D;switch(w){case"start":D=xv("calc(".concat(u,")"));break;case"middle":D=xv("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=xv("calc(".concat(T.length-1," * -").concat(a,")"));break}var O=[];if(f){var j=T[0].width,B=b.width;O.push("scale(".concat((re(B)?B/j:1)/j,")"))}return P&&O.push("rotate(".concat(P,", ").concat(R,", ").concat(M,")")),O.length&&(I.transform=O.join(" ")),V.createElement("text",R_({},Re(I,!0),{x:R,y:M,className:Fe("recharts-text",S),textAnchor:y,fill:x.includes("url")?UI:x}),T.map(function(G,W){var U=G.words.join(C?"":" ");return V.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(U,"-").concat(W)},U)}))};function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cE(t){let e,n,r;t.length!==2?(e=Po,n=(a,l)=>Po(t(a),l),r=(a,l)=>t(a)-l):(e=t===Po||t===Vre?t:Ure,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Ure(){return 0}function BL(t){return t===null?NaN:+t}function*jre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fre=cE(Po),Hf=Fre.right;cE(BL).center;class jI extends Map{constructor(e,n=qre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FI(this,e))}has(e){return super.has(FI(this,e))}set(e,n){return super.set(Bre(this,e),n)}delete(e){return super.delete(Gre(this,e))}}function FI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zre(t=Po){if(t===Po)return GL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function GL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hre=Math.sqrt(50),Wre=Math.sqrt(10),Kre=Math.sqrt(2);function Up(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Hre?10:o>=Wre?5:o>=Kre?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Up(t,e,n*2):[a,l,u]}function M_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Up(e,t,n):Up(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function O_(t,e,n){return e=+e,t=+t,n=+n,Up(t,e,n)[2]}function D_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?O_(e,t,n):O_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?GL:zre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));qL(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(Iu(t,n,e),i(t[r],o)>0&&Iu(t,n,r);s<a;){for(Iu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Iu(t,n,a):(++a,Iu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Iu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jre(t,e,n){if(t=Float64Array.from(jre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GI(t);if(e>=1)return BI(t);var r,i=(r-1)*e,o=Math.floor(i),s=BI(qL(t,o).subarray(0,o+1)),a=GI(t.subarray(o+1));return s+(a-s)*(i-o)}}function Yre(t,e,n=BL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Xre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L_=Symbol("implicit");function fE(){var t=new jI,e=[],n=[],r=L_;function i(o){let s=t.get(o);if(s===void 0){if(r!==L_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new jI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fE(e,n).unknown(r)},vr.apply(i,arguments),i}function Wc(){var t=fE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,w=y?r:i;o=(w-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(w-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var _=Xre(h).map(function(x){return v+o*x});return n(y?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Wc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},vr.apply(f(),arguments)}function zL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zL(e())},t}function lc(){return zL(Wc.apply(null,arguments).paddingInner(1))}function dE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wf(){}var Kc=.7,jp=1/Kc,Ga="\\s*([+-]?\\d+)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qre=/^#([0-9a-f]{3,8})$/,Zre=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),eie=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),tie=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${Jc}\\)$`),nie=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Jc}\\)$`),rie=new RegExp(`^hsl\\(${Jc},${Yr},${Yr}\\)$`),iie=new RegExp(`^hsla\\(${Jc},${Yr},${Yr},${Jc}\\)$`),qI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dE(Wf,Yc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zI,formatHex:zI,formatHex8:oie,formatHsl:sie,formatRgb:HI,toString:HI});function zI(){return this.rgb().formatHex()}function oie(){return this.rgb().formatHex8()}function sie(){return WL(this).formatHsl()}function HI(){return this.rgb().formatRgb()}function Yc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WI(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zre.exec(t))?new On(e[1],e[2],e[3],1):(e=eie.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tie.exec(t))?Wd(e[1],e[2],e[3],e[4]):(e=nie.exec(t))?Wd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rie.exec(t))?YI(e[1],e[2]/100,e[3]/100,1):(e=iie.exec(t))?YI(e[1],e[2]/100,e[3]/100,e[4]):qI.hasOwnProperty(t)?WI(qI[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function WI(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Wd(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function aie(t){return t instanceof Wf||(t=Yc(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function $_(t,e,n,r){return arguments.length===1?aie(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dE(On,$_,HL(Wf,{brighter(t){return t=t==null?jp:Math.pow(jp,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kc:Math.pow(Kc,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(Es(this.r),Es(this.g),Es(this.b),Fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KI,formatHex:KI,formatHex8:lie,formatRgb:JI,toString:JI}));function KI(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function lie(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function JI(){const t=Fp(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function Fp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function YI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function WL(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof Wf||(t=Yc(t)),!t)return new Ar;if(t instanceof Ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ar(s,a,l,t.opacity)}function uie(t,e,n,r){return arguments.length===1?WL(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dE(Ar,uie,HL(Wf,{brighter(t){return t=t==null?jp:Math.pow(jp,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kc:Math.pow(Kc,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(wv(t>=240?t-240:t+120,i,r),wv(t,i,r),wv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar(XI(this.h),Kd(this.s),Kd(this.l),Fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fp(this.opacity);return`${t===1?"hsl(":"hsla("}${XI(this.h)}, ${Kd(this.s)*100}%, ${Kd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XI(t){return t=(t||0)%360,t<0?t+360:t}function Kd(t){return Math.max(0,Math.min(1,t||0))}function wv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hE=t=>()=>t;function cie(t,e){return function(n){return t+n*e}}function fie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function die(t){return(t=+t)==1?KL:function(e,n){return n-e?fie(e,n,t):hE(isNaN(e)?n:e)}}function KL(t,e){var n=e-t;return n?cie(t,n):hE(isNaN(t)?e:t)}const QI=function t(e){var n=die(e);function r(i,o){var s=n((i=$_(i)).r,(o=$_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=KL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function hie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function pie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Xl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function gie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var V_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bv=new RegExp(V_.source,"g");function vie(t){return function(){return t}}function _ie(t){return function(e){return t(e)+""}}function xie(t,e){var n=V_.lastIndex=bv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=V_.exec(t))&&(i=bv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Bp(r,i)})),n=bv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?_ie(l[0].x):vie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Xl(t,e){var n=typeof e,r;return e==null||n==="boolean"?hE(e):(n==="number"?Bp:n==="string"?(r=Yc(e))?(e=r,QI):xie:e instanceof Yc?QI:e instanceof Date?gie:pie(e)?hie:Array.isArray(e)?mie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yie:Bp)(t,e)}function pE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wie(t,e){e===void 0&&(e=t,t=Xl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function bie(t){return function(){return t}}function Gp(t){return+t}var ZI=[0,1];function bn(t){return t}function U_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bie(isNaN(e)?NaN:.5)}function Eie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Tie(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=U_(i,r),o=n(s,o)):(r=U_(r,i),o=n(o,s)),function(a){return o(r(a))}}function Sie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=U_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Hf(t,a,1,r)-1;return o[l](i[l](a))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $g(){var t=ZI,e=ZI,n=Xl,r,i,o,s=bn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==bn&&(s=Eie(t[0],t[h-1])),a=h>2?Sie:Tie,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Bp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Gp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=pE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:bn,c()):s!==bn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function mE(){return $g()(bn,bn)}function Aie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gl(t){return t=qp(Math.abs(t)),t?t[1]:NaN}function Iie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Cie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xc(t){if(!(e=Pie.exec(t)))throw new Error("invalid format: "+t);var e;return new gE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xc.prototype=gE.prototype;function gE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zp;function kie(t,e){var n=qp(t,e);if(!n)return zp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(zp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qp(t,Math.max(0,e+o-1))[0]}function eC(t,e){var n=qp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Aie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eC(t*100,e),r:eC,s:kie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nC(t){return t}var rC=Array.prototype.map,iC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rie(t){var e=t.grouping===void 0||t.thousands===void 0?nC:Iie(rC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?nC:Cie(rC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Xc(f);var y=f.fill,v=f.align,w=f.sign,_=f.symbol,x=f.zero,b=f.width,T=f.comma,N=f.precision,A=f.trim,P=f.type;P==="n"?(T=!0,P="g"):tC[P]||(N===void 0&&(N=12),A=!0,P="g"),(x||y==="0"&&v==="=")&&(x=!0,y="0",v="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(_==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=tC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M(D){var O=S,j=C,B,G,W;if(P==="c")j=I(D)+j,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=Nie(D)),U&&+D==0&&w!=="+"&&(U=!1),O=(U?w==="("?w:a:w==="-"||w==="("?"":w)+O,j=(P==="s"&&!isNaN(D)&&zp!==void 0?iC[8+zp/3]:"")+j+(U&&w==="("?")":""),R){for(B=-1,G=D.length;++B<G;)if(W=D.charCodeAt(B),48>W||W>57){j=(W===46?i+D.slice(B+1):D.slice(B))+j,D=D.slice(0,B);break}}}T&&!x&&(D=e(D,1/0));var K=O.length+D.length+j.length,Y=K<b?new Array(b-K+1).join(y):"";switch(T&&x&&(D=e(Y+D,Y.length?b-j.length:1/0),Y=""),v){case"<":D=O+D+j+Y;break;case"=":D=O+Y+D+j;break;case"^":D=Y.slice(0,K=Y.length>>1)+O+D+j+Y.slice(K);break;default:D=Y+O+D+j;break}return o(D)}return M.toString=function(){return f+""},M}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor(gl(h)/3)))*3,v=Math.pow(10,-y),w=u((f=Xc(f),f.type="f",f),{suffix:iC[8+y/3]});return function(_){return w(v*_)}}return{format:u,formatPrefix:c}}var Jd,yE,JL;Mie({thousands:",",grouping:[3],currency:["$",""]});function Mie(t){return Jd=Rie(t),yE=Jd.format,JL=Jd.formatPrefix,Jd}function Oie(t){return Math.max(0,-gl(Math.abs(t)))}function Die(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(e)/3)))*3-gl(Math.abs(t)))}function Lie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gl(e)-gl(t))+1}function YL(t,e,n,r){var i=D_(t,e,n),o;switch(r=Xc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Die(i,s))&&(r.precision=o),JL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Lie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Oie(i))&&(r.precision=o-(r.type==="%")*2);break}}return yE(r)}function qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return M_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return YL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=O_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Hp(){var t=mE();return t.copy=function(){return Kf(t,Hp())},vr.apply(t,arguments),qo(t)}function XL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XL(t).unknown(e)},t=arguments.length?Array.from(t,Gp):[0,1],qo(n)}function QL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function oC(t){return Math.log(t)}function sC(t){return Math.exp(t)}function $ie(t){return-Math.log(-t)}function Vie(t){return-Math.exp(-t)}function Uie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jie(t){return t===10?Uie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function aC(t){return(e,n)=>-t(-e,n)}function vE(t){const e=t(oC,sC),n=e.domain;let r=10,i,o;function s(){return i=Fie(r),o=jie(r),n()[0]<0?(i=aC(i),o=aC(o),t($ie,Vie)):t(oC,sC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,w;const _=a==null?10:+a;let x=[];if(!(r%1)&&y-h<_){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(w=h<0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;x.push(w)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(w=h>0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;x.push(w)}x.length*2<_&&(x=M_(u,c,_))}else x=M_(h,y,Math.min(y-h,_)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xc(l)).precision==null&&(l.trim=!0),l=yE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(QL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function ZL(){const t=vE($g()).domain([1,10]);return t.copy=()=>Kf(t,ZL()).base(t.base()),vr.apply(t,arguments),t}function lC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _E(t){var e=1,n=t(lC(e),uC(e));return n.constant=function(r){return arguments.length?t(lC(e=+r),uC(e)):e},qo(n)}function e$(){var t=_E($g());return t.copy=function(){return Kf(t,e$()).constant(t.constant())},vr.apply(t,arguments)}function cC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gie(t){return t<0?-t*t:t*t}function xE(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(Bie,Gie):t(cC(n),cC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(e)}function wE(){var t=xE($g());return t.copy=function(){return Kf(t,wE()).exponent(t.exponent())},vr.apply(t,arguments),t}function qie(){return wE.apply(null,arguments).exponent(.5)}function fC(t){return Math.sign(t)*t*t}function zie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function t$(){var t=mE(),e=[0,1],n=!1,r;function i(o){var s=zie(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(fC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Gp)).map(fC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return t$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),qo(i)}function n$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Yre(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Hf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Po),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return n$().domain(t).range(e).unknown(r)},vr.apply(o,arguments)}function r$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Hf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return r$().domain([t,e]).range(i).unknown(o)},vr.apply(qo(s),arguments)}function i$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return i$().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const Ev=new Date,Tv=new Date;function $t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>$t(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Ev.setTime(+o),Tv.setTime(+s),t(Ev),t(Tv),Math.floor(n(Ev,Tv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Wp=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wp);Wp.range;const mi=1e3,ar=mi*60,gi=ar*60,Ri=gi*24,bE=Ri*7,dC=Ri*30,Sv=Ri*365,gs=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCSeconds());gs.range;const EE=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());EE.range;const TE=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());TE.range;const SE=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getHours());SE.range;const AE=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCHours());AE.range;const Jf=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Ri,t=>t.getDate()-1);Jf.range;const Vg=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ri,t=>t.getUTCDate()-1);Vg.range;const o$=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ri,t=>Math.floor(t/Ri));o$.range;function Ws(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/bE)}const Ug=Ws(0),Kp=Ws(1),Hie=Ws(2),Wie=Ws(3),yl=Ws(4),Kie=Ws(5),Jie=Ws(6);Ug.range;Kp.range;Hie.range;Wie.range;yl.range;Kie.range;Jie.range;function Ks(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bE)}const jg=Ks(0),Jp=Ks(1),Yie=Ks(2),Xie=Ks(3),vl=Ks(4),Qie=Ks(5),Zie=Ks(6);jg.range;Jp.range;Yie.range;Xie.range;vl.range;Qie.range;Zie.range;const IE=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IE.range;const CE=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CE.range;const Mi=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mi.range;const Oi=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Oi.range;function s$(t,e,n,r,i,o){const s=[[gs,1,mi],[gs,5,5*mi],[gs,15,15*mi],[gs,30,30*mi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,gi],[i,3,3*gi],[i,6,6*gi],[i,12,12*gi],[r,1,Ri],[r,2,2*Ri],[n,1,bE],[e,1,dC],[e,3,3*dC],[t,1,Sv]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=cE(([,,_])=>_).right(s,h);if(y===s.length)return t.every(D_(u/Sv,c/Sv,f));if(y===0)return Wp.every(Math.max(D_(u,c,f),1));const[v,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(w)}return[a,l]}const[eoe,toe]=s$(Oi,CE,jg,o$,AE,TE),[noe,roe]=s$(Mi,IE,Ug,Jf,SE,EE);function Av(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ioe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Pu(i),c=Nu(i),f=Pu(o),h=Nu(o),y=Pu(s),v=Nu(s),w=Pu(a),_=Nu(a),x=Pu(l),b=Nu(l),T={a:W,A:U,b:K,B:Y,c:null,d:vC,e:vC,f:Ioe,g:$oe,G:Uoe,H:Toe,I:Soe,j:Aoe,L:a$,m:Coe,M:Poe,p:se,q:ee,Q:wC,s:bC,S:Noe,u:koe,U:Roe,V:Moe,w:Ooe,W:Doe,x:null,X:null,y:Loe,Y:Voe,Z:joe,"%":xC},N={a:le,A:Ce,b:Ne,B:We,c:null,d:_C,e:_C,f:qoe,g:ese,G:nse,H:Foe,I:Boe,j:Goe,L:u$,m:zoe,M:Hoe,p:z,q:Ue,Q:wC,s:bC,S:Woe,u:Koe,U:Joe,V:Yoe,w:Xoe,W:Qoe,x:null,X:null,y:Zoe,Y:tse,Z:rse,"%":xC},A={a:R,A:M,b:D,B:O,c:j,d:gC,e:gC,f:xoe,g:mC,G:pC,H:yC,I:yC,j:goe,L:_oe,m:moe,M:yoe,p:I,q:poe,Q:boe,s:Eoe,S:voe,u:uoe,U:coe,V:foe,w:loe,W:doe,x:B,X:G,y:mC,Y:pC,Z:hoe,"%":woe};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(ie,ye){return function(_e){var Q=[],Le=-1,Ie=0,et=ie.length,X,me,Qe;for(_e instanceof Date||(_e=new Date(+_e));++Le<et;)ie.charCodeAt(Le)===37&&(Q.push(ie.slice(Ie,Le)),(me=hC[X=ie.charAt(++Le)])!=null?X=ie.charAt(++Le):me=X==="e"?" ":"0",(Qe=ye[X])&&(X=Qe(_e,me)),Q.push(X),Ie=Le+1);return Q.push(ie.slice(Ie,Le)),Q.join("")}}function S(ie,ye){return function(_e){var Q=Cu(1900,void 0,1),Le=C(Q,ie,_e+="",0),Ie,et;if(Le!=_e.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ye&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ie=Iv(Cu(Q.y,0,1)),et=Ie.getUTCDay(),Ie=et>4||et===0?Jp.ceil(Ie):Jp(Ie),Ie=Vg.offset(Ie,(Q.V-1)*7),Q.y=Ie.getUTCFullYear(),Q.m=Ie.getUTCMonth(),Q.d=Ie.getUTCDate()+(Q.w+6)%7):(Ie=Av(Cu(Q.y,0,1)),et=Ie.getDay(),Ie=et>4||et===0?Kp.ceil(Ie):Kp(Ie),Ie=Jf.offset(Ie,(Q.V-1)*7),Q.y=Ie.getFullYear(),Q.m=Ie.getMonth(),Q.d=Ie.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),et="Z"in Q?Iv(Cu(Q.y,0,1)).getUTCDay():Av(Cu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(et+5)%7:Q.w+Q.U*7-(et+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Iv(Q)):Av(Q)}}function C(ie,ye,_e,Q){for(var Le=0,Ie=ye.length,et=_e.length,X,me;Le<Ie;){if(Q>=et)return-1;if(X=ye.charCodeAt(Le++),X===37){if(X=ye.charAt(Le++),me=A[X in hC?ye.charAt(Le++):X],!me||(Q=me(ie,_e,Q))<0)return-1}else if(X!=_e.charCodeAt(Q++))return-1}return Q}function I(ie,ye,_e){var Q=u.exec(ye.slice(_e));return Q?(ie.p=c.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function R(ie,ye,_e){var Q=y.exec(ye.slice(_e));return Q?(ie.w=v.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function M(ie,ye,_e){var Q=f.exec(ye.slice(_e));return Q?(ie.w=h.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function D(ie,ye,_e){var Q=x.exec(ye.slice(_e));return Q?(ie.m=b.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function O(ie,ye,_e){var Q=w.exec(ye.slice(_e));return Q?(ie.m=_.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function j(ie,ye,_e){return C(ie,e,ye,_e)}function B(ie,ye,_e){return C(ie,n,ye,_e)}function G(ie,ye,_e){return C(ie,r,ye,_e)}function W(ie){return s[ie.getDay()]}function U(ie){return o[ie.getDay()]}function K(ie){return l[ie.getMonth()]}function Y(ie){return a[ie.getMonth()]}function se(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function le(ie){return s[ie.getUTCDay()]}function Ce(ie){return o[ie.getUTCDay()]}function Ne(ie){return l[ie.getUTCMonth()]}function We(ie){return a[ie.getUTCMonth()]}function z(ie){return i[+(ie.getUTCHours()>=12)]}function Ue(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=P(ie+="",T);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=S(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=P(ie+="",N);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=S(ie+="",!0);return ye.toString=function(){return ie},ye}}}var hC={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,ooe=/^%/,soe=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function aoe(t){return t.replace(soe,"\\$&")}function Pu(t){return new RegExp("^(?:"+t.map(aoe).join("|")+")","i")}function Nu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function loe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uoe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function coe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function foe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function doe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pC(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function poe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function moe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function goe(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yoe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function voe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function woe(t,e,n){var r=ooe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function boe(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vC(t,e){return qe(t.getDate(),e,2)}function Toe(t,e){return qe(t.getHours(),e,2)}function Soe(t,e){return qe(t.getHours()%12||12,e,2)}function Aoe(t,e){return qe(1+Jf.count(Mi(t),t),e,3)}function a$(t,e){return qe(t.getMilliseconds(),e,3)}function Ioe(t,e){return a$(t,e)+"000"}function Coe(t,e){return qe(t.getMonth()+1,e,2)}function Poe(t,e){return qe(t.getMinutes(),e,2)}function Noe(t,e){return qe(t.getSeconds(),e,2)}function koe(t){var e=t.getDay();return e===0?7:e}function Roe(t,e){return qe(Ug.count(Mi(t)-1,t),e,2)}function l$(t){var e=t.getDay();return e>=4||e===0?yl(t):yl.ceil(t)}function Moe(t,e){return t=l$(t),qe(yl.count(Mi(t),t)+(Mi(t).getDay()===4),e,2)}function Ooe(t){return t.getDay()}function Doe(t,e){return qe(Kp.count(Mi(t)-1,t),e,2)}function Loe(t,e){return qe(t.getFullYear()%100,e,2)}function $oe(t,e){return t=l$(t),qe(t.getFullYear()%100,e,2)}function Voe(t,e){return qe(t.getFullYear()%1e4,e,4)}function Uoe(t,e){var n=t.getDay();return t=n>=4||n===0?yl(t):yl.ceil(t),qe(t.getFullYear()%1e4,e,4)}function joe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function _C(t,e){return qe(t.getUTCDate(),e,2)}function Foe(t,e){return qe(t.getUTCHours(),e,2)}function Boe(t,e){return qe(t.getUTCHours()%12||12,e,2)}function Goe(t,e){return qe(1+Vg.count(Oi(t),t),e,3)}function u$(t,e){return qe(t.getUTCMilliseconds(),e,3)}function qoe(t,e){return u$(t,e)+"000"}function zoe(t,e){return qe(t.getUTCMonth()+1,e,2)}function Hoe(t,e){return qe(t.getUTCMinutes(),e,2)}function Woe(t,e){return qe(t.getUTCSeconds(),e,2)}function Koe(t){var e=t.getUTCDay();return e===0?7:e}function Joe(t,e){return qe(jg.count(Oi(t)-1,t),e,2)}function c$(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function Yoe(t,e){return t=c$(t),qe(vl.count(Oi(t),t)+(Oi(t).getUTCDay()===4),e,2)}function Xoe(t){return t.getUTCDay()}function Qoe(t,e){return qe(Jp.count(Oi(t)-1,t),e,2)}function Zoe(t,e){return qe(t.getUTCFullYear()%100,e,2)}function ese(t,e){return t=c$(t),qe(t.getUTCFullYear()%100,e,2)}function tse(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function nse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function rse(){return"+0000"}function xC(){return"%"}function wC(t){return+t}function bC(t){return Math.floor(+t/1e3)}var oa,f$,d$;ise({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ise(t){return oa=ioe(t),f$=oa.format,oa.parse,d$=oa.utcFormat,oa.utcParse,oa}function ose(t){return new Date(t)}function sse(t){return t instanceof Date?+t:+new Date(+t)}function PE(t,e,n,r,i,o,s,a,l,u){var c=mE(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),w=u("%I:%M"),_=u("%I %p"),x=u("%a %d"),b=u("%b %d"),T=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?v:s(P)<P?w:o(P)<P?_:r(P)<P?i(P)<P?x:b:n(P)<P?T:N)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,sse)):h().map(ose)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(QL(S,P)):c},c.copy=function(){return Kf(c,PE(t,e,n,r,i,o,s,a,l,u))},c}function ase(){return vr.apply(PE(noe,roe,Mi,IE,Ug,Jf,SE,EE,gs,f$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lse(){return vr.apply(PE(eoe,toe,Oi,CE,jg,Vg,AE,TE,gs,d$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fg(){var t=0,e=1,n,r,i,o,s=bn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Xl),u.rangeRound=c(pE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function h$(){var t=qo(Fg()(bn));return t.copy=function(){return zo(t,h$())},Bi.apply(t,arguments)}function p$(){var t=vE(Fg()).domain([1,10]);return t.copy=function(){return zo(t,p$()).base(t.base())},Bi.apply(t,arguments)}function m$(){var t=_E(Fg());return t.copy=function(){return zo(t,m$()).constant(t.constant())},Bi.apply(t,arguments)}function NE(){var t=xE(Fg());return t.copy=function(){return zo(t,NE()).exponent(t.exponent())},Bi.apply(t,arguments)}function use(){return NE.apply(null,arguments).exponent(.5)}function g$(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Jre(t,o/r))},n.copy=function(){return g$(e).domain(t)},Bi.apply(n,arguments)}function Bg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=bn,c,f=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(f?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(f=!!w,y):f},y.interpolator=function(w){return arguments.length?(u=w,y):u};function v(w){return function(_){var x,b,T;return arguments.length?([x,b,T]=_,u=wie(w,[x,b,T]),y):[u(0),u(.5),u(1)]}}return y.range=v(Xl),y.rangeRound=v(pE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function y$(){var t=qo(Bg()(bn));return t.copy=function(){return zo(t,y$())},Bi.apply(t,arguments)}function v$(){var t=vE(Bg()).domain([.1,1,10]);return t.copy=function(){return zo(t,v$()).base(t.base())},Bi.apply(t,arguments)}function _$(){var t=_E(Bg());return t.copy=function(){return zo(t,_$()).constant(t.constant())},Bi.apply(t,arguments)}function kE(){var t=xE(Bg());return t.copy=function(){return zo(t,kE()).exponent(t.exponent())},Bi.apply(t,arguments)}function cse(){return kE.apply(null,arguments).exponent(.5)}const EC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wc,scaleDiverging:y$,scaleDivergingLog:v$,scaleDivergingPow:kE,scaleDivergingSqrt:cse,scaleDivergingSymlog:_$,scaleIdentity:XL,scaleImplicit:L_,scaleLinear:Hp,scaleLog:ZL,scaleOrdinal:fE,scalePoint:lc,scalePow:wE,scaleQuantile:n$,scaleQuantize:r$,scaleRadial:t$,scaleSequential:h$,scaleSequentialLog:p$,scaleSequentialPow:NE,scaleSequentialQuantile:g$,scaleSequentialSqrt:use,scaleSequentialSymlog:m$,scaleSqrt:qie,scaleSymlog:e$,scaleThreshold:i$,scaleTime:ase,scaleUtc:lse,tickFormat:YL},Symbol.toStringTag,{value:"Module"}));var fse=Fl;function dse(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!fse(s):n(s,a)))var a=s,l=o}return l}var x$=dse;function hse(t,e){return t>e}var pse=hse,mse=x$,gse=pse,yse=Jl;function vse(t){return t&&t.length?mse(t,yse,gse):void 0}var _se=vse;const ho=rt(_se);function xse(t,e){return t<e}var wse=xse,bse=x$,Ese=wse,Tse=Jl;function Sse(t){return t&&t.length?bse(t,Tse,Ese):void 0}var Ase=Sse;const Gg=rt(Ase);var Ise=zb,Cse=Go,Pse=PL,Nse=Vn;function kse(t,e){var n=Nse(t)?Ise:Pse;return n(t,Cse(e))}var Rse=kse,Mse=IL,Ose=Rse;function Dse(t,e){return Mse(Ose(t,e),1)}var Lse=Dse;const $se=rt(Lse);var Vse=sE;function Use(t,e){return Vse(t,e)}var jse=Use;const Qc=rt(jse);var Ql=1e9,Fse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ME,ht=!0,mr="[DecimalError] ",Ts=mr+"Invalid argument: ",RE=mr+"Exponent out of range: ",Zl=Math.floor,ls=Math.pow,Bse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,Ft=1e7,ct=7,w$=9007199254740991,Yp=Zl(w$/ct),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return wi(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return nt(wi(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return Pt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new r(0):(ht=!1,e=wi(Zc(n,o),Zc(t,o),o),ht=!0,nt(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T$(e,t):b$(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(mr+"NaN");return n.s?(ht=!1,e=wi(n,t,0,1).times(t),ht=!0,n.minus(e)):nt(new r(n),i)};he.naturalExponential=he.exp=function(){return E$(this)};he.naturalLogarithm=he.ln=function(){return Zc(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b$(e,t):T$(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=Pt(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(mr+"NaN")}for(t=Pt(a),ht=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Fr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(wi(a,o,s+2)).times(.5),Fr(o.d).slice(0,s)===(e=Fr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(nt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ht=!0,nt(r,n)};he.times=he.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ft|0,e=a/Ft|0;o[i]=(o[i]+e)%Ft|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ht?nt(t,f.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Zr(t,0,Ql),e===void 0?e=r.rounding:Zr(e,0,8),nt(n,t+Pt(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vs(r,!0):(Zr(t,0,Ql),e===void 0?e=i.rounding:Zr(e,0,8),r=nt(new i(r),t+1,e),n=Vs(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Vs(i):(Zr(t,0,Ql),e===void 0?e=o.rounding:Zr(e,0,8),r=nt(new o(i),t+Pt(i)+1,e),n=Vs(r.abs(),!1,t+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return nt(new e(t),Pt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(zn);if(a=new l(a),!a.s){if(t.s<1)throw Error(mr+"Infinity");return a}if(a.eq(zn))return a;if(r=l.precision,t.eq(zn))return nt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=w$){for(i=new l(zn),e=Math.ceil(r/ct+4),ht=!1;n%2&&(i=i.times(a),SC(i.d,e)),n=Zl(n/2),n!==0;)a=a.times(a),SC(a.d,e);return ht=!0,t.s<0?new l(zn).div(i):nt(i,r)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ht=!1,i=t.times(Zc(a,r+u)),ht=!0,i=E$(i),i.s=o,i};he.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Pt(i),r=Vs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Zr(t,1,Ql),e===void 0?e=o.rounding:Zr(e,0,8),i=nt(new o(i),t,e),n=Pt(i),r=Vs(i,t<=n||n<=o.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Zr(t,1,Ql),e===void 0?e=r.rounding:Zr(e,0,8)),nt(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),n=t.constructor;return Vs(t,e<=n.toExpNeg||e>=n.toExpPos)};function b$(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ht?nt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/ct),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ft|0,l[o]%=Ft;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ht?nt(e,f):e}function Zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Fr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=ct-r.length,n&&(o+=to(n)),o+=r;s=t[e],r=s+"",n=ct-r.length,n&&(o+=to(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var wi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ft|0,s=o/Ft|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,w,_,x,b,T,N,A,P,S,C,I=r.constructor,R=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(mr+"Division by zero");for(l=r.e-i.e,S=D.length,A=M.length,y=new I(R),v=y.d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(Pt(r)-Pt(i))+1:b=o,b<0)return new I(0);if(b=b/ct+2|0,u=0,S==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)T=c*Ft+(M[u]||0),v[u]=T/D|0,c=T%D|0;else{for(c=Ft/(D[0]+1)|0,c>1&&(D=t(D,c),M=t(M,c),S=D.length,A=M.length),N=S,w=M.slice(0,S),_=w.length;_<S;)w[_++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=Ft/2&&++P;do c=0,a=e(D,w,S,_),a<0?(x=w[0],S!=_&&(x=x*Ft+(w[1]||0)),c=x/P|0,c>1?(c>=Ft&&(c=Ft-1),f=t(D,c),h=f.length,_=w.length,a=e(f,w,h,_),a==1&&(c--,n(f,S<h?C:D,h))):(c==0&&(a=c=1),f=D.slice()),h=f.length,h<_&&f.unshift(0),n(w,f,_),a==-1&&(_=w.length,a=e(D,w,S,_),a<1&&(c++,n(w,S<_?C:D,_))),_=w.length):a===0&&(c++,w=[0]),v[u++]=c,a&&w[0]?w[_++]=M[N]||0:(w=[M[N]],_=1);while((N++<A||w[0]!==void 0)&&b--)}return v[0]||v.shift(),y.e=l,nt(y,s?o+Pt(y)+1:o)}}();function E$(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Pt(t)>16)throw Error(RE+Pt(t));if(!t.s)return new c(zn);for(ht=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(zn),c.precision=a;;){if(i=nt(i.times(t),a),n=n.times(++l),s=o.plus(wi(i,n,a)),Fr(s.d).slice(0,a)===Fr(o.d).slice(0,a)){for(;u--;)o=nt(o.times(o),a);return c.precision=f,e==null?(ht=!0,nt(o,f)):o}o=s}}function Pt(t){for(var e=t.e*ct,n=t.d[0];n>=10;n/=10)e++;return e}function Cv(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(mr+"LN10 precision limit exceeded");return nt(new t(t.LN10),e)}function to(t){for(var e="";t--;)e+="0";return e}function Zc(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,w=y.constructor,_=w.precision;if(y.s<1)throw Error(mr+(y.s?"NaN":"-Infinity"));if(y.eq(zn))return new w(0);if(e==null?(ht=!1,u=_):u=e,y.eq(10))return e==null&&(ht=!0),Cv(w,u);if(u+=h,w.precision=u,n=Fr(v),r=n.charAt(0),o=Pt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Fr(y.d),r=n.charAt(0),f++;o=Pt(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=Cv(w,u+2,_).times(o+""),y=Zc(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=_,e==null?(ht=!0,nt(y,_)):y;for(a=s=y=wi(y.minus(zn),y.plus(zn),u),c=nt(y.times(y),u),i=3;;){if(s=nt(s.times(c),u),l=a.plus(wi(s,new w(i),u)),Fr(l.d).slice(0,u)===Fr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Cv(w,u+2,_).times(o+""))),a=wi(a,new w(f),u),w.precision=_,e==null?(ht=!0,nt(a,_)):a;a=l,i+=2}}function TC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zl(n/ct),t.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ct;r<i;)t.d.push(+e.slice(r,r+=ct));e=e.slice(r),r=ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>Yp||t.e<-Yp))throw Error(RE+n)}else t.s=0,t.e=0,t.d=[0];return t}function nt(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=ct,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ct),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=ct,i=r-ct+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Pt(t),f.length=1,e=e-o-1,f[0]=ls(10,(ct-e%ct)%ct),t.e=Zl(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ls(10,ct-r),f[c]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ft&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ft)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ht&&(t.e>Yp||t.e<-Yp))throw Error(RE+Pt(t));return t}function T$(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?nt(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/ct),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ft-1;--l[o],l[i]+=Ft}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?nt(e,y):e):new h(0)}function Vs(t,e,n){var r,i=Pt(t),o=Fr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+to(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+to(-i-1)+o,n&&(r=n-s)>0&&(o+=to(r))):i>=s?(o+=to(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+to(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=to(r))),t.s<0?"-"+o:o}function SC(t,e){if(t.length>e)return t.length=e,!0}function S$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return TC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Bse.test(o))TC(s,o);else throw Error(Ts+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S$,i.config=i.set=Gse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Gse(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,n,r,i=["precision",1,Ql,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var ME=S$(Fse);zn=new ME(1);const Ze=ME;function qse(t){return Kse(t)||Wse(t)||Hse(t)||zse()}function zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hse(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function Wse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Kse(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jse=function(e){return e},A$={},I$=function(e){return e===A$},AC=function(e){return function n(){return arguments.length===0||arguments.length===1&&I$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Yse=function t(e,n){return e===1?n:AC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==A$}).length;return s>=e?n.apply(void 0,i):t(e-s,AC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return I$(f)?l.shift():f});return n.apply(void 0,qse(c).concat(l))}))})},qg=function(e){return Yse(e.length,e)},F_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Xse=qg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Qse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jse;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},B_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Zse(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function eae(t,e,n){for(var r=new Ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var tae=qg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),nae=qg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),rae=qg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const zg={rangeStep:eae,getDigitCount:Zse,interpolateNumber:tae,uninterpolateNumber:nae,uninterpolateTruncation:rae};function G_(t){return sae(t)||oae(t)||P$(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sae(t){if(Array.isArray(t))return q_(t)}function ef(t,e){return uae(t)||lae(t,e)||P$(t,e)||aae()}function aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function uae(t){if(Array.isArray(t))return t}function N$(t){var e=ef(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function k$(t,e,n){if(t.lte(0))return new Ze(0);var r=zg.getDigitCount(t.toNumber()),i=new Ze(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ze(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ze(Math.ceil(l))}function cae(t,e,n){var r=1,i=new Ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ze(10).pow(zg.getDigitCount(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));var s=Math.floor((e-1)/2),a=Qse(Xse(function(l){return i.add(new Ze(l-s).mul(r)).toNumber()}),F_);return a(0,e)}function R$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=k$(new Ze(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ze(0):(s=new Ze(t).add(e).div(2),s=s.sub(new Ze(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ze(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?R$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ze(a).mul(o)),tickMax:s.add(new Ze(l).mul(o))})}function fae(t){var e=ef(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=N$([n,r]),l=ef(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(G_(F_(0,i-1).map(function(){return 1/0}))):[].concat(G_(F_(0,i-1).map(function(){return-1/0})),[c]);return n>r?B_(f):f}if(u===c)return cae(u,i,o);var h=R$(u,c,s,o),y=h.step,v=h.tickMin,w=h.tickMax,_=zg.rangeStep(v,w.add(new Ze(.1).mul(y)),y);return n>r?B_(_):_}function dae(t,e){var n=ef(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=N$([r,i]),a=ef(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=k$(new Ze(u).sub(l).div(c-1),o,0),h=[].concat(G_(zg.rangeStep(new Ze(l),new Ze(u).sub(new Ze(.99).mul(f)),f)),[u]);return r>i?B_(h):h}var hae=C$(fae),pae=C$(dae),mae="Invariant failed";function Us(t,e){throw new Error(mae)}var gae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function yae(t,e){return wae(t)||xae(t,e)||_ae(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wae(t){if(Array.isArray(t))return t}function bae(t,e){if(t==null)return{};var n=Eae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function Aae(t,e,n){return e&&Sae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iae(t,e,n){return e=Qp(e),Cae(t,M$()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Cae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pae(t)}function Pae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Nae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function O$(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=kae(t,"string");return _l(e)=="symbol"?e:e+""}function kae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hg=function(t){function e(){return Tae(this,e),Iae(this,e,arguments)}return Nae(e,t),Aae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=bae(r,gae),y=Re(h,!1);this.props.direction==="x"&&c.type!=="number"&&Us();var v=l.map(function(w){var _=u(w,a),x=_.x,b=_.y,T=_.value,N=_.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var C=yae(N,2);P=C[0],S=C[1]}else P=S=N;if(o==="vertical"){var I=c.scale,R=b+i,M=R+s,D=R-s,O=I(T-P),j=I(T+S);A.push({x1:j,y1:M,x2:j,y2:D}),A.push({x1:O,y1:R,x2:j,y2:R}),A.push({x1:O,y1:M,x2:O,y2:D})}else if(o==="horizontal"){var B=f.scale,G=x+i,W=G-s,U=G+s,K=B(T-P),Y=B(T+S);A.push({x1:W,y1:Y,x2:U,y2:Y}),A.push({x1:G,y1:K,x2:G,y2:Y}),A.push({x1:W,y1:K,x2:U,y2:K})}return V.createElement(gt,Xp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},y),A.map(function(se){return V.createElement("line",Xp({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return V.createElement(gt,{className:"recharts-errorBars"},v)}}])}(V.Component);O$(Hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});O$(Hg,"displayName","ErrorBar");function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return e=Mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Oae(t,"string");return tf(e)=="symbol"?e:e+""}function Oae(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=qn(n,Ba);if(!s)return null;var a=Ba.defaultProps,l=a!==void 0?ns(ns({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?ns(ns({},h),f.props):{},v=y.dataKey,w=y.name,_=y.legendType,x=y.hide;return{inactive:x,dataKey:v,type:l.iconType||_||"square",color:OE(f),value:w||v,payload:y}}),ns(ns(ns({},l),Ba.getWithHeight(s,i)),{},{payload:u,item:s})};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function PC(t){return Vae(t)||$ae(t)||Lae(t)||Dae()}function Dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lae(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function $ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vae(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){qa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qa(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=jae(t,"string");return nf(e)=="symbol"?e:e+""}function jae(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return De(t)||De(e)?n:Dt(e)?fr(t,e,n):Pe(e)?e(t):n}function uc(t,e,n,r){var i=$se(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return re(a)||parseFloat(a)});return o.length?[Gg(o),ho(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!De(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var Fae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Ir(f-c)!==Ir(h-f)){var v=[];if(Ir(h-f)===Ir(l[1]-l[0])){y=h;var w=f+l[1]-l[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{y=c;var _=h+l[1]-l[0];v[0]=Math.min(f,(_+f)/2),v[1]=Math.max(f,(_+f)/2)}var x=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var b=Math.min(c,h),T=Math.max(c,h);if(e>(b+f)/2&&e<=(T+f)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},OE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Bae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],w=v.items,_=v.cateAxisId,x=w.filter(function(S){return _i(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,T=b!==void 0?bt(bt({},b),x[0].props):x[0].props,N=T.barSize,A=T[_];s[A]||(s[A]=[]);var P=De(N)?n:N;s[A].push({item:x[0],stackList:x.slice(1),barSize:De(P)?void 0:$s(P,r,0)})}}return s},Gae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=$s(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(N,A){return N+A.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var w=(i-v)/2>>0,_={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:_.offset+_.size+u,size:h?y:A.barSize}},S=[].concat(PC(N),[P]);return _=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:_})}),S},f)}else{var x=$s(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var b=(i-2*x-(l-1)*u)/l;b>1&&(b>>=0);var T=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var S=[].concat(PC(N),[{item:A.item,position:{offset:x+(b+u)*P+(b-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return c},qae=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=L$({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&y!=="center"&&re(e[y]))return bt(bt({},e),{},qa({},y,e[y]+(f||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&v!=="middle"&&re(e[v]))return bt(bt({},e),{},qa({},v,e[v]+(h||0)))}return e},zae=function(e,n,r){return De(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$$=function(e,n,r,i,o){var s=n.props.children,a=Nr(s,Hg).filter(function(u){return zae(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Yn(c,r);if(De(f))return u;var h=Array.isArray(f)?[Gg(f),ho(f)]:[f,f],y=l.reduce(function(v,w){var _=Yn(c,w,0),x=h[0]-Math.abs(Array.isArray(_)?_[0]:_),b=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},Hae=function(e,n,r,i,o){var s=n.map(function(a){return $$(e,a,r,o,i)}).filter(function(a){return!De(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},V$=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&$$(e,l,u,i)||uc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},U$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},j$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},yi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ir(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Hl(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Pv=new WeakMap,Yd=function(e,n){if(typeof n!="function")return e;Pv.has(e)||Pv.set(e,new WeakMap);var r=Pv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Wae=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Wc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Hp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lc(),realScaleType:"point"}:o==="category"?{scale:Wc(),realScaleType:"band"}:{scale:Hp(),realScaleType:"linear"};if(Ls(i)){var l="scale".concat(Ng(i));return{scale:(EC[l]||lc)(),realScaleType:EC[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:lc(),realScaleType:"point"}},kC=1e-4,Kae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-kC,s=Math.max(i[0],i[1])+kC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Jae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Yae=function(e,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(o[0]=r),(!re(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Xae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Hl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Qae=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Hl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Zae={sign:Xae,expand:hK,none:fl,silhouette:pK,wiggle:mK,positive:Qae},ele=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Zae[r],s=dK().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(y_).offset(o);return s(e)},tle=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,w=v.stackId,_=v.hide;if(_)return f;var x=v[r],b=f[x]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var T=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),b.hasStack=!0,b.stackGroups[w]=T}else b.stackGroups[qf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return bt(bt({},f),{},qa({},x,b))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,_){var x=y.stackGroups[_];return bt(bt({},w),{},qa({},_,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:ele(e,x.items,o)}))},v)}return bt(bt({},f),{},qa({},h,y))},c)},nle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=hae(u,o,a);return e.domain([Gg(c),ho(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=pae(f,o,a);return{niceTicks:h}}return null};function RC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!De(i[e.dataKey])){var a=bp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,De(s)?e.dataKey:s);return De(l)?null:e.scale(l)}var MC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return De(l)?null:n.scale(l)-o/2+i},rle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ile=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},ole=function(e){return e.reduce(function(n,r){return[Gg(r.concat([n[0]]).filter(re)),ho(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},F$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=ole(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W_=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(OC.test(e[0])){var o=+OC.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(DC.test(e[1])){var s=+DC.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=lE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},LC=function(e,n,r){return!e||!e.length||Qc(e,fr(r,"type.defaultProps.domain"))?n:e},B$=function(e,n){var r=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return bt(bt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:OE(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return e=ale(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=lle(t,"string");return rf(e)=="symbol"?e:e+""}function lle(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em=Math.PI/180,ule=function(e){return e*180/Math.PI},Zt=function(e,n,r,i){return{x:e+Math.cos(-em*i)*r,y:n+Math.sin(-em*i)*r}},cle=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},fle=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=cle({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ule(u),angleInRadian:u}},dle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},hle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},UC=function(e,n){var r=e.x,i=e.y,o=fle({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=dle(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?VC(VC({},n),{},{radius:s,angle:hle(y,n)}):null};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}var ple=["offset"];function mle(t){return _le(t)||vle(t)||yle(t)||gle()}function gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function vle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _le(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xle(t,e){if(t==null)return{};var n=wle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return e=Ele(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Tle(t,"string");return of(e)=="symbol"?e:e+""}function Tle(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}var Sle=function(e){var n=e.value,r=e.formatter,i=De(e.children)?n:e.children;return Pe(r)?r(i):i},Ale=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ile=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,w=l.clockWise,_=(f+h)/2,x=Ale(y,v),b=x>=0?1:-1,T,N;i==="insideStart"?(T=y+b*s,N=w):i==="insideEnd"?(T=v-b*s,N=!w):i==="end"&&(T=v+b*s,N=w),N=x<=0?N:!N;var A=Zt(u,c,_,T),P=Zt(u,c,_,T+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=De(e.id)?qf("recharts-radial-line-"):e.id;return V.createElement("text",sf({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",a)}),V.createElement("defs",null,V.createElement("path",{id:C,d:S})),V.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Cle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Zt(s,a,u+r,h),v=y.x,w=y.y;return{x:v,y:w,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,x=Zt(s,a,_,h),b=x.x,T=x.y;return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Ple=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",w=u>=0?1:-1,_=w*i,x=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return Rt(Rt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Rt(Rt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Rt(Rt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Rt(Rt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Rt({x:a+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?Rt({x:a+u-_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},S):o==="insideTop"?Rt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?Rt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},S):o==="insideTopLeft"?Rt({x:a+_,y:l+h,textAnchor:b,verticalAnchor:v},S):o==="insideTopRight"?Rt({x:a+u-_,y:l+h,textAnchor:x,verticalAnchor:v},S):o==="insideBottomLeft"?Rt({x:a+_,y:l+c-h,textAnchor:b,verticalAnchor:y},S):o==="insideBottomRight"?Rt({x:a+u-_,y:l+c-h,textAnchor:x,verticalAnchor:y},S):Bl(o)&&(re(o.x)||ps(o.x))&&(re(o.y)||ps(o.y))?Rt({x:a+$s(o.x,u),y:l+$s(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Rt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Nle=function(e){return"cx"in e&&re(e.cx)};function mn(t){var e=t.offset,n=e===void 0?5:e,r=xle(t,ple),i=Rt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||De(a)&&De(l)&&!$.isValidElement(u)&&!Pe(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var y;if(Pe(u)){if(y=$.createElement(u,i),$.isValidElement(y))return y}else y=Sle(i);var v=Nle(o),w=Re(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ile(i,y,w);var _=v?Cle(i):Ple(i);return V.createElement(Vp,sf({className:Fe("recharts-label",f)},w,_,{breakAll:h}),y)}mn.displayName="Label";var G$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,w=e.width,_=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(re(w)&&re(_)){if(re(f)&&re(h))return{x:f,y:h,width:w,height:_};if(re(y)&&re(v))return{x:y,y:v,width:w,height:_}}return re(f)&&re(h)?{x:f,y:h,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},kle=function(e,n){return e?e===!0?V.createElement(mn,{key:"label-implicit",viewBox:n}):Dt(e)?V.createElement(mn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===mn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?V.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Bl(e)?V.createElement(mn,sf({viewBox:n},e,{key:"label-implicit"})):null:null},Rle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=G$(e),s=Nr(i,mn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=kle(e.label,n||o);return[a].concat(mle(s))};mn.parseViewBox=G$;mn.renderCallByParent=Rle;function Mle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ole=Mle;const Dle=rt(Ole);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var Lle=["valueAccessor"],$le=["data","dataKey","clockWise","id","textBreakAll"];function Vle(t){return Ble(t)||Fle(t)||jle(t)||Ule()}function Ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function Fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ble(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return e=qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=zle(t,"string");return af(e)=="symbol"?e:e+""}function zle(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GC(t,e){if(t==null)return{};var n=Hle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wle=function(e){return Array.isArray(e.value)?Dle(e.value):e.value};function No(t){var e=t.valueAccessor,n=e===void 0?Wle:e,r=GC(t,Lle),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=GC(r,$le);return!i||!i.length?null:V.createElement(gt,{className:"recharts-label-list"},i.map(function(c,f){var h=De(o)?n(c,f):Yn(c&&c.payload,o),y=De(a)?{}:{id:"".concat(a,"-").concat(f)};return V.createElement(mn,tm({},Re(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:mn.parseViewBox(De(s)?c:BC(BC({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}No.displayName="LabelList";function Kle(t,e){return t?t===!0?V.createElement(No,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Pe(t)?V.createElement(No,{key:"labelList-implicit",data:e,content:t}):Bl(t)?V.createElement(No,tm({data:e},t,{key:"labelList-implicit"})):null:null}function Jle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Nr(r,No).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Kle(t.label,e);return[o].concat(Vle(i))}No.renderCallByParent=Jle;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){Yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yle(t,e,n){return e=Xle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Qle(t,"string");return lf(e)=="symbol"?e:e+""}function Qle(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zle=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Xd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/em,h=u?o:o+s*f,y=Zt(n,r,c,h),v=Zt(n,r,i,h),w=u?o-s*f:o,_=Zt(n,r,c*Math.cos(f*em),w);return{center:y,circleTangency:v,lineTangency:_,theta:f}},q$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Zle(s,a),u=s+l,c=Zt(n,r,o,s),f=Zt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Zt(n,r,i,s),v=Zt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},eue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ir(c-u),h=Xd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,w=h.theta,_=Xd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=_.circleTangency,b=_.lineTangency,T=_.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-T;if(N<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):q$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Xd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=P.circleTangency,C=P.lineTangency,I=P.theta,R=Xd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=R.circleTangency,D=R.lineTangency,O=R.theta,j=l?Math.abs(u-c):Math.abs(u-c)-I-O;if(j<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},tue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z$=function(e){var n=zC(zC({},tue),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=Fe("recharts-sector",h),v=s-o,w=$s(a,v,0,!0),_;return w>0&&Math.abs(c-f)<360?_=eue({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=q$({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),V.createElement("path",Y_({},Re(n,!0),{className:y,d:_,role:"img"}))};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return uf(e)=="symbol"?e:e+""}function iue(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KC={curveBasisClosed:tK,curveBasisOpen:nK,curveBasis:eK,curveBumpX:j7,curveBumpY:F7,curveLinearClosed:rK,curveLinear:Rg,curveMonotoneX:iK,curveMonotoneY:oK,curveNatural:sK,curveStep:aK,curveStepAfter:uK,curveStepBefore:lK},Qd=function(e){return e.x===+e.x&&e.y===+e.y},ku=function(e){return e.x},Ru=function(e){return e.y},oue=function(e,n){if(Pe(e))return e;var r="curve".concat(Ng(e));return(r==="curveMonotone"||r==="curveBump")&&n?KC["".concat(r).concat(n==="vertical"?"Y":"X")]:KC[r]||Rg},sue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=oue(r,a),f=u?o.filter(function(w){return Qd(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return Qd(w)}):s,v=f.map(function(w,_){return WC(WC({},w),{},{base:y[_]})});return a==="vertical"?h=Bd().y(Ru).x1(ku).x0(function(w){return w.base.x}):h=Bd().x(ku).y1(Ru).y0(function(w){return w.base.y}),h.defined(Qd).curve(c),h(v)}return a==="vertical"&&re(s)?h=Bd().y(Ru).x1(ku).x0(s):re(s)?h=Bd().x(ku).y1(Ru).y0(s):h=HD().x(ku).y(Ru),h.defined(Qd).curve(c),h(f)},cc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?sue(e):i;return $.createElement("path",X_({},Re(e,!1),Ep(e),{className:Fe("recharts-curve",n),d:s,ref:o}))},H$={exports:{}},aue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lue=aue,uue=lue;function W$(){}function K$(){}K$.resetWarningCache=W$;var cue=function(){function t(r,i,o,s,a,l){if(l!==uue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K$,resetWarningCache:W$};return n.PropTypes=n,n};H$.exports=cue();var fue=H$.exports;const He=rt(fue),{getOwnPropertyNames:due,getOwnPropertySymbols:hue}=Object,{hasOwnProperty:pue}=Object.prototype;function Nv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Zd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function mue(t){return t!=null?t[Symbol.toStringTag]:void 0}function JC(t){return due(t).concat(hue(t))}const gue=Object.hasOwn||((t,e)=>pue.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const yue="__v",vue="__o",_ue="_owner",{getOwnPropertyDescriptor:YC,keys:XC}=Object;function xue(t,e){return t.byteLength===e.byteLength&&nm(new Uint8Array(t),new Uint8Array(e))}function wue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function bue(t,e){return t.byteLength===e.byteLength&&nm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Eue(t,e){return Js(t.getTime(),e.getTime())}function Tue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Sue(t,e){return t===e}function QC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Aue=Js;function Iue(t,e,n){const r=XC(t);let i=r.length;if(XC(e).length!==i)return!1;for(;i-- >0;)if(!J$(t,e,n,r[i]))return!1;return!0}function Mu(t,e,n){const r=JC(t);let i=r.length;if(JC(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!J$(t,e,n,o)||(s=YC(t,o),a=YC(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Cue(t,e){return Js(t.valueOf(),e.valueOf())}function Pue(t,e){return t.source===e.source&&t.flags===e.flags}function ZC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function nm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Nue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J$(t,e,n,r){return(r===_ue||r===vue||r===yue)&&(t.$$typeof||e.$$typeof)?!0:gue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const kue="[object ArrayBuffer]",Rue="[object Arguments]",Mue="[object Boolean]",Oue="[object DataView]",Due="[object Date]",Lue="[object Error]",$ue="[object Map]",Vue="[object Number]",Uue="[object Object]",jue="[object RegExp]",Fue="[object Set]",Bue="[object String]",Gue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},que="[object URL]",zue=Object.prototype.toString;function Hue({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(_,x,b){if(_===x)return!0;if(_==null||x==null)return!1;const T=typeof _;if(T!==typeof x)return!1;if(T!=="object")return T==="number"?a(_,x,b):T==="function"?o(_,x,b):!1;const N=_.constructor;if(N!==x.constructor)return!1;if(N===Object)return l(_,x,b);if(Array.isArray(_))return e(_,x,b);if(N===Date)return r(_,x,b);if(N===RegExp)return c(_,x,b);if(N===Map)return s(_,x,b);if(N===Set)return f(_,x,b);const A=zue.call(_);if(A===Due)return r(_,x,b);if(A===jue)return c(_,x,b);if(A===$ue)return s(_,x,b);if(A===Fue)return f(_,x,b);if(A===Uue)return typeof _.then!="function"&&typeof x.then!="function"&&l(_,x,b);if(A===que)return y(_,x,b);if(A===Lue)return i(_,x,b);if(A===Rue)return l(_,x,b);if(Gue[A])return h(_,x,b);if(A===kue)return t(_,x,b);if(A===Oue)return n(_,x,b);if(A===Mue||A===Vue||A===Bue)return u(_,x,b);if(v){let P=v[A];if(!P){const S=mue(_);S&&(P=v[S])}if(P)return P(_,x,b)}return!1}}function Wue({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:xue,areArraysEqual:n?Mu:wue,areDataViewsEqual:bue,areDatesEqual:Eue,areErrorsEqual:Tue,areFunctionsEqual:Sue,areMapsEqual:n?Nv(QC,Mu):QC,areNumbersEqual:Aue,areObjectsEqual:n?Mu:Iue,arePrimitiveWrappersEqual:Cue,areRegExpsEqual:Pue,areSetsEqual:n?Nv(ZC,Mu):ZC,areTypedArraysEqual:n?Nv(nm,Mu):nm,areUrlsEqual:Nue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Zd(r.areArraysEqual),o=Zd(r.areMapsEqual),s=Zd(r.areObjectsEqual),a=Zd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Kue(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Jue({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const Yue=Ho();Ho({strict:!0});Ho({circular:!0});Ho({circular:!0,strict:!0});Ho({createInternalComparator:()=>Js});Ho({strict:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js,strict:!0});function Ho(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Wue(t),s=Hue(o),a=n?n(s):Kue(s);return Jue({circular:e,comparator:s,createState:r,equals:a,strict:i})}function Xue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Xue(i)};requestAnimationFrame(r)}function Q_(t){"@babel/helpers - typeof";return Q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q_(t)}function Que(t){return nce(t)||tce(t)||ece(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ece(t,e){if(t){if(typeof t=="string")return tP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(t,e)}}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nce(t){if(Array.isArray(t))return t}function rce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Que(s),l=a[0],u=a.slice(1);if(typeof l=="number"){eP(i.bind(null,u),l);return}i(l),eP(i.bind(null,u));return}Q_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){Y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y$(t,e,n){return e=ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=oce(t,"string");return cf(e)==="symbol"?e:String(e)}function oce(t,e){if(cf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},ace=function(e){return e},lce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fc=function(e,n){return Object.keys(n).reduce(function(r,i){return rP(rP({},r),{},Y$({},i,e(i,n[i])))},{})},iP=function(e,n,r){return e.map(function(i){return"".concat(lce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function uce(t,e){return dce(t)||fce(t,e)||X$(t,e)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function dce(t){if(Array.isArray(t))return t}function hce(t){return gce(t)||mce(t)||X$(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function mce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gce(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rm=1e-4,Q$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Z$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},oP=function(e,n){return function(r){var i=Q$(e,n);return Z$(i,r)}},yce=function(e,n){return function(r){var i=Q$(e,n),o=[].concat(hce(i.map(function(s,a){return s*a}).slice(1)),[0]);return Z$(o,r)}},sP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=uce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=oP(i,s),h=oP(o,a),y=yce(i,s),v=function(x){return x>1?1:x<0?0:x},w=function(x){for(var b=x>1?1:x,T=b,N=0;N<8;++N){var A=f(T)-b,P=y(T);if(Math.abs(A-b)<rm||P<rm)return h(T);T=v(T-A/P)}return h(T)};return w.isStepper=!1,w},vce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,w=h+(y-v)*a/1e3,_=h*a/1e3+c;return Math.abs(_-f)<rm&&Math.abs(w)<rm?[f,0]:[_,w]};return l.isStepper=!0,l.dt=a,l},_ce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sP(i);case"spring":return vce();default:if(i.split("(")[0]==="cubic-bezier")return sP(i)}return typeof i=="function"?i:null};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function aP(t){return bce(t)||wce(t)||eV(t)||xce()}function xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bce(t){if(Array.isArray(t))return tx(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ex(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Tce(t,"string");return ff(e)==="symbol"?e:String(e)}function Tce(t,e){if(ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sce(t,e){return Cce(t)||Ice(t,e)||eV(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(t,e){if(t){if(typeof t=="string")return tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(t,e)}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ice(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Cce(t){if(Array.isArray(t))return t}var im=function(e,n,r){return e+(n-e)*r},nx=function(e){var n=e.from,r=e.to;return n!==r},Pce=function t(e,n,r){var i=fc(function(o,s){if(nx(s)){var a=e(s.from,s.to,s.velocity),l=Sce(a,2),u=l[0],c=l[1];return Jt(Jt({},s),{},{from:u,velocity:c})}return s},n);return r<1?fc(function(o,s){return nx(s)?Jt(Jt({},s),{},{velocity:im(s.velocity,i[o].velocity,r),from:im(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Nce=function(t,e,n,r,i){var o=sce(t,e),s=o.reduce(function(_,x){return Jt(Jt({},_),{},ex({},x,[t[x],e[x]]))},{}),a=o.reduce(function(_,x){return Jt(Jt({},_),{},ex({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return fc(function(x,b){return b.from},a)},y=function(){return!Object.values(a).filter(nx).length},v=function(x){u||(u=x);var b=x-u,T=b/n.dt;a=Pce(n,a,T),i(Jt(Jt(Jt({},t),e),h())),u=x,y()||(l=requestAnimationFrame(f))},w=function(x){c||(c=x);var b=(x-c)/r,T=fc(function(A,P){return im.apply(void 0,aP(P).concat([n(b)]))},s);if(i(Jt(Jt(Jt({},t),e),T)),b<1)l=requestAnimationFrame(f);else{var N=fc(function(A,P){return im.apply(void 0,aP(P).concat([n(1)]))},s);i(Jt(Jt(Jt({},t),e),N))}};return f=n.isStepper?v:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}var kce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rce(t,e){if(t==null)return{};var n=Mce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kv(t){return $ce(t)||Lce(t)||Dce(t)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rx(t,e)}}function Lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ce(t){if(Array.isArray(t))return rx(t)}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tV(r.key),r)}}function jce(t,e,n){return e&&Uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tV(t){var e=Fce(t,"string");return xl(e)==="symbol"?e:String(e)}function Fce(t,e){if(xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function Gce(t){var e=qce();return function(){var r=om(t),i;if(e){var o=om(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ox(this,i)}}function ox(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sx(t)}function sx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}var Di=function(t){Bce(n,t);var e=Gce(n);function n(r,i){var o;Vce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sx(o)),o.changeStyle=o.changeStyle.bind(sx(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ox(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ox(o);o.state={style:l?zu({},l,u):u}}else o.state={style:{}};return o}return jce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?zu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(Yue(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?f:i.to;if(this.state&&h){var _={style:l?zu({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(_)}this.runAnimation(wr(wr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Nce(s,a,_ce(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(w,_,x){if(x===0)return w;var b=_.duration,T=_.easing,N=T===void 0?"ease":T,A=_.style,P=_.properties,S=_.onAnimationEnd,C=x>0?s[x-1]:_,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(kv(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=iP(I,b,N),M=wr(wr(wr({},C.style),A),{},{transition:R});return[].concat(kv(w),[M,b,S]).filter(ace)};return this.manager.start([l].concat(kv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=rce());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?zu({},a,l):l,_=iP(Object.keys(w),s,u);v.start([c,o,wr(wr({},w),{},{transition:_}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rce(i,kce),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,w=v.style,_=w===void 0?{}:w,x=v.className,b=$.cloneElement(y,wr(wr({},l),{},{style:wr(wr({},_),c),className:x}));return b};return u===1?f($.Children.only(o)):V.createElement("div",null,$.Children.map(o,function(h){return f(h)}))}}]),n}($.PureComponent);Di.displayName="Animate";Di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Di.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function zce(t,e){return Jce(t)||Kce(t,e)||Wce(t,e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wce(t,e){if(t){if(typeof t=="string")return cP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(t,e)}}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Jce(t){if(Array.isArray(t))return t}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Qce(t,"string");return df(e)=="symbol"?e:e+""}function Qce(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Zce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},efe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DE=function(e){var n=dP(dP({},efe),e),r=$.useRef(),i=$.useState(-1),o=zce(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,w=n.animationDuration,_=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var T=Fe("recharts-rectangle",y);return b?V.createElement(Di,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:w,animationEasing:v,isActive:b},function(N){var A=N.width,P=N.height,S=N.x,C=N.y;return V.createElement(Di,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:x,easing:v},V.createElement("path",sm({},Re(n,!0),{className:T,d:hP(S,C,A,P,h),ref:r})))}):V.createElement("path",sm({},Re(n,!0),{className:T,d:hP(l,u,c,f,h)}))};function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}var LE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Fe("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",ax({},Re(e,!1),Ep(e),{className:s,cx:n,cy:r,r:i})):null};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var tfe=["x","y","top","left","width","height","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return e=ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=ofe(t,"string");return hf(e)=="symbol"?e:e+""}function ofe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sfe(t,e){if(t==null)return{};var n=afe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function afe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lfe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},ufe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,w=sfe(e,tfe),_=nfe({x:r,y:o,top:a,left:u,width:f,height:y},w);return!re(r)||!re(o)||!re(f)||!re(y)||!re(a)||!re(u)?null:V.createElement("path",lx({},Re(_,!0),{className:Fe("recharts-cross",v),d:lfe(r,o,f,y,a,u)}))},cfe=gL,ffe=cfe(Object.getPrototypeOf,Object),dfe=ffe,hfe=ji,pfe=dfe,mfe=Fi,gfe="[object Object]",yfe=Function.prototype,vfe=Object.prototype,nV=yfe.toString,_fe=vfe.hasOwnProperty,xfe=nV.call(Object);function wfe(t){if(!mfe(t)||hfe(t)!=gfe)return!1;var e=pfe(t);if(e===null)return!0;var n=_fe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nV.call(n)==xfe}var bfe=wfe;const Efe=rt(bfe);var Tfe=ji,Sfe=Fi,Afe="[object Boolean]";function Ife(t){return t===!0||t===!1||Sfe(t)&&Tfe(t)==Afe}var Cfe=Ife;const Pfe=rt(Cfe);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function Nfe(t,e){return Ofe(t)||Mfe(t,e)||Rfe(t,e)||kfe()}function kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ofe(t){if(Array.isArray(t))return t}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return e=Lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=$fe(t,"string");return pf(e)=="symbol"?e:e+""}function $fe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vP=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Vfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ufe=function(e){var n=yP(yP({},Vfe),e),r=$.useRef(),i=$.useState(-1),o=Nfe(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,w=n.animationDuration,_=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=Fe("recharts-trapezoid",y);return x?V.createElement(Di,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:w,animationEasing:v,isActive:x},function(T){var N=T.upperWidth,A=T.lowerWidth,P=T.height,S=T.x,C=T.y;return V.createElement(Di,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:v},V.createElement("path",am({},Re(n,!0),{className:b,d:vP(S,C,N,A,P),ref:r})))}):V.createElement("g",null,V.createElement("path",am({},Re(n,!0),{className:b,d:vP(l,u,c,f,h)})))},jfe=["option","shapeType","propTransformer","activeClassName","isActive"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Ffe(t,e){if(t==null)return{};var n=Bfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return e=qfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=zfe(t,"string");return mf(e)=="symbol"?e:e+""}function zfe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hfe(t,e){return lm(lm({},e),t)}function Wfe(t,e){return t==="symbols"}function xP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(DE,n);case"trapezoid":return V.createElement(Ufe,n);case"sector":return V.createElement(z$,n);case"symbols":if(Wfe(e))return V.createElement(eE,n);break;default:return null}}function Kfe(t){return $.isValidElement(t)?t.props:t}function Jfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Hfe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Ffe(t,jfe),u;if($.isValidElement(e))u=$.cloneElement(e,lm(lm({},l),Kfe(e)));else if(Pe(e))u=e(l);else if(Efe(e)&&!Pfe(e)){var c=i(e,l);u=V.createElement(xP,{shapeType:n,elementProps:c})}else{var f=l;u=V.createElement(xP,{shapeType:n,elementProps:f})}return a?V.createElement(gt,{className:s},u):u}function Wg(t,e){return e!=null&&"trapezoids"in t.props}function Kg(t,e){return e!=null&&"sectors"in t.props}function gf(t,e){return e!=null&&"points"in t.props}function Yfe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Xfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Qfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Zfe(t,e){var n;return Wg(t,e)?n=Yfe:Kg(t,e)?n=Xfe:gf(t,e)&&(n=Qfe),n}function ede(t,e){var n;return Wg(t,e)?n="trapezoids":Kg(t,e)?n="sectors":gf(t,e)&&(n="points"),n}function tde(t,e){if(Wg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Kg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gf(t,e)?e.payload:{}}function nde(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ede(n,e),o=tde(n,e),s=r.filter(function(l,u){var c=Qc(o,l),f=n.props[i].filter(function(v){var w=Zfe(n,e);return w(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var rde=Math.ceil,ide=Math.max;function ode(t,e,n,r){for(var i=-1,o=ide(rde((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var sde=ode,ade=DL,wP=1/0,lde=17976931348623157e292;function ude(t){if(!t)return t===0?t:0;if(t=ade(t),t===wP||t===-wP){var e=t<0?-1:1;return e*lde}return t===t?t:0}var rV=ude,cde=sde,fde=Lg,Rv=rV;function dde(t){return function(e,n,r){return r&&typeof r!="number"&&fde(e,n,r)&&(n=r=void 0),e=Rv(e),n===void 0?(n=e,e=0):n=Rv(n),r=r===void 0?e<n?1:-1:Rv(r),cde(e,n,r,t)}}var hde=dde,pde=hde,mde=pde(),gde=mde;const um=rt(gde);function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){iV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iV(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return yf(e)=="symbol"?e:e+""}function vde(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _de=["Webkit","Moz","O","ms"],xde=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=_de.reduce(function(o,s){return EP(EP({},o),{},iV({},s+r,n))},{});return i[e]=n,i};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sV(r.key),r)}}function bde(t,e,n){return e&&SP(t.prototype,e),n&&SP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,n){return e=fm(e),Tde(t,oV()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function Tde(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sde(t)}function Sde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function Ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ux(t,e)}function Bn(t,e,n){return e=sV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sV(t){var e=Ide(t,"string");return wl(e)=="symbol"?e:e+""}function Ide(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=lc().domain(um(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},AP=function(e){return e.changedTouches&&!!e.changedTouches.length},bl=function(t){function e(n){var r;return wde(this,e),r=Ede(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=AP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ade(e,t),bde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return Pe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-f-a,u+c-f-s):w<0&&(w=Math.max(w,u-s,u-a));var _=this.getIndex({startX:s+w,endX:a+w});(_.startIndex!==h||_.endIndex!==y)&&v&&v(_),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=AP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,w=c.gap,_=c.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-y-u):b<0&&(b=Math.max(b,f-u)),x[s]=u+b;var T=this.getIndex(x),N=T.startIndex,A=T.endIndex,P=function(){var C=_.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(Bn(Bn({},s,u+b),"brushMoveStartX",r.pageX),function(){v&&P()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Bn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?V.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,w=l.startIndex,_=l.endIndex,x=Math.max(r,this.props.x),b=Mv(Mv({},Re(this.props,!1)),{},{x,y:u,width:c,height:f}),T=y||"Min value: ".concat((o=v[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[_])===null||s===void 0?void 0:s.name);return V.createElement(gt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return V.createElement(gt,{className:"recharts-brush-texts"},V.createElement(Vp,cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),V.createElement(Vp,cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,w=h.isTextActive,_=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!re(a)||!re(l)||!re(u)||!re(c)||u<=0||c<=0)return null;var T=Fe("recharts-brush",o),N=V.Children.count(s)===1,A=xde("userSelect","none");return V.createElement(gt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(w||_||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Mv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Cde({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);Bn(bl,"displayName","Brush");Bn(bl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Pde=aE;function Nde(t,e){var n;return Pde(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var kde=Nde,Rde=lL,Mde=Go,Ode=kde,Dde=Vn,Lde=Lg;function $de(t,e,n){var r=Dde(t)?Rde:Ode;return n&&Lde(t,e,n)&&(e=void 0),r(t,Mde(e))}var Vde=$de;const Ude=rt(Vde);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},IP=NL;function jde(t,e,n){e=="__proto__"&&IP?IP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Fde=jde,Bde=Fde,Gde=CL,qde=Go;function zde(t,e){var n={};return e=qde(e),Gde(t,function(r,i,o){Bde(n,i,e(r,i,o))}),n}var Hde=zde;const Wde=rt(Hde);function Kde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Jde=Kde,Yde=aE;function Xde(t,e){var n=!0;return Yde(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Qde=Xde,Zde=Jde,ehe=Qde,the=Go,nhe=Vn,rhe=Lg;function ihe(t,e,n){var r=nhe(t)?Zde:ehe;return n&&rhe(t,e,n)&&(e=void 0),r(t,the(e))}var ohe=ihe;const aV=rt(ohe);var she=["x","y"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ahe(t,e,n){return e=lhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=uhe(t,"string");return vf(e)=="symbol"?e:e+""}function uhe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function che(t,e){if(t==null)return{};var n=fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dhe(t,e){var n=t.x,r=t.y,i=che(t,she),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ou(Ou(Ou(Ou(Ou({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function PP(t){return V.createElement(Jfe,cx({shapeType:"rectangle",propTransformer:dhe,activeClassName:"recharts-active-bar"},t))}var hhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=re(r)||SW(r);return o?e(r,i):(o||Us(),n)}},phe=["value","background"],lV;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function mhe(t,e){if(t==null)return{};var n=ghe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ghe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function vhe(t,e,n){return e&&kP(t.prototype,e),n&&kP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _he(t,e,n){return e=hm(e),xhe(t,uV()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function xhe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return whe(t)}function whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(t,e)}function po(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=Ehe(t,"string");return El(e)=="symbol"?e:e+""}function Ehe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yf=function(t){function e(){var n;yhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_he(this,e,[].concat(i)),po(n,"state",{isAnimationFinished:!1}),po(n,"id",qf("recharts-bar-")),po(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),po(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return bhe(e,t),vhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Re(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,w=At(At(At({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(gt,dm({className:"recharts-bar-rectangle"},Tp(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),V.createElement(PP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return V.createElement(Di,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,w=o.map(function(_,x){var b=h&&h[x];if(b){var T=or(b.x,_.x),N=or(b.y,_.y),A=or(b.width,_.width),P=or(b.height,_.height);return At(At({},_),{},{x:T(v),y:N(v),width:A(v),height:P(v)})}if(s==="horizontal"){var S=or(0,_.height),C=S(v);return At(At({},_),{},{y:_.y+_.height-C,height:C})}var I=or(0,_.width),R=I(v);return At(At({},_),{},{width:R})});return V.createElement(gt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Qc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Re(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=mhe(u,phe);if(!f)return null;var y=At(At(At(At(At({},h),{},{fill:"#eee"},f),l),Tp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return V.createElement(PP,dm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Nr(c,Hg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(_,x){var b=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:b,errorVal:Yn(_,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(gt,v,f.map(function(w){return V.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,w=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,x=Fe("recharts-bar",s),b=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,N=b||T,A=De(w)?this.id:w;return V.createElement(gt,{className:x},b||T?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(A)},V.createElement("rect",{x:b?u:u-f/2,y:T?c:c-h/2,width:b?f:f*2,height:T?h:h*2}))):null,V.createElement(gt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||_)&&No.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);lV=Yf;po(Yf,"displayName","Bar");po(Yf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});po(Yf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=Jae(r,n);if(!y)return null;var v=e.layout,w=n.type.defaultProps,_=w!==void 0?At(At({},w),n.props):n.props,x=_.dataKey,b=_.children,T=_.minPointSize,N=v==="horizontal"?s:o,A=u?N.scale.domain():null,P=rle({numericAxis:N}),S=Nr(b,$L),C=f.map(function(I,R){var M,D,O,j,B,G;u?M=Yae(u[c+R],A):(M=Yn(I,x),Array.isArray(M)||(M=[P,M]));var W=hhe(T,lV.defaultProps.minPointSize)(M[1],R);if(v==="horizontal"){var U,K=[s.scale(M[0]),s.scale(M[1])],Y=K[0],se=K[1];D=MC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),O=(U=se??Y)!==null&&U!==void 0?U:void 0,j=y.size;var ee=Y-se;if(B=Number.isNaN(ee)?0:ee,G={x:D,y:s.y,width:j,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var le=Ir(B||W)*(Math.abs(W)-Math.abs(B));O-=le,B+=le}}else{var Ce=[o.scale(M[0]),o.scale(M[1])],Ne=Ce[0],We=Ce[1];if(D=Ne,O=MC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),j=We-Ne,B=y.size,G={x:o.x,y:O,width:o.width,height:B},Math.abs(W)>0&&Math.abs(j)<Math.abs(W)){var z=Ir(j||W)*(Math.abs(W)-Math.abs(j));j+=z}}return At(At(At({},I),{},{x:D,y:O,width:j,height:B,value:u?M:M[1],payload:I,background:G},S&&S[R]&&S[R].props),{},{tooltipPayload:[B$(n,I)],tooltipPosition:{x:D+j/2,y:O+B/2}})});return At({data:C,layout:v},h)});function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function The(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function She(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jg(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=Ahe(t,"string");return _f(e)=="symbol"?e:e+""}function Ahe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ihe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!qn(u,Yf);return c.reduce(function(y,v){var w=n[v],_=w.orientation,x=w.domain,b=w.padding,T=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(_).concat(N?"Mirror":""),S,C,I,R,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=x[1]-x[0],O=1/0,j=w.categoricalDomain.sort(CW);if(j.forEach(function(Ce,Ne){Ne>0&&(O=Math.min((Ce||0)-(j[Ne-1]||0),O))}),Number.isFinite(O)){var B=O/D,G=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*G/2),w.padding==="no-gap"){var W=$s(e.barCategoryGap,B*G),U=B*G/2;S=U-W-(U-W)/G*W}}}i==="xAxis"?C=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:C=w.range,A&&(C=[C[1],C[0]]);var K=Wae(w,o,h),Y=K.scale,se=K.realScaleType;Y.domain(x).range(C),Kae(Y);var ee=nle(Y,Tr(Tr({},w),{},{realScaleType:se}));i==="xAxis"?(M=_==="top"&&!N||_==="bottom"&&N,I=r.left,R=f[P]-M*w.height):i==="yAxis"&&(M=_==="left"&&!N||_==="right"&&N,I=f[P]-M*w.width,R=r.top);var le=Tr(Tr(Tr({},w),ee),{},{realScaleType:se,x:I,y:R,scale:Y,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return le.bandSize=Zp(le,ee),!w.hide&&i==="xAxis"?f[P]+=(M?-1:1)*le.height:w.hide||(f[P]+=(M?-1:1)*le.width),Tr(Tr({},y),{},Jg({},v,le))},{})},dV=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Che=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return dV({x:n,y:r},{x:i,y:o})},hV=function(){function t(e){The(this,t),this.scale=e}return She(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Jg(hV,"EPS",1e-4);var $E=function(e){var n=Object.keys(e).reduce(function(r,i){return Tr(Tr({},r),{},Jg({},i,hV.create(e[i])))},{});return Tr(Tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Wde(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return aV(i,function(o,s){return n[s].isInRange(o)})}})};function Phe(t){return(t%180+180)%180}var Nhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Phe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},khe=Go,Rhe=zf,Mhe=Og;function Ohe(t){return function(e,n,r){var i=Object(e);if(!Rhe(e)){var o=khe(n);e=Mhe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Dhe=Ohe,Lhe=rV;function $he(t){var e=Lhe(t),n=e%1;return e===e?n?e-n:e:0}var Vhe=$he,Uhe=bL,jhe=Go,Fhe=Vhe,Bhe=Math.max;function Ghe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Fhe(n);return i<0&&(i=Bhe(r+i,0)),Uhe(t,jhe(e),i)}var qhe=Ghe,zhe=Dhe,Hhe=qhe,Whe=zhe(Hhe),Khe=Whe;const Jhe=rt(Khe);var Yhe=kH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VE=$.createContext(void 0),UE=$.createContext(void 0),pV=$.createContext(void 0),mV=$.createContext({}),gV=$.createContext(void 0),yV=$.createContext(0),vV=$.createContext(0),OP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Yhe(o);return V.createElement(VE.Provider,{value:r},V.createElement(UE.Provider,{value:i},V.createElement(mV.Provider,{value:o},V.createElement(pV.Provider,{value:c},V.createElement(gV.Provider,{value:s},V.createElement(yV.Provider,{value:u},V.createElement(vV.Provider,{value:l},a)))))))},Xhe=function(){return $.useContext(gV)},_V=function(e){var n=$.useContext(VE);n==null&&Us();var r=n[e];return r==null&&Us(),r},Qhe=function(){var e=$.useContext(VE);return ao(e)},Zhe=function(){var e=$.useContext(UE),n=Jhe(e,function(r){return aV(r.domain,Number.isFinite)});return n||ao(e)},xV=function(e){var n=$.useContext(UE);n==null&&Us();var r=n[e];return r==null&&Us(),r},epe=function(){var e=$.useContext(pV);return e},tpe=function(){return $.useContext(mV)},jE=function(){return $.useContext(vV)},FE=function(){return $.useContext(yV)};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function ipe(t,e,n){return e&&rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ope(t,e,n){return e=pm(e),spe(t,wV()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function spe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ape(t)}function ape(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){BE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BE(t,e,n){return e=bV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t){var e=upe(t,"string");return Tl(e)=="symbol"?e:e+""}function upe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cpe(t,e){return ppe(t)||hpe(t,e)||dpe(t,e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ppe(t){if(Array.isArray(t))return t}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}var mpe=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):Pe(e)?r=e(n):r=V.createElement("line",hx({},n,{className:"recharts-reference-line-line"})),r},gpe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,w=e.y.apply(v,{position:s});if(Xr(u,"discard")&&!e.y.isInRange(w))return null;var _=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?_.reverse():_}if(n){var x=u.x,b=e.x.apply(x,{position:s});if(Xr(u,"discard")&&!e.x.isInRange(b))return null;var T=[{x:b,y:f+y},{x:b,y:f}];return a==="top"?T.reverse():T}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Xr(u,"discard")&&Ude(A,function(P){return!e.isInRange(P)})?null:A}return null};function ype(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=Xhe(),c=_V(i),f=xV(o),h=epe();if(!u||!h)return null;xi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=$E({x:c.scale,y:f.scale}),v=Dt(e),w=Dt(n),_=r&&r.length===2,x=gpe(y,v,w,_,h,t.position,c.orientation,f.orientation,t);if(!x)return null;var b=cpe(x,2),T=b[0],N=T.x,A=T.y,P=b[1],S=P.x,C=P.y,I=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,R=LP(LP({clipPath:I},Re(t,!0)),{},{x1:N,y1:A,x2:S,y2:C});return V.createElement(gt,{className:Fe("recharts-reference-line",a)},mpe(s,R),mn.renderCallByParent(t,Che({x1:N,y1:A,x2:S,y2:C})))}var GE=function(t){function e(){return npe(this,e),ope(this,e,arguments)}return lpe(e,t),ipe(e,[{key:"render",value:function(){return V.createElement(ype,this.props)}}])}(V.Component);BE(GE,"displayName","ReferenceLine");BE(GE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function xpe(t,e,n){return e&&_pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,n){return e=mm(e),bpe(t,EV()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function bpe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Epe(t)}function Epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function Tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mx(t,e)}function Yg(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=Spe(t,"string");return Sl(e)=="symbol"?e:e+""}function Spe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ape=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=$E({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!s.isInRange(a)?null:a},Xg=function(t){function e(){return vpe(this,e),wpe(this,e,arguments)}return Tpe(e,t),xpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(xi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Ape(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,w=v.shape,_=v.className,x=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UP(UP({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:y});return V.createElement(gt,{className:Fe("recharts-reference-dot",_)},e.renderDot(w,b),mn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(V.Component);Yg(Xg,"displayName","ReferenceDot");Yg(Xg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yg(Xg,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Pe(t)?n=t(e):n=V.createElement(LE,px({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function Ppe(t,e,n){return e&&Cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Npe(t,e,n){return e=gm(e),kpe(t,SV()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function kpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(t)}function Rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function Mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function Qg(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Ope(t,"string");return Al(e)=="symbol"?e:e+""}function Ope(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=$E({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:dV(y,v)},Zg=function(t){function e(){return Ipe(this,e),Npe(this,e,arguments)}return Mpe(e,t),Ppe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;xi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),h=Dt(o),y=Dt(s),v=Dt(a),w=this.props.shape;if(!f&&!h&&!y&&!v&&!w)return null;var _=Dpe(f,h,y,v,this.props);if(!_&&!w)return null;var x=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return V.createElement(gt,{className:Fe("recharts-reference-area",l)},e.renderRect(w,FP(FP({clipPath:x},Re(this.props,!0)),_)),mn.renderCallByParent(this.props,_))}}])}(V.Component);Qg(Zg,"displayName","ReferenceArea");Qg(Zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qg(Zg,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Pe(t)?n=t(e):n=V.createElement(DE,gx({},e,{className:"recharts-reference-area-rect"})),n});function IV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Lpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nhe(r,n)}function $pe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function ym(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Vpe(t,e){return IV(t,e+1)}function Upe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:IV(r,u)};var w=l,_,x=function(){return _===void 0&&(_=n(v,w)),_},b=v.coordinate,T=l===0||ym(t,b,x,c,a);T||(l=0,c=s,u+=1),T&&(c=b+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jpe(t,e,n){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=Bpe(t,"string");return xf(e)=="symbol"?e:e+""}function Bpe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,w=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var _=t*(y.coordinate+t*w()/2-l);o[h]=y=fn(fn({},y),{},{tickCoord:_>0?y.coordinate-_*t:y.coordinate})}else o[h]=y=fn(fn({},y),{},{tickCoord:y.coordinate});var x=ym(t,y.tickCoord,w,a,l);x&&(l=y.tickCoord-t*(w()/2+i),o[h]=fn(fn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function qpe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=fn(fn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=ym(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=fn(fn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,w=function(b){var T=s[b],N,A=function(){return N===void 0&&(N=n(T,b)),N};if(b===0){var P=t*(T.coordinate-t*A()/2-l);s[b]=T=fn(fn({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[b]=T=fn(fn({},T),{},{tickCoord:T.coordinate});var S=ym(t,T.tickCoord,A,l,u);S&&(l=T.tickCoord+t*(A()/2+i),s[b]=fn(fn({},T),{},{isShow:!0}))},_=0;_<v;_++)w(_);return s}function qE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(re(l)||Yl.isSsr)return Vpe(i,typeof l=="number"&&re(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?ac(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(T,N){var A=Pe(u)?u(T.value,N):T.value;return y==="width"?Lpe(ac(A,{fontSize:e,letterSpacing:n}),v,f):ac(A,{fontSize:e,letterSpacing:n})[y]},_=i.length>=2?Ir(i[1].coordinate-i[0].coordinate):1,x=$pe(o,_,y);return l==="equidistantPreserveStart"?Upe(_,x,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=qpe(_,x,w,i,s,l==="preserveStartEnd"):h=Gpe(_,x,w,i,s),h.filter(function(b){return b.isShow}))}var zpe=["viewBox"],Hpe=["viewBox"],Wpe=["ticks"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ov(t,e){if(t==null)return{};var n=Kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function Ype(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xpe(t,e,n){return e=vm(e),Qpe(t,CV()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Qpe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zpe(t)}function Zpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function zE(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=tme(t,"string");return Il(e)=="symbol"?e:e+""}function tme(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(n){var r;return Jpe(this,e),r=Xpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return eme(e,t),Ype(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Ov(r,zpe),a=this.props,l=a.viewBox,u=Ov(a,Hpe);return!Fa(o,l)||!Fa(s,u)||!Fa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,w,_,x,b,T=f?-1:1,N=r.tickSize||c,A=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,_=s+ +!f*l,w=_-T*N,b=w-T*h,x=A;break;case"left":w=_=r.coordinate,v=o+ +!f*a,y=v-T*N,x=y-T*h,b=A;break;case"right":w=_=r.coordinate,v=o+ +f*a,y=v+T*N,x=y+T*h,b=A;break;default:y=v=r.coordinate,_=s+ +f*l,w=_+T*N,b=w+T*h,x=A;break}return{line:{x1:y,y1:w,x2:v,y2:_},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=kt(kt(kt({},Re(this.props,!1)),Re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=kt(kt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=kt(kt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return V.createElement("line",Sa({},f,{className:Fe("recharts-cartesian-axis-line",fr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=qE(kt(kt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),_=Re(this.props,!1),x=Re(c,!1),b=kt(kt({},_),{},{fill:"none"},Re(l,!1)),T=y.map(function(N,A){var P=s.getTickLineCoord(N),S=P.line,C=P.tick,I=kt(kt(kt(kt({textAnchor:v,verticalAnchor:w},_),{},{stroke:"none",fill:u},x),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:f});return V.createElement(gt,Sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Tp(s.props,N,A)),l&&V.createElement("line",Sa({},b,S,{className:Fe("recharts-cartesian-axis-tick-line",fr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Pe(f)?f(N.value,A):N.value).concat(h||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Ov(f,Wpe),v=h;return Pe(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:V.createElement(gt,{className:Fe("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Fe(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?s=V.cloneElement(r,kt(kt({},i),{},{className:a})):Pe(r)?s=r(kt(kt({},i),{},{className:a})):s=V.createElement(Vp,Sa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);zE(eu,"displayName","CartesianAxis");zE(eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nme=["x1","y1","x2","y2","key"],rme=["offset"];function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ime(t,e,n){return e=ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=sme(t,"string");return js(e)=="symbol"?e:e+""}function sme(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function HP(t,e){if(t==null)return{};var n=ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return V.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function NV(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=HP(e,nme),u=Re(l,!1);u.offset;var c=HP(u,rme);n=V.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function ume(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return NV(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function cme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return NV(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function fme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],w=v?i+s-h:c[y+1]-h;if(w<=0)return null;var _=y%e.length;return V.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],w=v?o+a-h:c[y+1]-h;if(w<=0)return null;var _=y%r.length;return V.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return j$(qE(gn(gn(gn({},eu.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},pme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return j$(qE(gn(gn(gn({},eu.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kV(t){var e,n,r,i,o,s,a=jE(),l=FE(),u=tpe(),c=gn(gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:re(t.x)?t.x:u.left,y:re(t.y)?t.y:u.top,width:re(t.width)?t.width:u.width,height:re(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,w=c.syncWithTicks,_=c.horizontalValues,x=c.verticalValues,b=Qhe(),T=Zhe();if(!re(y)||y<=0||!re(v)||v<=0||!re(f)||f!==+f||!re(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||hme,A=c.horizontalCoordinatesGenerator||pme,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Pe(A)){var C=_&&_.length,I=A({yAxis:T?gn(gn({},T),{},{ticks:C?_:T.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);xi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(js(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Pe(N)){var R=x&&x.length,M=N({xAxis:b?gn(gn({},b),{},{ticks:R?x:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);xi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(js(M),"]")),Array.isArray(M)&&(S=M)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(lme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),V.createElement(ume,ys({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:T})),V.createElement(cme,ys({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:T})),V.createElement(fme,ys({},c,{horizontalPoints:P})),V.createElement(dme,ys({},c,{verticalPoints:S})))}kV.displayName="CartesianGrid";var mme=["layout","type","stroke","connectNulls","isRange","ref"],gme=["key"],RV;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function MV(t,e){if(t==null)return{};var n=yme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DV(r.key),r)}}function _me(t,e,n){return e&&KP(t.prototype,e),n&&KP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xme(t,e,n){return e=_m(e),wme(t,OV()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function wme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(t)}function bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_x(t,e)}function Br(t,e,n){return e=DV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DV(t){var e=Tme(t,"string");return Cl(e)=="symbol"?e:e+""}function Tme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=function(t){function e(){var n;vme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xme(this,e,[].concat(i)),Br(n,"state",{isAnimationFinished:!0}),Br(n,"id",qf("recharts-area-")),Br(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),Br(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return Eme(e,t),_me(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=Re(this.props,!1),y=Re(u,!0),v=c.map(function(_,x){var b=Qi(Qi(Qi({key:"dot-".concat(x),r:3},h),y),{},{index:x,cx:_.x,cy:_.y,dataKey:f,value:_.value,payload:_.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(gt,vs({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=ho(s.map(function(h){return h.y||0}));return re(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ho(o.map(function(h){return h.y||0})),f)),re(f)?V.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=ho(s.map(function(h){return h.x||0}));return re(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ho(o.map(function(h){return h.x||0})),f)),re(f)?V.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=MV(a,mme);return V.createElement(gt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},V.createElement(cc,vs({},Re(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&V.createElement(cc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&V.createElement(cc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,w=v.prevPoints,_=v.prevBaseLine;return V.createElement(Di,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(w){var T=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*T);if(w[R]){var M=w[R],D=or(M.x,C.x),O=or(M.y,C.y);return Qi(Qi({},C),{},{x:D(b),y:O(b)})}return C}),A;if(re(l)&&typeof l=="number"){var P=or(_,l);A=P(b)}else if(De(l)||Hl(l)){var S=or(_,0);A=S(b)}else A=l.map(function(C,I){var R=Math.floor(I*T);if(_[R]){var M=_[R],D=or(M.x,C.x),O=or(M.y,C.y);return Qi(Qi({},C),{},{x:D(b),y:O(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return V.createElement(gt,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),V.createElement(gt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Qc(c,s)||!Qc(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,w=i.isAnimationActive,_=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=a.length===1,T=Fe("recharts-area",l),N=f&&f.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,S=De(_)?this.id:_,C=(r=Re(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,M=C.strokeWidth,D=M===void 0?2:M,O=$W(s)?s:{},j=O.clipDot,B=j===void 0?!0:j,G=R*2+D;return V.createElement(gt,{className:T},N||A?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(S)},V.createElement("rect",{x:N?c:c-y/2,y:A?u:u-v/2,width:N?y:y*2,height:A?v:v*2})),!B&&V.createElement("clipPath",{id:"clipPath-dots-".concat(S)},V.createElement("rect",{x:c-G/2,y:u-G/2,width:y+G,height:v+G}))):null,b?null:this.renderArea(P,S),(s||b)&&this.renderDots(P,B,S),(!w||x)&&No.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}($.PureComponent);RV=Li;Br(Li,"displayName","Area");Br(Li,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Br(Li,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(re(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Br(Li,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,w=RV.getBaseValue(e,n,r,i),_=y==="horizontal",x=!1,b=f.map(function(N,A){var P;v?P=u[c+A]:(P=Yn(N,l),Array.isArray(P)?x=!0:P=[w,P]);var S=P[1]==null||v&&Yn(N,l)==null;return _?{x:RC({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:S?null:i.scale(P[1]),value:P,payload:N}:{x:S?null:r.scale(P[1]),y:RC({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),T;return v||x?T=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return _?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):T=_?i.scale(w):r.scale(w),Qi({points:b,baseLine:T,layout:y,isRange:x},h)});Br(Li,"renderDotItem",function(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=MV(e,gme);n=V.createElement(LE,vs({},o,{key:i,className:r}))}return n});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ame(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VV(r.key),r)}}function Ime(t,e,n){return e&&Ame(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cme(t,e,n){return e=xm(e),Pme(t,LV()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Pme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(t)}function Nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(t,e)}function $V(t,e,n){return e=VV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VV(t){var e=Rme(t,"string");return Pl(e)=="symbol"?e:e+""}function Rme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function Mme(t){var e=t.xAxisId,n=jE(),r=FE(),i=_V(e);return i==null?null:$.createElement(eu,wx({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return yi(s,!0)}}))}var ey=function(t){function e(){return Sme(this,e),Cme(this,e,arguments)}return kme(e,t),Ime(e,[{key:"render",value:function(){return $.createElement(Mme,this.props)}}])}($.Component);$V(ey,"displayName","XAxis");$V(ey,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function Lme(t,e,n){return e&&Dme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $me(t,e,n){return e=wm(e),Vme(t,UV()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Vme(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ume(t)}function Ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function jV(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=Fme(t,"string");return Nl(e)=="symbol"?e:e+""}function Fme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}var Bme=function(e){var n=e.yAxisId,r=jE(),i=FE(),o=xV(n);return o==null?null:$.createElement(eu,Ex({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return yi(a,!0)}}))},ty=function(t){function e(){return Ome(this,e),$me(this,e,arguments)}return jme(e,t),Lme(e,[{key:"render",value:function(){return $.createElement(Bme,this.props)}}])}($.Component);jV(ty,"displayName","YAxis");jV(ty,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JP(t){return Hme(t)||zme(t)||qme(t)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(t,e){if(t){if(typeof t=="string")return Tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tx(t,e)}}function zme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hme(t){if(Array.isArray(t))return Tx(t)}function Tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sx=function(e,n,r,i,o){var s=Nr(e,GE),a=Nr(e,Xg),l=[].concat(JP(s),JP(a)),u=Nr(e,Zg),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(w,_){if(_.props[c]===r&&Xr(_.props,"extendDomain")&&re(_.props[f])){var x=_.props[f];return[Math.min(w[0],x),Math.max(w[1],x)]}return w},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(w,_){if(_.props[c]===r&&Xr(_.props,"extendDomain")&&re(_.props[y])&&re(_.props[v])){var x=_.props[y],b=_.props[v];return[Math.min(w[0],x,b),Math.max(w[1],x,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,_){return re(_)?[Math.min(w[0],_),Math.max(w[1],_)]:w},h)),h},BV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var w=n?n+u:u;if(!this._events[w])return!1;var _=this._events[w],x=arguments.length,b,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,y),!0;case 6:return _.fn.call(_.context,c,f,h,y,v),!0}for(T=1,b=new Array(x-1);T<x;T++)b[T-1]=arguments[T];_.fn.apply(_.context,b)}else{var N=_.length,A;for(T=0;T<N;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),x){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,c);break;case 3:_[T].fn.call(_[T].context,c,f);break;case 4:_[T].fn.call(_[T].context,c,f,h);break;default:if(!b)for(A=1,b=new Array(x-1);A<x;A++)b[A-1]=arguments[A];_[T].fn.apply(_[T].context,b)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var w=0,_=[],x=v.length;w<x;w++)(v[w].fn!==c||h&&!v[w].once||f&&v[w].context!==f)&&_.push(v[w]);_.length?this._events[y]=_.length===1?_[0]:_:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(BV);var Wme=BV.exports;const Kme=rt(Wme);var Dv=new Kme,Lv="recharts.syncMouseEvents";function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GV(r.key),r)}}function Xme(t,e,n){return e&&Yme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $v(t,e,n){return e=GV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GV(t){var e=Qme(t,"string");return wf(e)=="symbol"?e:e+""}function Qme(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zme=function(){function t(){Jme(this,t),$v(this,"activeIndex",0),$v(this,"coordinateList",[]),$v(this,"layout","horizontal")}return Xme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function ege(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function tge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Zt(e,n,r,i),a=Zt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function nge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Zt(a,l,u,f),y=Zt(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return qV(e);return[{x:r,y:i},{x:o,y:s}]}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rge(t,e,n){return e=ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t){var e=oge(t,"string");return bf(e)=="symbol"?e:e+""}function oge(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,w=cc;if(h==="ScatterChart")v=s,w=ufe;else if(h==="BarChart")v=tge(f,s,l,c),w=DE;else if(f==="radial"){var _=qV(s),x=_.cx,b=_.cy,T=_.radius,N=_.startAngle,A=_.endAngle;v={cx:x,cy:b,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=z$}else v={points:nge(f,s,l)},w=cc;var P=eh(eh(eh(eh({stroke:"#ccc",pointerEvents:"none"},l),v),Re(y,!1)),{},{payload:a,payloadIndex:u,className:Fe("recharts-tooltip-cursor",y.className)});return $.isValidElement(y)?$.cloneElement(y,P):$.createElement(w,P)}var age=["item"],lge=["children","className","width","height","style","compact","title","desc"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function XP(t,e){return fge(t)||cge(t,e)||HV(t,e)||uge()}function uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function fge(t){if(Array.isArray(t))return t}function QP(t,e){if(t==null)return{};var n=dge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function mge(t,e,n){return e&&pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gge(t,e,n){return e=bm(e),yge(t,zV()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function yge(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vge(t)}function vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function _ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ax(t,e)}function Rl(t){return bge(t)||wge(t)||HV(t)||xge()}function xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HV(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function wge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bge(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=Ege(t,"string");return kl(e)=="symbol"?e:e+""}function Ege(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tge={xAxis:["bottom","top"],yAxis:["left","right"]},Sge={width:"100%",height:"100%"},KV={x:0,y:0};function th(t){return t}var Age=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ige=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Zt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return KV},ny=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Rl(a),Rl(u)):a},[]);return s.length>0?s:e&&e.length&&re(i)&&re(o)?e.slice(i,o+1):[]};function JV(t){return t==="number"?[0,"auto"]:void 0}var Cx=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=ny(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=bp(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Rl(l),[B$(u,h)]):l},[])},eN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Age(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Fae(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Cx(e,n,c,f),y=Ige(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},Cge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=U$(c,o);return r.reduce(function(v,w){var _,x=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,b=x.type,T=x.dataKey,N=x.allowDataOverflow,A=x.allowDuplicatedCategory,P=x.scale,S=x.ticks,C=x.includeHidden,I=x[s];if(v[I])return v;var R=ny(e.data,{graphicalItems:i.filter(function(ee){var le,Ce=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s];return Ce===I}),dataStartIndex:l,dataEndIndex:u}),M=R.length,D,O,j;ege(x.domain,N,b)&&(D=W_(x.domain,null,N),y&&(b==="number"||P!=="auto")&&(j=uc(R,T,"category")));var B=JV(b);if(!D||D.length===0){var G,W=(G=x.domain)!==null&&G!==void 0?G:B;if(T){if(D=uc(R,T,b),b==="category"&&y){var U=IW(D);A&&U?(O=D,D=um(0,M)):A||(D=LC(W,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0?ee:[].concat(Rl(ee),[le])},[]))}else if(b==="category")A?D=D.filter(function(ee){return ee!==""&&!De(ee)}):D=LC(W,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0||le===""||De(le)?ee:[].concat(Rl(ee),[le])},[]);else if(b==="number"){var K=Hae(R,i.filter(function(ee){var le,Ce,Ne=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s],We="hide"in ee.props?ee.props.hide:(Ce=ee.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Ne===I&&(C||!We)}),T,o,c);K&&(D=K)}y&&(b==="number"||P!=="auto")&&(j=uc(R,T,"category"))}else y?D=um(0,M):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:F$(a[I].stackGroups,l,u):D=V$(R,i.filter(function(ee){var le=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Ce="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return le===I&&(C||!Ce)}),b,c,!0);if(b==="number")D=Sx(f,D,I,o,S),W&&(D=W_(W,D,N));else if(b==="category"&&W){var Y=W,se=D.every(function(ee){return Y.indexOf(ee)>=0});se&&(D=Y)}}return H(H({},v),{},we({},I,H(H({},x),{},{axisType:o,domain:D,categoricalDomain:j,duplicateDomain:O,originalDomain:(_=x.domain)!==null&&_!==void 0?_:B,isCategorical:y,layout:c})))},{})},Pge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=ny(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=U$(c,o),w=-1;return r.reduce(function(_,x){var b=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,T=b[s],N=JV("number");if(!_[T]){w++;var A;return v?A=um(0,y):a&&a[T]&&a[T].hasStack?(A=F$(a[T].stackGroups,l,u),A=Sx(f,A,T,o)):(A=W_(N,V$(h,r.filter(function(P){var S,C,I=s in P.props?P.props[s]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===T&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=Sx(f,A,T,o)),H(H({},_),{},we({},T,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:fr(Tge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:v,layout:c})))}return _},{})},Nge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Nr(c,o),y={};return h&&h.length?y=Cge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Pge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},kge=function(e){var n=ao(e),r=yi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:lE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zp(n,r)}},tN=function(e){var n=e.children,r=e.defaultShowTooltip,i=qn(n,bl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Rge=function(e){return!e||!e.length?!1:e.some(function(n){var r=_i(n&&n.type);return r&&r.indexOf("Bar")>=0})},nN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=qn(f,bl),v=qn(f,Ba),w=Object.keys(l).reduce(function(A,P){var S=l[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,A[C]+S.width)):A},{left:h.left||0,right:h.right||0}),_=Object.keys(s).reduce(function(A,P){var S=s[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,fr(A,"".concat(C))+S.height)):A},{top:h.top||0,bottom:h.bottom||0}),x=H(H({},_),w),b=x.bottom;y&&(x.bottom+=y.props.height||bl.defaultProps.height),v&&n&&(x=qae(x,i,r,n));var T=u-x.left-x.right,N=c-x.top-x.bottom;return H(H({brushBottom:b},x),{},{width:Math.max(T,0),height:Math.max(N,0)})},Oge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Dge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(x,b){var T=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,I=x.barSize,R=x.layout,M=x.barGap,D=x.barCategoryGap,O=x.maxBarSize,j=nN(R),B=j.numericAxisName,G=j.cateAxisName,W=Rge(T),U=[];return T.forEach(function(K,Y){var se=ny(x.data,{graphicalItems:[K],dataStartIndex:S,dataEndIndex:C}),ee=K.type.defaultProps!==void 0?H(H({},K.type.defaultProps),K.props):K.props,le=ee.dataKey,Ce=ee.maxBarSize,Ne=ee["".concat(B,"Id")],We=ee["".concat(G,"Id")],z={},Ue=l.reduce(function(Nt,jn){var ni=b["".concat(jn.axisType,"Map")],zi=ee["".concat(jn.axisType,"Id")];ni&&ni[zi]||jn.axisType==="zAxis"||Us();var Ko=ni[zi];return H(H({},Nt),{},we(we({},jn.axisType,Ko),"".concat(jn.axisType,"Ticks"),yi(Ko)))},z),ie=Ue[G],ye=Ue["".concat(G,"Ticks")],_e=N&&N[Ne]&&N[Ne].hasStack&&ile(K,N[Ne].stackGroups),Q=_i(K.type).indexOf("Bar")>=0,Le=Zp(ie,ye),Ie=[],et=W&&Bae({barSize:I,stackGroups:N,totalSize:Oge(Ue,G)});if(Q){var X,me,Qe=De(Ce)?O:Ce,Vt=(X=(me=Zp(ie,ye,!0))!==null&&me!==void 0?me:Qe)!==null&&X!==void 0?X:0;Ie=Gae({barGap:M,barCategoryGap:D,bandSize:Vt!==Le?Vt:Le,sizeList:et[We],maxBarSize:Qe}),Vt!==Le&&(Ie=Ie.map(function(Nt){return H(H({},Nt),{},{position:H(H({},Nt.position),{},{offset:Nt.position.offset-Vt/2})})}))}var Un=K&&K.type&&K.type.getComposedData;Un&&U.push({props:H(H({},Un(H(H({},Ue),{},{displayedData:se,props:x,dataKey:le,item:K,bandSize:Le,barPosition:Ie,offset:A,stackedData:_e,layout:R,dataStartIndex:S,dataEndIndex:C}))),{},we(we(we({key:K.key||"item-".concat(Y)},B,Ue[B]),G,Ue[G]),"animationId",P)),childIndex:jW(K,x.children),item:K})}),U},y=function(x,b){var T=x.props,N=x.dataStartIndex,A=x.dataEndIndex,P=x.updateId;if(!PA({props:T}))return null;var S=T.children,C=T.layout,I=T.stackOffset,R=T.data,M=T.reverseStackOrder,D=nN(C),O=D.numericAxisName,j=D.cateAxisName,B=Nr(S,r),G=tle(R,B,"".concat(O,"Id"),"".concat(j,"Id"),I,M),W=l.reduce(function(ee,le){var Ce="".concat(le.axisType,"Map");return H(H({},ee),{},we({},Ce,Nge(T,H(H({},le),{},{graphicalItems:B,stackGroups:le.axisType===O&&G,dataStartIndex:N,dataEndIndex:A}))))},{}),U=Mge(H(H({},W),{},{props:T,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(ee){W[ee]=c(T,W[ee],U,ee.replace("Map",""),n)});var K=W["".concat(j,"Map")],Y=kge(K),se=h(T,H(H({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:B,stackGroups:G,offset:U}));return H(H({formattedGraphicalItems:se,graphicalItems:B,offset:U,stackGroups:G},Y),W)},v=function(_){function x(b){var T,N,A;return hge(this,x),A=gge(this,x,[b]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new Zme),we(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,C=S.dataStartIndex,I=S.dataEndIndex,R=S.updateId;A.setState(H({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},H(H({},A.state),{},{legendBBox:P}))))}}),we(A,"handleReceiveSyncEvent",function(P,S,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),we(A,"handleBrushChange",function(P){var S=P.startIndex,C=P.endIndex;if(S!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return H({dataStartIndex:S,dataEndIndex:C},y({props:A.props,dataStartIndex:S,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),we(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;Pe(I)&&I(C,P)}}),we(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),C=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;Pe(I)&&I(C,P)}),we(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),we(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var C=A.props.onMouseLeave;Pe(C)&&C(S,P)}),we(A,"handleOuterEvent",function(P){var S=UW(P),C=fr(A.props,"".concat(S));if(S&&Pe(C)){var I,R;/.*touch.*/i.test(S)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),we(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;Pe(I)&&I(C,P)}}),we(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),we(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),we(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),we(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&Dv.emit(Lv,A.props.syncId,P,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(P){var S=A.props,C=S.layout,I=S.syncMethod,R=A.state.updateId,M=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(H({dataStartIndex:M,dataEndIndex:D},y({props:A.props,dataStartIndex:M,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,j=P.chartY,B=P.activeTooltipIndex,G=A.state,W=G.offset,U=G.tooltipTicks;if(!W)return;if(typeof I=="function")B=I(U,P);else if(I==="value"){B=-1;for(var K=0;K<U.length;K++)if(U[K].value===P.activeLabel){B=K;break}}var Y=H(H({},W),{},{x:W.left,y:W.top}),se=Math.min(O,Y.x+Y.width),ee=Math.min(j,Y.y+Y.height),le=U[B]&&U[B].value,Ce=Cx(A.state,A.props.data,B),Ne=U[B]?{x:C==="horizontal"?U[B].coordinate:se,y:C==="horizontal"?ee:U[B].coordinate}:KV;A.setState(H(H({},P),{},{activeLabel:le,activeCoordinate:Ne,activePayload:Ce,activeTooltipIndex:B}))}else A.setState(P)}),we(A,"renderCursor",function(P){var S,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,M=C.activePayload,D=C.offset,O=C.activeTooltipIndex,j=C.tooltipAxisBandSize,B=A.getTooltipEventType(),G=(S=P.props.active)!==null&&S!==void 0?S:I,W=A.props.layout,U=P.key||"_recharts-cursor";return V.createElement(sge,{key:U,activeCoordinate:R,activePayload:M,activeTooltipIndex:O,chartName:n,element:P,isActive:G,layout:W,offset:D,tooltipAxisBandSize:j,tooltipEventType:B})}),we(A,"renderPolarAxis",function(P,S,C){var I=fr(P,"type.axisType"),R=fr(A.state,"".concat(I,"Map")),M=P.type.defaultProps,D=M!==void 0?H(H({},M),P.props):P.props,O=R&&R[D["".concat(I,"Id")]];return $.cloneElement(P,H(H({},O),{},{className:Fe(I,O.className),key:P.key||"".concat(S,"-").concat(C),ticks:yi(O,!0)}))}),we(A,"renderPolarGrid",function(P){var S=P.props,C=S.radialLines,I=S.polarAngles,R=S.polarRadius,M=A.state,D=M.radiusAxisMap,O=M.angleAxisMap,j=ao(D),B=ao(O),G=B.cx,W=B.cy,U=B.innerRadius,K=B.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:yi(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:yi(j,!0).map(function(Y){return Y.coordinate}),cx:G,cy:W,innerRadius:U,outerRadius:K,key:P.key||"polar-grid",radialLines:C})}),we(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,C=S.children,I=S.width,R=S.height,M=A.props.margin||{},D=I-(M.left||0)-(M.right||0),O=L$({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!O)return null;var j=O.item,B=QP(O,age);return $.cloneElement(j,H(H({},B),{},{chartWidth:I,chartHeight:R,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var P,S=A.props,C=S.children,I=S.accessibilityLayer,R=qn(C,Ur);if(!R)return null;var M=A.state,D=M.isTooltipActive,O=M.activeCoordinate,j=M.activePayload,B=M.activeLabel,G=M.offset,W=(P=R.props.active)!==null&&P!==void 0?P:D;return $.cloneElement(R,{viewBox:H(H({},G),{},{x:G.left,y:G.top}),active:W,label:B,payload:W?j:[],coordinate:O,accessibilityLayer:I})}),we(A,"renderBrush",function(P){var S=A.props,C=S.margin,I=S.data,R=A.state,M=R.offset,D=R.dataStartIndex,O=R.dataEndIndex,j=R.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Yd(A.handleBrushChange,P.props.onChange),data:I,x:re(P.props.x)?P.props.x:M.left,y:re(P.props.y)?P.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:re(P.props.width)?P.props.width:M.width,startIndex:D,endIndex:O,updateId:"brush-".concat(j)})}),we(A,"renderReferenceElement",function(P,S,C){if(!P)return null;var I=A,R=I.clipPathId,M=A.state,D=M.xAxisMap,O=M.yAxisMap,j=M.offset,B=P.type.defaultProps||{},G=P.props,W=G.xAxisId,U=W===void 0?B.xAxisId:W,K=G.yAxisId,Y=K===void 0?B.yAxisId:K;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(C),xAxis:D[U],yAxis:O[Y],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:R})}),we(A,"renderActivePoints",function(P){var S=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,M=P.isRange,D=[],O=S.props.key,j=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,B=j.activeDot,G=j.dataKey,W=H(H({index:R,dataKey:G,cx:C.x,cy:C.y,r:4,fill:OE(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Re(B,!1)),Ep(B));return D.push(x.renderActiveDot(B,W,"".concat(O,"-activePoint-").concat(R))),I?D.push(x.renderActiveDot(B,H(H({},W),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(R))):M&&D.push(null),D}),we(A,"renderGraphicChild",function(P,S,C){var I=A.filterFormatItem(P,S,C);if(!I)return null;var R=A.getTooltipEventType(),M=A.state,D=M.isTooltipActive,O=M.tooltipAxis,j=M.activeTooltipIndex,B=M.activeLabel,G=A.props.children,W=qn(G,Ur),U=I.props,K=U.points,Y=U.isRange,se=U.baseLine,ee=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,le=ee.activeDot,Ce=ee.hide,Ne=ee.activeBar,We=ee.activeShape,z=!!(!Ce&&D&&W&&(le||Ne||We)),Ue={};R!=="axis"&&W&&W.props.trigger==="click"?Ue={onClick:Yd(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(Ue={onMouseLeave:Yd(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Yd(A.handleItemMouseEnter,P.props.onMouseEnter)});var ie=$.cloneElement(P,H(H({},I.props),Ue));function ye(jn){return typeof O.dataKey=="function"?O.dataKey(jn.payload):null}if(z)if(j>=0){var _e,Q;if(O.dataKey&&!O.allowDuplicatedCategory){var Le=typeof O.dataKey=="function"?ye:"payload.".concat(O.dataKey.toString());_e=bp(K,Le,B),Q=Y&&se&&bp(se,Le,B)}else _e=K==null?void 0:K[j],Q=Y&&se&&se[j];if(We||Ne){var Ie=P.props.activeIndex!==void 0?P.props.activeIndex:j;return[$.cloneElement(P,H(H(H({},I.props),Ue),{},{activeIndex:Ie})),null,null]}if(!De(_e))return[ie].concat(Rl(A.renderActivePoints({item:I,activePoint:_e,basePoint:Q,childIndex:j,isRange:Y})))}else{var et,X=(et=A.getItemByXY(A.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:ie},me=X.graphicalItem,Qe=me.item,Vt=Qe===void 0?P:Qe,Un=me.childIndex,Nt=H(H(H({},I.props),Ue),{},{activeIndex:Un});return[$.cloneElement(Vt,Nt),null,null]}return Y?[ie,null,null]:[ie,null]}),we(A,"renderCustomized",function(P,S,C){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(C)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:th,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:th},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:th},YAxis:{handler:th},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=b.id)!==null&&T!==void 0?T:qf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=LL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return _ge(x,_),mge(x,[{key:"componentDidMount",value:function(){var T,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,N=T.children,A=T.data,P=T.height,S=T.layout,C=qn(N,Ur);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=Cx(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+P)/2,j=S==="horizontal",B=j?{x:D,y:O}:{y:D,x:O},G=this.state.formattedGraphicalItems.find(function(U){var K=U.item;return K.type.name==="Scatter"});G&&(B=H(H({},B),G.props.points[I].tooltipPosition),M=G.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:M,activeCoordinate:B};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){l_([qn(T.children,Ur)],[qn(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=qn(this.props.children,Ur);if(T&&typeof T.props.shared=="boolean"){var N=T.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=hre(A),S={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,C);if(!I)return null;var R=this.state,M=R.xAxisMap,D=R.yAxisMap,O=this.getTooltipEventType(),j=eN(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&M&&D){var B=ao(M).scale,G=ao(D).scale,W=B&&B.invert?B.invert(S.chartX):null,U=G&&G.invert?G.invert(S.chartY):null;return H(H({},S),{},{xValue:W,yValue:U},j)}return j?H(H({},S),j):null}},{key:"inRange",value:function(T,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=T/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=S>=I.left&&S<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:S,y:C}:null}var M=this.state,D=M.angleAxisMap,O=M.radiusAxisMap;if(D&&O){var j=ao(D);return UC({x:S,y:C},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,N=this.getTooltipEventType(),A=qn(T,Ur),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ep(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){Dv.on(Lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dv.removeListener(Lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,N,A){for(var P=this.state.formattedGraphicalItems,S=0,C=P.length;S<C;S++){var I=P[S];if(I.item===T||I.props.key===T.key||N===_i(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,C=N.width;return V.createElement("defs",null,V.createElement("clipPath",{id:T},V.createElement("rect",{x:A,y:P,height:S,width:C})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=XP(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=XP(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(T){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(T){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,C=A.length;S<C;S++){var I=A[S],R=I.props,M=I.item,D=M.type.defaultProps!==void 0?H(H({},M.type.defaultProps),M.props):M.props,O=_i(M.type);if(O==="Bar"){var j=(R.data||[]).find(function(U){return Zce(T,U)});if(j)return{graphicalItem:I,payload:j}}else if(O==="RadialBar"){var B=(R.data||[]).find(function(U){return UC(T,U)});if(B)return{graphicalItem:I,payload:B}}else if(Wg(I,P)||Kg(I,P)||gf(I,P)){var G=nde({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),W=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:W}),payload:gf(I,P)?D.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var T=this;if(!PA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,C=N.height,I=N.style,R=N.compact,M=N.title,D=N.desc,O=QP(N,lge),j=Re(O,!1);if(R)return V.createElement(OP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(c_,Aa({},j,{width:S,height:C,title:M,desc:D}),this.renderClipPath(),kA(A,this.renderMap)));if(this.props.accessibilityLayer){var B,G;j.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,j.role=(G=this.props.role)!==null&&G!==void 0?G:"application",j.onKeyDown=function(U){T.accessibilityManager.keyboardEvent(U)},j.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return V.createElement(OP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Aa({className:Fe("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:C},I)},W,{ref:function(K){T.container=K}}),V.createElement(c_,Aa({},j,{width:S,height:C,title:M,desc:D,style:Sge}),this.renderClipPath(),kA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);we(v,"displayName",n),we(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(v,"getDerivedStateFromProps",function(_,x){var b=_.dataKey,T=_.data,N=_.children,A=_.width,P=_.height,S=_.layout,C=_.stackOffset,I=_.margin,R=x.dataStartIndex,M=x.dataEndIndex;if(x.updateId===void 0){var D=tN(_);return H(H(H({},D),{},{updateId:0},y(H(H({props:_},D),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==x.prevDataKey||T!==x.prevData||A!==x.prevWidth||P!==x.prevHeight||S!==x.prevLayout||C!==x.prevStackOffset||!Fa(I,x.prevMargin)){var O=tN(_),j={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=H(H({},eN(x,T,S)),{},{updateId:x.updateId+1}),G=H(H(H({},O),j),B);return H(H(H({},G),y(H({props:_},G),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!l_(N,x.prevChildren)){var W,U,K,Y,se=qn(N,bl),ee=se&&(W=(U=se.props)===null||U===void 0?void 0:U.startIndex)!==null&&W!==void 0?W:R,le=se&&(K=(Y=se.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&K!==void 0?K:M,Ce=ee!==R||le!==M,Ne=!De(T),We=Ne&&!Ce?x.updateId:x.updateId+1;return H(H({updateId:We},y(H(H({props:_},x),{},{updateId:We,dataStartIndex:ee,dataEndIndex:le}),x)),{},{prevChildren:N,dataStartIndex:ee,dataEndIndex:le})}return null}),we(v,"renderActiveDot",function(_,x,b){var T;return $.isValidElement(_)?T=$.cloneElement(_,x):Pe(_)?T=_(x):T=V.createElement(LE,x),V.createElement(gt,{className:"recharts-active-dot",key:b},T)});var w=$.forwardRef(function(x,b){return V.createElement(v,Aa({},x,{ref:b}))});return w.displayName=v.displayName,w},Lge=Dge({chartName:"AreaChart",GraphicalChild:Li,axisComponents:[{axisType:"xAxis",AxisComp:ey},{axisType:"yAxis",AxisComp:ty}],formatAxisMap:Ihe});const $ge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Vge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:uD,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:lD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:Ch,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:fD,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),g.jsxs("div",{className:"flex gap-2 text-sm",children:[g.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),g.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:yD,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Bf,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:Ch,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:ja,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),g.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[g.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(xD,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>g.jsxs("button",{onClick:()=>t==null?void 0:t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[g.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),g.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),g.jsx(T9,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(sre,{width:"100%",height:"100%",children:g.jsxs(Lge,{data:$ge,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),g.jsx(kV,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),g.jsx(ey,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(ty,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(Ur,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),g.jsx(Li,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),g.jsx(Li,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[g.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"relative z-10 space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(O9,{className:"w-6 h-6 text-orange-500"}),g.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),g.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[g.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?g.jsx(vp,{className:"w-4 h-4 text-green-400"}):g.jsx(P9,{className:"w-4 h-4 text-orange-500"})]},r))}),g.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[g.jsx(hg,{className:"w-4 h-4"})," Aadir Requisito"]})]}),g.jsx(o_,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Ch,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[g.jsx(xp,{className:"w-5 h-5 text-orange-600 shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),g.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Uge=20,jge=({companyInfo:t})=>{const{loading:e,addProduct:n,updateProduct:r,deleteProduct:i,suppliers:o,fetchProductsPaginatedAndFiltered:s}=dg(),[a,l]=$.useState(""),[u,c]=$.useState(!1),[f,h]=$.useState("general"),[y,v]=$.useState(!1),[w,_]=$.useState([]),[x,b]=$.useState(null),[T,N]=$.useState(!0),[A,P]=$.useState(!1),S=$.useRef(null),[C,I]=$.useState(null),[R,M]=$.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[D,O]=$.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),[j,B]=$.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[G,W]=$.useState({isFractionable:!1,saleUnitConversionFactor:1}),[U,K]=$.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),Y=$.useCallback(async(z=!1,Ue=a,ie=x)=>{P(!0);try{const ye={limit:Uge,searchTerm:Ue.toLowerCase().trim(),startAfterDoc:z?void 0:ie,orderByField:"name",orderDirection:"asc"},{products:_e,lastVisible:Q,hasMore:Le}=await s(ye);_(Ie=>z?_e:[...Ie,..._e]),b(Q),N(Le)}catch(ye){console.error("Error loading products:",ye)}finally{P(!1)}},[a,x,s]);$.useEffect(()=>{e||Y(!0,a,null)},[a,e,Y]);const se=V.useMemo(()=>{let z=D.baseCost;D.discounts.forEach(_e=>{_e>0&&(z=z*(1-_e/100))});const Ue=z*(1+D.markup/100),ie=Ue*(1+D.ivaRate/100),ye=G.isFractionable&&G.saleUnitConversionFactor?ie*G.saleUnitConversionFactor:ie;return{netCost:z,priceWithoutIva:Ue,finalSalePricePrimaryUnit:ie,finalSalePriceSaleUnit:ye}},[D,G]),ee=()=>{I(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),B({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),W({isFractionable:!1,saleUnitConversionFactor:1}),K({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),h("general")},le=z=>{I(z),z?(M({name:z.name,sku:z.sku,category:z.category,brand:z.brand,saleCurrency:z.saleCurrency||"ARS",supplierProductCode:z.supplierProductCode||"",imageUrl:z.imageUrl||"",primaryUnit:z.primaryUnit||"unidad",saleUnit:z.saleUnit||"unidad"}),O({baseCost:z.costPrice||0,ivaRate:21,discounts:[],markup:z.salePrice&&z.costPrice?(z.salePrice/(z.costPrice*1.21)-1)*100:(t==null?void 0:t.defaultMarkup)||30,supplierId:z.supplierId||"",purchaseCurrency:z.purchaseCurrency||"ARS"}),B({stock:z.stock,minStock:z.minStock||5,location:z.location||"",reorderPoint:z.reorderPoint||0,targetStock:z.targetStock||0,packQuantity:z.packQuantity||1}),W({isFractionable:z.isFractionable||!1,saleUnitConversionFactor:z.saleUnitConversionFactor||1}),K({isOnline:z.isOnline||!1,onlinePriceAdjustment:z.onlinePriceAdjustment||0,mlSync:z.mlSync||!1})):ee(),c(!0)},Ce=z=>{var ie;const Ue=(ie=z.target.files)==null?void 0:ie[0];if(Ue){const ye=new FileReader;ye.onload=_e=>{M(Q=>{var Le;return{...Q,imageUrl:(Le=_e.target)==null?void 0:Le.result}})},ye.readAsDataURL(Ue)}},Ne=async()=>{if(v(!0),!R.name||!R.sku||!R.primaryUnit||!R.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),v(!1);return}if(D.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),v(!1);return}if(G.isFractionable&&(!G.saleUnitConversionFactor||G.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),v(!1);return}const z={sku:R.sku||"",name:R.name||"",supplierId:D.supplierId||null,costPrice:Number(D.baseCost),salePrice:Number(se.finalSalePricePrimaryUnit),stock:Number(j.stock),category:R.category||"General",brand:R.brand||"N/A",reorderPoint:Number(j.reorderPoint)||0,targetStock:Number(j.targetStock)||0,packQuantity:Number(j.packQuantity)||1,purchaseCurrency:D.purchaseCurrency||"ARS",saleCurrency:R.saleCurrency||"ARS",supplierProductCode:R.supplierProductCode||"",minStock:Number(j.minStock)||0,location:j.location||"",imageUrl:R.imageUrl||"",primaryUnit:R.primaryUnit,saleUnit:R.saleUnit,isFractionable:!!G.isFractionable,saleUnitConversionFactor:G.isFractionable?Number(G.saleUnitConversionFactor):null,isOnline:!!U.isOnline,onlinePriceAdjustment:U.isOnline?Number(U.onlinePriceAdjustment):null,mlSync:!!U.mlSync};try{C?await r(C.id,z):await n(z),c(!1),ee(),Y(!0)}catch(Ue){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",Ue)}finally{v(!1)}},We=z=>{alert(`Producto "${z.name}" aadido a la lista de pedidos de reposicin.`)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),g.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),g.jsxs("button",{onClick:()=>{le(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[g.jsx($o,{className:"w-5 h-5"})," Nuevo Producto"]})]}),g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:g.jsxs("div",{className:"relative max-w-xl",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:a,onChange:z=>l(z.target.value)})]})}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),g.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.primaryUnit,")"]}),g.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.saleUnit,")"]}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(z=>{var Ue;return g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsxs("td",{className:"px-8 py-6",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:z.name}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:z.sku})]}),g.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[z.stock," ",z.primaryUnit]}),g.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(Ue=z.salePrice)==null?void 0:Ue.toLocaleString()]}),g.jsx("td",{className:"px-8 py-6 text-right font-black",children:z.isFractionable&&z.saleUnitConversionFactor&&z.salePrice?`$${(z.salePrice*z.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),g.jsx("td",{className:"px-8 py-6 text-center",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("button",{onClick:()=>We(z),className:"p-2 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Pedir Reposicin",children:g.jsx(pg,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>le(z),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Editar",children:g.jsx(mD,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>i(z.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Borrar",children:g.jsx(cl,{className:"w-4 h-4"})})]})})]},z.id)})})]}),A&&g.jsxs("div",{className:"p-10 text-center",children:[g.jsx(ki,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[g.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[g.jsx("h2",{className:"text-xl font-black uppercase",children:C?"Editar Producto":"Nuevo Producto"}),g.jsx("button",{onClick:()=>c(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex h-[600px]",children:[g.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:xp},{id:"costs",label:"Costos y Precios",icon:ja},{id:"inventory",label:"Inventario Fsico",icon:mA},{id:"fractioned",label:"Venta Fraccionada",icon:pA},{id:"ecommerce",label:"E-commerce",icon:Uc}].map(z=>g.jsxs("button",{onClick:()=>h(z.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${f===z.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[g.jsx(z.icon,{className:"w-4 h-4 inline-block mr-2"}),z.label]},z.id))}),g.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[f==="general"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xp,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{value:R.name||"",onChange:z=>M({...R,name:z.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{value:R.sku||"",onChange:z=>M({...R,sku:z.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{value:R.primaryUnit||"unidad",onChange:z=>M({...R,primaryUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"unidad",children:"Unidad"}),g.jsx("option",{value:"m2",children:"m2"}),g.jsx("option",{value:"kg",children:"kg"}),g.jsx("option",{value:"litro",children:"Litro"}),g.jsx("option",{value:"pie",children:"Pie"}),g.jsx("option",{value:"cm",children:"cm"}),g.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),g.jsx("option",{value:"tabla",children:"Tabla"}),g.jsx("option",{value:"caja",children:"Caja"}),g.jsx("option",{value:"barra",children:"Barra"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{value:R.saleUnit||"unidad",onChange:z=>M({...R,saleUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"unidad",children:"Unidad"}),g.jsx("option",{value:"m2",children:"m2"}),g.jsx("option",{value:"kg",children:"kg"}),g.jsx("option",{value:"litro",children:"Litro"}),g.jsx("option",{value:"tabla",children:"Tabla"}),g.jsx("option",{value:"caja",children:"Caja"}),g.jsx("option",{value:"barra",children:"Barra"}),g.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),g.jsx("option",{value:"pie",children:"Pie"}),g.jsx("option",{value:"cm",children:"cm"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),g.jsx("input",{value:R.category||"",onChange:z=>M({...R,category:z.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),g.jsx("input",{value:R.brand||"",onChange:z=>M({...R,brand:z.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),g.jsx("input",{value:R.supplierProductCode||"",onChange:z=>M({...R,supplierProductCode:z.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),g.jsxs("select",{value:R.saleCurrency||"ARS",onChange:z=>M({...R,saleCurrency:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),g.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),g.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[g.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[g.jsx(i_,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:R.imageUrl?g.jsx("img",{src:R.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):g.jsx(i_,{className:"w-8 h-8 text-slate-300"})}),g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>{var z;return(z=S.current)==null?void 0:z.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[g.jsx(B9,{className:"w-4 h-4"})," Subir Imagen"]}),g.jsx("input",{ref:S,type:"file",className:"hidden",accept:"image/*",onChange:Ce})]})]})]})]}),f==="costs"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(ja,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"number",value:D.baseCost||"",onChange:z=>O({...D,baseCost:Number(z.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),g.jsx("input",{type:"number",value:D.ivaRate||"",onChange:z=>O({...D,ivaRate:Number(z.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),g.jsx("input",{type:"number",value:D.markup||"",onChange:z=>O({...D,markup:Number(z.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),g.jsxs("select",{value:D.supplierId||"",onChange:z=>O({...D,supplierId:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"",children:"Ninguno"}),o.map(z=>g.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),g.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[g.jsxs("div",{className:"relative z-10 space-y-2",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),g.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",se.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),g.jsx(ja,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),f==="inventory"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(mA,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),g.jsx("input",{type:"number",value:j.stock||"",onChange:z=>B({...j,stock:Number(z.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),g.jsx("input",{type:"number",value:j.minStock||"",onChange:z=>B({...j,minStock:Number(z.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),g.jsx("input",{value:j.location||"",onChange:z=>B({...j,location:z.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),f==="fractioned"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(pA,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:G.isFractionable||!1,onChange:z=>W({...G,isFractionable:z.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),g.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),G.isFractionable&&g.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",R.saleUnit," = ? ",R.primaryUnit,")"]}),g.jsx("input",{type:"number",value:G.saleUnitConversionFactor||"",onChange:z=>W({...G,saleUnitConversionFactor:Number(z.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),f==="ecommerce"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Uc,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:U.isOnline||!1,onChange:z=>K({...U,isOnline:z.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),g.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[g.jsx("button",{onClick:()=>c(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),g.jsxs("button",{onClick:Ne,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[y?g.jsx(ki,{className:"w-5 h-5 animate-spin"}):g.jsx(Lb,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},Fge=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:i,updateProduct:o,boxes:s,addTransaction:a,updateBox:l}=dg(),[u,c]=$.useState(""),[f,h]=$.useState([]),[y,v]=$.useState(!1),[w,_]=$.useState(!1),[x,b]=$.useState(!1),[T,N]=$.useState({name:"",price:0,quantity:1}),[A,P]=$.useState(null),[S,C]=$.useState(""),[I,R]=$.useState(!1),[M,D]=$.useState("ticket"),[O,j]=$.useState([]),[B,G]=$.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[W,U]=$.useState([]),[K,Y]=$.useState(!1),[se,ee]=$.useState(null),[le,Ce]=$.useState("primary"),Ne=$.useRef(null),We=$.useCallback(X=>{Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(async()=>{if(X.length<2){U([]);return}Y(!0);try{const{products:me}=await r({limit:8,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});U(me)}finally{Y(!1)}},300)},[r]),z=X=>{X.isFractionable&&X.saleUnitConversionFactor&&X.saleUnit!==X.primaryUnit?(ee(X),Ce("primary")):(Ue(X,X.primaryUnit),ee(null))},Ue=(X,me)=>{let Qe=X.salePrice,Vt=1;me===X.saleUnit&&X.isFractionable&&X.saleUnitConversionFactor&&(Qe=X.salePrice*X.saleUnitConversionFactor,Vt=X.saleUnitConversionFactor);const Un=f.findIndex(Nt=>Nt.id===X.id&&Nt.selectedSaleUnit===me);h(Un!==-1?f.map((Nt,jn)=>jn===Un?{...Nt,quantity:Nt.quantity+1}:Nt):[...f,{id:X.id,sku:X.sku,name:X.name,brand:X.brand,price:parseFloat(Qe.toFixed(2)),quantity:1,stockBeforeSale:X.stock,primaryUnit:X.primaryUnit,selectedSaleUnit:me,saleUnitConversionFactor:Vt}]),c(""),U([]),ee(null)},ie=()=>{!T.name||T.price<=0||(h([...f,{id:`manual-${Date.now()}`,sku:"MANUAL",name:T.name,brand:"Venta Libre",price:T.price,quantity:T.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),_(!1),N({name:"",price:0,quantity:1}))},ye=f.reduce((X,me)=>X+me.price*me.quantity,0),_e=O.reduce((X,me)=>X+me.amount,0),Q=ye-_e,Le=$.useMemo(()=>S?i.filter(X=>X.name.toLowerCase().includes(S.toLowerCase())||X.cuit.includes(S)).slice(0,5):[],[i,S]),Ie=()=>{if(B.amount<=0)return;if(!B.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const X=t.paymentCommissions[B.method]||0,me=parseFloat((B.amount*(X/100)).toFixed(2)),Qe=parseFloat((B.amount-me).toFixed(2));j([...O,{...B,id:Date.now().toString(),commissionRate:X,commissionAmount:me,netAmount:Qe}]),G({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},et=async()=>{if(M!=="presupuesto"&&Math.abs(Q)>.01){alert(`Falta cubrir $${Q.toLocaleString()} del total.`);return}b(!0);try{const X=f.map(me=>({id:me.id,sku:me.sku,name:me.name,brand:me.brand,price:me.price,quantity:me.quantity,subtotal:parseFloat((me.price*me.quantity).toFixed(2)),isManual:me.isManual,selectedSaleUnit:me.selectedSaleUnit}));if(M!=="presupuesto"){for(const me of f)if(!me.isManual){const Qe=me.quantity*me.saleUnitConversionFactor;await o(me.id,{stock:me.stockBeforeSale-Qe})}for(const me of O){const Qe=s.find(Vt=>Vt.id===me.targetBoxId);Qe&&(await a({date:new Date().toISOString(),amount:me.netAmount,type:"ingreso",boxId:me.targetBoxId,category:"venta",description:`Venta ${M.toUpperCase()} - Cliente: ${(A==null?void 0:A.name)||"Mostrador"}`,paymentDetails:[me]}),await l(Qe.id,{balance:Qe.balance+me.netAmount}))}}await e({clientName:(A==null?void 0:A.name)||"Mostrador",clientId:(A==null?void 0:A.id)||null,items:X,total:ye,paymentDetails:O,docType:M,date:new Date().toISOString(),status:M==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),v(!1),j([]),P(null)}catch(X){console.error(X),alert("Error al procesar la venta.")}finally{b(!1)}};return g.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),g.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),g.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[g.jsx(hg,{className:"w-4 h-4"})," Venta Libre"]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[g.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:g.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:X=>{c(X.target.value),We(X.target.value)}})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[K&&g.jsx("div",{className:"col-span-2 py-10 text-center",children:g.jsx(ki,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),W.map(X=>g.jsxs("div",{onClick:()=>z(X),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[g.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:g.jsx(pD,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-bold text-slate-800 truncate",children:X.name}),g.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[X.sku,"  Stock: ",X.stock]})]}),g.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",X.salePrice.toLocaleString()]})]},X.id))]})]})}),g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:g.jsx("div",{className:"relative",children:A?g.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:g.jsx(_D,{className:"w-5 h-5"})}),g.jsx("div",{className:"min-w-0",children:g.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:A.name})})]}),g.jsx("button",{onClick:()=>P(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:g.jsx(Jr,{className:"w-4 h-4"})})]}):g.jsxs("div",{className:"relative",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:X=>{C(X.target.value),R(!0)},onFocus:()=>R(!0)}),I&&S.length>0&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:g.jsx("div",{className:"p-1 space-y-1",children:Le.map(X=>g.jsxs("button",{onClick:()=>{P(X),C(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[g.jsx("span",{className:"font-bold text-xs",children:X.name}),g.jsx(_p,{className:"w-3 h-3 text-slate-300"})]},X.id))})})]})})}),g.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:g.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[g.jsx(pg,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),g.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:f.map((X,me)=>g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:X.name}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[X.quantity," x $",X.price.toLocaleString()]})]}),g.jsx("button",{onClick:()=>h(f.filter((Qe,Vt)=>Vt!==me)),className:"text-slate-300 hover:text-red-500",children:g.jsx(cl,{className:"w-4 h-4"})})]},me))}),g.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),g.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ye.toLocaleString()]})]}),g.jsxs("button",{disabled:f.length===0,onClick:()=>v(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",g.jsx(_p,{className:"w-6 h-6"})]})]})]})]}),y&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[g.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),g.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-slate-100 rounded-full",children:g.jsx(Jr,{className:"w-6 h-6 text-slate-400"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),g.jsx("div",{className:"space-y-2",children:O.map(X=>{var me;return g.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(vp,{className:"w-5 h-5 text-green-500"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-slate-700 capitalize",children:X.method.replace("_"," ")}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(me=s.find(Qe=>Qe.id===X.targetBoxId))==null?void 0:me.name]}),X.commissionAmount>0&&g.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",X.commissionRate,"% (-$",X.commissionAmount,")"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-black text-slate-900",children:["$",X.amount.toLocaleString()]}),g.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",X.netAmount.toLocaleString()]})]}),g.jsx("button",{onClick:()=>j(O.filter(Qe=>Qe.id!==X.id)),className:"text-red-400 hover:text-red-600",children:g.jsx(cl,{className:"w-4 h-4"})})]})]},X.id)})}),g.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g.jsxs("div",{className:"space-y-1 md:col-span-1",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),g.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.method,onChange:X=>G({...B,method:X.target.value}),children:[g.jsx("option",{value:"efectivo",children:"Efectivo"}),g.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),g.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),g.jsx("option",{value:"transferencia",children:"Transferencia"}),g.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),g.jsxs("div",{className:"space-y-1 md:col-span-1",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),g.jsxs("div",{className:"relative",children:[g.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.amount||"",onChange:X=>G({...B,amount:parseFloat(X.target.value)||0})})]})]}),g.jsxs("div",{className:"space-y-1 md:col-span-2",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),g.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:B.targetBoxId,onChange:X=>G({...B,targetBoxId:X.target.value}),children:[g.jsx("option",{value:"",children:"Seleccionar Caja..."}),s.filter(X=>X.status==="abierta").map(X=>g.jsxs("option",{value:X.id,children:[X.name," ($",X.balance.toLocaleString(),")"]},X.id))]})]})]}),B.amount>0&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[g.jsx(Db,{className:"w-4 h-4 text-orange-600"}),g.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[B.method]||0,"% (-$",(B.amount*((t.paymentCommissions[B.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(B.amount*(1-(t.paymentCommissions[B.method]||0)/100)).toFixed(2)]})]}),g.jsxs("button",{onClick:Ie,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[g.jsx($o,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),g.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),g.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:M})]}),g.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[g.jsxs("div",{className:"flex justify-between items-baseline",children:[g.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),g.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ye.toLocaleString()]})]}),g.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[g.jsx("span",{children:"A Recibir (Neto)"}),g.jsxs("span",{children:["$",O.reduce((X,me)=>X+me.netAmount,0).toLocaleString()]})]})]}),g.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:g.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[g.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),g.jsxs("span",{className:Q>0?"text-red-500":"text-orange-500",children:["$",Q.toLocaleString()]})]})})]}),g.jsxs("button",{onClick:et,disabled:x||M!=="presupuesto"&&Math.abs(Q)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[x?g.jsx(ki,{className:"w-6 h-6 animate-spin"}):g.jsx(vp,{className:"w-6 h-6"}),x?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),g.jsx("button",{onClick:()=>_(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-8 space-y-5",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),g.jsx("input",{type:"text",value:T.name,onChange:X=>N({...T,name:X.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),g.jsx("input",{type:"number",value:T.price||"",onChange:X=>N({...T,price:parseFloat(X.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),g.jsx("button",{onClick:ie,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var Bge={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gge,qge;function zge(){return{geminiUrl:Gge,vertexUrl:qge}}function Hge(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=zge();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gi{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];m(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>d(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Wge(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Px(t,i,o,0,s)}}function Px(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Px(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Px(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kge(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Jge(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],Xge(s)),e}function Yge(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],Qge(s)),e}function Xge(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Zge(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Qge(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>eye(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Zge(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],sye(n)),e}function eye(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],aye(n)),e}function tye(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function nye(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function rye(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],iye(s)),e}function iye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function YV(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],oye(s)),e}function oye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function sye(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],HE(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function aye(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],HE(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rN||(rN={}));var iN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(iN||(iN={}));var oN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(oN||(oN={}));var pt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pt||(pt={}));var sN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sN||(sN={}));var aN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(aN||(aN={}));var lN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lN||(lN={}));var uN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(uN||(uN={}));var cN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(cN||(cN={}));var fN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fN||(fN={}));var dN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(dN||(dN={}));var hN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(hN||(hN={}));var pN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pN||(pN={}));var mN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(mN||(mN={}));var gN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gN||(gN={}));var yN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(yN||(yN={}));var vN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vN||(vN={}));var _N;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_N||(_N={}));var xN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xN||(xN={}));var wN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(wN||(wN={}));var bN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bN||(bN={}));var Em;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Em||(Em={}));var EN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(EN||(EN={}));var TN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TN||(TN={}));var SN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(SN||(SN={}));var Nx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nx||(Nx={}));var AN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(AN||(AN={}));var IN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IN||(IN={}));var kx;(function(t){t.COLLECTION="COLLECTION"})(kx||(kx={}));var CN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(CN||(CN={}));var PN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PN||(PN={}));var NN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(NN||(NN={}));var kN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kN||(kN={}));var RN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(RN||(RN={}));var MN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MN||(MN={}));var ON;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ON||(ON={}));var DN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(DN||(DN={}));var LN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(LN||(LN={}));var $N;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})($N||($N={}));var VN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(VN||(VN={}));var UN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(UN||(UN={}));var jN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(jN||(jN={}));var FN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(FN||(FN={}));var BN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(BN||(BN={}));var GN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(GN||(GN={}));var qN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(qN||(qN={}));var zN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zN||(zN={}));var HN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HN||(HN={}));var WN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(WN||(WN={}));var KN;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(KN||(KN={}));var JN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(JN||(JN={}));var YN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(YN||(YN={}));var XN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(XN||(XN={}));var QN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(QN||(QN={}));var ZN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ZN||(ZN={}));var ek;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ek||(ek={}));var Ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ia||(Ia={}));class Rx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Du{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class tk{}class nk{}class lye{}class uye{}class cye{}class fye{}class rk{}class ik{}class ok{}class dye{}class Tm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Tm;let i;const o=e;return n?i=Yge(o):i=Jge(o),Object.assign(r,i),r}}class sk{}class ak{}class lk{}class uk{}class hye{}class pye{}class mye{}class WE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new WE,o=rye(e);return Object.assign(r,o),r}}class gye{}class yye{}class vye{}class ck{}class _ye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class xye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class KE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new KE,o=YV(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XV(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QV(t){return Array.isArray(t)?t.map(e=>Sm(e)):[Sm(t)]}function Sm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ZV(t){const e=Sm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eU(t){const e=Sm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function tU(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>fk(e)):[fk(t)]}function Mx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function yn(t){if(t==null)throw new Error("ContentUnion is required");return Mx(t)?t:{role:"user",parts:tU(t)}}function JE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=yn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=yn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>yn(n)):[yn(e)]}function dr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dk(t)||hk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yn(t)]}const e=[],n=[],r=Mx(t[0]);for(const i of t){const o=Mx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(dk(i)||hk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:tU(n)}),e}function wye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pt).includes(n[0].toUpperCase())?n[0].toUpperCase():pt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pt).includes(r.toUpperCase())?r.toUpperCase():pt.TYPE_UNSPECIFIED})}}function za(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&wye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(pt).includes(a.toUpperCase())?a.toUpperCase():pt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=za(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(za(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=za(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function YE(t){return za(t)}function XE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function QE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function tu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=za(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=za(e.response));return t}function nu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function bye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return bye(t,e,"cachedContents")}function nU(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wo(t){return HE(t)}function Eye(t){return t!=null&&typeof t=="object"&&"name"in t}function Tye(t){return t!=null&&typeof t=="object"&&"video"in t}function Sye(t){return t!=null&&typeof t=="object"&&"uri"in t}function rU(t){var e;let n;if(Eye(t)&&(n=t.name),!(Sye(t)&&(n=t.uri,n===void 0))&&!(Tye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iU(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function oU(t){for(const e of["models","tunedModels","publisherModels"])if(Aye(t,e))return t[e];return[]}function Aye(t,e){return t!==null&&typeof t=="object"&&e in t}function Iye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Cye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Iye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function sU(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Pye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aU(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ru(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lU(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nye(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>cve(s))),m(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["inlinedEmbedContentResponses"],o)}return e}function kye(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Rye(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ph(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&m(e,["state"],lU(i));const o=d(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const a=d(t,["metadata","updateTime"]);a!=null&&m(e,["updateTime"],a);const l=d(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&m(e,["dest"],Nye(aU(u))),e}function Ox(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["state"]);i!=null&&m(e,["state"],lU(i));const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=d(t,["startTime"]);a!=null&&m(e,["startTime"],a);const l=d(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&m(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&m(e,["src"],Mye(f));const h=d(t,["outputConfig"]);h!=null&&m(e,["dest"],kye(aU(h)));const y=d(t,["completionStats"]);return y!=null&&m(e,["completionStats"],y),e}function Mye(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Oye(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uve(t,s))),m(n,["requests","requests"],o)}return n}function Dye(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Lye(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $ye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Vye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Uye(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],jye(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&m(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function jye(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function uU(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yve(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Fye(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Bye(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Rye(Pye(i))),n}function pk(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Oye(t,sU(t,i)));const o=d(e,["config"]);return o!=null&&Fye(o,n),n}function Gye(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],ze(t,r));const i=d(e,["src"]);i!=null&&m(n,["inputConfig"],Dye(sU(t,i)));const o=d(e,["config"]);return o!=null&&Bye(o,n),n}function qye(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function zye(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Qye(t,i));const o=d(e,["config"]);return o!=null&&qye(o,n),n}function Hye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Wye(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Kye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function Jye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function Yye(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=JE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(m(n,["_self"],Xye(i,n)),Wge(n,{"requests[].*":"requests[].request.*"})),n}function Xye(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qye(t,e){const n={},r=d(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Yye(t,i)),n}function Zye(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function eve(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tve(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nve(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],uU(yn(i)));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const _=d(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=d(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],YE(x));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(j=>vve(j))),m(n,["safetySettings"],O)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let O=nu(N);Array.isArray(O)&&(O=O.map(j=>xve(tu(j)))),m(n,["tools"],O)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],_ve(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=d(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],qi(t,P));const S=d(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=d(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],XE(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const M=d(e,["imageConfig"]);M!=null&&m(r,["imageConfig"],lve(M));const D=d(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function rve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Uye(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function ive(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function ove(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function sve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function ave(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function lve(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uve(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["request","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=dr(i);Array.isArray(a)&&(a=a.map(l=>uU(l))),m(n,["request","contents"],a)}const o=d(e,["metadata"]);o!=null&&m(n,["metadata"],o);const s=d(e,["config"]);return s!=null&&m(n,["request","generationConfig"],nve(t,s,d(n,["request"],{}))),n}function cve(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],rve(n));const r=d(t,["error"]);return r!=null&&m(e,["error"],r),e}function fve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function hve(t){const e={},n=d(t,["config"]);return n!=null&&fve(n,e),e}function pve(t){const e={},n=d(t,["config"]);return n!=null&&dve(n,e),e}function mve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ph(s))),m(e,["batchJobs"],o)}return e}function gve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ox(s))),m(e,["batchJobs"],o)}return e}function yve(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],Zye(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],eve(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],Lye(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function vve(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function _ve(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],tve(r)),e}function xve(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],sve(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],ave(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $i;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})($i||($i={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wve extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys($i.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=pk(this.apiClient,e),r=n._url,i=ce("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Gye(this.apiClient,e);return a=ce("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ox(c))}else{const u=pk(this.apiClient,e);return a=ce("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Ph(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zye(this.apiClient,e);return o=ce("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ph(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ove(this.apiClient,e);return a=ce("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ox(c))}else{const u=ive(this.apiClient,e);return a=ce("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Ph(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Vye(this.apiClient,e);s=ce("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=$ye(this.apiClient,e);s=ce("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pve(e);return a=ce("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=gve(c),h=new ck;return Object.assign(h,f),h})}else{const u=hve(e);return a=ce("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=mve(c),h=new ck;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Wye(this.apiClient,e);return a=ce("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Jye(c))}else{const u=Hye(this.apiClient,e);return a=ce("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Kye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bve(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mk(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zve(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Eve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=dr(s);Array.isArray(c)&&(c=c.map(f=>mk(f))),m(e,["contents"],c)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],mk(yn(a)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Wve(f))),m(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Hve(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Tve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=dr(s);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],yn(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Kve(h))),m(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function Sve(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],XV(t,r));const i=d(e,["config"]);return i!=null&&Eve(i,n),n}function Ave(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],XV(t,r));const i=d(e,["config"]);return i!=null&&Tve(i,n),n}function Ive(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function Cve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function Pve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Nve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function kve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Rve(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Mve(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ove(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Dve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function Lve(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],qi(t,r)),n}function $ve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Vve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Uve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function jve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Fve(t){const e={},n=d(t,["config"]);return n!=null&&Uve(n,e),e}function Bve(t){const e={},n=d(t,["config"]);return n!=null&&jve(n,e),e}function Gve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function qve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function zve(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],kve(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Rve(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],bve(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Hve(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],Mve(r)),e}function Wve(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],$ve(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],Vve(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Kve(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>Ove(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Jve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Yve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Xve(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],qi(t,r));const i=d(e,["config"]);return i!=null&&Jve(i,n),n}function Qve(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],qi(t,r));const i=d(e,["config"]);return i!=null&&Yve(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zve extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys($i.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ave(this.apiClient,e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Sve(this.apiClient,e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Lve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Dve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Cve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Nve(c),h=new lk;return Object.assign(h,f),h})}else{const u=Ive(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Pve(c),h=new lk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Qve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Xve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Bve(e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=qve(c),h=new uk;return Object.assign(h,f),h})}else{const u=Fve(e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Gve(c),h=new uk;return Object.assign(h,f),h})}}}function Am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function kr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(w){return new Promise(function(_,x){o.push([y,w,_,x])>1||l(y,w)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof Te?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Rr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gk=="function"?gk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:cU(n)}function cU(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function t0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!cU(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class n0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new r0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class r0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),t0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?yk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Rr(e),y;y=yield Te(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(e0e(v)){const w=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield Te(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Te(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...yk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ef extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ef.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i0e(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function o0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function s0e(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],rU(n)),e}function a0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function l0e(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],rU(n)),e}function u0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function c0e(t){const e={},n=d(t,["config"]);return n!=null&&u0e(n,e),e}function f0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0e extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys($i.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=c0e(e);return o=ce("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=f0e(l),c=new gye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=i0e(e);return o=ce("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=o0e(l),c=new yye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=l0e(e);return o=ce("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=s0e(e);return o=ce("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=a0e(l),c=new vye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nh(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function h0e(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>P0e(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function p0e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function m0e(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function g0e(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function y0e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=d(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=d(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const _=d(t,["routingConfig"]);_!=null&&m(e,["routingConfig"],_);const x=d(t,["seed"]);x!=null&&m(e,["seed"],x);const b=d(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=d(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=d(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=d(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=d(t,["topK"]);P!=null&&m(e,["topK"],P);const S=d(t,["topP"]);if(S!=null&&m(e,["topP"],S),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function v0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function _0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function x0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],QE(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],h0e(yn(v)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let P=nu(w);Array.isArray(P)&&(P=P.map(S=>k0e(tu(S)))),m(e,["setup","tools"],P)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],N0e(_));const x=d(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function w0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],y0e(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],QE(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],yn(v));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let S=nu(w);Array.isArray(S)&&(S=S.map(C=>R0e(tu(C)))),m(e,["setup","tools"],S)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],_);const x=d(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);e!==void 0&&A!=null&&m(e,["setup","proactivity"],A);const P=d(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&m(e,["setup","explicitVadSignal"],P),n}function b0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],x0e(i,n)),n}function E0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],w0e(i,n)),n}function T0e(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function S0e(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function A0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=QV(n);Array.isArray(u)&&(u=u.map(c=>Nh(c))),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],Nh(eU(r)));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&m(e,["video"],Nh(ZV(o)));const s=d(t,["text"]);s!=null&&m(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function I0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=QV(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],eU(r));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&m(e,["video"],ZV(o));const s=d(t,["text"]);s!=null&&m(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function C0e(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const s=d(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],M0e(s));const a=d(t,["goAway"]);a!=null&&m(e,["goAway"],a);const l=d(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=d(t,["voiceActivityDetectionSignal"]);u!=null&&m(e,["voiceActivityDetectionSignal"],u);const c=d(t,["voiceActivity"]);return c!=null&&m(e,["voiceActivity"],O0e(c)),e}function P0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],p0e(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],m0e(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],Nh(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function N0e(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function k0e(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],v0e(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],_0e(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function R0e(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>g0e(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function M0e(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=d(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const a=d(t,["totalTokenCount"]);a!=null&&m(e,["totalTokenCount"],a);const l=d(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["promptTokensDetails"],y)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["cacheTokensDetails"],y)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["responseTokensDetails"],y)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["toolUsePromptTokensDetails"],y)}const h=d(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}function O0e(t){const e={},n=d(t,["type"]);return n!=null&&m(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0e(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function L0e(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],$0e(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&m(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function $0e(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function V0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let o=dr(i);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["contents"],o)}return n}function U0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function j0e(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&m(e,["statistics"],F0e(r)),e}function F0e(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function ry(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Y_e(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function B0e(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function G0e(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function q0e(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],yn(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pU(a))),m(e,["tools"],s)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],D_e(o)),n}function z0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=dr(i);Array.isArray(s)&&(s=s.map(a=>ry(a))),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&G0e(o),n}function H0e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=dr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&q0e(o,n),n}function W0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function K0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function J0e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function Y0e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function X0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Q0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Z0e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=d(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const b=d(t,["editMode"]);e!==void 0&&b!=null&&m(e,["parameters","editMode"],b);const T=d(t,["baseSteps"]);return e!==void 0&&T!=null&&m(e,["parameters","editConfig","baseSteps"],T),n}function e_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>nxe(l))),m(n,["instances[0]","referenceImages"],a)}const s=d(e,["config"]);return s!=null&&Z0e(s,n),n}function t_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iy(o))),m(e,["generatedImages"],i)}return e}function n_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function r_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return e!==void 0&&a!=null&&m(e,["parameters","autoTruncate"],a),n}function i_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=JE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),m(n,["requests[]","content"],a)}const o=d(e,["config"]);o!=null&&n_e(o,n);const s=d(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],ze(t,s)),n}function o_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=JE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["instances[]","content"],s)}const o=d(e,["config"]);return o!=null&&r_e(o,n),n}function s_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function a_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>j0e(s))),m(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function l_e(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function u_e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function c_e(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f_e(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&m(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function d_e(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const a=d(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],ry(yn(i)));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const _=d(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=d(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],YE(x));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=d(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(j=>rxe(j))),m(n,["safetySettings"],O)}const N=d(e,["tools"]);if(n!==void 0&&N!=null){let O=nu(N);Array.isArray(O)&&(O=O.map(j=>cxe(tu(j)))),m(n,["tools"],O)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],uxe(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=d(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],qi(t,P));const S=d(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=d(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],XE(I)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const M=d(e,["imageConfig"]);M!=null&&m(r,["imageConfig"],j_e(M));const D=d(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function p_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],yn(i));const o=d(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&m(r,["topP"],s);const a=d(e,["topK"]);a!=null&&m(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=d(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=d(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=d(e,["seed"]);w!=null&&m(r,["seed"],w);const _=d(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=d(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],YE(x));const b=d(e,["responseJsonSchema"]);b!=null&&m(r,["responseJsonSchema"],b);const T=d(e,["routingConfig"]);T!=null&&m(r,["routingConfig"],T);const N=d(e,["modelSelectionConfig"]);N!=null&&m(r,["modelConfig"],N);const A=d(e,["safetySettings"]);if(n!==void 0&&A!=null){let W=A;Array.isArray(W)&&(W=W.map(U=>U)),m(n,["safetySettings"],W)}const P=d(e,["tools"]);if(n!==void 0&&P!=null){let W=nu(P);Array.isArray(W)&&(W=W.map(U=>pU(tu(U)))),m(n,["tools"],W)}const S=d(e,["toolConfig"]);n!==void 0&&S!=null&&m(n,["toolConfig"],S);const C=d(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&m(n,["cachedContent"],qi(t,I));const R=d(e,["responseModalities"]);R!=null&&m(r,["responseModalities"],R);const M=d(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const D=d(e,["speechConfig"]);D!=null&&m(r,["speechConfig"],XE(D));const O=d(e,["audioTimestamp"]);O!=null&&m(r,["audioTimestamp"],O);const j=d(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const B=d(e,["imageConfig"]);if(B!=null&&m(r,["imageConfig"],F_e(B)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=d(e,["modelArmorConfig"]);return n!==void 0&&G!=null&&m(n,["modelArmorConfig"],G),r}function vk(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=dr(i);Array.isArray(s)&&(s=s.map(a=>ry(a))),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&m(n,["generationConfig"],h_e(t,o,n)),n}function _k(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=dr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&m(n,["generationConfig"],p_e(t,o,n)),n}function xk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>L0e(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function wk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const a=d(t,["responseId"]);a!=null&&m(e,["responseId"],a);const l=d(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function m_e(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=d(t,["imageSize"]);if(e!==void 0&&y!=null&&m(e,["parameters","sampleImageSize"],y),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function g_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const _=d(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=d(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const b=d(t,["imageSize"]);e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b);const T=d(t,["enhancePrompt"]);return e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T),n}function y_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&m_e(o,n),n}function v_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&g_e(o,n),n}function __e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>k_e(s))),m(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],dU(i)),e}function x_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>iy(s))),m(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],hU(i)),e}function w_e(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=d(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const a=d(t,["personGeneration"]);if(e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],oy(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Exe(y))),m(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function b_e(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const a=d(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const y=d(t,["enhancePrompt"]);e!==void 0&&y!=null&&m(e,["parameters","enhancePrompt"],y);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const w=d(t,["lastFrame"]);e!==void 0&&w!=null&&m(e,["instances[0]","lastFrame"],Lr(w));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(N=>Txe(N))),m(e,["instances[0]","referenceImages"],T)}const x=d(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],bxe(x));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&m(e,["parameters","compressionQuality"],b),n}function E_e(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],I_e(s)),e}function T_e(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],C_e(s)),e}function S_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],oy(o));const s=d(e,["video"]);s!=null&&m(n,["instances[0]","video"],mU(s));const a=d(e,["source"]);a!=null&&P_e(a,n);const l=d(e,["config"]);return l!=null&&w_e(l,n),n}function A_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],Lr(o));const s=d(e,["video"]);s!=null&&m(n,["instances[0]","video"],gU(s));const a=d(e,["source"]);a!=null&&N_e(a,n);const l=d(e,["config"]);return l!=null&&b_e(l,n),n}function I_e(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>M_e(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function C_e(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>O_e(s))),m(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function P_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],oy(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],mU(o)),n}function N_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Lr(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],gU(o)),n}function k_e(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],B_e(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],dU(i)),e}function iy(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],fU(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&m(e,["safetyAttributes"],hU(i));const o=d(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function R_e(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],fU(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function M_e(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],xxe(n)),e}function O_e(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],wxe(n)),e}function D_e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=d(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=d(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const _=d(t,["routingConfig"]);_!=null&&m(e,["routingConfig"],_);const x=d(t,["seed"]);x!=null&&m(e,["seed"],x);const b=d(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=d(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=d(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=d(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=d(t,["topK"]);P!=null&&m(e,["topK"],P);const S=d(t,["topP"]);if(S!=null&&m(e,["topP"],S),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function L_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function $_e(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function V_e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function U_e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function j_e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function F_e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=d(t,["personGeneration"]);i!=null&&m(e,["personGeneration"],i);const o=d(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const s=d(t,["outputCompressionQuality"]);return s!=null&&m(e,["imageOutputOptions","compressionQuality"],s),e}function B_e(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Wo(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fU(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Wo(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function oy(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Wo(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lr(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Wo(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function G_e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],iU(t,a)),r}function q_e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],iU(t,a)),r}function z_e(t,e){const n={},r=d(e,["config"]);return r!=null&&G_e(t,r,n),n}function H_e(t,e){const n={},r=d(e,["config"]);return r!=null&&q_e(t,r,n),n}function W_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=oU(i);Array.isArray(o)&&(o=o.map(s=>Dx(s))),m(e,["models"],o)}return e}function K_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=oU(i);Array.isArray(o)&&(o=o.map(s=>Lx(s))),m(e,["models"],o)}return e}function J_e(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Dx(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["version"]);o!=null&&m(e,["version"],o);const s=d(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],fxe(s));const a=d(t,["inputTokenLimit"]);a!=null&&m(e,["inputTokenLimit"],a);const l=d(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&m(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&m(e,["topP"],h);const y=d(t,["topK"]);y!=null&&m(e,["topK"],y);const v=d(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function Lx(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["versionId"]);o!=null&&m(e,["version"],o);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>l_e(h))),m(e,["endpoints"],f)}const a=d(t,["labels"]);a!=null&&m(e,["labels"],a);const l=d(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],dxe(l));const u=d(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Y_e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],u_e(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],c_e(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],D0e(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function X_e(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Lr(n)),e}function Q_e(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const y=d(t,["labels"]);return e!==void 0&&y!=null&&m(e,["labels"],y),n}function Z_e(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["source"]);i!=null&&txe(i,n);const o=d(e,["config"]);return o!=null&&Q_e(o,n),n}function exe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iy(i))),m(e,["generatedImages"],r)}return e}function txe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Lr(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>X_e(a))),m(e,["instances[0]","productImages"],s)}return n}function nxe(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Lr(n));const r=d(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],J_e(o));const s=d(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],B0e(s));const a=d(t,["styleImageConfig"]);a!=null&&m(e,["styleImageConfig"],a);const l=d(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function dU(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function hU(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function rxe(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function ixe(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Lr(n)),e}function oxe(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const a=d(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","binaryColorThreshold"],a);const l=d(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function sxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["source"]);i!=null&&lxe(i,n);const o=d(e,["config"]);return o!=null&&oxe(o,n),n}function axe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>R_e(i))),m(e,["generatedMasks"],r)}return e}function lxe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Lr(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],ixe(o)),n}function uxe(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],f_e(r)),e}function cxe(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],V_e(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],U_e(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function pU(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>d_e(h))),m(e,["functionDeclarations"],f)}const a=d(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=d(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function fxe(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function dxe(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function hxe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function pxe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function mxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","name"],ze(t,r));const i=d(e,["config"]);return i!=null&&hxe(i,n),n}function gxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&pxe(i,n),n}function yxe(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&m(e,["parameters","includeRaiReason"],s);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","mimeType"],a);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const y=d(t,["mode"]);return e!==void 0&&y!=null&&m(e,["parameters","mode"],y),n}function vxe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=d(e,["image"]);i!=null&&m(n,["instances[0]","image"],Lr(i));const o=d(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=d(e,["config"]);return s!=null&&yxe(s,n),n}function _xe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iy(o))),m(e,["generatedImages"],i)}return e}function xxe(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Wo(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function wxe(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Wo(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bxe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Lr(n));const r=d(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Exe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],oy(n));const r=d(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Txe(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Lr(n));const r=d(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function mU(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Wo(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function gU(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Wo(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sxe(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Axe(t){const e={},n=d(t,["config"]);return n!=null&&Sxe(n,e),e}function Ixe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Cxe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Ixe(r,e),e}function Pxe(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Nxe(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function kxe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const o=d(t,["error"]);o!=null&&m(e,["error"],o);const s=d(t,["response"]);return s!=null&&m(e,["response"],Mxe(s)),e}function Rxe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&Nxe(i,e),e}function Mxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&m(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Oxe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Dxe(t){const e={},n=d(t,["config"]);return n!=null&&Oxe(n,e),e}function Lxe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["fileSearchStores"],o)}return e}function yU(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function $xe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&yU(r,e),e}function Vxe(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uxe="Content-Type",jxe="X-Server-Timeout",Fxe="User-Agent",$x="x-goog-api-client",Bxe="1.38.0",Gxe=`google-genai-sdk/${Bxe}`,qxe="v1beta1",zxe="v1beta";class Hxe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:qxe}else{if(!this.clientOptions.apiKey)throw new Ef({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:zxe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===kx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Wxe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bk(i),new Rx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Te(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),_=w.status,x=w.code,b=`got status: ${_}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new Ef({message:b,status:x})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const _ of l){const x=s.indexOf(_);x!==-1&&(h===-1||x<h)&&(h=x,y=_.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const w=v.trim();if(w.startsWith(a)){const _=w.substring(a.length).trim();try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new Rx(x))}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Gxe+" "+this.clientOptions.userAgentExtra;return e[Fxe]=n,e[$x]=n,e[Uxe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(jxe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=ce("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&yU(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function bk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ef({message:i,status:n}):new Error(i)}}function Wxe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kxe="mcp_used/unknown";let Jxe=!1;function vU(t){for(const e of t)if(Yxe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Jxe}function _U(t){var e;const n=(e=t[$x])!==null&&e!==void 0?e:"";t[$x]=(n+` ${Kxe}`).trimStart()}function Yxe(t){return t!==null&&typeof t=="object"&&t instanceof ZE}function Xxe(t){return kr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Te(n.listTools({cursor:i}));for(const a of s.tools)yield yield Te(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class ZE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ZE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Rr(Xxe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Cye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qxe(t,e,n){const r=new xye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Zxe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=nwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(T=>{u=T}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:T=>{Qxe(y,f.onmessage,T)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(T){}},w=this.webSocketFactory.create(l,twe(s),v);w.connect(),await c;const b={setup:{model:ze(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new ewe(w,this.apiClient)}}class ewe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=S0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=T0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ia.PLAY)}pause(){this.sendPlaybackControl(Ia.PAUSE)}stop(){this.sendPlaybackControl(Ia.STOP)}resetContext(){this.sendPlaybackControl(Ia.RESET_CONTEXT)}close(){this.conn.close()}}function twe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function nwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iwe(t,e,n){const r=new _ye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=C0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class owe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Zxe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&vU(e.config.tools)&&_U(f);const h=uwe(f);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),D=!!I&&!!R||!!M;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${M}=${I}`}let y=()=>{};const v=new Promise(I=>{y=I}),w=e.callbacks,_=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},x=this.apiClient,b={onopen:_,onmessage:I=>{iwe(x,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,lwe(h),b);T.connect(),await v;let N=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Em.AUDIO]}:e.config.responseModalities=[Em.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],S=[];for(const I of P)if(this.isCallableTool(I)){const R=I;S.push(await R.tool())}else S.push(I);S.length>0&&(e.config.tools=S);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=E0e(this.apiClient,C):A=b0e(this.apiClient,C),delete A.config,T.send(JSON.stringify(A)),new awe(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const swe={turnComplete:!0};class awe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=dr(n.turns),e.isVertexAI()||(r=r.map(i=>ry(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(rwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},swe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I0e(e)}:n={realtimeInput:A0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function lwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function uwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ek=10;function Tk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ha(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ha(t){return"callTool"in t&&typeof t.callTool=="function"}function cwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ha(i)))!==null&&r!==void 0?r:!1}function Sk(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ha(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Ak(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fwe extends Gi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!cwe(n)||Tk(n.config))return await this.generateContentInternal(l);const u=Sk(n);if(u.length>0){const w=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,f;const h=dr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Ek;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,_=[];for(const x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ha(x)){const T=await x.callTool(c.functionCalls);_.push(...T)}v++,f={role:"user",parts:_},l.contents=dr(l.contents),l.contents.push(w),l.contents.push(f),Ak(l.config)&&(h.push(w),h.push(f))}return Ak(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Tk(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=Sk(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ys($i.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Ha(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&vU(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),_U(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ha(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ek;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return kr(this,arguments,function*(){for(var h,y,v,w,_,x;a<o;){s&&(a++,s=!1);const A=yield Te(u.processParamsMaybeAddMcpUsage(f)),P=yield Te(u.generateContentStreamInternal(A)),S=[],C=[];try{for(var b=!0,T=(y=void 0,Rr(P)),N;N=yield Te(T.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield Te(I),I.candidates&&(!((_=I.candidates[0])===null||_===void 0)&&_.content)){C.push(I.candidates[0].content);for(const R of(x=I.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const M=yield Te(c.get(R.functionCall.name).callTool([R.functionCall]));S.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(v=T.return)&&(yield Te(v.call(T)))}finally{if(y)throw y.error}}if(S.length>0){s=!0;const I=new Du;I.candidates=[{content:{role:"user",parts:S}}],yield yield Te(I);const R=[];R.push(...C),R.push({role:"user",parts:S});const M=dr(f.contents).concat(R);f.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_k(this.apiClient,e);return a=ce("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=wk(c),h=new Du;return Object.assign(h,f),h})}else{const u=vk(this.apiClient,e);return a=ce("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=xk(c),h=new Du;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_k(this.apiClient,e);return a=ce("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return kr(this,arguments,function*(){var h,y,v,w;try{for(var _=!0,x=Rr(f),b;b=yield Te(x.next()),h=b.done,!h;_=!0){w=b.value,_=!1;const T=w,N=wk(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Du;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!_&&!h&&(v=x.return)&&(yield Te(v.call(x)))}finally{if(y)throw y.error}}})})}else{const u=vk(this.apiClient,e);return a=ce("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return kr(this,arguments,function*(){var h,y,v,w;try{for(var _=!0,x=Rr(f),b;b=yield Te(x.next()),h=b.done,!h;_=!0){w=b.value,_=!1;const T=w,N=xk(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Du;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!_&&!h&&(v=x.return)&&(yield Te(v.call(x)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=o_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=a_e(c),h=new tk;return Object.assign(h,f),h})}else{const u=i_e(this.apiClient,e);return a=ce("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=s_e(c),h=new tk;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=v_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=x_e(c),h=new nk;return Object.assign(h,f),h})}else{const u=y_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=__e(c),h=new nk;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=e_e(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=t_e(l),c=new lye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=vxe(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_xe(l),c=new uye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Z_e(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=exe(l),c=new cye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=sxe(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=axe(l),c=new fye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$_e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Lx(c))}else{const u=L_e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dx(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=H_e(this.apiClient,e);return a=ce("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=K_e(c),h=new rk;return Object.assign(h,f),h})}else{const u=z_e(this.apiClient,e);return a=ce("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=W_e(c),h=new rk;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=gxe(this.apiClient,e);return a=ce("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Lx(c))}else{const u=mxe(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dx(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Y0e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Q0e(c),h=new ik;return Object.assign(h,f),h})}else{const u=J0e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=X0e(c),h=new ik;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=H0e(this.apiClient,e);return a=ce("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=K0e(c),h=new ok;return Object.assign(h,f),h})}else{const u=z0e(this.apiClient,e);return a=ce("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=W0e(c),h=new ok;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=V0e(this.apiClient,e);return o=ce("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=U0e(l),c=new dye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=A_e(this.apiClient,e);return a=ce("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=T_e(c),h=new Tm;return Object.assign(h,f),h})}else{const u=S_e(this.apiClient,e);return a=ce("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=E_e(c),h=new Tm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dwe extends Gi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nye(e);return a=ce("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=tye(e);return a=ce("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Kge(e);return o=ce("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hwe(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function pwe(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ewe(o))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function mwe(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=d(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const a=d(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&m(n,["bidiGenerateContentSetup"],bwe(t,a));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function gwe(t,e){const n={},r=d(e,["config"]);return r!=null&&m(n,["config"],mwe(t,r,n)),n}function ywe(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vwe(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);if(i!=null&&m(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _we(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function xwe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function wwe(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],QE(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=d(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],pwe(yn(v)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let P=nu(w);Array.isArray(P)&&(P=P.map(S=>Swe(tu(S)))),m(e,["setup","tools"],P)}const _=d(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],Twe(_));const x=d(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=d(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=d(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=d(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bwe(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],wwe(i,n)),n}function Ewe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&m(e,["fileData"],ywe(o));const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],vwe(s));const a=d(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&m(e,["inlineData"],hwe(l));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const c=d(t,["thought"]);c!=null&&m(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Twe(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Swe(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),m(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],_we(s));const a=d(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],xwe(a));const l=d(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Awe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Iwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Awe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Cwe extends Gi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=gwe(this.apiClient,e);o=ce("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=Iwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pwe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Nwe(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Pwe(r,e),e}function kwe(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Rwe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Mwe(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&Rwe(r,e),e}function Owe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dwe extends Gi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys($i.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kwe(e);return o=ce("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Nwe(e);i=ce("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mwe(e);return o=ce("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Owe(l),c=new hye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lwe extends Gi{constructor(e,n=new Dwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys($i.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Axe(e);return o=ce("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Pxe(e);return o=ce("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cxe(e);i=ce("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dxe(e);return o=ce("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lxe(l),c=new pye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$xe(e);return o=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Vxe(l),c=new mye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Rxe(e);return o=ce("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kxe(l),c=new WE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xU=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return xU=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const $we=()=>xU();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ux=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{}class Sn extends gr{constructor(e,n,r,i){super(`${Sn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new sy({message:r,cause:Ux(n)});const o=n;return e===400?new bU(e,o,r,i):e===401?new EU(e,o,r,i):e===403?new TU(e,o,r,i):e===404?new SU(e,o,r,i):e===409?new AU(e,o,r,i):e===422?new IU(e,o,r,i):e===429?new CU(e,o,r,i):e>=500?new PU(e,o,r,i):new Sn(e,o,r,i)}}class jx extends Sn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sy extends Sn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class wU extends sy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class bU extends Sn{}class EU extends Sn{}class TU extends Sn{}class SU extends Sn{}class AU extends Sn{}class IU extends Sn{}class CU extends Sn{}class PU extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vwe=/^[a-z][a-z0-9+.-]*:/i,Uwe=t=>Vwe.test(t);let Fx=t=>(Fx=Array.isArray,Fx(t));const jwe=Fx;let Fwe=jwe;const Ik=Fwe;function Bwe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Gwe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const qwe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new gr(`${t} must be an integer`);if(e<0)throw new gr(`${t} must be a positive integer`);return e},zwe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hwe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wwe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Kwe=()=>{var t,e,n,r,i;const o=Wwe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Pk(Deno.build.os),"X-Stainless-Arch":Ck(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Pk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Ck((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Jwe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Jwe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Ck=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Pk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let nh;const Ywe=()=>nh??(nh=Kwe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xwe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function NU(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Qwe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return NU({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function kU(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Zwe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ebe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RU=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vv(t,e,n){return RU(),new File(t,e??"unknown_file",n)}function tbe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const nbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MU=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",rbe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&MU(t),ibe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function obe(t,e,n){if(RU(),t=await t,rbe(t))return t instanceof File?t:Vv([await t.arrayBuffer()],t.name);if(ibe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Vv(await Bx(i),e,n)}const r=await Bx(t);if(e||(e=tbe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Vv(r,e,n)}async function Bx(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(MU(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(nbe(t))try{for(var a=!0,l=Rr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Bx(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${sbe(t)}`)}return s}function sbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OU{constructor(e){this._client=e}}OU._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DU(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Nk=Object.freeze(Object.create(null)),abe=(t=DU)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,w;/[?#]/.test(f)&&(i=!0);const _=r[h];let x=(i?encodeURIComponent:t)(""+_);return h!==r.length&&(_==null||typeof _=="object"&&_.toString===((w=Object.getPrototypeOf((v=Object.getPrototypeOf((y=_.hasOwnProperty)!==null&&y!==void 0?y:Nk))!==null&&v!==void 0?v:Nk))===null||w===void 0?void 0:w.toString))&&(x=_+"",o.push({start:c.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":x)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+v+w},"");throw new gr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},rh=abe(DU);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LU extends OU{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Am(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(rh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(rh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(rh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Am(o,["api_version"]);return this._client.get(rh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}LU._key=Object.freeze(["interactions"]);class $U extends LU{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ih;function eT(t){let e;return(ih??(e=new globalThis.TextEncoder,ih=e.encode.bind(e)))(t)}let oh;function kk(t){let e;return(oh??(e=new globalThis.TextDecoder,oh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ay{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?eT(e):e;this.buffer=lbe([this.buffer,n]);const r=[];let i;for(;(i=ube(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(kk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=kk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ay.NEWLINE_CHARS=new Set([`
`,"\r"]);ay.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ube(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function cbe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Im={off:0,error:200,warn:300,info:400,debug:500},Rk=(t,e,n)=>{if(t){if(Gwe(Im,t))return t;xn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Im))}`)}};function Hu(){}function sh(t,e,n){return!e||Im[t]>Im[n]?Hu:e[t].bind(e)}const fbe={error:Hu,warn:Hu,info:Hu,debug:Hu};let Mk=new WeakMap;function xn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return fbe;const i=Mk.get(n);if(i&&i[0]===r)return i[1];const o={error:sh("error",n,r),warn:sh("warn",n,r),info:sh("info",n,r),debug:sh("debug",n,r)};return Mk.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?xn(r):console;function s(){return kr(this,arguments,function*(){var l,u,c,f;if(i)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Rr(dbe(e,n)),w;w=yield Te(v.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const _=f;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Te(JSON.parse(_.data))}catch(x){throw o.error("Could not parse message into JSON:",_.data),o.error("From chunk:",_.raw),x}}}catch(_){u={error:_}}finally{try{!y&&!l&&(c=v.return)&&(yield Te(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(Vx(_))return yield Te(void 0);throw _}finally{h||n.abort()}})}return new Ca(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return kr(this,arguments,function*(){var l,u,c,f;const h=new ay,y=kU(e);try{for(var v=!0,w=Rr(y),_;_=yield Te(w.next()),l=_.done,!l;v=!0){f=_.value,v=!1;const x=f;for(const b of h.decode(x))yield yield Te(b)}}catch(x){u={error:x}}finally{try{!v&&!l&&(c=w.return)&&(yield Te(c.call(w)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield Te(x)})}function s(){return kr(this,arguments,function*(){var l,u,c,f;if(i)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Rr(o()),w;w=yield Te(v.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const _=f;h||_&&(yield yield Te(JSON.parse(_)))}}catch(_){u={error:_}}finally{try{!y&&!l&&(c=v.return)&&(yield Te(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(Vx(_))return yield Te(void 0);throw _}finally{h||n.abort()}})}return new Ca(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ca(()=>i(e),this.controller,this.client),new Ca(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return NU({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=eT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function dbe(t,e){return kr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gr("Attempted to iterate over a response with no body");const a=new pbe,l=new ay,u=kU(t.body);try{for(var c=!0,f=Rr(hbe(u)),h;h=yield Te(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const w=a.decode(v);w&&(yield yield Te(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield Te(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Te(v))}})}function hbe(t){return kr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Rr(t),u;u=yield Te(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?eT(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=cbe(s))!==-1;)yield yield Te(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Te(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Te(s))})}class pbe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=mbe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function mbe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gbe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return xn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ca.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return xn(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tT extends Promise{constructor(e,n,r=gbe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new tT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VU=Symbol("brand.privateNullableHeaders");function*ybe(t){if(!t)return;if(VU in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ik(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Ik(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Lu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of ybe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[VU]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Bge)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var UU;class ly{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Uv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Uv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Am(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:ly.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=Rk(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Rk(Uv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:Xwe(),this.encoder=ebe,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Lu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Lu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Lu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new gr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${$we()}`}makeStatusError(e,n,r,i){return Sn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Uwe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Bwe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new tT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(xn(this).debug(`[${h}] sending request`,us({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new jx;const w=new AbortController,_=await this.fetchWithTimeout(c,u,f,w).catch(Ux),x=Date.now();if(_ instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new jx;const N=Vx(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return xn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${T}`),xn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${T})`,us({retryOfRequestLogID:r,url:c,durationMs:x-v,message:_.message})),this.retryRequest(a,n,r??h);throw xn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),xn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:c,durationMs:x-v,message:_.message})),N?new wU:new sy({cause:_})}const b=`[${h}${y}] ${u.method} ${c} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${x-v}ms`;if(!_.ok){const T=await this.shouldRetry(_);if(n&&T){const I=`retrying, ${n} attempts remaining`;return await Zwe(_.body),xn(this).info(`${b} - ${I}`),xn(this).debug(`[${h}] response error (${I})`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),this.retryRequest(a,n,r??h,_.headers)}const N=T?"error; no more retries left":"error; not retryable";xn(this).info(`${b} - ${N}`);const A=await _.text().catch(I=>Ux(I).message),P=zwe(A),S=P?void 0:A;throw xn(this).debug(`[${h}] response error (${N})`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:S,durationMs:Date.now()-v})),this.makeStatusError(_.status,P,S,_.headers)}return xn(this).info(b),xn(this).debug(`[${h}] response start`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),{response:_,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Am(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Hwe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&qwe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Lu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Ywe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Lu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Qwe(e)}:this.encoder({body:e,headers:r})}}ly.DEFAULT_TIMEOUT=6e4;class zt extends ly{constructor(){super(...arguments),this.interactions=new $U(this)}}UU=zt;zt.GeminiNextGenAPIClient=UU;zt.GeminiNextGenAPIClientError=gr;zt.APIError=Sn;zt.APIConnectionError=sy;zt.APIConnectionTimeoutError=wU;zt.APIUserAbortError=jx;zt.NotFoundError=SU;zt.ConflictError=AU;zt.RateLimitError=CU;zt.BadRequestError=bU;zt.AuthenticationError=EU;zt.InternalServerError=PU;zt.PermissionDeniedError=TU;zt.UnprocessableEntityError=IU;zt.toFile=obe;zt.Interactions=$U;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vbe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function _be(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function xbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function wbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function bbe(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);if(s!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Ebe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=d(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec"],Ok(y))}else if(i==="PREFERENCE_TUNING"){const y=d(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec"],Ok(y))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=d(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=d(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=d(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=d(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=d(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=d(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=d(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=d(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Tbe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&Dbe(o);const s=d(t,["config"]);return s!=null&&bbe(s,n),n}function Sbe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&Lbe(o,n,e);const s=d(t,["config"]);return s!=null&&Ebe(s,n,e),n}function Abe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Ibe(t,e){const n={},r=d(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Cbe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function Pbe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function Nbe(t,e){const n={},r=d(t,["config"]);return r!=null&&Cbe(r,n),n}function kbe(t,e){const n={},r=d(t,["config"]);return r!=null&&Pbe(r,n),n}function Rbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>jU(a))),m(n,["tuningJobs"],s)}return n}function Mbe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Gx(a))),m(n,["tuningJobs"],s)}return n}function Obe(t,e){const n={},r=d(t,["name"]);r!=null&&m(n,["model"],r);const i=d(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Dbe(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Lbe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function jU(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["state"]);o!=null&&m(n,["state"],nU(o));const s=d(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=d(t,["tuningTask","startTime"]);a!=null&&m(n,["startTime"],a);const l=d(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&m(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&m(n,["tunedModel"],Obe(h)),n}function Gx(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["state"]);o!=null&&m(n,["state"],nU(o));const s=d(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=d(t,["startTime"]);a!=null&&m(n,["startTime"],a);const l=d(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&m(n,["error"],c);const f=d(t,["description"]);f!=null&&m(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const y=d(t,["tunedModel"]);y!=null&&m(n,["tunedModel"],y);const v=d(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const w=d(t,["supervisedTuningSpec"]);w!=null&&m(n,["supervisedTuningSpec"],w);const _=d(t,["preferenceOptimizationSpec"]);_!=null&&m(n,["preferenceOptimizationSpec"],_);const x=d(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const b=d(t,["encryptionSpec"]);b!=null&&m(n,["encryptionSpec"],b);const T=d(t,["partnerModelTuningSpec"]);T!=null&&m(n,["partnerModelTuningSpec"],T);const N=d(t,["customBaseModel"]);N!=null&&m(n,["customBaseModel"],N);const A=d(t,["experiment"]);A!=null&&m(n,["experiment"],A);const P=d(t,["labels"]);P!=null&&m(n,["labels"],P);const S=d(t,["outputUri"]);S!=null&&m(n,["outputUri"],S);const C=d(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const I=d(t,["serviceAccount"]);I!=null&&m(n,["serviceAccount"],I);const R=d(t,["tunedModelDisplayName"]);R!=null&&m(n,["tunedModelDisplayName"],R);const M=d(t,["veoTuningSpec"]);return M!=null&&m(n,["veoTuningSpec"],M),n}function $be(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&m(n,["name"],i);const o=d(t,["metadata"]);o!=null&&m(n,["metadata"],o);const s=d(t,["done"]);s!=null&&m(n,["done"],s);const a=d(t,["error"]);return a!=null&&m(n,["error"],a),n}function Ok(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vbe extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys($i.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Nx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ibe(e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Gx(c))}else{const u=Abe(e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>jU(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kbe(e);return a=ce("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Mbe(c),h=new sk;return Object.assign(h,f),h})}else{const u=Nbe(e);return a=ce("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Rbe(c),h=new sk;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_be(e);return a=ce("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=wbe(c),h=new ak;return Object.assign(h,f),h})}else{const u=vbe(e);return a=ce("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=xbe(c),h=new ak;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Sbe(e,e);return o=ce("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Gx(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Tbe(e);return o=ce("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>$be(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ube{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jbe=1024*1024*8,Fbe=3,Bbe=1e3,Gbe=2,Cm="x-goog-upload-status";async function qbe(t,e,n){var r;const i=await FU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function zbe(t,e,n){var r;const i=await FU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=YV(o),a=new KE;return Object.assign(a,s),a}async function FU(t,e,n){var r,i;let o=0,s=0,a=new Rx(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(jbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=Bbe;for(;f<Fbe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Cm]));)f++,await Wbe(h),h=h*Gbe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Cm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function Hbe(t){return{size:t.size,type:t.type}}function Wbe(t){return new Promise(e=>setTimeout(e,t))}class Kbe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qbe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zbe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hbe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jbe{create(e,n,r){return new Ybe(e,n,r)}}class Ybe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dk="x-goog-api-key";class Xbe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Dk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Dk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qbe="gl-node/";class Zbe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Hge(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Xbe(this.apiKey);this.apiClient=new Hxe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Qbe+"web",uploader:new Kbe,downloader:new Ube}),this.models=new fwe(this.apiClient),this.live=new owe(this.apiClient,i,new Jbe),this.batches=new wve(this.apiClient),this.chats=new n0e(this.models,this.apiClient),this.caches=new Zve(this.apiClient),this.files=new d0e(this.apiClient),this.operations=new dwe(this.apiClient),this.authTokens=new Cwe(this.apiClient),this.tunings=new Vbe(this.apiClient),this.fileSearchStores=new Lwe(this.apiClient)}}var eEe={};async function tEe(t,e){const n=new Zbe({apiKey:eEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{invoiceNumber:{type:pt.STRING},supplierName:{type:pt.STRING},supplierCuit:{type:pt.STRING},date:{type:pt.STRING},items:{type:pt.ARRAY,items:{type:pt.OBJECT,properties:{sku:{type:pt.STRING},description:{type:pt.STRING},quantity:{type:pt.NUMBER},unitPrice:{type:pt.NUMBER},total:{type:pt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:pt.NUMBER},iva:{type:pt.NUMBER},totalAmount:{type:pt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const nEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=dg(),n=$.useRef(null),[r,i]=$.useState("ia"),[o,s]=$.useState(!1),[a,l]=$.useState(!1),[u,c]=$.useState(null),[f,h]=$.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=x=>{var T;const b=(T=x.target.files)==null?void 0:T[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},v=async()=>{if(u){s(!0);try{const x=u.preview.split(",")[1],b=await tEe(x,u.type),T=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:T})}catch(x){console.error(x),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const x of f.items)if(x.matchedProduct){const b=(x.matchedProduct.stock||0)+x.quantity;await t(x.matchedProduct.id,{costPrice:x.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},_=f.items.reduce((x,b)=>x+b.unitPrice*b.quantity,0);return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),g.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),g.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[g.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(o_,{className:"w-4 h-4"})," IA Scan"]}),g.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx($o,{className:"w-4 h-4"})," Manual"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(F9,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?g.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[g.jsx(Vc,{className:"w-16 h-16 mb-4 text-orange-500"}),g.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),g.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:g.jsx(Jr,{className:"w-5 h-5"})})]}),g.jsxs("button",{onClick:v,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?g.jsx(ki,{className:"w-5 h-5 animate-spin"}):g.jsx(o_,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):g.jsxs("div",{onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:g.jsx(Vc,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),g.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),g.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),g.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Db,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),g.jsx("input",{value:f.supplierName,onChange:x=>h({...f,supplierName:x.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),g.jsx("input",{value:f.invoiceNumber,onChange:x=>h({...f,invoiceNumber:x.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),g.jsx("input",{type:"date",value:f.date,onChange:x=>h({...f,date:x.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),g.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(pD,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),g.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),g.jsx("div",{className:"flex-1 overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),g.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),g.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"p-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[g.jsx(i_,{className:"w-12 h-12"}),g.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((x,b)=>g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsx("td",{className:"px-8 py-4",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.description}),x.matchedProduct?g.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[g.jsx(vp,{className:"w-3 h-3"}),g.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",x.matchedProduct.name]})]}):g.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[g.jsx(Ch,{className:"w-3 h-3"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),g.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:x.quantity}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",x.unitPrice.toLocaleString()]}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",x.total.toLocaleString()]}),g.jsx("td",{className:"px-6 py-4 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:g.jsx(cl,{className:"w-4 h-4"})})})]},b))})]})}),g.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),g.jsxs("p",{className:"text-3xl font-black",children:["$",_.toLocaleString()]})]}),g.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),g.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(_*1.21).toLocaleString()]})]})]}),g.jsxs("button",{onClick:w,disabled:a||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?g.jsx(ki,{className:"animate-spin w-6 h-6"}):g.jsx(Lb,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},rEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),[l,u]=$.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await Co(ke(pe,"clients"));e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(y){console.error(y)}finally{o(!1)}};$.useEffect(()=>{c()},[]);const f=async y=>{y.preventDefault();try{await Kt(ke(pe,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var v;return y.name.toLowerCase().includes(n.toLowerCase())||((v=y.cuit)==null?void 0:v.includes(n))});return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[g.jsx($o,{size:20})," Nuevo Cliente"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(Bf,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(Vb,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),g.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[g.jsxs("div",{className:"relative w-full md:w-96",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),g.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[g.jsx(N9,{size:16})," Exportar Listado"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),g.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),g.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:g.jsx(V9,{size:14})}),g.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:g.jsx($9,{size:14})})]})}),g.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),g.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:g.jsx(Jr,{size:24})})]}),g.jsxs("form",{onSubmit:f,className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"col-span-2 space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),g.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},iEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),l=async()=>{o(!0);try{const u=await Co(ke(pe,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return $.useEffect(()=>{l()},[]),g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[g.jsx($o,{size:20})," Nuevo Proveedor"]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),g.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),g.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},oEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=dg(),[s,a]=$.useState("boxes"),[l,u]=$.useState({show:!1,type:null}),[c,f]=$.useState(!1),[h,y]=$.useState(!1),[v,w]=$.useState(null),[_,x]=$.useState(null),[b,T]=$.useState(!1),N=$.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=$.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),M=parseFloat(R.get("amount")),D=R.get("boxId"),O=l.type,j=e.find(B=>B.id===D);if(!j){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:M,type:O,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:M,netAmount:M}]});const B=O==="egreso"?j.balance-M:j.balance+M;await r(D,{balance:B}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async I=>{I.preventDefault(),T(!0);const R=new FormData(I.currentTarget),M=R.get("name"),D=R.get("type"),O=R.get("responsible"),j=parseFloat(R.get("balance"))||0;try{_?await r(_.id,{name:M,type:D,responsible:O}):await n({name:M,type:D,responsible:O,balance:j,status:"abierta"}),y(!1),x(null)}finally{T(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[g.jsx(lD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[g.jsx(w9,{className:"w-5 h-5"})," Ingreso Manual"]}),g.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[g.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),g.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),g.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx(wp,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),g.jsx(ja,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:g.jsx(uA,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:g.jsx(fA,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:g.jsx(r_,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[g.jsx("div",{className:"lg:col-span-2 space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>g.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?g.jsx(fA,{className:"w-6 h-6"}):I.type==="virtual"?g.jsx(r_,{className:"w-6 h-6"}):g.jsx(Vb,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>{x(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:g.jsx(mD,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:g.jsx(cl,{className:"w-4 h-4"})})]})]}),g.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),g.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&g.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[g.jsx(Bf,{className:"w-4 h-4"}),g.jsxs("span",{children:["Resp: ",g.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{onClick:()=>{w(I),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[g.jsx(S9,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[g.jsx(b9,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&g.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),g.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[g.jsx($o,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),g.jsxs("button",{onClick:()=>{x(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:g.jsx($o,{className:"w-8 h-8"})}),g.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),g.jsx("div",{className:"space-y-6",children:g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(yD,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),g.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:g.jsx(Db,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[g.jsxs("div",{className:"relative flex-1 w-full",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),g.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[g.jsx(R9,{className:"w-4 h-4"})," Filtros"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),g.jsx("th",{className:"px-8 py-5",children:"Caja"}),g.jsx("th",{className:"px-8 py-5",children:"Concepto"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(M=>M.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),g.jsx("td",{className:"px-8 py-5 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:g.jsx(dD,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:g.jsx(uA,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),g.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),g.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[g.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>g.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),g.jsx(A9,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),g.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),g.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[g.jsx("option",{value:"gasto",children:"Gasto General"}),g.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),g.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),g.jsx("option",{value:"venta",children:"Venta / Cobranza"}),g.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),g.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),g.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),g.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[g.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),g.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:_?"Editar Fondo":"Nueva Caja / Fondo"}),g.jsx("button",{onClick:()=>y(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),g.jsx("input",{name:"name",defaultValue:_==null?void 0:_.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),g.jsxs("select",{name:"type",defaultValue:_==null?void 0:_.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[g.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),g.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),g.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!_&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),g.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),g.jsx("input",{name:"responsible",defaultValue:_==null?void 0:_.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),g.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?g.jsx(ki,{className:"animate-spin w-5 h-5 mx-auto"}):_?"Guardar Cambios":"Crear Fondo"})]})]})})]})},sEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>{const[r,i]=$.useState("company"),o=()=>{alert("Configuracin actualizada correctamente.")};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona los datos de tu empresa."})]}),g.jsxs("button",{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs flex items-center gap-2 shadow-xl",children:[g.jsx(Lb,{size:18})," Guardar"]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[g.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"company",label:"Mi Empresa",icon:cA},{id:"printing",label:"Impresin",icon:hA},{id:"afip",label:"ARCA / AFIP",icon:wp},{id:"margins",label:"Ganancias",icon:dA}].map(s=>g.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center justify-between px-6 py-4 rounded-2xl font-bold text-sm transition-all ${r===s.id?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-400 hover:bg-slate-50 border border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(s.icon,{size:18}),g.jsx("span",{children:s.label})]}),r===s.id&&g.jsx(_p,{size:14})]},s.id))}),g.jsxs("div",{className:"flex-1 bg-white rounded-[3rem] p-10 shadow-sm border border-slate-100 min-h-[500px]",children:[r==="company"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(cA,{className:"text-orange-600"})," Empresa"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"Ferretera Bruzzone"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CUIT"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"30-71122334-9"})]})]})]}),r==="printing"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(hA,{className:"text-orange-600"})," Impresin"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] flex justify-between items-center",children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Formato de Hoja"}),g.jsxs("select",{className:"p-3 bg-white rounded-xl font-bold border-none outline-none shadow-sm",children:[g.jsx("option",{children:"80mm (Ticket)"}),g.jsx("option",{children:"A4 (Factura)"})]})]})]}),r==="afip"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border border-orange-100 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-black text-orange-900 tracking-tight",children:"ARCA / AFIP"}),g.jsx("p",{className:"text-sm text-orange-700 italic",children:"Servicio de Facturacin en Lnea"})]}),g.jsx(wp,{size:40,className:"text-orange-600"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Punto de Venta"}),g.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-black text-xl",defaultValue:"5"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"IVA"}),g.jsxs("select",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none border-none",children:[g.jsx("option",{children:"Responsable Inscripto"}),g.jsx("option",{children:"Monotributista"})]})]})]})]}),r==="margins"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(dA,{className:"text-orange-600"})," Ganancias"]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[g.jsx("p",{className:"text-[10px] font-black uppercase text-orange-400 mb-4",children:"Markup Sugerido"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("input",{type:"number",className:"bg-white/10 text-white text-5xl font-black p-4 rounded-2xl w-40 outline-none",defaultValue:"30"}),g.jsx("span",{className:"text-4xl font-black text-slate-500",children:"%"})]})]})]})]})]})]})},aEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),s=async()=>{o(!0);const l=await Co(ke(pe,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};$.useEffect(()=>{s()},[]);const a=async l=>{const u=Ke(pe,"products",l.id);await Nn(u,{isPublic:!l.isPublic}),s()};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:g.jsx(Uc,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),g.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:g.jsx($b,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),g.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xD,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),g.jsxs("div",{className:"relative w-96",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),g.jsx("td",{className:"px-8 py-5",children:l.isPublic?g.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[g.jsx(dD,{size:12})," Pblico"]}):g.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[g.jsx(k9,{size:12})," Privado"]})}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},lEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),g.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[g.jsx($o,{size:20})," Nuevo Presupuesto"]})]}),g.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[g.jsx(Vc,{size:48,className:"mx-auto text-slate-200 mb-4"}),g.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),uEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),g.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),g.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),cEe=()=>g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),g.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[g.jsx(q9,{size:20})," Nuevo Acceso"]})]}),g.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),g.jsx("th",{className:"px-8 py-5",children:"Rango"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),g.jsx("td",{className:"px-8 py-6",children:g.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),g.jsx("td",{className:"px-8 py-6 text-right",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:g.jsx(cl,{size:18})})})]})})]})})]}),fEe=()=>{const[t,e]=$.useState(["dashboard"]),[n,r]=$.useState("dashboard"),[i,o]=$.useState(!1),[s,a]=$.useState({name:"",role:"admin"}),l=(h,y)=>{a({name:y,role:h}),o(!0)},u=h=>{t.includes(h)||e(y=>[...y,h]),r(h)},c=h=>{if(h==="dashboard")return;const y=t.filter(v=>v!==h);e(y),n===h&&r(y[y.length-1])};if(!i)return g.jsx(K9,{onLoginSuccess:l});const f=h=>{switch(h){case"dashboard":return g.jsx(Vge,{openTab:u});case"inventory":return g.jsx(jge,{});case"sales":return g.jsx(Fge,{});case"purchases":return g.jsx(nEe,{});case"clients":return g.jsx(rEe,{});case"suppliers":return g.jsx(iEe,{});case"cashier":return g.jsx(oEe,{});case"quotes":return g.jsx(lEe,{});case"ecommerce":return g.jsx(aEe,{});case"stock-adjustment":return g.jsx(uEe,{});case"users":return g.jsx(cEe,{});case"settings":return g.jsx(sEe,{isAdmin:s.role==="admin",companyInfo:{},setCompanyInfo:()=>{}});default:return g.jsx("div",{className:"p-10",children:"Mdulo en construccin"})}};return g.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[g.jsx(z9,{activeTab:n,setActiveTab:u,currentUser:s,onLogout:()=>o(!1)}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g.jsx(W9,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:c}),g.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(h=>g.jsx("div",{className:h===n?"block":"hidden",children:f(h)},h))})]})]})};function dEe(){return g.jsx(v9,{children:g.jsx(fEe,{})})}const BU=document.getElementById("root");if(!BU)throw new Error("Could not find root element to mount to");const hEe=jv.createRoot(BU);hEe.render(g.jsx(V.StrictMode,{children:g.jsx(dEe,{})}));
