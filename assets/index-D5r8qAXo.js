(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SI={exports:{}},qg={},EI={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=Symbol.for("react.element"),_3=Symbol.for("react.portal"),N3=Symbol.for("react.fragment"),S3=Symbol.for("react.strict_mode"),E3=Symbol.for("react.profiler"),T3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),k3=Symbol.for("react.forward_ref"),C3=Symbol.for("react.suspense"),j3=Symbol.for("react.memo"),P3=Symbol.for("react.lazy"),vE=Symbol.iterator;function I3(t){return t===null||typeof t!="object"?null:(t=vE&&t[vE]||t["@@iterator"],typeof t=="function"?t:null)}var TI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AI=Object.assign,kI={};function Tc(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||TI}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CI(){}CI.prototype=Tc.prototype;function m1(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||TI}var g1=m1.prototype=new CI;g1.constructor=m1;AI(g1,Tc.prototype);g1.isPureReactComponent=!0;var bE=Array.isArray,jI=Object.prototype.hasOwnProperty,x1={current:null},PI={key:!0,ref:!0,__self:!0,__source:!0};function II(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jI.call(e,r)&&!PI.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pf,type:t,key:s,ref:o,props:i,_owner:x1.current}}function R3(t,e){return{$$typeof:Pf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pf}function M3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wE=/\/+/g;function Fx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M3(""+t.key):e.toString(36)}function fp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pf:case _3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fx(o,0):r,bE(i)?(n="",t!=null&&(n=t.replace(wE,"$&/")+"/"),fp(i,e,n,"",function(u){return u})):i!=null&&(y1(i)&&(i=R3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bE(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Fx(s,l);o+=fp(s,e,n,c,i)}else if(c=I3(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Fx(s,l++),o+=fp(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nh(t,e,n){if(t==null)return t;var r=[],i=0;return fp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function O3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},hp={transition:null},D3={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:hp,ReactCurrentOwner:x1};function RI(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Nh,forEach:function(t,e,n){Nh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nh(t,function(){e++}),e},toArray:function(t){return Nh(t,function(e){return e})||[]},only:function(t){if(!y1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Tc;qe.Fragment=N3;qe.Profiler=E3;qe.PureComponent=m1;qe.StrictMode=S3;qe.Suspense=C3;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;qe.act=RI;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=x1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)jI.call(e,c)&&!PI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pf,type:t.type,key:i,ref:s,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:A3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T3,_context:t},t.Consumer=t};qe.createElement=II;qe.createFactory=function(t){var e=II.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:k3,render:t}};qe.isValidElement=y1;qe.lazy=function(t){return{$$typeof:P3,_payload:{_status:-1,_result:t},_init:O3}};qe.memo=function(t,e){return{$$typeof:j3,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=hp.transition;hp.transition={};try{t()}finally{hp.transition=e}};qe.unstable_act=RI;qe.useCallback=function(t,e){return qn.current.useCallback(t,e)};qe.useContext=function(t){return qn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return qn.current.useEffect(t,e)};qe.useId=function(){return qn.current.useId()};qe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return qn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};qe.useRef=function(t){return qn.current.useRef(t)};qe.useState=function(t){return qn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return qn.current.useTransition()};qe.version="18.3.1";EI.exports=qe;var D=EI.exports;const B=ot(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=D,$3=Symbol.for("react.element"),F3=Symbol.for("react.fragment"),V3=Object.prototype.hasOwnProperty,U3=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B3={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)V3.call(e,r)&&!B3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$3,type:t,key:s,ref:o,props:i,_owner:U3.current}}qg.Fragment=F3;qg.jsx=MI;qg.jsxs=MI;SI.exports=qg;var a=SI.exports,iv={},OI={exports:{}},pr={},DI={exports:{}},LI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,U){var V=z.length;z.push(U);e:for(;0<V;){var X=V-1>>>1,Q=z[X];if(0<i(Q,U))z[X]=U,z[V]=Q,V=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],V=z.pop();if(V!==U){z[0]=V;e:for(var X=0,Q=z.length,G=Q>>>1;X<G;){var se=2*(X+1)-1,W=z[se],pe=se+1,Ae=z[pe];if(0>i(W,V))pe<Q&&0>i(Ae,W)?(z[X]=Ae,z[pe]=V,X=pe):(z[X]=W,z[se]=V,X=se);else if(pe<Q&&0>i(Ae,V))z[X]=Ae,z[pe]=V,X=pe;else break e}}return U}function i(z,U){var V=z.sortIndex-U.sortIndex;return V!==0?V:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function C(z){if(w=!1,N(z),!b)if(n(c)!==null)b=!0,L(E);else{var U=n(u);U!==null&&q(C,U.startTime-z)}}function E(z,U){b=!1,w&&(w=!1,v(j),j=-1),x=!0;var V=h;try{for(N(U),f=n(c);f!==null&&(!(f.expirationTime>U)||z&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var Q=X(f.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),N(U)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var se=n(u);se!==null&&q(C,se.startTime-U),G=!1}return G}finally{f=null,h=V,x=!1}}var T=!1,S=null,j=-1,k=5,R=-1;function P(){return!(t.unstable_now()-R<k)}function O(){if(S!==null){var z=t.unstable_now();R=z;var U=!0;try{U=S(!0,z)}finally{U?I():(T=!1,S=null)}}else T=!1}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=O,I=function(){F.postMessage(null)}}else I=function(){y(O,0)};function L(z){S=z,T||(T=!0,I())}function q(z,U){j=y(function(){z(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,L(E))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var V=h;h=U;try{return z()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=h;h=z;try{return U()}finally{h=V}},t.unstable_scheduleCallback=function(z,U,V){var X=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,z={id:d++,callback:U,priorityLevel:z,startTime:V,expirationTime:Q,sortIndex:-1},V>X?(z.sortIndex=V,e(u,z),n(c)===null&&z===n(u)&&(w?(v(j),j=-1):w=!0,q(C,V-X))):(z.sortIndex=Q,e(c,z),b||x||(b=!0,L(E))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var U=h;return function(){var V=h;h=U;try{return z.apply(this,arguments)}finally{h=V}}}})(LI);DI.exports=LI;var q3=DI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3=D,hr=q3;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $I=new Set,md={};function wo(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(md[t]=e,t=0;t<e.length;t++)$I.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,G3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_E={},NE={};function H3(t){return sv.call(NE,t)?!0:sv.call(_E,t)?!1:G3.test(t)?NE[t]=!0:(_E[t]=!0,!1)}function W3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K3(t,e,n,r){if(e===null||typeof e>"u"||W3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function b1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function w1(t,e,n,r){var i=gn.hasOwnProperty(e)?gn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K3(e,n,i,r)&&(n=null),r||i===null?H3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),VI=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),S1=Symbol.for("react.memo"),Cs=Symbol.for("react.lazy"),UI=Symbol.for("react.offscreen"),SE=Symbol.iterator;function du(t){return t===null||typeof t!="object"?null:(t=SE&&t[SE]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Vx;function Ru(t){if(Vx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vx=e&&e[1]||""}return`
`+Vx+t}var Ux=!1;function Bx(t,e){if(!t||Ux)return"";Ux=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ux=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ru(t):""}function J3(t){switch(t.tag){case 5:return Ru(t.type);case 16:return Ru("Lazy");case 13:return Ru("Suspense");case 19:return Ru("SuspenseList");case 0:case 2:case 15:return t=Bx(t.type,!1),t;case 11:return t=Bx(t.type.render,!1),t;case 1:return t=Bx(t.type,!0),t;default:return""}}function cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Wo:return"Portal";case av:return"Profiler";case _1:return"StrictMode";case ov:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VI:return(t.displayName||"Context")+".Consumer";case FI:return(t._context.displayName||"Context")+".Provider";case N1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S1:return e=t.displayName||null,e!==null?e:cv(t.type)||"Memo";case Cs:e=t._payload,t=t._init;try{return cv(t(e))}catch{}}return null}function Y3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(e);case 8:return e===_1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ia(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X3(t){var e=BI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eh(t){t._valueTracker||(t._valueTracker=X3(t))}function qI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uv(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ia(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zI(t,e){e=e.checked,e!=null&&w1(t,"checked",e,!1)}function dv(t,e){zI(t,e);var n=ia(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&fv(t,e.type,ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function TE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fv(t,e,n){(e!=="number"||Lp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mu=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ia(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Mu(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ia(n)}}function GI(t,e){var n=ia(e.value),r=ia(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,WI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q3=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(t){Q3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gu[e]=Gu[t]})});function KI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gu.hasOwnProperty(t)&&Gu[t]?(""+e).trim():e+"px"}function JI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Z3=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(Z3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function gv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xv=null;function E1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yv=null,ml=null,gl=null;function CE(t){if(t=Mf(t)){if(typeof yv!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Kg(e),yv(t.stateNode,t.type,e))}}function YI(t){ml?gl?gl.push(t):gl=[t]:ml=t}function XI(){if(ml){var t=ml,e=gl;if(gl=ml=null,CE(t),e)for(t=0;t<e.length;t++)CE(e[t])}}function QI(t,e){return t(e)}function ZI(){}var qx=!1;function eR(t,e,n){if(qx)return t(e,n);qx=!0;try{return QI(t,e,n)}finally{qx=!1,(ml!==null||gl!==null)&&(ZI(),XI())}}function xd(t,e){var n=t.stateNode;if(n===null)return null;var r=Kg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var vv=!1;if(es)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){vv=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{vv=!1}function eF(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Hu=!1,$p=null,Fp=!1,bv=null,tF={onError:function(t){Hu=!0,$p=t}};function nF(t,e,n,r,i,s,o,l,c){Hu=!1,$p=null,eF.apply(tF,arguments)}function rF(t,e,n,r,i,s,o,l,c){if(nF.apply(this,arguments),Hu){if(Hu){var u=$p;Hu=!1,$p=null}else throw Error(ue(198));Fp||(Fp=!0,bv=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jE(t){if(_o(t)!==t)throw Error(ue(188))}function iF(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jE(i),t;if(s===r)return jE(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function nR(t){return t=iF(t),t!==null?rR(t):null}function rR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rR(t);if(e!==null)return e;t=t.sibling}return null}var iR=hr.unstable_scheduleCallback,PE=hr.unstable_cancelCallback,sF=hr.unstable_shouldYield,aF=hr.unstable_requestPaint,Ft=hr.unstable_now,oF=hr.unstable_getCurrentPriorityLevel,T1=hr.unstable_ImmediatePriority,sR=hr.unstable_UserBlockingPriority,Vp=hr.unstable_NormalPriority,lF=hr.unstable_LowPriority,aR=hr.unstable_IdlePriority,zg=null,xi=null;function cF(t){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(zg,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:fF,uF=Math.log,dF=Math.LN2;function fF(t){return t>>>=0,t===0?32:31-(uF(t)/dF|0)|0}var Ah=64,kh=4194304;function Ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Up(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ou(l):(s&=o,s!==0&&(r=Ou(s)))}else o=n&~i,o!==0?r=Ou(o):s!==0&&(r=Ou(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yr(e),i=1<<n,r|=t[n],e&=~i;return r}function hF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=hF(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oR(){var t=Ah;return Ah<<=1,!(Ah&4194240)&&(Ah=64),t}function zx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function If(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yr(e),t[e]=n}function mF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function A1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var st=0;function lR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cR,k1,uR,dR,fR,_v=!1,Ch=[],zs=null,Gs=null,Hs=null,yd=new Map,vd=new Map,Is=[],gF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IE(t,e){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function hu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mf(e),e!==null&&k1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xF(t,e,n,r,i){switch(e){case"focusin":return zs=hu(zs,t,e,n,r,i),!0;case"dragenter":return Gs=hu(Gs,t,e,n,r,i),!0;case"mouseover":return Hs=hu(Hs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yd.set(s,hu(yd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vd.set(s,hu(vd.get(s)||null,t,e,n,r,i)),!0}return!1}function hR(t){var e=Fa(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=tR(n),e!==null){t.blockedOn=e,fR(t.priority,function(){uR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xv=r,n.target.dispatchEvent(r),xv=null}else return e=Mf(n),e!==null&&k1(e),t.blockedOn=n,!1;e.shift()}return!0}function RE(t,e,n){pp(t)&&n.delete(e)}function yF(){_v=!1,zs!==null&&pp(zs)&&(zs=null),Gs!==null&&pp(Gs)&&(Gs=null),Hs!==null&&pp(Hs)&&(Hs=null),yd.forEach(RE),vd.forEach(RE)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,_v||(_v=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,yF)))}function bd(t){function e(i){return pu(i,t)}if(0<Ch.length){pu(Ch[0],t);for(var n=1;n<Ch.length;n++){var r=Ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zs!==null&&pu(zs,t),Gs!==null&&pu(Gs,t),Hs!==null&&pu(Hs,t),yd.forEach(e),vd.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)hR(n),n.blockedOn===null&&Is.shift()}var xl=ps.ReactCurrentBatchConfig,Bp=!0;function vF(t,e,n,r){var i=st,s=xl.transition;xl.transition=null;try{st=1,C1(t,e,n,r)}finally{st=i,xl.transition=s}}function bF(t,e,n,r){var i=st,s=xl.transition;xl.transition=null;try{st=4,C1(t,e,n,r)}finally{st=i,xl.transition=s}}function C1(t,e,n,r){if(Bp){var i=Nv(t,e,n,r);if(i===null)ey(t,e,r,qp,n),IE(t,r);else if(xF(i,t,e,n,r))r.stopPropagation();else if(IE(t,r),e&4&&-1<gF.indexOf(t)){for(;i!==null;){var s=Mf(i);if(s!==null&&cR(s),s=Nv(t,e,n,r),s===null&&ey(t,e,r,qp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ey(t,e,r,null,n)}}var qp=null;function Nv(t,e,n,r){if(qp=null,t=E1(r),t=Fa(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qp=t,null}function pR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oF()){case T1:return 1;case sR:return 4;case Vp:case lF:return 16;case aR:return 536870912;default:return 16}default:return 16}}var $s=null,j1=null,mp=null;function mR(){if(mp)return mp;var t,e=j1,n=e.length,r,i="value"in $s?$s.value:$s.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mp=i.slice(t,1<r?1-r:void 0)}function gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jh(){return!0}function ME(){return!1}function mr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jh:ME,this.isPropagationStopped=ME,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),e}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P1=mr(Ac),Rf=jt({},Ac,{view:0,detail:0}),wF=mr(Rf),Gx,Hx,mu,Gg=jt({},Rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mu&&(mu&&t.type==="mousemove"?(Gx=t.screenX-mu.screenX,Hx=t.screenY-mu.screenY):Hx=Gx=0,mu=t),Gx)},movementY:function(t){return"movementY"in t?t.movementY:Hx}}),OE=mr(Gg),_F=jt({},Gg,{dataTransfer:0}),NF=mr(_F),SF=jt({},Rf,{relatedTarget:0}),Wx=mr(SF),EF=jt({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),TF=mr(EF),AF=jt({},Ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kF=mr(AF),CF=jt({},Ac,{data:0}),DE=mr(CF),jF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IF[t])?!!e[t]:!1}function I1(){return RF}var MF=jt({},Rf,{key:function(t){if(t.key){var e=jF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(t){return t.type==="keypress"?gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OF=mr(MF),DF=jt({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LE=mr(DF),LF=jt({},Rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),$F=mr(LF),FF=jt({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),VF=mr(FF),UF=jt({},Gg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BF=mr(UF),qF=[9,13,27,32],R1=es&&"CompositionEvent"in window,Wu=null;es&&"documentMode"in document&&(Wu=document.documentMode);var zF=es&&"TextEvent"in window&&!Wu,gR=es&&(!R1||Wu&&8<Wu&&11>=Wu),$E=" ",FE=!1;function xR(t,e){switch(t){case"keyup":return qF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function GF(t,e){switch(t){case"compositionend":return yR(e);case"keypress":return e.which!==32?null:(FE=!0,$E);case"textInput":return t=e.data,t===$E&&FE?null:t;default:return null}}function HF(t,e){if(Jo)return t==="compositionend"||!R1&&xR(t,e)?(t=mR(),mp=j1=$s=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gR&&e.locale!=="ko"?null:e.data;default:return null}}var WF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WF[t.type]:e==="textarea"}function vR(t,e,n,r){YI(r),e=zp(e,"onChange"),0<e.length&&(n=new P1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ku=null,wd=null;function KF(t){jR(t,0)}function Hg(t){var e=Qo(t);if(qI(e))return t}function JF(t,e){if(t==="change")return e}var bR=!1;if(es){var Kx;if(es){var Jx="oninput"in document;if(!Jx){var UE=document.createElement("div");UE.setAttribute("oninput","return;"),Jx=typeof UE.oninput=="function"}Kx=Jx}else Kx=!1;bR=Kx&&(!document.documentMode||9<document.documentMode)}function BE(){Ku&&(Ku.detachEvent("onpropertychange",wR),wd=Ku=null)}function wR(t){if(t.propertyName==="value"&&Hg(wd)){var e=[];vR(e,wd,t,E1(t)),eR(KF,e)}}function YF(t,e,n){t==="focusin"?(BE(),Ku=e,wd=n,Ku.attachEvent("onpropertychange",wR)):t==="focusout"&&BE()}function XF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hg(wd)}function QF(t,e){if(t==="click")return Hg(e)}function ZF(t,e){if(t==="input"||t==="change")return Hg(e)}function eV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ii=typeof Object.is=="function"?Object.is:eV;function _d(t,e){if(ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sv.call(e,i)||!ii(t[i],e[i]))return!1}return!0}function qE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zE(t,e){var n=qE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qE(n)}}function _R(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_R(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NR(){for(var t=window,e=Lp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lp(t.document)}return e}function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tV(t){var e=NR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_R(n.ownerDocument.documentElement,n)){if(r!==null&&M1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zE(n,s);var o=zE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nV=es&&"documentMode"in document&&11>=document.documentMode,Yo=null,Sv=null,Ju=null,Ev=!1;function GE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ev||Yo==null||Yo!==Lp(r)||(r=Yo,"selectionStart"in r&&M1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ju&&_d(Ju,r)||(Ju=r,r=zp(Sv,"onSelect"),0<r.length&&(e=new P1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},Yx={},SR={};es&&(SR=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Wg(t){if(Yx[t])return Yx[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SR)return Yx[t]=e[n];return t}var ER=Wg("animationend"),TR=Wg("animationiteration"),AR=Wg("animationstart"),kR=Wg("transitionend"),CR=new Map,HE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){CR.set(t,e),wo(e,[t])}for(var Xx=0;Xx<HE.length;Xx++){var Qx=HE[Xx],rV=Qx.toLowerCase(),iV=Qx[0].toUpperCase()+Qx.slice(1);pa(rV,"on"+iV)}pa(ER,"onAnimationEnd");pa(TR,"onAnimationIteration");pa(AR,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(kR,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function WE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rF(r,e,void 0,t),t.currentTarget=null}function jR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;WE(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;WE(i,l,u),s=c}}}if(Fp)throw t=bv,Fp=!1,bv=null,t}function vt(t,e){var n=e[jv];n===void 0&&(n=e[jv]=new Set);var r=t+"__bubble";n.has(r)||(PR(e,t,2,!1),n.add(r))}function Zx(t,e,n){var r=0;e&&(r|=4),PR(n,t,r,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Ih]){t[Ih]=!0,$I.forEach(function(n){n!=="selectionchange"&&(sV.has(n)||Zx(n,!1,t),Zx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,Zx("selectionchange",!1,e))}}function PR(t,e,n,r){switch(pR(e)){case 1:var i=vF;break;case 4:i=bF;break;default:i=C1}n=i.bind(null,e,n,t),i=void 0,!vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ey(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Fa(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}eR(function(){var u=s,d=E1(n),f=[];e:{var h=CR.get(t);if(h!==void 0){var x=P1,b=t;switch(t){case"keypress":if(gp(n)===0)break e;case"keydown":case"keyup":x=OF;break;case"focusin":b="focus",x=Wx;break;case"focusout":b="blur",x=Wx;break;case"beforeblur":case"afterblur":x=Wx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=OE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=NF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=$F;break;case ER:case TR:case AR:x=TF;break;case kR:x=VF;break;case"scroll":x=wF;break;case"wheel":x=BF;break;case"copy":case"cut":case"paste":x=kF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=LE}var w=(e&4)!==0,y=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var _=u,N;_!==null;){N=_;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,v!==null&&(C=xd(_,v),C!=null&&w.push(Sd(_,C,N)))),y)break;_=_.return}0<w.length&&(h=new x(h,b,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==xv&&(b=n.relatedTarget||n.fromElement)&&(Fa(b)||b[ts]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=u,b=b?Fa(b):null,b!==null&&(y=_o(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(w=OE,C="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=LE,C="onPointerLeave",v="onPointerEnter",_="pointer"),y=x==null?h:Qo(x),N=b==null?h:Qo(b),h=new w(C,_+"leave",x,n,d),h.target=y,h.relatedTarget=N,C=null,Fa(d)===u&&(w=new w(v,_+"enter",b,n,d),w.target=N,w.relatedTarget=y,C=w),y=C,x&&b)t:{for(w=x,v=b,_=0,N=w;N;N=Lo(N))_++;for(N=0,C=v;C;C=Lo(C))N++;for(;0<_-N;)w=Lo(w),_--;for(;0<N-_;)v=Lo(v),N--;for(;_--;){if(w===v||v!==null&&w===v.alternate)break t;w=Lo(w),v=Lo(v)}w=null}else w=null;x!==null&&KE(f,h,x,w,!1),b!==null&&y!==null&&KE(f,y,b,w,!0)}}e:{if(h=u?Qo(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var E=JF;else if(VE(h))if(bR)E=ZF;else{E=XF;var T=YF}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=QF);if(E&&(E=E(t,u))){vR(f,E,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&fv(h,"number",h.value)}switch(T=u?Qo(u):window,t){case"focusin":(VE(T)||T.contentEditable==="true")&&(Yo=T,Sv=u,Ju=null);break;case"focusout":Ju=Sv=Yo=null;break;case"mousedown":Ev=!0;break;case"contextmenu":case"mouseup":case"dragend":Ev=!1,GE(f,n,d);break;case"selectionchange":if(nV)break;case"keydown":case"keyup":GE(f,n,d)}var S;if(R1)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Jo?xR(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(gR&&n.locale!=="ko"&&(Jo||j!=="onCompositionStart"?j==="onCompositionEnd"&&Jo&&(S=mR()):($s=d,j1="value"in $s?$s.value:$s.textContent,Jo=!0)),T=zp(u,j),0<T.length&&(j=new DE(j,t,null,n,d),f.push({event:j,listeners:T}),S?j.data=S:(S=yR(n),S!==null&&(j.data=S)))),(S=zF?GF(t,n):HF(t,n))&&(u=zp(u,"onBeforeInput"),0<u.length&&(d=new DE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}jR(f,e)})}function Sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xd(t,n),s!=null&&r.unshift(Sd(t,s,i)),s=xd(t,e),s!=null&&r.push(Sd(t,s,i))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=xd(n,s),c!=null&&o.unshift(Sd(n,c,l))):i||(c=xd(n,s),c!=null&&o.push(Sd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aV=/\r\n?/g,oV=/\u0000|\uFFFD/g;function JE(t){return(typeof t=="string"?t:""+t).replace(aV,`
`).replace(oV,"")}function Rh(t,e,n){if(e=JE(e),JE(t)!==e&&n)throw Error(ue(425))}function Gp(){}var Tv=null,Av=null;function kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,lV=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,cV=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(t){return YE.resolve(null).then(t).catch(uV)}:Cv;function uV(t){setTimeout(function(){throw t})}function ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bd(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kc=Math.random().toString(36).slice(2),pi="__reactFiber$"+kc,Ed="__reactProps$"+kc,ts="__reactContainer$"+kc,jv="__reactEvents$"+kc,dV="__reactListeners$"+kc,fV="__reactHandles$"+kc;function Fa(t){var e=t[pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ts]||n[pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XE(t);t!==null;){if(n=t[pi])return n;t=XE(t)}return e}t=n,n=t.parentNode}return null}function Mf(t){return t=t[pi]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Kg(t){return t[Ed]||null}var Pv=[],Zo=-1;function ma(t){return{current:t}}function _t(t){0>Zo||(t.current=Pv[Zo],Pv[Zo]=null,Zo--)}function gt(t,e){Zo++,Pv[Zo]=t.current,t.current=e}var sa={},Pn=ma(sa),er=ma(!1),ro=sa;function Rl(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function Hp(){_t(er),_t(Pn)}function QE(t,e,n){if(Pn.current!==sa)throw Error(ue(168));gt(Pn,e),gt(er,n)}function IR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,Y3(t)||"Unknown",i));return jt({},n,r)}function Wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,ro=Pn.current,gt(Pn,t),gt(er,er.current),!0}function ZE(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=IR(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,_t(er),_t(Pn),gt(Pn,t)):_t(er),gt(er,n)}var Li=null,Jg=!1,ny=!1;function RR(t){Li===null?Li=[t]:Li.push(t)}function hV(t){Jg=!0,RR(t)}function ga(){if(!ny&&Li!==null){ny=!0;var t=0,e=st;try{var n=Li;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Li=null,Jg=!1}catch(i){throw Li!==null&&(Li=Li.slice(t+1)),iR(T1,ga),i}finally{st=e,ny=!1}}return null}var el=[],tl=0,Kp=null,Jp=0,_r=[],Nr=0,io=null,Fi=1,Vi="";function Pa(t,e){el[tl++]=Jp,el[tl++]=Kp,Kp=t,Jp=e}function MR(t,e,n){_r[Nr++]=Fi,_r[Nr++]=Vi,_r[Nr++]=io,io=t;var r=Fi;t=Vi;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var s=32-Yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fi=1<<32-Yr(e)+i|n<<i|r,Vi=s+t}else Fi=1<<s|n<<i|r,Vi=t}function O1(t){t.return!==null&&(Pa(t,1),MR(t,1,0))}function D1(t){for(;t===Kp;)Kp=el[--tl],el[tl]=null,Jp=el[--tl],el[tl]=null;for(;t===io;)io=_r[--Nr],_r[Nr]=null,Vi=_r[--Nr],_r[Nr]=null,Fi=_r[--Nr],_r[Nr]=null}var dr=null,cr=null,Et=!1,Kr=null;function OR(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,cr=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:Fi,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,cr=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rv(t){if(Et){var e=cr;if(e){var n=e;if(!eT(t,e)){if(Iv(t))throw Error(ue(418));e=Ws(n.nextSibling);var r=dr;e&&eT(t,e)?OR(r,n):(t.flags=t.flags&-4097|2,Et=!1,dr=t)}}else{if(Iv(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Et=!1,dr=t}}}function tT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function Mh(t){if(t!==dr)return!1;if(!Et)return tT(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kv(t.type,t.memoizedProps)),e&&(e=cr)){if(Iv(t))throw DR(),Error(ue(418));for(;e;)OR(t,e),e=Ws(e.nextSibling)}if(tT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=Ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=dr?Ws(t.stateNode.nextSibling):null;return!0}function DR(){for(var t=cr;t;)t=Ws(t.nextSibling)}function Ml(){cr=dr=null,Et=!1}function L1(t){Kr===null?Kr=[t]:Kr.push(t)}var pV=ps.ReactCurrentBatchConfig;function gu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nT(t){var e=t._init;return e(t._payload)}function LR(t){function e(v,_){if(t){var N=v.deletions;N===null?(v.deletions=[_],v.flags|=16):N.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Xs(v,_),v.index=0,v.sibling=null,v}function s(v,_,N){return v.index=N,t?(N=v.alternate,N!==null?(N=N.index,N<_?(v.flags|=2,_):N):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,N,C){return _===null||_.tag!==6?(_=cy(N,v.mode,C),_.return=v,_):(_=i(_,N),_.return=v,_)}function c(v,_,N,C){var E=N.type;return E===Ko?d(v,_,N.props.children,C,N.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cs&&nT(E)===_.type)?(C=i(_,N.props),C.ref=gu(v,_,N),C.return=v,C):(C=Np(N.type,N.key,N.props,null,v.mode,C),C.ref=gu(v,_,N),C.return=v,C)}function u(v,_,N,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=uy(N,v.mode,C),_.return=v,_):(_=i(_,N.children||[]),_.return=v,_)}function d(v,_,N,C,E){return _===null||_.tag!==7?(_=Ya(N,v.mode,C,E),_.return=v,_):(_=i(_,N),_.return=v,_)}function f(v,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=cy(""+_,v.mode,N),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sh:return N=Np(_.type,_.key,_.props,null,v.mode,N),N.ref=gu(v,null,_),N.return=v,N;case Wo:return _=uy(_,v.mode,N),_.return=v,_;case Cs:var C=_._init;return f(v,C(_._payload),N)}if(Mu(_)||du(_))return _=Ya(_,v.mode,N,null),_.return=v,_;Oh(v,_)}return null}function h(v,_,N,C){var E=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:l(v,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sh:return N.key===E?c(v,_,N,C):null;case Wo:return N.key===E?u(v,_,N,C):null;case Cs:return E=N._init,h(v,_,E(N._payload),C)}if(Mu(N)||du(N))return E!==null?null:d(v,_,N,C,null);Oh(v,N)}return null}function x(v,_,N,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(N)||null,l(_,v,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sh:return v=v.get(C.key===null?N:C.key)||null,c(_,v,C,E);case Wo:return v=v.get(C.key===null?N:C.key)||null,u(_,v,C,E);case Cs:var T=C._init;return x(v,_,N,T(C._payload),E)}if(Mu(C)||du(C))return v=v.get(N)||null,d(_,v,C,E,null);Oh(_,C)}return null}function b(v,_,N,C){for(var E=null,T=null,S=_,j=_=0,k=null;S!==null&&j<N.length;j++){S.index>j?(k=S,S=null):k=S.sibling;var R=h(v,S,N[j],C);if(R===null){S===null&&(S=k);break}t&&S&&R.alternate===null&&e(v,S),_=s(R,_,j),T===null?E=R:T.sibling=R,T=R,S=k}if(j===N.length)return n(v,S),Et&&Pa(v,j),E;if(S===null){for(;j<N.length;j++)S=f(v,N[j],C),S!==null&&(_=s(S,_,j),T===null?E=S:T.sibling=S,T=S);return Et&&Pa(v,j),E}for(S=r(v,S);j<N.length;j++)k=x(S,v,j,N[j],C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?j:k.key),_=s(k,_,j),T===null?E=k:T.sibling=k,T=k);return t&&S.forEach(function(P){return e(v,P)}),Et&&Pa(v,j),E}function w(v,_,N,C){var E=du(N);if(typeof E!="function")throw Error(ue(150));if(N=E.call(N),N==null)throw Error(ue(151));for(var T=E=null,S=_,j=_=0,k=null,R=N.next();S!==null&&!R.done;j++,R=N.next()){S.index>j?(k=S,S=null):k=S.sibling;var P=h(v,S,R.value,C);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(v,S),_=s(P,_,j),T===null?E=P:T.sibling=P,T=P,S=k}if(R.done)return n(v,S),Et&&Pa(v,j),E;if(S===null){for(;!R.done;j++,R=N.next())R=f(v,R.value,C),R!==null&&(_=s(R,_,j),T===null?E=R:T.sibling=R,T=R);return Et&&Pa(v,j),E}for(S=r(v,S);!R.done;j++,R=N.next())R=x(S,v,j,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?j:R.key),_=s(R,_,j),T===null?E=R:T.sibling=R,T=R);return t&&S.forEach(function(O){return e(v,O)}),Et&&Pa(v,j),E}function y(v,_,N,C){if(typeof N=="object"&&N!==null&&N.type===Ko&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Sh:e:{for(var E=N.key,T=_;T!==null;){if(T.key===E){if(E=N.type,E===Ko){if(T.tag===7){n(v,T.sibling),_=i(T,N.props.children),_.return=v,v=_;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cs&&nT(E)===T.type){n(v,T.sibling),_=i(T,N.props),_.ref=gu(v,T,N),_.return=v,v=_;break e}n(v,T);break}else e(v,T);T=T.sibling}N.type===Ko?(_=Ya(N.props.children,v.mode,C,N.key),_.return=v,v=_):(C=Np(N.type,N.key,N.props,null,v.mode,C),C.ref=gu(v,_,N),C.return=v,v=C)}return o(v);case Wo:e:{for(T=N.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(v,_.sibling),_=i(_,N.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=uy(N,v.mode,C),_.return=v,v=_}return o(v);case Cs:return T=N._init,y(v,_,T(N._payload),C)}if(Mu(N))return b(v,_,N,C);if(du(N))return w(v,_,N,C);Oh(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,N),_.return=v,v=_):(n(v,_),_=cy(N,v.mode,C),_.return=v,v=_),o(v)):n(v,_)}return y}var Ol=LR(!0),$R=LR(!1),Yp=ma(null),Xp=null,nl=null,$1=null;function F1(){$1=nl=Xp=null}function V1(t){var e=Yp.current;_t(Yp),t._currentValue=e}function Mv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){Xp=t,$1=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if($1!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Xp===null)throw Error(ue(308));nl=t,Xp.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Va=null;function U1(t){Va===null?Va=[t]:Va.push(t)}function FR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U1(e)):(n.next=i.next,i.next=n),e.interleaved=n,ns(t,r)}function ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var js=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ns(t,n)}return i=r.interleaved,i===null?(e.next=e,U1(r)):(e.next=i.next,i.next=e),r.interleaved=e,ns(t,n)}function xp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}function rT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qp(t,e,n,r){var i=t.updateQueue;js=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,w=l;switch(h=e,x=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(x,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(x,f,h):b,h==null)break e;f=jt({},f,h);break e;case 2:js=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ao|=o,t.lanes=o,t.memoizedState=f}}function iT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var Of={},yi=ma(Of),Td=ma(Of),Ad=ma(Of);function Ua(t){if(t===Of)throw Error(ue(174));return t}function q1(t,e){switch(gt(Ad,e),gt(Td,t),gt(yi,Of),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}_t(yi),gt(yi,e)}function Dl(){_t(yi),_t(Td),_t(Ad)}function UR(t){Ua(Ad.current);var e=Ua(yi.current),n=pv(e,t.type);e!==n&&(gt(Td,t),gt(yi,n))}function z1(t){Td.current===t&&(_t(yi),_t(Td))}var kt=ma(0);function Zp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ry=[];function G1(){for(var t=0;t<ry.length;t++)ry[t]._workInProgressVersionPrimary=null;ry.length=0}var yp=ps.ReactCurrentDispatcher,iy=ps.ReactCurrentBatchConfig,so=0,Ct=null,Wt=null,nn=null,em=!1,Yu=!1,kd=0,mV=0;function wn(){throw Error(ue(321))}function H1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ii(t[n],e[n]))return!1;return!0}function W1(t,e,n,r,i,s){if(so=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yp.current=t===null||t.memoizedState===null?vV:bV,t=n(r,i),Yu){s=0;do{if(Yu=!1,kd=0,25<=s)throw Error(ue(301));s+=1,nn=Wt=null,e.updateQueue=null,yp.current=wV,t=n(r,i)}while(Yu)}if(yp.current=tm,e=Wt!==null&&Wt.next!==null,so=0,nn=Wt=Ct=null,em=!1,e)throw Error(ue(300));return t}function K1(){var t=kd!==0;return kd=0,t}function hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ct.memoizedState=nn=t:nn=nn.next=t,nn}function Rr(){if(Wt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=nn===null?Ct.memoizedState:nn.next;if(e!==null)nn=e,Wt=t;else{if(t===null)throw Error(ue(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},nn===null?Ct.memoizedState=nn=t:nn=nn.next=t}return nn}function Cd(t,e){return typeof e=="function"?e(t):e}function sy(t){var e=Rr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((so&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ct.lanes|=d,ao|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,ii(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ct.lanes|=s,ao|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ay(t){var e=Rr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ii(s,e.memoizedState)||(Qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BR(){}function qR(t,e){var n=Ct,r=Rr(),i=e(),s=!ii(r.memoizedState,i);if(s&&(r.memoizedState=i,Qn=!0),r=r.queue,J1(HR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,jd(9,GR.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(ue(349));so&30||zR(n,e,i)}return i}function zR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GR(t,e,n,r){e.value=n,e.getSnapshot=r,WR(e)&&KR(t)}function HR(t,e,n){return n(function(){WR(e)&&KR(t)})}function WR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ii(t,n)}catch{return!0}}function KR(t){var e=ns(t,1);e!==null&&Xr(e,t,1,-1)}function sT(t){var e=hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},e.queue=t,t=t.dispatch=yV.bind(null,Ct,t),[e.memoizedState,t]}function jd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JR(){return Rr().memoizedState}function vp(t,e,n,r){var i=hi();Ct.flags|=t,i.memoizedState=jd(1|e,n,void 0,r===void 0?null:r)}function Yg(t,e,n,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,r!==null&&H1(r,o.deps)){i.memoizedState=jd(e,n,s,r);return}}Ct.flags|=t,i.memoizedState=jd(1|e,n,s,r)}function aT(t,e){return vp(8390656,8,t,e)}function J1(t,e){return Yg(2048,8,t,e)}function YR(t,e){return Yg(4,2,t,e)}function XR(t,e){return Yg(4,4,t,e)}function QR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZR(t,e,n){return n=n!=null?n.concat([t]):null,Yg(4,4,QR.bind(null,e,t),n)}function Y1(){}function eM(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tM(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nM(t,e,n){return so&21?(ii(n,e)||(n=oR(),Ct.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function gV(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=iy.transition;iy.transition={};try{t(!1),e()}finally{st=n,iy.transition=r}}function rM(){return Rr().memoizedState}function xV(t,e,n){var r=Ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iM(t))sM(e,n);else if(n=FR(t,e,n,r),n!==null){var i=Vn();Xr(n,t,r,i),aM(n,e,r)}}function yV(t,e,n){var r=Ys(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iM(t))sM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ii(l,o)){var c=e.interleaved;c===null?(i.next=i,U1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=FR(t,e,i,r),n!==null&&(i=Vn(),Xr(n,t,r,i),aM(n,e,r))}}function iM(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function sM(t,e){Yu=em=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}var tm={readContext:Ir,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},vV={readContext:Ir,useCallback:function(t,e){return hi().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:aT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vp(4194308,4,QR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vp(4194308,4,t,e)},useInsertionEffect:function(t,e){return vp(4,2,t,e)},useMemo:function(t,e){var n=hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xV.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=hi();return t={current:t},e.memoizedState=t},useState:sT,useDebugValue:Y1,useDeferredValue:function(t){return hi().memoizedState=t},useTransition:function(){var t=sT(!1),e=t[0];return t=gV.bind(null,t[1]),hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,i=hi();if(Et){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),sn===null)throw Error(ue(349));so&30||zR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,aT(HR.bind(null,r,s,t),[t]),r.flags|=2048,jd(9,GR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hi(),e=sn.identifierPrefix;if(Et){var n=Vi,r=Fi;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bV={readContext:Ir,useCallback:eM,useContext:Ir,useEffect:J1,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tM,useReducer:sy,useRef:JR,useState:function(){return sy(Cd)},useDebugValue:Y1,useDeferredValue:function(t){var e=Rr();return nM(e,Wt.memoizedState,t)},useTransition:function(){var t=sy(Cd)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:qR,useId:rM,unstable_isNewReconciler:!1},wV={readContext:Ir,useCallback:eM,useContext:Ir,useEffect:J1,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tM,useReducer:ay,useRef:JR,useState:function(){return ay(Cd)},useDebugValue:Y1,useDeferredValue:function(t){var e=Rr();return Wt===null?e.memoizedState=t:nM(e,Wt.memoizedState,t)},useTransition:function(){var t=ay(Cd)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:qR,useId:rM,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xg={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=Ys(t),s=Wi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ks(t,s,i),e!==null&&(Xr(e,t,i,r),xp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=Ys(t),s=Wi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ks(t,s,i),e!==null&&(Xr(e,t,i,r),xp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=Ys(t),i=Wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ks(t,i,r),e!==null&&(Xr(e,t,r,n),xp(e,t,r))}};function oT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(i,s):!0}function oM(t,e,n){var r=!1,i=sa,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=tr(e)?ro:Pn.current,r=e.contextTypes,s=(r=r!=null)?Rl(t,i):sa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xg.enqueueReplaceState(e,e.state,null)}function Dv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},B1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=tr(e)?ro:Pn.current,i.context=Rl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ov(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xg.enqueueReplaceState(i,i.state,null),Qp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ll(t,e){try{var n="",r=e;do n+=J3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _V=typeof WeakMap=="function"?WeakMap:Map;function lM(t,e,n){n=Wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rm||(rm=!0,Wv=r),Lv(t,e)},n}function cM(t,e,n){n=Wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lv(t,e),typeof r!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _V;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DV.bind(null,t,e,n),e.then(t,t))}function uT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wi(-1,1),e.tag=2,Ks(n,e,1))),n.lanes|=1),t)}var NV=ps.ReactCurrentOwner,Qn=!1;function Dn(t,e,n,r){e.child=t===null?$R(e,null,n,r):Ol(e,t.child,n,r)}function fT(t,e,n,r,i){n=n.render;var s=e.ref;return yl(e,i),r=W1(t,e,n,r,s,i),n=K1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(Et&&n&&O1(e),e.flags|=1,Dn(t,e,r,i),e.child)}function hT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!i_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uM(t,e,s,r,i)):(t=Np(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(o,r)&&t.ref===e.ref)return rs(t,e,i)}return e.flags|=1,t=Xs(s,r),t.ref=e.ref,t.return=e,e.child=t}function uM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_d(s,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,rs(t,e,i)}return $v(t,e,n,r,i)}function dM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(il,ar),ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(il,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gt(il,ar),ar|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gt(il,ar),ar|=r;return Dn(t,e,i,n),e.child}function fM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $v(t,e,n,r,i){var s=tr(n)?ro:Pn.current;return s=Rl(e,s),yl(e,i),n=W1(t,e,n,r,s,i),r=K1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(Et&&r&&O1(e),e.flags|=1,Dn(t,e,n,i),e.child)}function pT(t,e,n,r,i){if(tr(n)){var s=!0;Wp(e)}else s=!1;if(yl(e,i),e.stateNode===null)bp(t,e),oM(e,n,r),Dv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=tr(n)?ro:Pn.current,u=Rl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&lT(e,o,r,u),js=!1;var h=e.memoizedState;o.state=h,Qp(e,r,o,i),c=e.memoizedState,l!==r||h!==c||er.current||js?(typeof d=="function"&&(Ov(e,n,d,r),c=e.memoizedState),(l=js||oT(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Gr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=tr(n)?ro:Pn.current,c=Rl(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lT(e,o,r,c),js=!1,h=e.memoizedState,o.state=h,Qp(e,r,o,i);var b=e.memoizedState;l!==f||h!==b||er.current||js?(typeof x=="function"&&(Ov(e,n,x,r),b=e.memoizedState),(u=js||oT(e,n,u,r,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fv(t,e,n,r,s,i)}function Fv(t,e,n,r,i,s){fM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ZE(e,n,!1),rs(t,e,s);r=e.stateNode,NV.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ol(e,t.child,null,s),e.child=Ol(e,null,l,s)):Dn(t,e,l,s),e.memoizedState=r.state,i&&ZE(e,n,!0),e.child}function hM(t){var e=t.stateNode;e.pendingContext?QE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QE(t,e.context,!1),q1(t,e.containerInfo)}function mT(t,e,n,r,i){return Ml(),L1(i),e.flags|=256,Dn(t,e,n,r),e.child}var Vv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function pM(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(kt,i&1),t===null)return Rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=e0(o,r,0,null),t=Ya(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uv(n),e.memoizedState=Vv,t):X1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return SV(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Xs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Xs(l,s):(s=Ya(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vv,r}return s=t.child,t=s.sibling,r=Xs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X1(t,e){return e=e0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dh(t,e,n,r){return r!==null&&L1(r),Ol(e,t.child,null,n),t=X1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=oy(Error(ue(422))),Dh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=e0({mode:"visible",children:r.children},i,0,null),s=Ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ol(e,t.child,null,o),e.child.memoizedState=Uv(o),e.memoizedState=Vv,s);if(!(e.mode&1))return Dh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ue(419)),r=oy(s,r,void 0),Dh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Qn||l){if(r=sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ns(t,i),Xr(r,t,i,-1))}return r_(),r=oy(Error(ue(421))),Dh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cr=Ws(i.nextSibling),dr=e,Et=!0,Kr=null,t!==null&&(_r[Nr++]=Fi,_r[Nr++]=Vi,_r[Nr++]=io,Fi=t.id,Vi=t.overflow,io=e),e=X1(e,r.children),e.flags|=4096,e)}function gT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mv(t.return,e,n)}function ly(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gT(t,n,e);else if(t.tag===19)gT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ly(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ly(e,!0,n,null,s);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EV(t,e,n){switch(e.tag){case 3:hM(e),Ml();break;case 5:UR(e);break;case 1:tr(e.type)&&Wp(e);break;case 4:q1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt(Yp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?pM(t,e,n):(gt(kt,kt.current&1),t=rs(t,e,n),t!==null?t.sibling:null);gt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,dM(t,e,n)}return rs(t,e,n)}var gM,Bv,xM,yM;gM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bv=function(){};xM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ua(yi.current);var s=null;switch(n){case"input":i=uv(t,i),r=uv(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=hv(t,i),r=hv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gp)}mv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(md.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(md.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yM=function(t,e,n,r){n!==r&&(e.flags|=4)};function xu(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TV(t,e,n){var r=e.pendingProps;switch(D1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return tr(e.type)&&Hp(),_n(e),null;case 3:return r=e.stateNode,Dl(),_t(er),_t(Pn),G1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kr!==null&&(Yv(Kr),Kr=null))),Bv(t,e),_n(e),null;case 5:z1(e);var i=Ua(Ad.current);if(n=e.type,t!==null&&e.stateNode!=null)xM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return _n(e),null}if(t=Ua(yi.current),Mh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pi]=e,r[Ed]=s,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(i=0;i<Du.length;i++)vt(Du[i],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":EE(r,s),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vt("invalid",r);break;case"textarea":AE(r,s),vt("invalid",r)}mv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Rh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Rh(r.textContent,l,t),i=["children",""+l]):md.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":Eh(r),TE(r,s,!0);break;case"textarea":Eh(r),kE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pi]=e,t[Ed]=r,gM(t,e,!1,!1),e.stateNode=t;e:{switch(o=gv(n,r),n){case"dialog":vt("cancel",t),vt("close",t),i=r;break;case"iframe":case"object":case"embed":vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Du.length;i++)vt(Du[i],t);i=r;break;case"source":vt("error",t),i=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=r;break;case"details":vt("toggle",t),i=r;break;case"input":EE(t,r),i=uv(t,r),vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),vt("invalid",t);break;case"textarea":AE(t,r),i=hv(t,r),vt("invalid",t);break;default:i=r}mv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?JI(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WI(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gd(t,c):typeof c=="number"&&gd(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(md.hasOwnProperty(s)?c!=null&&s==="onScroll"&&vt("scroll",t):c!=null&&w1(t,s,c,o))}switch(n){case"input":Eh(t),TE(t,r,!1);break;case"textarea":Eh(t),kE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ia(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pl(t,!!r.multiple,s,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)yM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Ua(Ad.current),Ua(yi.current),Mh(e)){if(r=e.stateNode,n=e.memoizedProps,r[pi]=e,(s=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Rh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pi]=e,e.stateNode=r}return _n(e),null;case 13:if(_t(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&cr!==null&&e.mode&1&&!(e.flags&128))DR(),Ml(),e.flags|=98560,s=!1;else if(s=Mh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[pi]=e}else Ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),s=!1}else Kr!==null&&(Yv(Kr),Kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?Jt===0&&(Jt=3):r_())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return Dl(),Bv(t,e),t===null&&Nd(e.stateNode.containerInfo),_n(e),null;case 10:return V1(e.type._context),_n(e),null;case 17:return tr(e.type)&&Hp(),_n(e),null;case 19:if(_t(kt),s=e.memoizedState,s===null)return _n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xu(s,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zp(t),o!==null){for(e.flags|=128,xu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ft()>$l&&(e.flags|=128,r=!0,xu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Et)return _n(e),null}else 2*Ft()-s.renderingStartTime>$l&&n!==1073741824&&(e.flags|=128,r=!0,xu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ft(),e.sibling=null,n=kt.current,gt(kt,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return n_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function AV(t,e){switch(D1(e),e.tag){case 1:return tr(e.type)&&Hp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),_t(er),_t(Pn),G1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z1(e),null;case 13:if(_t(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(kt),null;case 4:return Dl(),null;case 10:return V1(e.type._context),null;case 22:case 23:return n_(),null;case 24:return null;default:return null}}var Lh=!1,Tn=!1,kV=typeof WeakSet=="function"?WeakSet:Set,we=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function qv(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var xT=!1;function CV(t,e){if(Tv=Bp,t=NR(),M1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Av={focusedElem:t,selectionRange:n},Bp=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gr(e.type,w),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(C){Rt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return b=xT,xT=!1,b}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qv(e,n,s)}i=i.next}while(i!==r)}}function Qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vM(t){var e=t.alternate;e!==null&&(t.alternate=null,vM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pi],delete e[Ed],delete e[jv],delete e[dV],delete e[fV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bM(t){return t.tag===5||t.tag===3||t.tag===4}function yT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gp));else if(r!==4&&(t=t.child,t!==null))for(Gv(t,e,n),t=t.sibling;t!==null;)Gv(t,e,n),t=t.sibling}function Hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hv(t,e,n),t=t.sibling;t!==null;)Hv(t,e,n),t=t.sibling}var un=null,Hr=!1;function Ts(t,e,n){for(n=n.child;n!==null;)wM(t,e,n),n=n.sibling}function wM(t,e,n){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(zg,n)}catch{}switch(n.tag){case 5:Tn||rl(n,e);case 6:var r=un,i=Hr;un=null,Ts(t,e,n),un=r,Hr=i,un!==null&&(Hr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Hr?(t=un,n=n.stateNode,t.nodeType===8?ty(t.parentNode,n):t.nodeType===1&&ty(t,n),bd(t)):ty(un,n.stateNode));break;case 4:r=un,i=Hr,un=n.stateNode.containerInfo,Hr=!0,Ts(t,e,n),un=r,Hr=i;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qv(n,e,o),i=i.next}while(i!==r)}Ts(t,e,n);break;case 1:if(!Tn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Rt(n,e,l)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Ts(t,e,n),Tn=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function vT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kV),e.forEach(function(r){var i=$V.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,Hr=!1;break e;case 3:un=l.stateNode.containerInfo,Hr=!0;break e;case 4:un=l.stateNode.containerInfo,Hr=!0;break e}l=l.return}if(un===null)throw Error(ue(160));wM(s,o,i),un=null,Hr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_M(e,t),e=e.sibling}function _M(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),di(t),r&4){try{Xu(3,t,t.return),Qg(3,t)}catch(w){Rt(t,t.return,w)}try{Xu(5,t,t.return)}catch(w){Rt(t,t.return,w)}}break;case 1:Br(e,t),di(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Br(e,t),di(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var i=t.stateNode;try{gd(i,"")}catch(w){Rt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zI(i,s),gv(l,o);var u=gv(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?JI(i,f):d==="dangerouslySetInnerHTML"?WI(i,f):d==="children"?gd(i,f):w1(i,d,f,u)}switch(l){case"input":dv(i,s);break;case"textarea":GI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?pl(i,!!s.multiple,x,!1):h!==!!s.multiple&&(s.defaultValue!=null?pl(i,!!s.multiple,s.defaultValue,!0):pl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ed]=s}catch(w){Rt(t,t.return,w)}}break;case 6:if(Br(e,t),di(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Rt(t,t.return,w)}}break;case 3:if(Br(e,t),di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(w){Rt(t,t.return,w)}break;case 4:Br(e,t),di(t);break;case 13:Br(e,t),di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(e_=Ft())),r&4&&vT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(u=Tn)||d,Br(e,t),Tn=u):Br(e,t),di(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,x=h.child,h.tag){case 0:case 11:case 14:case 15:Xu(4,h,h.return);break;case 1:rl(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){Rt(r,n,w)}}break;case 5:rl(h,h.return);break;case 22:if(h.memoizedState!==null){wT(f);continue}}x!==null?(x.return=h,we=x):wT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=KI("display",o))}catch(w){Rt(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Rt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(e,t),di(t),r&4&&vT(t);break;case 21:break;default:Br(e,t),di(t)}}function di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bM(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gd(i,""),r.flags&=-33);var s=yT(t);Hv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yT(t);Gv(t,l,o);break;default:throw Error(ue(161))}}catch(c){Rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jV(t,e,n){we=t,NM(t)}function NM(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=Lh;var u=Tn;if(Lh=o,(Tn=c)&&!u)for(we=i;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?_T(i):c!==null?(c.return=o,we=c):_T(i);for(;s!==null;)we=s,NM(s),s=s.sibling;we=i,Lh=l,Tn=u}bT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):bT(t)}}function bT(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iT(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Tn||e.flags&512&&zv(e)}catch(h){Rt(e,e.return,h)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function wT(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function _T(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qg(4,e)}catch(c){Rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Rt(e,i,c)}}var s=e.return;try{zv(e)}catch(c){Rt(e,s,c)}break;case 5:var o=e.return;try{zv(e)}catch(c){Rt(e,o,c)}}}catch(c){Rt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var PV=Math.ceil,nm=ps.ReactCurrentDispatcher,Q1=ps.ReactCurrentOwner,Ar=ps.ReactCurrentBatchConfig,Ye=0,sn=null,Bt=null,pn=0,ar=0,il=ma(0),Jt=0,Pd=null,ao=0,Zg=0,Z1=0,Qu=null,Jn=null,e_=0,$l=1/0,Oi=null,rm=!1,Wv=null,Js=null,$h=!1,Fs=null,im=0,Zu=0,Kv=null,wp=-1,_p=0;function Vn(){return Ye&6?Ft():wp!==-1?wp:wp=Ft()}function Ys(t){return t.mode&1?Ye&2&&pn!==0?pn&-pn:pV.transition!==null?(_p===0&&(_p=oR()),_p):(t=st,t!==0||(t=window.event,t=t===void 0?16:pR(t.type)),t):1}function Xr(t,e,n,r){if(50<Zu)throw Zu=0,Kv=null,Error(ue(185));If(t,n,r),(!(Ye&2)||t!==sn)&&(t===sn&&(!(Ye&2)&&(Zg|=n),Jt===4&&Rs(t,pn)),nr(t,r),n===1&&Ye===0&&!(e.mode&1)&&($l=Ft()+500,Jg&&ga()))}function nr(t,e){var n=t.callbackNode;pF(t,e);var r=Up(t,t===sn?pn:0);if(r===0)n!==null&&PE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&PE(n),e===1)t.tag===0?hV(NT.bind(null,t)):RR(NT.bind(null,t)),cV(function(){!(Ye&6)&&ga()}),n=null;else{switch(lR(r)){case 1:n=T1;break;case 4:n=sR;break;case 16:n=Vp;break;case 536870912:n=aR;break;default:n=Vp}n=PM(n,SM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SM(t,e){if(wp=-1,_p=0,Ye&6)throw Error(ue(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=Up(t,t===sn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sm(t,r);else{e=r;var i=Ye;Ye|=2;var s=TM();(sn!==t||pn!==e)&&(Oi=null,$l=Ft()+500,Ja(t,e));do try{MV();break}catch(l){EM(t,l)}while(!0);F1(),nm.current=s,Ye=i,Bt!==null?e=0:(sn=null,pn=0,e=Jt)}if(e!==0){if(e===2&&(i=wv(t),i!==0&&(r=i,e=Jv(t,i))),e===1)throw n=Pd,Ja(t,0),Rs(t,r),nr(t,Ft()),n;if(e===6)Rs(t,r);else{if(i=t.current.alternate,!(r&30)&&!IV(i)&&(e=sm(t,r),e===2&&(s=wv(t),s!==0&&(r=s,e=Jv(t,s))),e===1))throw n=Pd,Ja(t,0),Rs(t,r),nr(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Ia(t,Jn,Oi);break;case 3:if(Rs(t,r),(r&130023424)===r&&(e=e_+500-Ft(),10<e)){if(Up(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cv(Ia.bind(null,t,Jn,Oi),e);break}Ia(t,Jn,Oi);break;case 4:if(Rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PV(r/1960))-r,10<r){t.timeoutHandle=Cv(Ia.bind(null,t,Jn,Oi),r);break}Ia(t,Jn,Oi);break;case 5:Ia(t,Jn,Oi);break;default:throw Error(ue(329))}}}return nr(t,Ft()),t.callbackNode===n?SM.bind(null,t):null}function Jv(t,e){var n=Qu;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=sm(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&Yv(e)),t}function Yv(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function IV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ii(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~Z1,e&=~Zg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yr(e),r=1<<n;t[n]=-1,e&=~r}}function NT(t){if(Ye&6)throw Error(ue(327));vl();var e=Up(t,0);if(!(e&1))return nr(t,Ft()),null;var n=sm(t,e);if(t.tag!==0&&n===2){var r=wv(t);r!==0&&(e=r,n=Jv(t,r))}if(n===1)throw n=Pd,Ja(t,0),Rs(t,e),nr(t,Ft()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Jn,Oi),nr(t,Ft()),null}function t_(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&($l=Ft()+500,Jg&&ga())}}function oo(t){Fs!==null&&Fs.tag===0&&!(Ye&6)&&vl();var e=Ye;Ye|=1;var n=Ar.transition,r=st;try{if(Ar.transition=null,st=1,t)return t()}finally{st=r,Ar.transition=n,Ye=e,!(Ye&6)&&ga()}}function n_(){ar=il.current,_t(il)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lV(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(D1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hp();break;case 3:Dl(),_t(er),_t(Pn),G1();break;case 5:z1(r);break;case 4:Dl();break;case 13:_t(kt);break;case 19:_t(kt);break;case 10:V1(r.type._context);break;case 22:case 23:n_()}n=n.return}if(sn=t,Bt=t=Xs(t.current,null),pn=ar=e,Jt=0,Pd=null,Z1=Zg=ao=0,Jn=Qu=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Va=null}return t}function EM(t,e){do{var n=Bt;try{if(F1(),yp.current=tm,em){for(var r=Ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}em=!1}if(so=0,nn=Wt=Ct=null,Yu=!1,kd=0,Q1.current=null,n===null||n.return===null){Jt=1,Pd=e,Bt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=uT(o);if(x!==null){x.flags&=-257,dT(x,o,l,s,e),x.mode&1&&cT(s,u,e),e=x,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){cT(s,u,e),r_();break e}c=Error(ue(426))}}else if(Et&&l.mode&1){var y=uT(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dT(y,o,l,s,e),L1(Ll(c,l));break e}}s=c=Ll(c,l),Jt!==4&&(Jt=2),Qu===null?Qu=[s]:Qu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=lM(s,c,e);rT(s,v);break e;case 1:l=c;var _=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Js===null||!Js.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=cM(s,l,e);rT(s,C);break e}}s=s.return}while(s!==null)}kM(n)}catch(E){e=E,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function TM(){var t=nm.current;return nm.current=tm,t===null?tm:t}function r_(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||!(ao&268435455)&&!(Zg&268435455)||Rs(sn,pn)}function sm(t,e){var n=Ye;Ye|=2;var r=TM();(sn!==t||pn!==e)&&(Oi=null,Ja(t,e));do try{RV();break}catch(i){EM(t,i)}while(!0);if(F1(),Ye=n,nm.current=r,Bt!==null)throw Error(ue(261));return sn=null,pn=0,Jt}function RV(){for(;Bt!==null;)AM(Bt)}function MV(){for(;Bt!==null&&!sF();)AM(Bt)}function AM(t){var e=jM(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?kM(t):Bt=e,Q1.current=null}function kM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AV(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jt=6,Bt=null;return}}else if(n=TV(n,e,ar),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Ia(t,e,n){var r=st,i=Ar.transition;try{Ar.transition=null,st=1,OV(t,e,n,r)}finally{Ar.transition=i,st=r}return null}function OV(t,e,n,r){do vl();while(Fs!==null);if(Ye&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mF(t,s),t===sn&&(Bt=sn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$h||($h=!0,PM(Vp,function(){return vl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ar.transition,Ar.transition=null;var o=st;st=1;var l=Ye;Ye|=4,Q1.current=null,CV(t,n),_M(n,t),tV(Av),Bp=!!Tv,Av=Tv=null,t.current=n,jV(n),aF(),Ye=l,st=o,Ar.transition=s}else t.current=n;if($h&&($h=!1,Fs=t,im=i),s=t.pendingLanes,s===0&&(Js=null),cF(n.stateNode),nr(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rm)throw rm=!1,t=Wv,Wv=null,t;return im&1&&t.tag!==0&&vl(),s=t.pendingLanes,s&1?t===Kv?Zu++:(Zu=0,Kv=t):Zu=0,ga(),null}function vl(){if(Fs!==null){var t=lR(im),e=Ar.transition,n=st;try{if(Ar.transition=null,st=16>t?16:t,Fs===null)var r=!1;else{if(t=Fs,Fs=null,im=0,Ye&6)throw Error(ue(331));var i=Ye;for(Ye|=4,we=t.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Xu(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,x=d.return;if(vM(d),d===u){we=null;break}if(h!==null){h.return=x,we=h;break}we=x}}}var b=s.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,we=v;break e}we=s.return}}var _=t.current;for(we=_;we!==null;){o=we;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,we=N;else e:for(o=_;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qg(9,l)}}catch(E){Rt(l,l.return,E)}if(l===o){we=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,we=C;break e}we=l.return}}if(Ye=i,ga(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(zg,t)}catch{}r=!0}return r}finally{st=n,Ar.transition=e}}return!1}function ST(t,e,n){e=Ll(n,e),e=lM(t,e,1),t=Ks(t,e,1),e=Vn(),t!==null&&(If(t,1,e),nr(t,e))}function Rt(t,e,n){if(t.tag===3)ST(t,t,n);else for(;e!==null;){if(e.tag===3){ST(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){t=Ll(n,t),t=cM(e,t,1),e=Ks(e,t,1),t=Vn(),e!==null&&(If(e,1,t),nr(e,t));break}}e=e.return}}function DV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(pn&n)===n&&(Jt===4||Jt===3&&(pn&130023424)===pn&&500>Ft()-e_?Ja(t,0):Z1|=n),nr(t,e)}function CM(t,e){e===0&&(t.mode&1?(e=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):e=1);var n=Vn();t=ns(t,e),t!==null&&(If(t,e,n),nr(t,n))}function LV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CM(t,n)}function $V(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),CM(t,n)}var jM;jM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,EV(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,Et&&e.flags&1048576&&MR(e,Jp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bp(t,e),t=e.pendingProps;var i=Rl(e,Pn.current);yl(e,n),i=W1(null,e,r,t,i,n);var s=K1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(s=!0,Wp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B1(e),i.updater=Xg,e.stateNode=i,i._reactInternals=e,Dv(e,r,t,n),e=Fv(null,e,r,!0,s,n)):(e.tag=0,Et&&s&&O1(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VV(r),t=Gr(r,t),i){case 0:e=$v(null,e,r,t,n);break e;case 1:e=pT(null,e,r,t,n);break e;case 11:e=fT(null,e,r,t,n);break e;case 14:e=hT(null,e,r,Gr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),$v(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),pT(t,e,r,i,n);case 3:e:{if(hM(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,VR(t,e),Qp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ll(Error(ue(423)),e),e=mT(t,e,r,n,i);break e}else if(r!==i){i=Ll(Error(ue(424)),e),e=mT(t,e,r,n,i);break e}else for(cr=Ws(e.stateNode.containerInfo.firstChild),dr=e,Et=!0,Kr=null,n=$R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ml(),r===i){e=rs(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return UR(e),t===null&&Rv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kv(r,i)?o=null:s!==null&&kv(r,s)&&(e.flags|=32),fM(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&Rv(e),null;case 13:return pM(t,e,n);case 4:return q1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ol(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),fT(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gt(Yp,r._currentValue),r._currentValue=o,s!==null)if(ii(s.value,o)){if(s.children===i.children&&!er.current){e=rs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Wi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Mv(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=Ir(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=Gr(r,e.pendingProps),i=Gr(r.type,i),hT(t,e,r,i,n);case 15:return uM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),bp(t,e),e.tag=1,tr(r)?(t=!0,Wp(e)):t=!1,yl(e,n),oM(e,r,i),Dv(e,r,i,n),Fv(null,e,r,!0,t,n);case 19:return mM(t,e,n);case 22:return dM(t,e,n)}throw Error(ue(156,e.tag))};function PM(t,e){return iR(t,e)}function FV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new FV(t,e,n,r)}function i_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VV(t){if(typeof t=="function")return i_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N1)return 11;if(t===S1)return 14}return 2}function Xs(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Np(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")i_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ko:return Ya(n.children,i,s,e);case _1:o=8,i|=8;break;case av:return t=Er(12,n,e,i|2),t.elementType=av,t.lanes=s,t;case ov:return t=Er(13,n,e,i),t.elementType=ov,t.lanes=s,t;case lv:return t=Er(19,n,e,i),t.elementType=lv,t.lanes=s,t;case UI:return e0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FI:o=10;break e;case VI:o=9;break e;case N1:o=11;break e;case S1:o=14;break e;case Cs:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ya(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function e0(t,e,n,r){return t=Er(22,t,r,e),t.elementType=UI,t.lanes=n,t.stateNode={isHidden:!1},t}function cy(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function uy(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zx(0),this.expirationTimes=zx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s_(t,e,n,r,i,s,o,l,c){return t=new UV(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(s),t}function BV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IM(t){if(!t)return sa;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(tr(n))return IR(t,n,e)}return e}function RM(t,e,n,r,i,s,o,l,c){return t=s_(n,r,!0,t,i,s,o,l,c),t.context=IM(null),n=t.current,r=Vn(),i=Ys(n),s=Wi(r,i),s.callback=e??null,Ks(n,s,i),t.current.lanes=i,If(t,i,r),nr(t,r),t}function t0(t,e,n,r){var i=e.current,s=Vn(),o=Ys(i);return n=IM(n),e.context===null?e.context=n:e.pendingContext=n,e=Wi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ks(i,e,o),t!==null&&(Xr(t,i,o,s),xp(t,i,o)),o}function am(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ET(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a_(t,e){ET(t,e),(t=t.alternate)&&ET(t,e)}function qV(){return null}var MM=typeof reportError=="function"?reportError:function(t){console.error(t)};function o_(t){this._internalRoot=t}n0.prototype.render=o_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));t0(t,e,null,null)};n0.prototype.unmount=o_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){t0(null,t,null,null)}),e[ts]=null}};function n0(t){this._internalRoot=t}n0.prototype.unstable_scheduleHydration=function(t){if(t){var e=dR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&hR(t)}};function l_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TT(){}function zV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=am(o);s.call(u)}}var o=RM(e,r,t,0,null,!1,!1,"",TT);return t._reactRootContainer=o,t[ts]=o.current,Nd(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=am(c);l.call(u)}}var c=s_(t,0,!1,null,null,!1,!1,"",TT);return t._reactRootContainer=c,t[ts]=c.current,Nd(t.nodeType===8?t.parentNode:t),oo(function(){t0(e,c,n,r)}),c}function i0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=am(o);l.call(c)}}t0(e,o,t,i)}else o=zV(n,e,t,i,r);return am(o)}cR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ou(e.pendingLanes);n!==0&&(A1(e,n|1),nr(e,Ft()),!(Ye&6)&&($l=Ft()+500,ga()))}break;case 13:oo(function(){var r=ns(t,1);if(r!==null){var i=Vn();Xr(r,t,1,i)}}),a_(t,1)}};k1=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var n=Vn();Xr(e,t,134217728,n)}a_(t,134217728)}};uR=function(t){if(t.tag===13){var e=Ys(t),n=ns(t,e);if(n!==null){var r=Vn();Xr(n,t,e,r)}a_(t,e)}};dR=function(){return st};fR=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};yv=function(t,e,n){switch(e){case"input":if(dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kg(r);if(!i)throw Error(ue(90));qI(r),dv(r,i)}}}break;case"textarea":GI(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};QI=t_;ZI=oo;var GV={usingClientEntryPoint:!1,Events:[Mf,Qo,Kg,YI,XI,t_]},yu={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HV={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nR(t),t===null?null:t.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{zg=Fh.inject(HV),xi=Fh}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l_(e))throw Error(ue(200));return BV(t,e,null,n)};pr.createRoot=function(t,e){if(!l_(t))throw Error(ue(299));var n=!1,r="",i=MM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=s_(t,1,!1,null,null,n,!1,r,i),t[ts]=e.current,Nd(t.nodeType===8?t.parentNode:t),new o_(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=nR(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return oo(t)};pr.hydrate=function(t,e,n){if(!r0(e))throw Error(ue(200));return i0(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!l_(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RM(e,null,t,1,n??null,i,!1,s,o),t[ts]=e.current,Nd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new n0(e)};pr.render=function(t,e,n){if(!r0(e))throw Error(ue(200));return i0(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!r0(t))throw Error(ue(40));return t._reactRootContainer?(oo(function(){i0(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};pr.unstable_batchedUpdates=t_;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!r0(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return i0(t,e,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function OM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OM)}catch(t){console.error(t)}}OM(),OI.exports=pr;var WV=OI.exports,AT=WV;iv.createRoot=AT.createRoot,iv.hydrateRoot=AT.hydrateRoot;var kT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new JV;const h=s<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YV=function(t){const e=DM(t);return LM.encodeByteArray(e,!0)},om=function(t){return YV(t).replace(/\./g,"")},$M=function(t){try{return LM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=()=>XV().__FIREBASE_DEFAULTS__,ZV=()=>{if(typeof process>"u"||typeof kT>"u")return;const t=kT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$M(t[1]);return e&&JSON.parse(e)},s0=()=>{try{return QV()||ZV()||eU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FM=t=>{var e,n;return(n=(e=s0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tU=t=>{const e=FM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VM=()=>{var t;return(t=s0())===null||t===void 0?void 0:t.config},UM=t=>{var e;return(e=s0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[om(JSON.stringify(n)),om(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function sU(){var t;const e=(t=s0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cU(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uU(){return!sU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dU(){try{return typeof indexedDB=="object"}catch{return!1}}function fU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hU,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pU(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ms(i,l,r)}}function pU(t,e){return t.replace(mU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mU=/\{\$([^}]+)}/g;function gU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(CT(s)&&CT(o)){if(!lm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xU(t,e){const n=new yU(t,e);return n.subscribe.bind(n)}class yU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dy),i.error===void 0&&(i.error=dy),i.complete===void 0&&(i.complete=dy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_U(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wU(t){return t===Ra?void 0:t}function _U(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const SU={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},EU=Ge.INFO,TU={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},AU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=EU,this._logHandler=AU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const kU=(t,e)=>e.some(n=>t instanceof n);let jT,PT;function CU(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jU(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BM=new WeakMap,Xv=new WeakMap,qM=new WeakMap,fy=new WeakMap,u_=new WeakMap;function PU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BM.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function IU(t){if(Xv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xv.set(t,e)}let Qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RU(t){Qv=t(Qv)}function MU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return qM.set(r,e.sort?e.sort():[e]),Qs(r)}:jU().includes(t)?function(...e){return t.apply(hy(this),e),Qs(BM.get(this))}:function(...e){return Qs(t.apply(hy(this),e))}}function OU(t){return typeof t=="function"?MU(t):(t instanceof IDBTransaction&&IU(t),kU(t,CU())?new Proxy(t,Qv):t)}function Qs(t){if(t instanceof IDBRequest)return PU(t);if(fy.has(t))return fy.get(t);const e=OU(t);return e!==t&&(fy.set(t,e),u_.set(e,t)),e}const hy=t=>u_.get(t);function DU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Qs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qs(o.result),c.oldVersion,c.newVersion,Qs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const LU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],py=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$U.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LU.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return py.set(e,s),s}RU(t=>({...t,get:(e,n,r)=>IT(e,n)||t.get(e,n,r),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",RT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new c_("@firebase/app"),UU="@firebase/app-compat",BU="@firebase/analytics-compat",qU="@firebase/analytics",zU="@firebase/app-check-compat",GU="@firebase/app-check",HU="@firebase/auth",WU="@firebase/auth-compat",KU="@firebase/database",JU="@firebase/data-connect",YU="@firebase/database-compat",XU="@firebase/functions",QU="@firebase/functions-compat",ZU="@firebase/installations",e8="@firebase/installations-compat",t8="@firebase/messaging",n8="@firebase/messaging-compat",r8="@firebase/performance",i8="@firebase/performance-compat",s8="@firebase/remote-config",a8="@firebase/remote-config-compat",o8="@firebase/storage",l8="@firebase/storage-compat",c8="@firebase/firestore",u8="@firebase/vertexai-preview",d8="@firebase/firestore-compat",f8="firebase",h8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",p8={[Zv]:"fire-core",[UU]:"fire-core-compat",[qU]:"fire-analytics",[BU]:"fire-analytics-compat",[GU]:"fire-app-check",[zU]:"fire-app-check-compat",[HU]:"fire-auth",[WU]:"fire-auth-compat",[KU]:"fire-rtdb",[JU]:"fire-data-connect",[YU]:"fire-rtdb-compat",[XU]:"fire-fn",[QU]:"fire-fn-compat",[ZU]:"fire-iid",[e8]:"fire-iid-compat",[t8]:"fire-fcm",[n8]:"fire-fcm-compat",[r8]:"fire-perf",[i8]:"fire-perf-compat",[s8]:"fire-rc",[a8]:"fire-rc-compat",[o8]:"fire-gcs",[l8]:"fire-gcs-compat",[c8]:"fire-fst",[d8]:"fire-fst-compat",[u8]:"fire-vertex","fire-js":"fire-js",[f8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map,m8=new Map,tb=new Map;function MT(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fl(t){const e=t.name;if(tb.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of cm.values())MT(n,t);for(const n of m8.values())MT(n,t);return!0}function d_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Df("app","Firebase",g8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=h8;function zM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=VM()),!n)throw Zs.create("no-options");const s=cm.get(i);if(s){if(lm(n,s.options)&&lm(r,s.config))return s;throw Zs.create("duplicate-app",{appName:i})}const o=new NU(i);for(const c of tb.values())o.addComponent(c);const l=new x8(n,r,o);return cm.set(i,l),l}function GM(t=eb){const e=cm.get(t);if(!e&&t===eb&&VM())return zM();if(!e)throw Zs.create("no-app",{appName:t});return e}function ea(t,e,n){var r;let i=(r=p8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(l.join(" "));return}Fl(new lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="firebase-heartbeat-database",v8=1,Id="firebase-heartbeat-store";let my=null;function HM(){return my||(my=DU(y8,v8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),my}async function b8(t){try{const n=(await HM()).transaction(Id),r=await n.objectStore(Id).get(WM(t));return await n.done,r}catch(e){if(e instanceof ms)is.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function OT(t,e){try{const r=(await HM()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,WM(t)),await r.done}catch(n){if(n instanceof ms)is.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function WM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1024,_8=30*24*60*60*1e3;class N8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=_8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DT(),{heartbeatsToSend:r,unsentEntries:i}=S8(this._heartbeatsCache.heartbeats),s=om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return is.warn(n),""}}}function DT(){return new Date().toISOString().substring(0,10)}function S8(t,e=w8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dU()?fU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LT(t){return om(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){Fl(new lo("platform-logger",e=>new FU(e),"PRIVATE")),Fl(new lo("heartbeat",e=>new N8(e),"PRIVATE")),ea(Zv,RT,t),ea(Zv,RT,"esm2017"),ea("fire-js","")}T8("");var A8="firebase",k8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(A8,k8,"app");var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,KM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,j){function k(){}k.prototype=j.prototype,S.D=j.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(R,P,O){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return j.prototype[P].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,j,k){k||(k=0);var R=Array(16);if(typeof j=="string")for(var P=0;16>P;++P)R[P]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(P=0;16>P;++P)R[P]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=S.g[0],k=S.g[1],P=S.g[2];var O=S.g[3],I=j+(O^k&(P^O))+R[0]+3614090360&4294967295;j=k+(I<<7&4294967295|I>>>25),I=O+(P^j&(k^P))+R[1]+3905402710&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(k^O&(j^k))+R[2]+606105819&4294967295,P=O+(I<<17&4294967295|I>>>15),I=k+(j^P&(O^j))+R[3]+3250441966&4294967295,k=P+(I<<22&4294967295|I>>>10),I=j+(O^k&(P^O))+R[4]+4118548399&4294967295,j=k+(I<<7&4294967295|I>>>25),I=O+(P^j&(k^P))+R[5]+1200080426&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(k^O&(j^k))+R[6]+2821735955&4294967295,P=O+(I<<17&4294967295|I>>>15),I=k+(j^P&(O^j))+R[7]+4249261313&4294967295,k=P+(I<<22&4294967295|I>>>10),I=j+(O^k&(P^O))+R[8]+1770035416&4294967295,j=k+(I<<7&4294967295|I>>>25),I=O+(P^j&(k^P))+R[9]+2336552879&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(k^O&(j^k))+R[10]+4294925233&4294967295,P=O+(I<<17&4294967295|I>>>15),I=k+(j^P&(O^j))+R[11]+2304563134&4294967295,k=P+(I<<22&4294967295|I>>>10),I=j+(O^k&(P^O))+R[12]+1804603682&4294967295,j=k+(I<<7&4294967295|I>>>25),I=O+(P^j&(k^P))+R[13]+4254626195&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(k^O&(j^k))+R[14]+2792965006&4294967295,P=O+(I<<17&4294967295|I>>>15),I=k+(j^P&(O^j))+R[15]+1236535329&4294967295,k=P+(I<<22&4294967295|I>>>10),I=j+(P^O&(k^P))+R[1]+4129170786&4294967295,j=k+(I<<5&4294967295|I>>>27),I=O+(k^P&(j^k))+R[6]+3225465664&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^k&(O^j))+R[11]+643717713&4294967295,P=O+(I<<14&4294967295|I>>>18),I=k+(O^j&(P^O))+R[0]+3921069994&4294967295,k=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(k^P))+R[5]+3593408605&4294967295,j=k+(I<<5&4294967295|I>>>27),I=O+(k^P&(j^k))+R[10]+38016083&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^k&(O^j))+R[15]+3634488961&4294967295,P=O+(I<<14&4294967295|I>>>18),I=k+(O^j&(P^O))+R[4]+3889429448&4294967295,k=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(k^P))+R[9]+568446438&4294967295,j=k+(I<<5&4294967295|I>>>27),I=O+(k^P&(j^k))+R[14]+3275163606&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^k&(O^j))+R[3]+4107603335&4294967295,P=O+(I<<14&4294967295|I>>>18),I=k+(O^j&(P^O))+R[8]+1163531501&4294967295,k=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(k^P))+R[13]+2850285829&4294967295,j=k+(I<<5&4294967295|I>>>27),I=O+(k^P&(j^k))+R[2]+4243563512&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^k&(O^j))+R[7]+1735328473&4294967295,P=O+(I<<14&4294967295|I>>>18),I=k+(O^j&(P^O))+R[12]+2368359562&4294967295,k=P+(I<<20&4294967295|I>>>12),I=j+(k^P^O)+R[5]+4294588738&4294967295,j=k+(I<<4&4294967295|I>>>28),I=O+(j^k^P)+R[8]+2272392833&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^k)+R[11]+1839030562&4294967295,P=O+(I<<16&4294967295|I>>>16),I=k+(P^O^j)+R[14]+4259657740&4294967295,k=P+(I<<23&4294967295|I>>>9),I=j+(k^P^O)+R[1]+2763975236&4294967295,j=k+(I<<4&4294967295|I>>>28),I=O+(j^k^P)+R[4]+1272893353&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^k)+R[7]+4139469664&4294967295,P=O+(I<<16&4294967295|I>>>16),I=k+(P^O^j)+R[10]+3200236656&4294967295,k=P+(I<<23&4294967295|I>>>9),I=j+(k^P^O)+R[13]+681279174&4294967295,j=k+(I<<4&4294967295|I>>>28),I=O+(j^k^P)+R[0]+3936430074&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^k)+R[3]+3572445317&4294967295,P=O+(I<<16&4294967295|I>>>16),I=k+(P^O^j)+R[6]+76029189&4294967295,k=P+(I<<23&4294967295|I>>>9),I=j+(k^P^O)+R[9]+3654602809&4294967295,j=k+(I<<4&4294967295|I>>>28),I=O+(j^k^P)+R[12]+3873151461&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^k)+R[15]+530742520&4294967295,P=O+(I<<16&4294967295|I>>>16),I=k+(P^O^j)+R[2]+3299628645&4294967295,k=P+(I<<23&4294967295|I>>>9),I=j+(P^(k|~O))+R[0]+4096336452&4294967295,j=k+(I<<6&4294967295|I>>>26),I=O+(k^(j|~P))+R[7]+1126891415&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~k))+R[14]+2878612391&4294967295,P=O+(I<<15&4294967295|I>>>17),I=k+(O^(P|~j))+R[5]+4237533241&4294967295,k=P+(I<<21&4294967295|I>>>11),I=j+(P^(k|~O))+R[12]+1700485571&4294967295,j=k+(I<<6&4294967295|I>>>26),I=O+(k^(j|~P))+R[3]+2399980690&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~k))+R[10]+4293915773&4294967295,P=O+(I<<15&4294967295|I>>>17),I=k+(O^(P|~j))+R[1]+2240044497&4294967295,k=P+(I<<21&4294967295|I>>>11),I=j+(P^(k|~O))+R[8]+1873313359&4294967295,j=k+(I<<6&4294967295|I>>>26),I=O+(k^(j|~P))+R[15]+4264355552&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~k))+R[6]+2734768916&4294967295,P=O+(I<<15&4294967295|I>>>17),I=k+(O^(P|~j))+R[13]+1309151649&4294967295,k=P+(I<<21&4294967295|I>>>11),I=j+(P^(k|~O))+R[4]+4149444226&4294967295,j=k+(I<<6&4294967295|I>>>26),I=O+(k^(j|~P))+R[11]+3174756917&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~k))+R[2]+718787259&4294967295,P=O+(I<<15&4294967295|I>>>17),I=k+(O^(P|~j))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+j&4294967295,S.g[1]=S.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,j){j===void 0&&(j=S.length);for(var k=j-this.blockSize,R=this.B,P=this.h,O=0;O<j;){if(P==0)for(;O<=k;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<j;)if(R[P++]=S.charCodeAt(O++),P==this.blockSize){i(this,R),P=0;break}}else for(;O<j;)if(R[P++]=S[O++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=j},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var j=1;j<S.length-8;++j)S[j]=0;var k=8*this.o;for(j=S.length-8;j<S.length;++j)S[j]=k&255,k/=256;for(this.u(S),S=Array(16),j=k=0;4>j;++j)for(var R=0;32>R;R+=8)S[k++]=this.g[j]>>>R&255;return S};function s(S,j){var k=l;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=j(S)}function o(S,j){this.h=j;for(var k=[],R=!0,P=S.length-1;0<=P;P--){var O=S[P]|0;R&&O==j||(k[P]=O,R=!1)}this.g=k}var l={};function c(S){return-128<=S&&128>S?s(S,function(j){return new o([j|0],0>j?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return y(u(-S));for(var j=[],k=1,R=0;S>=k;R++)j[R]=S/k|0,k*=4294967296;return new o(j,0)}function d(S,j){if(S.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S.charAt(0)=="-")return y(d(S.substring(1),j));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(j,8)),R=f,P=0;P<S.length;P+=8){var O=Math.min(8,S.length-P),I=parseInt(S.substring(P,P+O),j);8>O?(O=u(Math.pow(j,O)),R=R.j(O).add(u(I))):(R=R.j(k),R=R.add(u(I)))}return R}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-y(this).m();for(var S=0,j=1,k=0;k<this.g.length;k++){var R=this.i(k);S+=(0<=R?R:4294967296+R)*j,j*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+y(this).toString(S);for(var j=u(Math.pow(S,6)),k=this,R="";;){var P=C(k,j).g;k=v(k,P.j(j));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=P,b(k))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var j=0;j<S.g.length;j++)if(S.g[j]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=v(this,S),w(S)?-1:b(S)?0:1};function y(S){for(var j=S.g.length,k=[],R=0;R<j;R++)k[R]=~S.g[R];return new o(k,~S.h).add(h)}t.abs=function(){return w(this)?y(this):this},t.add=function(S){for(var j=Math.max(this.g.length,S.g.length),k=[],R=0,P=0;P<=j;P++){var O=R+(this.i(P)&65535)+(S.i(P)&65535),I=(O>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=I>>>16,O&=65535,I&=65535,k[P]=I<<16|O}return new o(k,k[k.length-1]&-2147483648?-1:0)};function v(S,j){return S.add(y(j))}t.j=function(S){if(b(this)||b(S))return f;if(w(this))return w(S)?y(this).j(y(S)):y(y(this).j(S));if(w(S))return y(this.j(y(S)));if(0>this.l(x)&&0>S.l(x))return u(this.m()*S.m());for(var j=this.g.length+S.g.length,k=[],R=0;R<2*j;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<S.g.length;P++){var O=this.i(R)>>>16,I=this.i(R)&65535,H=S.i(P)>>>16,F=S.i(P)&65535;k[2*R+2*P]+=I*F,_(k,2*R+2*P),k[2*R+2*P+1]+=O*F,_(k,2*R+2*P+1),k[2*R+2*P+1]+=I*H,_(k,2*R+2*P+1),k[2*R+2*P+2]+=O*H,_(k,2*R+2*P+2)}for(R=0;R<j;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=j;R<2*j;R++)k[R]=0;return new o(k,0)};function _(S,j){for(;(S[j]&65535)!=S[j];)S[j+1]+=S[j]>>>16,S[j]&=65535,j++}function N(S,j){this.g=S,this.h=j}function C(S,j){if(b(j))throw Error("division by zero");if(b(S))return new N(f,f);if(w(S))return j=C(y(S),j),new N(y(j.g),y(j.h));if(w(j))return j=C(S,y(j)),new N(y(j.g),j.h);if(30<S.g.length){if(w(S)||w(j))throw Error("slowDivide_ only works with positive integers.");for(var k=h,R=j;0>=R.l(S);)k=E(k),R=E(R);var P=T(k,1),O=T(R,1);for(R=T(R,2),k=T(k,2);!b(R);){var I=O.add(R);0>=I.l(S)&&(P=P.add(k),O=I),R=T(R,1),k=T(k,1)}return j=v(S,P.j(j)),new N(P,j)}for(P=f;0<=S.l(j);){for(k=Math.max(1,Math.floor(S.m()/j.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(k),I=O.j(j);w(I)||0<I.l(S);)k-=R,O=u(k),I=O.j(j);b(O)&&(O=h),P=P.add(O),S=v(S,I)}return new N(P,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var j=Math.max(this.g.length,S.g.length),k=[],R=0;R<j;R++)k[R]=this.i(R)&S.i(R);return new o(k,this.h&S.h)},t.or=function(S){for(var j=Math.max(this.g.length,S.g.length),k=[],R=0;R<j;R++)k[R]=this.i(R)|S.i(R);return new o(k,this.h|S.h)},t.xor=function(S){for(var j=Math.max(this.g.length,S.g.length),k=[],R=0;R<j;R++)k[R]=this.i(R)^S.i(R);return new o(k,this.h^S.h)};function E(S){for(var j=S.g.length+1,k=[],R=0;R<j;R++)k[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(k,S.h)}function T(S,j){var k=j>>5;j%=32;for(var R=S.g.length-k,P=[],O=0;O<R;O++)P[O]=0<j?S.i(O+k)>>>j|S.i(O+k+1)<<32-j:S.i(O+k);return new o(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Xa=o}).apply(typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JM,Lu,YM,Sp,nb,XM,QM,ZM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,M){return m==Array.prototype||m==Object.prototype||(m[A]=M.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var A=0;A<m.length;++A){var M=m[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var M=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var Y=m[$];if(!(Y in M))break e;M=M[Y]}m=m[m.length-1],$=M[m],A=A($),A!=$&&A!=null&&e(M,m,{configurable:!0,writable:!0,value:A})}}function s(m,A){m instanceof String&&(m+="");var M=0,$=!1,Y={next:function(){if(!$&&M<m.length){var ee=M++;return{value:A(ee,m[ee]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return s(this,function(A,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function d(m,A,M){return m.call.apply(m.bind,arguments)}function f(m,A,M){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,$),m.apply(A,Y)}}return function(){return m.apply(A,arguments)}}function h(m,A,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,A){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),m.apply(this,$)}}function b(m,A){function M(){}M.prototype=A.prototype,m.aa=A.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function($,Y,ee){for(var he=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)he[ut-2]=arguments[ut];return A.prototype[Y].apply($,he)}}function w(m){const A=m.length;if(0<A){const M=Array(A);for(let $=0;$<A;$++)M[$]=m[$];return M}return[]}function y(m,A){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(c($)){const Y=m.length||0,ee=$.length||0;m.length=Y+ee;for(let he=0;he<ee;he++)m[Y+he]=$[he]}else m.push($)}}class v{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var E=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function T(m,A,M){for(const $ in m)A.call(M,m[$],$,m)}function S(m,A){for(const M in m)A.call(void 0,m[M],M,m)}function j(m){const A={};for(const M in m)A[M]=m[M];return A}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,A){let M,$;for(let Y=1;Y<arguments.length;Y++){$=arguments[Y];for(M in $)m[M]=$[M];for(let ee=0;ee<k.length;ee++)M=k[ee],Object.prototype.hasOwnProperty.call($,M)&&(m[M]=$[M])}}function P(m){var A=1;m=m.split(":");const M=[];for(;0<A&&m.length;)M.push(m.shift()),A--;return m.length&&M.push(m.join(":")),M}function O(m){l.setTimeout(()=>{throw m},0)}function I(){var m=U;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class H{constructor(){this.h=this.g=null}add(A,M){const $=F.get();$.set(A,M),this.h?this.h.next=$:this.g=$,this.h=$}}var F=new v(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let q,z=!1,U=new H,V=()=>{const m=l.Promise.resolve(void 0);q=()=>{m.then(X)}};var X=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(M){O(M)}var A=F;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};l.addEventListener("test",M,A),l.removeEventListener("test",M,A)}catch{}return m}();function W(m,A){if(G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(E){e:{try{C(A.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(A=null)}}else M=="mouseover"?A=m.fromElement:M=="mouseout"&&(A=m.toElement);this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}b(W,G);var pe={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function de(m,A,M,$,Y){this.listener=m,this.proxy=null,this.src=A,this.type=M,this.capture=!!$,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,A,M,$,Y){var ee=m.toString();m=this.g[ee],m||(m=this.g[ee]=[],this.h++);var he=fe(m,A,$,Y);return-1<he?(A=m[he],M||(A.fa=!1)):(A=new de(A,this.src,ee,!!$,Y),A.fa=M,m.push(A)),A};function K(m,A){var M=A.type;if(M in m.g){var $=m.g[M],Y=Array.prototype.indexOf.call($,A,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call($,Y,1),ee&&(ae(A),m.g[M].length==0&&(delete m.g[M],m.h--))}}function fe(m,A,M,$){for(var Y=0;Y<m.length;++Y){var ee=m[Y];if(!ee.da&&ee.listener==A&&ee.capture==!!M&&ee.ha==$)return Y}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),De={};function Z(m,A,M,$,Y){if(Array.isArray(A)){for(var ee=0;ee<A.length;ee++)Z(m,A[ee],M,$,Y);return null}return M=ye(M),m&&m[Ae]?m.K(A,M,u($)?!!$.capture:!1,Y):me(m,A,M,!1,$,Y)}function me(m,A,M,$,Y,ee){if(!A)throw Error("Invalid event type");var he=u(Y)?!!Y.capture:!!Y,ut=Gn(m);if(ut||(m[ve]=ut=new J(m)),M=ut.add(A,M,$,he,ee),M.proxy)return M;if($=Xe(),M.proxy=$,$.src=m,$.listener=M,m.addEventListener)se||(Y=he),Y===void 0&&(Y=!1),m.addEventListener(A.toString(),$,Y);else if(m.attachEvent)m.attachEvent(He(A.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Xe(){function m(M){return A.call(m.src,m.listener,M)}const A=Lt;return m}function At(m,A,M,$,Y){if(Array.isArray(A))for(var ee=0;ee<A.length;ee++)At(m,A[ee],M,$,Y);else $=u($)?!!$.capture:!!$,M=ye(M),m&&m[Ae]?(m=m.i,A=String(A).toString(),A in m.g&&(ee=m.g[A],M=fe(ee,M,$,Y),-1<M&&(ae(ee[M]),Array.prototype.splice.call(ee,M,1),ee.length==0&&(delete m.g[A],m.h--)))):m&&(m=Gn(m))&&(A=m.g[A.toString()],m=-1,A&&(m=fe(A,M,$,Y)),(M=-1<m?A[m]:null)&&Nt(M))}function Nt(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[Ae])K(A.i,m);else{var M=m.type,$=m.proxy;A.removeEventListener?A.removeEventListener(M,$,m.capture):A.detachEvent?A.detachEvent(He(M),$):A.addListener&&A.removeListener&&A.removeListener($),(M=Gn(A))?(K(M,m),M.h==0&&(M.src=null,A[ve]=null)):ae(m)}}}function He(m){return m in De?De[m]:De[m]="on"+m}function Lt(m,A){if(m.da)m=!0;else{A=new W(A,this);var M=m.listener,$=m.ha||m.src;m.fa&&Nt(m),m=M.call($,A)}return m}function Gn(m){return m=m[ve],m instanceof J?m:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(m){return typeof m=="function"?m:(m[te]||(m[te]=function(A){return m.handleEvent(A)}),m[te])}function Ve(){Q.call(this),this.i=new J(this),this.M=this,this.F=null}b(Ve,Q),Ve.prototype[Ae]=!0,Ve.prototype.removeEventListener=function(m,A,M,$){At(this,m,A,M,$)};function Be(m,A){var M,$=m.F;if($)for(M=[];$;$=$.F)M.push($);if(m=m.M,$=A.type||A,typeof A=="string")A=new G(A,m);else if(A instanceof G)A.target=A.target||m;else{var Y=A;A=new G($,m),R(A,Y)}if(Y=!0,M)for(var ee=M.length-1;0<=ee;ee--){var he=A.g=M[ee];Y=Hn(he,$,!0,A)&&Y}if(he=A.g=m,Y=Hn(he,$,!0,A)&&Y,Y=Hn(he,$,!1,A)&&Y,M)for(ee=0;ee<M.length;ee++)he=A.g=M[ee],Y=Hn(he,$,!1,A)&&Y}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var M=m.g[A],$=0;$<M.length;$++)ae(M[$]);delete m.g[A],m.h--}}this.F=null},Ve.prototype.K=function(m,A,M,$){return this.i.add(String(m),A,!1,M,$)},Ve.prototype.L=function(m,A,M,$){return this.i.add(String(m),A,!0,M,$)};function Hn(m,A,M,$){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var Y=!0,ee=0;ee<A.length;++ee){var he=A[ee];if(he&&!he.da&&he.capture==M){var ut=he.listener,ln=he.ha||he.src;he.fa&&K(m.i,he),Y=ut.call(ln,$)!==!1&&Y}}return Y&&!$.defaultPrevented}function gr(m,A,M){if(typeof m=="function")M&&(m=h(m,M));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:l.setTimeout(m,A||0)}function Vr(m){m.g=gr(()=>{m.g=null,m.i&&(m.i=!1,Vr(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Qc extends Q{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(m){Q.call(this),this.h=m,this.g={}}b(Na,Q);var ih=[];function sh(m){T(m.g,function(A,M){this.g.hasOwnProperty(M)&&Nt(A)},m),m.g={}}Na.prototype.N=function(){Na.aa.N.call(this),sh(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=l.JSON.stringify,ah=l.JSON.parse,Tx=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function le(){}le.prototype.h=null;function be(m){return m.h||(m.h=m.i())}function Re(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){G.call(this,"d")}b(xr,G);function Io(){G.call(this,"c")}b(Io,G);var Sa={},jS=null;function oh(){return jS=jS||new Ve}Sa.La="serverreachability";function PS(m){G.call(this,Sa.La,m)}b(PS,G);function eu(m){const A=oh();Be(A,new PS(A))}Sa.STAT_EVENT="statevent";function IS(m,A){G.call(this,Sa.STAT_EVENT,m),this.stat=A}b(IS,G);function Mn(m){const A=oh();Be(A,new IS(A,m))}Sa.Ma="timingevent";function RS(m,A){G.call(this,Sa.Ma,m),this.size=A}b(RS,G);function tu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},A)}function nu(){this.g=!0}nu.prototype.xa=function(){this.g=!1};function Z$(m,A,M,$,Y,ee){m.info(function(){if(m.g)if(ee)for(var he="",ut=ee.split("&"),ln=0;ln<ut.length;ln++){var Qe=ut[ln].split("=");if(1<Qe.length){var vn=Qe[0];Qe=Qe[1];var bn=vn.split("_");he=2<=bn.length&&bn[1]=="type"?he+(vn+"="+Qe+"&"):he+(vn+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+$+") [attempt "+Y+"]: "+A+`
`+M+`
`+he})}function e3(m,A,M,$,Y,ee,he){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Y+"]: "+A+`
`+M+`
`+ee+" "+he})}function Ro(m,A,M,$){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+n3(m,M)+($?" "+$:"")})}function t3(m,A){m.info(function(){return"TIMEOUT: "+A})}nu.prototype.info=function(){};function n3(m,A){if(!m.g)return A;if(!A)return null;try{var M=JSON.parse(A);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var $=M[m];if(!(2>$.length)){var Y=$[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return Zc(M)}catch{return A}}var lh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ax;function ch(){}b(ch,le),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},Ax=new ch;function Ns(m,A,M,$){this.j=m,this.i=A,this.l=M,this.R=$||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new OS}function OS(){this.i=null,this.g="",this.h=!1}var DS={},kx={};function Cx(m,A,M){m.L=1,m.v=hh(Ii(A)),m.m=M,m.P=!0,LS(m,null)}function LS(m,A){m.F=Date.now(),uh(m),m.A=Ii(m.v);var M=m.A,$=m.R;Array.isArray($)||($=[String($)]),XS(M.i,"t",$),m.C=0,M=m.j.J,m.h=new OS,m.g=mE(m.j,M?A:null,!m.m),0<m.O&&(m.M=new Qc(h(m.Y,m,m.g),m.O)),A=m.U,M=m.g,$=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ih[0]=Y.toString()),Y=ih);for(var ee=0;ee<Y.length;ee++){var he=Z(M,Y[ee],$||A.handleEvent,!1,A.h||A);if(!he)break;A.g[he.key]=he}A=m.H?j(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),eu(),Z$(m.i,m.u,m.A,m.l,m.R,m.m)}Ns.prototype.ca=function(m){m=m.target;const A=this.M;A&&Ri(m)==3?A.j():this.Y(m)},Ns.prototype.Y=function(m){try{if(m==this.g)e:{const bn=Ri(this.g);var A=this.g.Ba();const Do=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||iE(this.g)))){this.J||bn!=4||A==7||(A==8||0>=Do?eu(3):eu(2)),jx(this);var M=this.g.Z();this.X=M;t:if($S(this)){var $=iE(this.g);m="";var Y=$.length,ee=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),ru(this);var he="";break t}this.h.i=new l.TextDecoder}for(A=0;A<Y;A++)this.h.h=!0,m+=this.h.i.decode($[A],{stream:!(ee&&A==Y-1)});$.length=0,this.h.g+=m,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=M==200,e3(this.i,this.u,this.A,this.l,this.R,bn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,ln=this.g;if((ut=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ut)){var Qe=ut;break t}}Qe=null}if(M=Qe)Ro(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Px(this,M);else{this.o=!1,this.s=3,Mn(12),Ea(this),ru(this);break e}}if(this.P){M=!0;let Ur;for(;!this.J&&this.C<he.length;)if(Ur=r3(this,he),Ur==kx){bn==4&&(this.s=4,Mn(14),M=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==DS){this.s=4,Mn(15),Ro(this.i,this.l,he,"[Invalid Chunk]"),M=!1;break}else Ro(this.i,this.l,Ur,null),Px(this,Ur);if($S(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||he.length!=0||this.h.h||(this.s=1,Mn(16),M=!1),this.o=this.o&&M,!M)Ro(this.i,this.l,he,"[Invalid Chunked Response]"),Ea(this),ru(this);else if(0<he.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Lx(vn),vn.M=!0,Mn(11))}}else Ro(this.i,this.l,he,null),Px(this,he);bn==4&&Ea(this),this.o&&!this.J&&(bn==4?dE(this.j,this):(this.o=!1,uh(this)))}else b3(this.g),M==400&&0<he.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),Ea(this),ru(this)}}}catch{}finally{}};function $S(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function r3(m,A){var M=m.C,$=A.indexOf(`
`,M);return $==-1?kx:(M=Number(A.substring(M,$)),isNaN(M)?DS:($+=1,$+M>A.length?kx:(A=A.slice($,$+M),m.C=$+M,A)))}Ns.prototype.cancel=function(){this.J=!0,Ea(this)};function uh(m){m.S=Date.now()+m.I,FS(m,m.I)}function FS(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=tu(h(m.ba,m),A)}function jx(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Ns.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(t3(this.i,this.A),this.L!=2&&(eu(),Mn(17)),Ea(this),this.s=2,ru(this)):FS(this,this.S-m)};function ru(m){m.j.G==0||m.J||dE(m.j,m)}function Ea(m){jx(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,sh(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function Px(m,A){try{var M=m.j;if(M.G!=0&&(M.g==m||Ix(M.h,m))){if(!m.K&&Ix(M.h,m)&&M.G==3){try{var $=M.Da.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var Y=$;if(Y[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)vh(M),xh(M);else break e;Dx(M),Mn(18)}}else M.za=Y[1],0<M.za-M.T&&37500>Y[2]&&M.F&&M.v==0&&!M.C&&(M.C=tu(h(M.Za,M),6e3));if(1>=BS(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Aa(M,11)}else if((m.K||M.g==m)&&vh(M),!_(A))for(Y=M.Da.g.parse(A),A=0;A<Y.length;A++){let Qe=Y[A];if(M.T=Qe[0],Qe=Qe[1],M.G==2)if(Qe[0]=="c"){M.K=Qe[1],M.ia=Qe[2];const vn=Qe[3];vn!=null&&(M.la=vn,M.j.info("VER="+M.la));const bn=Qe[4];bn!=null&&(M.Aa=bn,M.j.info("SVER="+M.Aa));const Do=Qe[5];Do!=null&&typeof Do=="number"&&0<Do&&($=1.5*Do,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const Ur=m.g;if(Ur){const wh=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wh){var ee=$.h;ee.g||wh.indexOf("spdy")==-1&&wh.indexOf("quic")==-1&&wh.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Rx(ee,ee.h),ee.h=null))}if($.D){const $x=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;$x&&($.ya=$x,yt($.I,$.D,$x))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var he=m;if($.qa=pE($,$.J?$.ia:null,$.W),he.K){qS($.h,he);var ut=he,ln=$.L;ln&&(ut.I=ln),ut.B&&(jx(ut),uh(ut)),$.g=he}else cE($);0<M.i.length&&yh(M)}else Qe[0]!="stop"&&Qe[0]!="close"||Aa(M,7);else M.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Aa(M,7):Ox(M):Qe[0]!="noop"&&M.l&&M.l.ta(Qe),M.v=0)}}eu(4)}catch{}}var i3=class{constructor(m,A){this.g=m,this.map=A}};function VS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function US(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function BS(m){return m.h?1:m.g?m.g.size:0}function Ix(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Rx(m,A){m.g?m.g.add(A):m.h=A}function qS(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}VS.prototype.cancel=function(){if(this.i=zS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function zS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const M of m.g.values())A=A.concat(M.D);return A}return w(m.i)}function s3(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var A=[],M=m.length,$=0;$<M;$++)A.push(m[$]);return A}A=[],M=0;for($ in m)A[M++]=m[$];return A}function a3(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var A=[];m=m.length;for(var M=0;M<m;M++)A.push(M);return A}A=[],M=0;for(const $ in m)A[M++]=$;return A}}}function GS(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var M=a3(m),$=s3(m),Y=$.length,ee=0;ee<Y;ee++)A.call(void 0,$[ee],M&&M[ee],m)}var HS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o3(m,A){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var $=m[M].indexOf("="),Y=null;if(0<=$){var ee=m[M].substring(0,$);Y=m[M].substring($+1)}else ee=m[M];A(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ta(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ta){this.h=m.h,dh(this,m.j),this.o=m.o,this.g=m.g,fh(this,m.s),this.l=m.l;var A=m.i,M=new au;M.i=A.i,A.g&&(M.g=new Map(A.g),M.h=A.h),WS(this,M),this.m=m.m}else m&&(A=String(m).match(HS))?(this.h=!1,dh(this,A[1]||"",!0),this.o=iu(A[2]||""),this.g=iu(A[3]||"",!0),fh(this,A[4]),this.l=iu(A[5]||"",!0),WS(this,A[6]||"",!0),this.m=iu(A[7]||"")):(this.h=!1,this.i=new au(null,this.h))}Ta.prototype.toString=function(){var m=[],A=this.j;A&&m.push(su(A,KS,!0),":");var M=this.g;return(M||A=="file")&&(m.push("//"),(A=this.o)&&m.push(su(A,KS,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(su(M,M.charAt(0)=="/"?u3:c3,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",su(M,f3)),m.join("")};function Ii(m){return new Ta(m)}function dh(m,A,M){m.j=M?iu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function fh(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function WS(m,A,M){A instanceof au?(m.i=A,h3(m.i,m.h)):(M||(A=su(A,d3)),m.i=new au(A,m.h))}function yt(m,A,M){m.i.set(A,M)}function hh(m){return yt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function iu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function su(m,A,M){return typeof m=="string"?(m=encodeURI(m).replace(A,l3),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function l3(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var KS=/[#\/\?@]/g,c3=/[#\?:]/g,u3=/[#\?]/g,d3=/[#\?@]/g,f3=/#/g;function au(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Ss(m){m.g||(m.g=new Map,m.h=0,m.i&&o3(m.i,function(A,M){m.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}t=au.prototype,t.add=function(m,A){Ss(this),this.i=null,m=Mo(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(A),this.h+=1,this};function JS(m,A){Ss(m),A=Mo(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function YS(m,A){return Ss(m),A=Mo(m,A),m.g.has(A)}t.forEach=function(m,A){Ss(this),this.g.forEach(function(M,$){M.forEach(function(Y){m.call(A,Y,$,this)},this)},this)},t.na=function(){Ss(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),M=[];for(let $=0;$<A.length;$++){const Y=m[$];for(let ee=0;ee<Y.length;ee++)M.push(A[$])}return M},t.V=function(m){Ss(this);let A=[];if(typeof m=="string")YS(this,m)&&(A=A.concat(this.g.get(Mo(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)A=A.concat(m[M])}return A},t.set=function(m,A){return Ss(this),this.i=null,m=Mo(this,m),YS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function XS(m,A,M){JS(m,A),0<M.length&&(m.i=null,m.g.set(Mo(m,A),w(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var M=0;M<A.length;M++){var $=A[M];const ee=encodeURIComponent(String($)),he=this.V($);for($=0;$<he.length;$++){var Y=ee;he[$]!==""&&(Y+="="+encodeURIComponent(String(he[$]))),m.push(Y)}}return this.i=m.join("&")};function Mo(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function h3(m,A){A&&!m.j&&(Ss(m),m.i=null,m.g.forEach(function(M,$){var Y=$.toLowerCase();$!=Y&&(JS(this,$),XS(this,Y,M))},m)),m.j=A}function p3(m,A){const M=new nu;if(l.Image){const $=new Image;$.onload=x(Es,M,"TestLoadImage: loaded",!0,A,$),$.onerror=x(Es,M,"TestLoadImage: error",!1,A,$),$.onabort=x(Es,M,"TestLoadImage: abort",!1,A,$),$.ontimeout=x(Es,M,"TestLoadImage: timeout",!1,A,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else A(!1)}function m3(m,A){const M=new nu,$=new AbortController,Y=setTimeout(()=>{$.abort(),Es(M,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:$.signal}).then(ee=>{clearTimeout(Y),ee.ok?Es(M,"TestPingServer: ok",!0,A):Es(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),Es(M,"TestPingServer: error",!1,A)})}function Es(m,A,M,$,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),$(M)}catch{}}function g3(){this.g=new Tx}function x3(m,A,M){const $=M||"";try{GS(m,function(Y,ee){let he=Y;u(Y)&&(he=Zc(Y)),A.push($+ee+"="+encodeURIComponent(he))})}catch(Y){throw A.push($+"type="+encodeURIComponent("_badmap")),Y}}function ph(m){this.l=m.Ub||null,this.j=m.eb||!1}b(ph,le),ph.prototype.g=function(){return new mh(this.l,this.j)},ph.prototype.i=function(m){return function(){return m}}({});function mh(m,A){Ve.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(mh,Ve),t=mh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,lu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||l).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ou(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,lu(this)),this.g&&(this.readyState=3,lu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function QS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?ou(this):lu(this),this.readyState==3&&QS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ou(this))},t.Qa=function(m){this.g&&(this.response=m,ou(this))},t.ga=function(){this.g&&ou(this)};function ou(m){m.readyState=4,m.l=null,m.j=null,m.v=null,lu(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=A.next();return m.join(`\r
`)};function lu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ZS(m){let A="";return T(m,function(M,$){A+=$,A+=":",A+=M,A+=`\r
`}),A}function Mx(m,A,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=ZS(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):yt(m,A,M))}function It(m){Ve.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(It,Ve);var y3=/^https?$/i,v3=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ax.g(),this.v=this.o?be(this.o):be(Ax),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(ee){eE(this,ee);return}if(m=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Y in $)M.set(Y,$[Y]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ee of $.keys())M.set(ee,$.get(ee));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(v3,A,void 0))||$||Y||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of M)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rE(this),this.u=!0,this.g.send(m),this.u=!1}catch(ee){eE(this,ee)}};function eE(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,tE(m),gh(m)}function tE(m){m.A||(m.A=!0,Be(m,"complete"),Be(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Be(this,"complete"),Be(this,"abort"),gh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gh(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nE(this):this.bb())},t.bb=function(){nE(this)};function nE(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ri(m)!=4||m.Z()!=2)){if(m.u&&Ri(m)==4)gr(m.Ea,0,m);else if(Be(m,"readystatechange"),Ri(m)==4){m.h=!1;try{const he=m.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var $;if($=he===0){var Y=String(m.D).match(HS)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),$=!y3.test(Y?Y.toLowerCase():"")}M=$}if(M)Be(m,"complete"),Be(m,"success");else{m.m=6;try{var ee=2<Ri(m)?m.g.statusText:""}catch{ee=""}m.l=ee+" ["+m.Z()+"]",tE(m)}}finally{gh(m)}}}}function gh(m,A){if(m.g){rE(m);const M=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Be(m,"ready");try{M.onreadystatechange=$}catch{}}}function rE(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ri(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),ah(A)}};function iE(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function b3(m){const A={};m=(m.g&&2<=Ri(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(_(m[$]))continue;var M=P(m[$]);const Y=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ee=A[Y]||[];A[Y]=ee,ee.push(M)}S(A,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cu(m,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||A}function sE(m){this.Aa=0,this.i=[],this.j=new nu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cu("baseRetryDelayMs",5e3,m),this.cb=cu("retryDelaySeedMs",1e4,m),this.Wa=cu("forwardChannelMaxRetries",2,m),this.wa=cu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new VS(m&&m.concurrentRequestLimit),this.Da=new g3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sE.prototype,t.la=8,t.G=1,t.connect=function(m,A,M,$){Mn(0),this.W=m,this.H=A||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=pE(this,null,this.W),yh(this)};function Ox(m){if(aE(m),m.G==3){var A=m.U++,M=Ii(m.I);if(yt(M,"SID",m.K),yt(M,"RID",A),yt(M,"TYPE","terminate"),uu(m,M),A=new Ns(m,m.j,A),A.L=2,A.v=hh(Ii(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(A.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=A.v,M=!0),M||(A.g=mE(A.j,null),A.g.ea(A.v)),A.F=Date.now(),uh(A)}hE(m)}function xh(m){m.g&&(Lx(m),m.g.cancel(),m.g=null)}function aE(m){xh(m),m.u&&(l.clearTimeout(m.u),m.u=null),vh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function yh(m){if(!US(m.h)&&!m.s){m.s=!0;var A=m.Ga;q||V(),z||(q(),z=!0),U.add(A,m),m.B=0}}function w3(m,A){return BS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=tu(h(m.Ga,m,A),fE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Ns(this,this.j,m);let ee=this.o;if(this.S&&(ee?(ee=j(ee),R(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,4096<A){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=lE(this,Y,A),M=Ii(this.I),yt(M,"RID",m),yt(M,"CVER",22),this.D&&yt(M,"X-HTTP-Session-Id",this.D),uu(this,M),ee&&(this.O?A="headers="+encodeURIComponent(String(ZS(ee)))+"&"+A:this.m&&Mx(M,this.m,ee)),Rx(this.h,Y),this.Ua&&yt(M,"TYPE","init"),this.P?(yt(M,"$req",A),yt(M,"SID","null"),Y.T=!0,Cx(Y,M,null)):Cx(Y,M,A),this.G=2}}else this.G==3&&(m?oE(this,m):this.i.length==0||US(this.h)||oE(this))};function oE(m,A){var M;A?M=A.l:M=m.U++;const $=Ii(m.I);yt($,"SID",m.K),yt($,"RID",M),yt($,"AID",m.T),uu(m,$),m.m&&m.o&&Mx($,m.m,m.o),M=new Ns(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),A&&(m.i=A.D.concat(m.i)),A=lE(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Rx(m.h,M),Cx(M,$,A)}function uu(m,A){m.H&&T(m.H,function(M,$){yt(A,$,M)}),m.l&&GS({},function(M,$){yt(A,$,M)})}function lE(m,A,M){M=Math.min(m.i.length,M);var $=m.l?h(m.l.Na,m.l,m):null;e:{var Y=m.i;let ee=-1;for(;;){const he=["count="+M];ee==-1?0<M?(ee=Y[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let ut=!0;for(let ln=0;ln<M;ln++){let Qe=Y[ln].g;const vn=Y[ln].map;if(Qe-=ee,0>Qe)ee=Math.max(0,Y[ln].g-100),ut=!1;else try{x3(vn,he,"req"+Qe+"_")}catch{$&&$(vn)}}if(ut){$=he.join("&");break e}}}return m=m.i.splice(0,M),A.D=m,$}function cE(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;q||V(),z||(q(),z=!0),U.add(A,m),m.v=0}}function Dx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=tu(h(m.Fa,m),fE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,uE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=tu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mn(10),xh(this),uE(this))};function Lx(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function uE(m){m.g=new Ns(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=Ii(m.qa);yt(A,"RID","rpc"),yt(A,"SID",m.K),yt(A,"AID",m.T),yt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&yt(A,"TO",m.ja),yt(A,"TYPE","xmlhttp"),uu(m,A),m.m&&m.o&&Mx(A,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=hh(Ii(A)),M.m=null,M.P=!0,LS(M,m)}t.Za=function(){this.C!=null&&(this.C=null,xh(this),Dx(this),Mn(19))};function vh(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function dE(m,A){var M=null;if(m.g==A){vh(m),Lx(m),m.g=null;var $=2}else if(Ix(m.h,A))M=A.D,qS(m.h,A),$=1;else return;if(m.G!=0){if(A.o)if($==1){M=A.m?A.m.length:0,A=Date.now()-A.F;var Y=m.B;$=oh(),Be($,new RS($,M)),yh(m)}else cE(m);else if(Y=A.s,Y==3||Y==0&&0<A.X||!($==1&&w3(m,A)||$==2&&Dx(m)))switch(M&&0<M.length&&(A=m.h,A.i=A.i.concat(M)),Y){case 1:Aa(m,5);break;case 4:Aa(m,10);break;case 3:Aa(m,6);break;default:Aa(m,2)}}}function fE(m,A){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*A}function Aa(m,A){if(m.j.info("Error code "+A),A==2){var M=h(m.fb,m),$=m.Xa;const Y=!$;$=new Ta($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||dh($,"https"),hh($),Y?p3($.toString(),M):m3($.toString(),M)}else Mn(2);m.G=0,m.l&&m.l.sa(A),hE(m),aE(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function hE(m){if(m.G=0,m.ka=[],m.l){const A=zS(m.h);(A.length!=0||m.i.length!=0)&&(y(m.ka,A),y(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function pE(m,A,M){var $=M instanceof Ta?Ii(M):new Ta(M);if($.g!="")A&&($.g=A+"."+$.g),fh($,$.s);else{var Y=l.location;$=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ta(null);$&&dh(ee,$),A&&(ee.g=A),Y&&fh(ee,Y),M&&(ee.l=M),$=ee}return M=m.D,A=m.ya,M&&A&&yt($,M,A),yt($,"VER",m.la),uu(m,$),$}function mE(m,A,M){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new It(new ph({eb:M})):new It(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gE(){}t=gE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bh(){}bh.prototype.g=function(m,A){return new ir(m,A)};function ir(m,A){Ve.call(this),this.g=new sE(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!_(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!_(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Oo(this)}b(ir,Ve),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Ox(this.g)},ir.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=Zc(m),m=M);A.i.push(new i3(A.Ya++,m)),A.G==3&&yh(A)},ir.prototype.N=function(){this.g.l=null,delete this.j,Ox(this.g),delete this.g,ir.aa.N.call(this)};function xE(m){xr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const M in A){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}b(xE,xr);function yE(){Io.call(this),this.status=1}b(yE,Io);function Oo(m){this.g=m}b(Oo,gE),Oo.prototype.ua=function(){Be(this.g,"a")},Oo.prototype.ta=function(m){Be(this.g,new xE(m))},Oo.prototype.sa=function(m){Be(this.g,new yE)},Oo.prototype.ra=function(){Be(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,ZM=function(){return new bh},QM=function(){return oh()},XM=Sa,nb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lh.NO_ERROR=0,lh.TIMEOUT=8,lh.HTTP_ERROR=6,Sp=lh,MS.COMPLETE="complete",YM=MS,Re.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Lu=Re,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,JM=It}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const FT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new c_("@firebase/firestore");function vu(){return co.logLevel}function Ne(t,...e){if(co.logLevel<=Ge.DEBUG){const n=e.map(f_);co.debug(`Firestore (${jc}): ${t}`,...n)}}function ss(t,...e){if(co.logLevel<=Ge.ERROR){const n=e.map(f_);co.error(`Firestore (${jc}): ${t}`,...n)}}function Vl(t,...e){if(co.logLevel<=Ge.WARN){const n=e.map(f_);co.warn(`Firestore (${jc}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw ss(e),new Error(e)}function at(t,e){t||Pe()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class j8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P8{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ta,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ta)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new eO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new En(e)}}class I8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){at(this.o===void 0);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new M8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Xt(0,0))}static max(){return new Me(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Rd{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const L8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Rd{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return L8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}function $8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new aa(i,Se.empty(),e)}function F8(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(Me.min(),Se.empty(),-1)}static max(){return new aa(Me.max(),Se.empty(),-1)}}function V8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==U8)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ff(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}h_.oe=-1;function a0(t){return t==null}function um(t){return t===0&&1/t==-1/0}function z8(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=s??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UT(this.data.getIterator())}getIteratorFrom(e){return new UT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class UT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new mn(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rO("Invalid base64 string: "+s):s}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const G8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(at(!!t),typeof t=="string"){let e=0;const n=G8.exec(t);if(at(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function p_(t){const e=t.mapValue.fields.__previous_value__;return o0(e)?p_(e):e}function Md(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Od("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh={mapValue:{}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o0(t)?4:K8(t)?9007199254740991:W8(t)?10:11:Pe()}function Ei(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oa(i.timestampValue),l=oa(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return uo(i.bytesValue).isEqual(uo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$t(i.doubleValue),l=$t(s.doubleValue);return o===l?um(o)===um(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(VT(o)!==VT(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ei(o[c],l[c])))return!1;return!0}(t,e);default:return Pe()}}function Dd(t,e){return(t.values||[]).find(n=>Ei(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=$t(s.integerValue||s.doubleValue),c=$t(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return BT(t.timestampValue,e.timestampValue);case 4:return BT(Md(t),Md(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const l=uo(s),c=uo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ze(l[u],c[u]);if(d!==0)return d}return Ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ze($t(s.latitude),$t(o.latitude));return l!==0?l:Ze($t(s.longitude),$t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,d;const f=s.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=h.value)===null||c===void 0?void 0:c.arrayValue,w=Ze(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:qT(x,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bh.mapValue&&o===Bh.mapValue)return 0;if(s===Bh.mapValue)return 1;if(o===Bh.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Ze(c[f],d[f]);if(h!==0)return h;const x=Bl(l[c[f]],u[d[f]]);if(x!==0)return x}return Ze(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function BT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=oa(t),r=oa(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function qT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bl(n[i],r[i]);if(s)return s}return Ze(n.length,r.length)}function ql(t){return rb(t)}function rb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rb(n.fields[o])}`;return i+"}"}(t.mapValue):Pe()}function dm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ib(t){return!!t&&"integerValue"in t}function m_(t){return!!t&&"arrayValue"in t}function zT(t){return!!t&&"nullValue"in t}function GT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function W8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ed(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(ed(this.value))}}function iO(t){const e=[];return No(t.fields,(n,r)=>{const i=new hn([n]);if(Ep(r)){const s=iO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new An(e,0,Me.min(),Me.min(),Me.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,Me.min(),Me.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Me.min(),Me.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.position=e,this.inclusive=n}}function HT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=Bl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function WT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function J8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO=class{};class qt extends sO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X8(e,n,r):n==="array-contains"?new eB(e,r):n==="in"?new tB(e,r):n==="not-in"?new nB(e,r):n==="array-contains-any"?new rB(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q8(e,r):new Z8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends sO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new si(e,n)}matches(e){return aO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function aO(t){return t.op==="and"}function oO(t){return Y8(t)&&aO(t)}function Y8(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function sb(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(oO(t))return t.filters.map(e=>sb(e)).join(",");{const e=t.filters.map(n=>sb(n)).join(",");return`${t.op}(${e})`}}function lO(t,e){return t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)}(t,e):t instanceof si?function(r,i){return i instanceof si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&lO(o,i.filters[l]),!0):!1}(t,e):void Pe()}function cO(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(cO).join(" ,")+"}"}(t):"Filter"}class X8 extends qt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q8 extends qt{constructor(e,n){super(e,"in",n),this.keys=uO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z8 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=uO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class eB extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m_(n)&&Dd(n.arrayValue,this.value)}}class tB extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class nB extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class rB extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function KT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iB(t,e,n,r,i,s,o)}function g_(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),a0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.ue=n}return e.ue}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WT(t.startAt,e.startAt)&&WT(t.endAt,e.endAt)}function ab(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sB(t,e,n,r,i,s,o,l){return new So(t,e,n,r,i,s,o,l)}function y_(t){return new So(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v_(t){return t.collectionGroup!==null}function bl(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mn(hn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ld(s,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new Ld(hn.keyField(),r))}return e.ce}function vi(t){const e=Oe(t);return e.le||(e.le=aB(e,bl(t))),e.le}function aB(t,e){if(t.limitType==="F")return KT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ld(i.field,s)});const n=t.endAt?new zl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zl(t.startAt.position,t.startAt.inclusive):null;return KT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ob(t,e){const n=t.filters.concat([e]);return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fm(t,e,n){return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function l0(t,e){return x_(vi(t),vi(e))&&t.limitType===e.limitType}function dO(t){return`${g_(vi(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cO(i)).join(", ")}]`),a0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ql(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ql(i)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function c0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of bl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=HT(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,bl(r),i)||r.endAt&&!function(o,l,c){const u=HT(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,bl(r),i))}(t,e)}function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fO(t){return(e,n)=>{let r=!1;for(const i of bl(t)){const s=lB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lB(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Bl(c,u):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new Pt(Se.comparator);function as(){return cB}const hO=new Pt(Se.comparator);function $u(...t){let e=hO;for(const n of t)e=e.insert(n.key,n);return e}function pO(t){let e=hO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ba(){return td()}function mO(){return td()}function td(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const uB=new Pt(Se.comparator),dB=new mn(Se.comparator);function ze(...t){let e=dB;for(const n of t)e=e.add(n);return e}const fB=new mn(Ze);function hB(){return fB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function gO(t){return{integerValue:""+t}}function pB(t,e){return z8(e)?gO(e):b_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this._=void 0}}function mB(t,e,n){return t instanceof hm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&o0(s)&&(s=p_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $d?yO(t,e):t instanceof Fd?vO(t,e):function(i,s){const o=xO(i,s),l=YT(o)+YT(i.Pe);return ib(o)&&ib(i.Pe)?gO(l):b_(i.serializer,l)}(t,e)}function gB(t,e,n){return t instanceof $d?yO(t,e):t instanceof Fd?vO(t,e):n}function xO(t,e){return t instanceof pm?function(r){return ib(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hm extends u0{}class $d extends u0{constructor(e){super(),this.elements=e}}function yO(t,e){const n=bO(e);for(const r of t.elements)n.some(i=>Ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends u0{constructor(e){super(),this.elements=e}}function vO(t,e){let n=bO(e);for(const r of t.elements)n=n.filter(i=>!Ei(i,r));return{arrayValue:{values:n}}}class pm extends u0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function YT(t){return $t(t.integerValue||t.doubleValue)}function bO(t){return m_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $d&&i instanceof $d||r instanceof Fd&&i instanceof Fd?Ul(r.elements,i.elements,Ei):r instanceof pm&&i instanceof pm?Ei(r.Pe,i.Pe):r instanceof hm&&i instanceof hm}(t.transform,e.transform)}class yB{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class d0{}function wO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w_(t.key,kr.none()):new Vf(t.key,t.data,kr.none());{const n=t.data,r=Xn.empty();let i=new mn(hn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xa(t.key,r,new ur(i.toArray()),kr.none())}}function vB(t,e,n){t instanceof Vf?function(i,s,o){const l=i.value.clone(),c=QT(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xa?function(i,s,o){if(!Tp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=QT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(_O(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof Vf?function(s,o,l,c){if(!Tp(s.precondition,o))return l;const u=s.value.clone(),d=ZT(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xa?function(s,o,l,c){if(!Tp(s.precondition,o))return l;const u=ZT(s.fieldTransforms,c,o),d=o.data;return d.setAll(_O(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Tp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function bB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xO(r.transform,i||null);s!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function XT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>xB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends d0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xa extends d0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _O(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QT(t,e,n){const r=new Map;at(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,gB(o,l,n[i]))}return r}function ZT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mB(s,o,e))}return r}class w_ extends d0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wB extends d0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=wO(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>XT(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>XT(n,r))}}class __{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length);let i=function(){return uB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new __(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,We;function EB(t){switch(t){default:return Pe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function NO(t){if(t===void 0)return ss("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Vt.OK:return ie.OK;case Vt.CANCELLED:return ie.CANCELLED;case Vt.UNKNOWN:return ie.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ie.INTERNAL;case Vt.UNAVAILABLE:return ie.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ie.NOT_FOUND;case Vt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Vt.ABORTED:return ie.ABORTED;case Vt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Vt.DATA_LOSS:return ie.DATA_LOSS;default:return Pe()}}(We=Vt||(Vt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new Xa([4294967295,4294967295],0);function eA(t){const e=TB().encode(t),n=new KM;return n.update(e),new Uint8Array(n.digest())}function tA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([i,s],0)]}class N_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xa.fromNumber(r)));return i.compare(AB)===1&&(i=new Xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=eA(e),[r,i]=tA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new N_(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=eA(e),[r,i]=tA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new f0(Me.min(),i,new Pt(Ze),as(),ze())}}class Uf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uf(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SO{constructor(e,n){this.targetId=e,this.me=n}}class EO{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nA{constructor(){this.fe=0,this.ge=iA(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new Uf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kB{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=rA(),this.Qe=new Pt(Ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ab(s))if(r===0){const o=new Se(s.path);this.Ue(n,o,An.newNoDocument(o,Me.min()))}else at(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=uo(r).toUint8Array()}catch(c){if(c instanceof rO)return Vl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new N_(o,i,s)}catch(c){return Vl(c instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&ab(l.target)){const c=new Se(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,An.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ze();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new f0(e,n,this.Qe,this.ke,r);return this.ke=as(),this.qe=rA(),this.Qe=new Pt(Ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mn(Ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rA(){return new Pt(Se.comparator)}function iA(){return new Pt(Se.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},jB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PB={and:"AND",or:"OR"};class IB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lb(t,e){return t.useProto3Json||a0(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RB(t,e){return mm(t,e.toTimestamp())}function bi(t){return at(!!t),Me.fromTimestamp(function(n){const r=oa(n);return new Xt(r.seconds,r.nanos)}(t))}function S_(t,e){return cb(t,e).canonicalString()}function cb(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AO(t){const e=mt.fromString(t);return at(IO(e)),e}function ub(t,e){return S_(t.databaseId,e.path)}function gy(t,e){const n=AO(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(CO(n))}function kO(t,e){return S_(t.databaseId,e)}function MB(t){const e=AO(t);return e.length===4?mt.emptyPath():CO(e)}function db(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CO(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sA(t,e,n){return{name:ub(t,e),fields:n.value.mapValue.fields}}function OB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(at(d===void 0||typeof d=="string"),yn.fromBase64String(d||"")):(at(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?ie.UNKNOWN:NO(u.code);return new ge(d,u.message||"")}(o);n=new EO(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gy(t,r.document.name),s=bi(r.document.updateTime),o=r.document.createTime?bi(r.document.createTime):Me.min(),l=new Xn({mapValue:{fields:r.document.fields}}),c=An.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ap(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gy(t,r.document),s=r.readTime?bi(r.readTime):Me.min(),o=An.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ap([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gy(t,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SB(i,s),l=r.targetId;n=new SO(l,o)}}return n}function DB(t,e){let n;if(e instanceof Vf)n={update:sA(t,e.key,e.value)};else if(e instanceof w_)n={delete:ub(t,e.key)};else if(e instanceof xa)n={update:sA(t,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof wB))return Pe();n={verify:ub(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof hm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $d)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pm)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:RB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe()}(t,e.precondition)),n}function LB(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?bi(i.updateTime):bi(s);return o.isEqual(Me.min())&&(o=bi(s)),new yB(o,i.transformResults||[])}(n,e))):[]}function $B(t,e){return{documents:[kO(t,e.path)]}}function FB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kO(t,i);const s=function(u){if(u.length!==0)return PO(si.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:zo(h.field),direction:BB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=lb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function VB(t){let e=MB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=jO(f);return h instanceof si&&oO(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new Ld(Go(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,a0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new zl(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new zl(x,h)}(n.endAt)),sB(e,i,o,s,l,"F",c,u)}function UB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(n.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Go(n.unaryFilter.field);return qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(r=>jO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function BB(t){return CB[t]}function qB(t){return jB[t]}function zB(t){return PB[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Go(t){return hn.fromServerFormat(t.fieldPath)}function PO(t){return t instanceof qt?function(n){if(n.op==="=="){if(GT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(zT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(zT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:qB(n.op),value:n.value}}}(t):t instanceof si?function(n){const r=n.getFilters().map(i=>PO(i));return r.length===1?r[0]:{compositeFilter:{op:zB(n.op),filters:r}}}(t):Pe()}function GB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,s=Me.min(),o=Me.min(),l=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.ct=e}}function WB(t){const e=VB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.un=new JB}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(aa.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class JB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gl(0)}static kn(){return new Gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nd(r.mutation,i,ur.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=Ba();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$u();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=as();const o=td(),l=function(){return td()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xa)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nd(d.mutation,u,d.mutation.getFieldMask(),Xt.now())):o.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new XB(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=td();let i=new Pt((o,l)=>o-l),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ur.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||ze()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=mO();d.forEach(h=>{if(!s.has(h)){const x=wO(n.get(h),r.get(h));x!==null&&f.set(h,x),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(Ba());let l=-1,c=s;return o.next(u=>oe.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ze())).next(d=>({batchId:l,changes:pO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=$u();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$u();return this.indexManager.getCollectionParents(e,s).next(l=>oe.forEach(l,c=>{const u=function(f,h){return new So(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,An.newInvalidDocument(d)))});let l=$u();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&nd(d.mutation,u,ur.empty(),Xt.now()),c0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bi(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WB(i.bundledQuery),readTime:bi(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.overlays=new Pt(Se.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Ba(),s=n.length+1,o=new Se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ba(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ba(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return oe.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NB(n,r));let s=this.Ir.get(n);s===void 0&&(s=ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Tr=new mn(en.Er),this.dr=new mn(en.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new en(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Se(new mt([])),r=new en(n,e),i=new en(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new mt([])),r=new en(n,e),i=new en(n,e+1);let s=ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new en(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||Ze(e.wr,n.wr)}static Ar(e,n){return Ze(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mn(en.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _B(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new en(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),i=new en(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ze);return n.forEach(i=>{const s=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const o=new en(new Se(s),0);let l=new mn(Ze);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),oe.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const s=new en(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new en(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.Mr=e,this.docs=function(){return new Pt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():An.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=as();const o=n.path,l=new Se(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||V8(F8(d),r)<=0||(i.has(d.key)||c0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Pe()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new i9(this)}getSize(e){return oe.resolve(this.size)}}class i9 extends YB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.persistence=e,this.Nr=new Pc(n=>g_(n),x_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new E_,this.targetCount=0,this.kr=Gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new h_(0),this.Kr=!1,this.Kr=!0,this.$r=new t9,this.referenceDelegate=e(this),this.Ur=new s9(this),this.indexManager=new KB,this.remoteDocumentCache=function(i){return new r9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new HB(n),this.Gr=new ZB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new n9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new o9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class o9 extends B8{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Jr=new E_,this.Yr=null}static Zr(e){return new T_(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=Se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uU()?8:q8(In())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new l9;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vu()<=Ge.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(vu()<=Ge.DEBUG&&Ne("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vu()<=Ge.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):oe.resolve())}Yi(e,n){if(JT(n))return oe.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fm(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ze(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,fm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return JT(n)||i.isEqual(Me.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?oe.resolve(null):(vu()<=Ge.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qo(n)),this.rs(e,o,n,$8(i,-1)).next(l=>l))})}ts(e,n){let r=new mn(fO(e));return n.forEach((i,s)=>{c0(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return vu()<=Ge.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",qo(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pt(Ze),this._s=new Pc(s=>g_(s),x_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function d9(t,e,n,r){return new u9(t,e,n,r)}async function RO(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ze();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function f9(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let x=oe.resolve();return h.forEach(b=>{x=x.next(()=>d.getEntry(c,b)).next(w=>{const y=u.docVersions.get(b);at(y!==null),w.version.compareTo(y)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ze();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MO(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h9(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let x=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(f,x),function(w,y,v){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(s,x))});let c=as(),u=ze();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(p9(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Me.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return oe.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function p9(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=as();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ne("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function m9(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g9(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Us(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function fb(t,e,n){const r=Oe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ff(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function aA(t,e,n){const r=Oe(t);let i=Me.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Oe(c),h=f._s.get(d);return h!==void 0?oe.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,vi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Me.min(),n?s:ze())).next(l=>(x9(r,oB(e),l),{documents:l,Ts:s})))}function x9(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class oA{constructor(){this.activeTargetIds=hB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y9{constructor(){this.so=new oA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function xy(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class _9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=xy(),c=this.xo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(Ne("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Vl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=b9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=xy();return new Promise((o,l)=>{const c=new JM;c.setWithCredentials(!0),c.listenOnce(YM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sp.NO_ERROR:const d=c.getResponseJson();Ne(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Sp.TIMEOUT:Ne(Nn,`RPC '${e}' ${s} timed out`),l(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const f=c.getStatus();if(Ne(Nn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const b=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(v)>=0?v:ie.UNKNOWN}(x.status);l(new ge(b,x.message))}else l(new ge(ie.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{Ne(Nn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ne(Nn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=xy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZM(),l=QM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");Ne(Nn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const b=new w9({Io:y=>{x?Ne(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(Ne(Nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ne(Nn,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},To:()=>f.close()}),w=(y,v,_)=>{y.listen(v,N=>{try{_(N)}catch(C){setTimeout(()=>{throw C},0)}})};return w(f,Lu.EventType.OPEN,()=>{x||(Ne(Nn,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),w(f,Lu.EventType.CLOSE,()=>{x||(x=!0,Ne(Nn,`RPC '${e}' stream ${i} transport closed`),b.So())}),w(f,Lu.EventType.ERROR,y=>{x||(x=!0,Vl(Nn,`RPC '${e}' stream ${i} transport errored:`,y),b.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),w(f,Lu.EventType.MESSAGE,y=>{var v;if(!x){const _=y.data[0];at(!!_);const N=_,C=N.error||((v=N[0])===null||v===void 0?void 0:v.error);if(C){Ne(Nn,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let T=function(k){const R=Vt[k];if(R!==void 0)return NO(R)}(E),S=C.message;T===void 0&&(T=ie.INTERNAL,S="Unknown error status: "+E+" with message "+C.message),x=!0,b.So(new ge(T,S)),f.close()}else Ne(Nn,`RPC '${e}' stream ${i} received:`,_),b.bo(_)}}),w(l,XM.STAT_EVENT,y=>{y.stat===nb.PROXY?Ne(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===nb.NOPROXY&&Ne(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return new IB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N9 extends DO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?bi(o.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=db(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=ab(c)?{documents:$B(s,c)}:{query:FB(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=TO(s,o.resumeToken);const u=lb(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Me.min())>0){l.readTime=mm(s,o.snapshotVersion.toTimestamp());const u=lb(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=UB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=db(this.serializer),n.removeTarget=e,this.a_(n)}}class S9 extends DO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=LB(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=db(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,cb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,cb(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class T9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ss(n),this.D_=!1):Ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Eo(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Oe(c);u.L_.add(4),await Bf(u),u.q_.set("Unknown"),u.L_.delete(4),await p0(u)}(this))})}),this.q_=new T9(r,i)}}async function p0(t){if(Eo(t))for(const e of t.B_)await e(!0)}async function Bf(t){for(const e of t.B_)await e(!1)}function LO(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P_(n)?j_(n):Ic(n).r_()&&C_(n,e))}function k_(t,e){const n=Oe(t),r=Ic(n);n.N_.delete(e),r.r_()&&$O(n,e),n.N_.size===0&&(r.r_()?r.o_():Eo(n)&&n.q_.set("Unknown"))}function C_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).A_(e)}function $O(t,e){t.Q_.xe(e),Ic(t).R_(e)}function j_(t){t.Q_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.q_.v_()}function P_(t){return Eo(t)&&!Ic(t).n_()&&t.N_.size>0}function Eo(t){return Oe(t).L_.size===0}function FO(t){t.Q_=void 0}async function k9(t){t.q_.set("Online")}async function C9(t){t.N_.forEach((e,n)=>{C_(t,e)})}async function j9(t,e){FO(t),P_(t)?(t.q_.M_(e),j_(t)):t.q_.set("Unknown")}async function P9(t,e,n){if(t.q_.set("Online"),e instanceof EO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(t,r)}else if(e instanceof Ap?t.Q_.Ke(e):e instanceof SO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await MO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),$O(s,c);const f=new Us(d.target,c,u,d.sequenceNumber);C_(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await gm(t,r)}}async function gm(t,e,n){if(!Ff(e))throw e;t.L_.add(1),await Bf(t),t.q_.set("Offline"),n||(n=()=>MO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await p0(t)})}function VO(t,e){return e().catch(n=>gm(t,n,e))}async function m0(t){const e=Oe(t),n=la(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I9(e);)try{const i=await m9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,R9(e,i)}catch(i){await gm(e,i)}UO(e)&&BO(e)}function I9(t){return Eo(t)&&t.O_.length<10}function R9(t,e){t.O_.push(e);const n=la(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UO(t){return Eo(t)&&!la(t).n_()&&t.O_.length>0}function BO(t){la(t).start()}async function M9(t){la(t).p_()}async function O9(t){const e=la(t);for(const n of t.O_)e.m_(n.mutations)}async function D9(t,e,n){const r=t.O_.shift(),i=__.from(r,e,n);await VO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await m0(t)}async function L9(t,e){e&&la(t).V_&&await async function(r,i){if(function(o){return EB(o)&&o!==ie.ABORTED}(i.code)){const s=r.O_.shift();la(r).s_(),await VO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await m0(r)}}(t,e),UO(t)&&BO(t)}async function cA(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Eo(n);n.L_.add(3),await Bf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await p0(n)}async function $9(t,e){const n=Oe(t);e?(n.L_.delete(2),await p0(n)):e||(n.L_.add(2),await Bf(n),n.q_.set("Unknown"))}function Ic(t){return t.K_||(t.K_=function(n,r,i){const s=Oe(n);return s.w_(),new N9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k9.bind(null,t),Ro:C9.bind(null,t),mo:j9.bind(null,t),d_:P9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),P_(t)?j_(t):t.q_.set("Unknown")):(await t.K_.stop(),FO(t))})),t.K_}function la(t){return t.U_||(t.U_=function(n,r,i){const s=Oe(n);return s.w_(),new S9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:M9.bind(null,t),mo:L9.bind(null,t),f_:O9.bind(null,t),g_:D9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await m0(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new I_(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Ff(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=$u(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.W_=new Pt(Se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Hl(e,n,wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V9{constructor(){this.queries=dA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Oe(n),s=i.queries;i.queries=dA(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function dA(){return new Pc(t=>dO(t),l0)}async function qO(t,e){const n=Oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new F9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=R_(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&M_(n)}async function zO(t,e){const n=Oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function U9(t,e){const n=Oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&M_(n)}function B9(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function M_(t){t.Y_.forEach(e=>{e.next()})}var hb,fA;(fA=hb||(hb={})).ea="default",fA.Cache="cache";class GO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.key=e}}class WO{constructor(e){this.key=e}}class q9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=fO(e),this.Ra=new wl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new uA,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),x=c0(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let y=!1;h&&x?h.data.isEqual(x.data)?b!==w&&(r.track({type:3,doc:x}),y=!0):this.ga(h,x)||(r.track({type:2,doc:x}),y=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),y=!0):h&&!x&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(l=!0)),y&&(x?(o=o.add(x),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,b){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return w(x)-w(b)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Hl(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HO(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G9{constructor(e){this.key=e,this.va=!1}}class H9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Pc(l=>dO(l),l0),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(Se.comparator),this.Na=new Map,this.La=new E_,this.Ba={},this.ka=new Map,this.qa=Gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W9(t,e,n=!0){const r=ZO(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await KO(r,e,n,!0),i}async function K9(t,e){const n=ZO(t);await KO(n,e,!0,!1)}async function KO(t,e,n,r){const i=await g9(t.localStore,vi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await J9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LO(t.remoteStore,i),l}async function J9(t,e,n,r,i){t.Ka=(f,h,x)=>async function(w,y,v,_){let N=y.view.ma(v);N.ns&&(N=await aA(w.localStore,y.query,!1).then(({documents:S})=>y.view.ma(S,N)));const C=_&&_.targetChanges.get(y.targetId),E=_&&_.targetMismatches.get(y.targetId)!=null,T=y.view.applyChanges(N,w.isPrimaryClient,C,E);return pA(w,y.targetId,T.wa),T.snapshot}(t,f,h,x);const s=await aA(t.localStore,e,!0),o=new q9(e,s.Ts),l=o.ma(s.documents),c=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);pA(t,n,u.wa);const d=new z9(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Y9(t,e,n){const r=Oe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!l0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k_(r.remoteStore,i.targetId),pb(r,i.targetId)}).catch($f)):(pb(r,i.targetId),await fb(r.localStore,i.targetId,!0))}async function X9(t,e){const n=Oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k_(n.remoteStore,r.targetId))}async function Q9(t,e,n){const r=sq(t);try{const i=await function(o,l){const c=Oe(o),u=Xt.now(),d=l.reduce((x,b)=>x.add(b.key),ze());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=as(),w=ze();return c.cs.getEntries(x,d).next(y=>{b=y,b.forEach((v,_)=>{_.isValidDocument()||(w=w.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(y=>{f=y;const v=[];for(const _ of l){const N=bB(_,f.get(_.key).overlayedDocument);N!=null&&v.push(new xa(_.key,N,iO(N.value.mapValue),kr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,v,l)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(x,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:pO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Pt(Ze)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await qf(r,i.changes),await m0(r.remoteStore)}catch(i){const s=R_(i,"Failed to persist write");n.reject(s)}}async function JO(t,e){const n=Oe(t);try{const r=await h9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?at(o.va):i.removedDocuments.size>0&&(at(o.va),o.va=!1))}),await qf(n,r,e)}catch(r){await $f(r)}}function hA(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Oe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&M_(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z9(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pt(Se.comparator);o=o.insert(s,An.newNoDocument(s,Me.min()));const l=ze().add(s),c=new f0(Me.min(),new Map,new Pt(Ze),o,l);await JO(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),O_(r)}else await fb(r.localStore,e,!1).then(()=>pb(r,e,n)).catch($f)}async function eq(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await f9(n.localStore,e);XO(n,r,null),YO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qf(n,i)}catch(i){await $f(i)}}async function tq(t,e,n){const r=Oe(t);try{const i=await function(o,l){const c=Oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(at(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);XO(r,e,n),YO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qf(r,i)}catch(i){await $f(i)}}function YO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function XO(t,e,n){const r=Oe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QO(t,r)})}function QO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(k_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),O_(t))}function pA(t,e,n){for(const r of n)r instanceof HO?(t.La.addReference(r.key,e),nq(t,r)):r instanceof WO?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QO(t,r.key)):Pe()}function nq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),O_(t))}function O_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(mt.fromString(e)),r=t.qa.next();t.Na.set(r,new G9(n)),t.Oa=t.Oa.insert(n,r),LO(t.remoteStore,new Us(vi(y_(n.path)),r,"TargetPurposeLimboResolution",h_.oe))}}async function qf(t,e,n){const r=Oe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=A_.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const d=Oe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(u,h=>oe.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>oe.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!Ff(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),b=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(h,w)}}}(r.localStore,s))}async function rq(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await RO(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new ge(ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qf(n,r.hs)}}function iq(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function ZO(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z9.bind(null,e),e.Ca.d_=U9.bind(null,e.eventManager),e.Ca.$a=B9.bind(null,e.eventManager),e}function sq(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tq.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return d9(this.persistence,new c9,e.initialUser,this.serializer)}Ga(e){return new a9(T_.Zr,this.serializer)}Wa(e){return new y9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class mb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rq.bind(null,this.syncEngine),await $9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V9}()}createDatastore(e){const n=h0(e.databaseInfo.databaseId),r=function(s){return new _9(s)}(e.databaseInfo);return function(s,o,l,c){return new E9(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new A9(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hA(this.syncEngine,n,0),function(){return lA.D()?new lA:new v9}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,d){const f=new H9(i,s,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Oe(i);Ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Bf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mb.provider={build:()=>new mb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=tO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=R_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oq(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cA(e.remoteStore,i)),t._onlineComponents=e}async function oq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new xm)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await vy(t,new xm);return t._offlineComponents}async function t4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await mA(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await mA(t,new mb))),t._onlineComponents}function lq(t){return t4(t).then(e=>e.syncEngine)}async function gb(t){const e=await t4(t),n=e.eventManager;return n.onListen=W9.bind(null,e.syncEngine),n.onUnlisten=Y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X9.bind(null,e.syncEngine),n}function cq(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new e4({next:h=>{d.Za(),o.enqueueAndForget(()=>zO(s,f)),h.fromCache&&c.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new GO(l,d,{includeMetadataChanges:!0,_a:!0});return qO(s,f)}(await gb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uq(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xA(t){if(!Se.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yA(t){if(Se.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g0(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dq(t,e){if(e<=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C8;switch(r.type){case"firstParty":return new R8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gA.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),gA.delete(n),r.terminate())}(this),Promise.resolve()}}function fq(t,e,n,r={}){var i;const s=(t=Cr(t,x0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=En.MOCK_USER;else{l=rU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new En(u)}t._authCredentials=new j8(new eO(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class na extends Ci{constructor(e,n,r){super(e,n,y_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Se(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function it(t,e,...n){if(t=xn(t),r4("collection","path",e),t instanceof x0){const r=mt.fromString(e,...n);return yA(r),new na(t,null,r)}{if(!(t instanceof Un||t instanceof na))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return yA(r),new na(t.firestore,null,r)}}function St(t,e,...n){if(t=xn(t),arguments.length===1&&(e=tO.newId()),r4("doc","path",e),t instanceof x0){const r=mt.fromString(e,...n);return xA(r),new Un(t,null,new Se(r))}{if(!(t instanceof Un||t instanceof na))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return xA(r),new Un(t.firestore,t instanceof na?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OO(this,"async_queue_retry"),this.Vu=()=>{const r=yy();r&&Ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ff(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ss("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=I_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function wA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ca extends x0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bA(e),this._firestoreClient=void 0,await e}}}function hq(t,e){const n=typeof t=="object"?t:GM(),r=typeof t=="string"?t:"(default)",i=d_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tU("firestore");s&&fq(i,...s)}return i}function D_(t){if(t._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pq(t),t._firestoreClient}function pq(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new H8(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,n4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new aq(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(yn.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=/^__.*__$/;class gq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}class i4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class V_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new V_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ym(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(s4(this.Cu)&&mq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||h0(e)}Qu(e,n,r,i=!1){return new V_({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=h0(t._databaseId);return new xq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);U_("Data must be an object, but it was:",o,r);const l=l4(r,o);let c,u;if(s.merge)c=new ur(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=xb(e,f,n);if(!o.contains(h))throw new ge(ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);u4(d,h)||d.push(h)}c=new ur(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new gq(new Xn(l),c,u)}class v0 extends L_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v0}}function yq(t,e,n,r){const i=t.Qu(1,e,n);U_("Data must be an object, but it was:",i,r);const s=[],o=Xn.empty();No(r,(c,u)=>{const d=B_(e,c,n);u=xn(u);const f=i.Nu(d);if(u instanceof v0)s.push(d);else{const h=Gf(u,f);h!=null&&(s.push(d),o.set(d,h))}});const l=new ur(s);return new i4(o,l,i.fieldTransforms)}function vq(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[xb(e,r,n)],c=[i];if(s.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(xb(e,s[h])),c.push(s[h+1]);const u=[],d=Xn.empty();for(let h=l.length-1;h>=0;--h)if(!u4(u,l[h])){const x=l[h];let b=c[h];b=xn(b);const w=o.Nu(x);if(b instanceof v0)u.push(x);else{const y=Gf(b,w);y!=null&&(u.push(x),d.set(x,y))}}const f=new ur(u);return new i4(d,f,o.fieldTransforms)}function o4(t,e,n,r=!1){return Gf(n,t.Qu(r?4:3,e))}function Gf(t,e){if(c4(t=xn(t)))return U_("Unsupported field value:",e,t),l4(t,e);if(t instanceof L_)return function(r,i){if(!s4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Gf(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:mm(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(i.serializer,s)}}if(r instanceof $_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:TO(i.serializer,r._byteString)};if(r instanceof Un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof F_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return b_(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${g0(r)}`)}(t,e)}function l4(t,e){const n={};return nO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{const s=Gf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function c4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof $_||t instanceof Wl||t instanceof Un||t instanceof L_||t instanceof F_)}function U_(t,e,n){if(!c4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=g0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xb(t,e,n){if((e=xn(e))instanceof y0)return e._internalPath;if(typeof e=="string")return B_(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const bq=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(bq)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new y0(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ge(ie.INVALID_ARGUMENT,l+t+c)}function u4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wq extends q_{data(){return super.data()}}function b0(t,e){return typeof e=="string"?B_(t,e):e instanceof y0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z_{}class w0 extends z_{}function rd(t,e,...n){let r=[];e instanceof z_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof G_).length,l=s.filter(c=>c instanceof _0).length;if(o>1||o>0&&l>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _0 extends w0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _0(e,n,r)}_apply(e){const n=this._parse(e);return f4(e._query,n),new Ci(e.firestore,e.converter,ob(e._query,n))}_parse(e){const n=zf(e.firestore);return function(s,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){NA(f,d);const x=[];for(const b of f)x.push(_A(c,s,b));h={arrayValue:{values:x}}}else h=_A(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||NA(f,d),h=o4(l,o,f,d==="in"||d==="not-in");return qt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function by(t,e,n){const r=e,i=b0("where",t);return _0._create(i,r,n)}class G_ extends z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)f4(o,c),o=ob(o,c)}(e._query,n),new Ci(e.firestore,e.converter,ob(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H_ extends w0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ld(s,o)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new So(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _q(t,e="asc"){const n=e,r=b0("orderBy",t);return H_._create(r,n)}class W_ extends w0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new W_(e,n,r)}_apply(e){return new Ci(e.firestore,e.converter,fm(e._query,this._limit,this._limitType))}}function Nq(t){return dq("limit",t),W_._create("limit",t,"F")}class K_ extends w0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new K_(e,n,r)}_apply(e){const n=Eq(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,function(i,s){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Sq(...t){return K_._create("startAfter",t,!1)}function Eq(t,e,n,r){if(n[0]=xn(n[0]),n[0]instanceof q_)return function(s,o,l,c,u){if(!c)throw new ge(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of bl(s))if(f.field.isKeyField())d.push(dm(o,c.key));else{const h=c.data.field(f.field);if(o0(h))throw new ge(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const x=f.field.canonicalString();throw new ge(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(h)}return new zl(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zf(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new ge(ie.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let b=0;b<d.length;b++){const w=d[b];if(h[b].field.isKeyField()){if(typeof w!="string")throw new ge(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!v_(o)&&w.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const y=o.path.child(mt.fromString(w));if(!Se.isDocumentKey(y))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new Se(y);x.push(dm(l,v))}else{const y=o4(c,u,w);x.push(y)}}return new zl(x,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function _A(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v_(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!Se.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dm(t,new Se(r))}if(n instanceof Un)return dm(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g0(n)}.`)}function NA(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f4(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tq{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$t(o.doubleValue));return new F_(s)}convertGeoPoint(e){return new $_($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=p_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);at(IO(r));const i=new Od(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||ss(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p4 extends q_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kp extends p4{data(e={}){return super.data(e)}}class m4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kp(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new kp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new kp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Aq(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Aq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class J_ extends Tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function id(t){t=Cr(t,Ci);const e=Cr(t.firestore,ca),n=D_(e),r=new J_(e);return d4(t._query),cq(n,t._query).then(i=>new m4(e,r,t,i))}function kq(t,e,n){t=Cr(t,Un);const r=Cr(t.firestore,ca),i=h4(t.converter,e);return N0(r,[a4(zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function qr(t,e,n,...r){t=Cr(t,Un);const i=Cr(t.firestore,ca),s=zf(i);let o;return o=typeof(e=xn(e))=="string"||e instanceof y0?vq(s,"updateDoc",t._key,e,n,r):yq(s,"updateDoc",t._key,e),N0(i,[o.toMutation(t._key,kr.exists(!0))])}function yr(t){return N0(Cr(t.firestore,ca),[new w_(t._key,kr.none())])}function Wn(t,e){const n=Cr(t.firestore,ca),r=St(t),i=h4(t.converter,e);return N0(n,[a4(zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function fi(t,...e){var n,r,i;t=xn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wA(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wA(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Un)u=Cr(t.firestore,ca),d=y_(t._key.path),c={next:f=>{e[o]&&e[o](Cq(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Cr(t,Ci);u=Cr(f.firestore,ca),d=f._query;const h=new J_(u);c={next:x=>{e[o]&&e[o](new m4(u,h,f,x))},error:e[o+1],complete:e[o+2]},d4(t._query)}return function(h,x,b,w){const y=new e4(w),v=new GO(x,y,b);return h.asyncQueue.enqueueAndForget(async()=>qO(await gb(h),v)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>zO(await gb(h),v))}}(D_(u),d,l,c)}function N0(t,e){return function(r,i){const s=new ta;return r.asyncQueue.enqueueAndForget(async()=>Q9(await lq(r),i,s)),s.promise}(D_(t),e)}function Cq(t,e,n){const r=n.docs.get(e._key),i=new J_(t);return new p4(t,i,e._key,r,new Vu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jc=i})(Cc),Fl(new lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new ca(new P8(r.getProvider("auth-internal")),new O8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ea(FT,"4.7.3",e),ea(FT,"4.7.3","esm2017")})();function Y_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jq=g4,x4=new Df("auth","Firebase",g4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new c_("@firebase/auth");function Pq(t,...e){vm.logLevel<=Ge.WARN&&vm.warn(`Auth (${Cc}): ${t}`,...e)}function Cp(t,...e){vm.logLevel<=Ge.ERROR&&vm.error(`Auth (${Cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,...e){throw X_(t,...e)}function wi(t,...e){return X_(t,...e)}function y4(t,e,n){const r=Object.assign(Object.assign({},jq()),{[e]:n});return new Df("auth","Firebase",r).create(e,{appName:t.name})}function Qa(t){return y4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x4.create(t,...e)}function je(t,e,...n){if(!t)throw X_(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function ls(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Iq(){return SA()==="http:"||SA()==="https:"}function SA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iq()||oU()||"connection"in navigator)?navigator.onLine:!0}function Mq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=iU()||lU()}get(){return Rq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=new Hf(3e4,6e4);function Z_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rc(t,e,n,r,i={}){return b4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Lf(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return aU()||(u.referrerPolicy="no-referrer"),v4.fetch()(w4(t,t.config.apiHost,n,l),u)})}async function b4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oq),e);try{const i=new $q(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw y4(t,d,u);os(t,d)}}catch(i){if(i instanceof ms)throw i;os(t,"network-request-failed",{message:String(i)})}}async function Lq(t,e,n,r,i={}){const s=await Rc(t,e,n,r,i);return"mfaPendingCredential"in s&&os(t,"multi-factor-auth-required",{_serverResponse:s}),s}function w4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Q_(t.config,i):`${t.config.apiScheme}://${i}`}class $q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),Dq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e){return Rc(t,"POST","/v1/accounts:delete",e)}async function _4(t,e){return Rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vq(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=eN(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sd(wy(i.auth_time)),issuedAtTime:sd(wy(i.iat)),expirationTime:sd(wy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wy(t){return Number(t)*1e3}function eN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=$M(n);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function EA(t){const e=eN(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ms&&Uq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vd(t,_4(n,{idToken:r}));je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?N4(s.providerUserInfo):[],l=zq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new vb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function qq(t){const e=xn(t);await bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function N4(t){return t.map(e=>{var{providerId:n}=e,r=Y_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e){const n=await b4(t,{},async()=>{const r=Lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=w4(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",v4.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hq(t,e){return Rc(t,"POST","/v2/accounts:revokeToken",Z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=EA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Gq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Y_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vd(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Vq(this,e)}reload(){return qq(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Vd(this,Fq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:C,isAnonymous:E,providerData:T,stsTokenManager:S}=n;je(N&&S,e,"internal-error");const j=_l.fromJSON(this.name,S);je(typeof N=="string",e,"internal-error"),As(f,e.name),As(h,e.name),je(typeof C=="boolean",e,"internal-error"),je(typeof E=="boolean",e,"internal-error"),As(x,e.name),As(b,e.name),As(w,e.name),As(y,e.name),As(v,e.name),As(_,e.name);const k=new Bi({uid:N,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:E,photoURL:b,phoneNumber:x,tenantId:w,stsTokenManager:j,createdAt:v,lastLoginAt:_});return T&&Array.isArray(T)&&(k.providerData=T.map(R=>Object.assign({},R))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?N4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new _l;l.updateFromIdToken(r);const c=new Bi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Map;function qi(t){ls(t instanceof Function,"Expected a class definition");let e=TA.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S4.type="NONE";const AA=S4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jp(this.userKey,i.apiKey,s),this.fullPersistenceKey=jp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(qi(AA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qi(AA);const o=jp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Bi._fromJSON(e,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Nl(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j4(e))return"Blackberry";if(P4(e))return"Webos";if(T4(e))return"Safari";if((e.includes("chrome/")||A4(e))&&!e.includes("edge/"))return"Chrome";if(C4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E4(t=In()){return/firefox\//i.test(t)}function T4(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A4(t=In()){return/crios\//i.test(t)}function k4(t=In()){return/iemobile/i.test(t)}function C4(t=In()){return/android/i.test(t)}function j4(t=In()){return/blackberry/i.test(t)}function P4(t=In()){return/webos/i.test(t)}function tN(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wq(t=In()){var e;return tN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kq(){return cU()&&document.documentMode===10}function I4(t=In()){return tN(t)||C4(t)||P4(t)||j4(t)||/windows phone/i.test(t)||k4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e=[]){let n;switch(t){case"Browser":n=kA(In());break;case"Worker":n=`${kA(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e={}){return Rc(t,"GET","/v2/passwordPolicy",Z_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=6;class Qq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Xq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CA(this),this.idTokenSubscription=new CA(this),this.beforeStateQueue=new Jq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _4(this,{idToken:e}),r=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Qa(this));const n=e?xn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yq(this),n=new Qq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Df("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nN(t){return xn(t)}class CA{constructor(e){this.auth=e,this.observer=null,this.addObserver=xU(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ez(t){rN=t}function tz(t){return rN.loadJS(t)}function nz(){return rN.gapiScript}function rz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e){const n=d_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lm(s,e??{}))return i;os(i,"already-initialized")}return n.initialize({options:e})}function sz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function az(t,e,n){const r=nN(t);je(r._canInitEmulator,r,"emulator-config-failed"),je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=M4(e),{host:o,port:l}=oz(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),lz()}function M4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oz(t){const e=M4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jA(o)}}}function jA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return Lq(t,"POST","/v1/accounts:signInWithIdp",Z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="http://localhost";class ho extends O4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Y_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ho(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:cz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends D4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Wf{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Wf{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Wf{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bi._fromIdTokenResponse(e,r,i),o=PA(r);return new Kl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PA(r);return new Kl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends ms{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wm(e,n,r,i)}}function L4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,s,e,r):s})}async function uz(t,e,n=!1){const r=await Vd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e,n=!1){const{auth:r}=t;if(Vs(r.app))return Promise.reject(Qa(r));const i="reauthenticate";try{const s=await Vd(t,L4(r,i,e,t),n);je(s.idToken,r,"internal-error");const o=eN(s.idToken);je(o,r,"internal-error");const{sub:l}=o;return je(t.uid===l,r,"user-mismatch"),Kl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&os(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e,n=!1){if(Vs(t.app))return Promise.reject(Qa(t));const r="signIn",i=await L4(t,r,e),s=await Kl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function hz(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function pz(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}const _m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1e3,gz=10;class F4 extends $4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Kq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F4.type="LOCAL";const xz=F4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4 extends $4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V4.type="SESSION";const U4=V4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new S0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await yz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}S0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=iN("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function bz(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function wz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Nz(){return B4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="firebaseLocalStorageDb",Sz=1,Nm="firebaseLocalStorage",z4="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function E0(t,e){return t.transaction([Nm],e?"readwrite":"readonly").objectStore(Nm)}function Ez(){const t=indexedDB.deleteDatabase(q4);return new Kf(t).toPromise()}function bb(){const t=indexedDB.open(q4,Sz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nm,{keyPath:z4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nm)?e(r):(r.close(),await Ez(),e(await bb()))})})}async function IA(t,e,n){const r=E0(t,!0).put({[z4]:e,value:n});return new Kf(r).toPromise()}async function Tz(t,e){const n=E0(t,!1).get(e),r=await new Kf(n).toPromise();return r===void 0?null:r.value}function RA(t,e){const n=E0(t,!0).delete(e);return new Kf(n).toPromise()}const Az=800,kz=3;class G4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=S0._getInstance(Nz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wz(),!this.activeServiceWorker)return;this.sender=new vz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bb();return await IA(e,_m,"1"),await RA(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Tz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=E0(i,!1).getAll();return new Kf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G4.type="LOCAL";const Cz=G4;new Hf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return e?qi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends O4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pz(t){return fz(t.auth,new sN(t),t.bypassAuthState)}function Iz(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),dz(n,new sN(t),t.bypassAuthState)}async function Rz(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),uz(n,new sN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pz;case"linkViaPopup":case"linkViaRedirect":return Rz;case"reauthViaPopup":case"reauthViaRedirect":return Iz;default:os(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Hf(2e3,1e4);class sl extends H4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=iN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="pendingRedirect",Pp=new Map;class Dz extends H4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pp.get(this.auth._key());if(!e){try{const r=await Lz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lz(t,e){const n=Vz(e),r=Fz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $z(t,e){Pp.set(t._key(),e)}function Fz(t){return qi(t._redirectPersistence)}function Vz(t){return jp(Oz,t.config.apiKey,t.name)}async function Uz(t,e,n=!1){if(Vs(t.app))return Promise.reject(Qa(t));const r=nN(t),i=jz(r,e),o=await new Dz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=10*60*1e3;class qz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bz&&this.cachedEventUids.clear(),this.cachedEventUids.has(MA(e))}saveEventToCache(e){this.cachedEventUids.add(MA(e)),this.lastProcessedEventTime=Date.now()}}function MA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e={}){return Rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wz=/^https?/;async function Kz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gz(t);for(const n of e)try{if(Jz(n))return}catch{}os(t,"unauthorized-domain")}function Jz(t){const e=yb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Wz.test(n))return!1;if(Hz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new Hf(3e4,6e4);function OA(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xz(t){return new Promise((e,n)=>{var r,i,s;function o(){OA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OA(),n(wi(t,"network-request-failed"))},timeout:Yz.get()})}if(!((i=(r=_i().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_i().gapi)===null||s===void 0)&&s.load)o();else{const l=rz("iframefcb");return _i()[l]=()=>{gapi.load?o():n(wi(t,"network-request-failed"))},tz(`${nz()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Ip=null,e})}let Ip=null;function Qz(t){return Ip=Ip||Xz(t),Ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Hf(5e3,15e3),e7="__/auth/iframe",t7="emulator/auth/iframe",n7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i7(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q_(e,t7):`https://${t.config.authDomain}/${e7}`,r={apiKey:e.apiKey,appName:t.name,v:Cc},i=r7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lf(r).slice(1)}`}async function s7(t){const e=await Qz(t),n=_i().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:i7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wi(t,"network-request-failed"),l=_i().setTimeout(()=>{s(o)},Zz.get());function c(){_i().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o7=500,l7=600,c7="_blank",u7="http://localhost";class DA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d7(t,e,n,r=o7,i=l7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},a7),{width:r.toString(),height:i.toString(),top:s,left:o}),u=In().toLowerCase();n&&(l=A4(u)?c7:n),E4(u)&&(e=e||u7,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,b])=>`${h}${x}=${b},`,"");if(Wq(u)&&l!=="_self")return f7(e||"",l),new DA(null);const f=window.open(e||"",l,d);je(f,t,"popup-blocked");try{f.focus()}catch{}return new DA(f)}function f7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="__/auth/handler",p7="emulator/auth/handler",m7=encodeURIComponent("fac");async function LA(t,e,n,r,i,s){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cc,eventId:i};if(e instanceof D4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Wf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${m7}=${encodeURIComponent(c)}`:"";return`${g7(t)}?${Lf(l).slice(1)}${u}`}function g7({config:t}){return t.emulator?Q_(t,p7):`https://${t.authDomain}/${h7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class x7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U4,this._completeRedirectFn=Uz,this._overrideRedirectResult=$z}async _openPopup(e,n,r,i){var s;ls((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LA(e,n,r,yb(),i);return d7(e,o,iN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LA(e,n,r,yb(),i);return bz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s7(e),r=new qz(e);return n.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_y,{type:_y},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_y];o!==void 0&&n(!!o),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I4()||T4()||tN()}}const y7=x7;var $A="@firebase/auth",FA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w7(t){Fl(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R4(t)},u=new Zq(r,i,s,c);return sz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fl(new lo("auth-internal",e=>{const n=nN(e.getProvider("auth").getImmediate());return(r=>new v7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea($A,FA,b7(t)),ea($A,FA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=5*60,N7=UM("authIdTokenMaxAge")||_7;let VA=null;const S7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N7)return;const i=n==null?void 0:n.token;VA!==i&&(VA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function E7(t=GM()){const e=d_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iz(t,{popupRedirectResolver:y7,persistence:[Cz,xz,U4]}),r=UM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=S7(s.toString());pz(n,o,()=>o(n.currentUser)),hz(n,l=>o(l))}}const i=FM("auth");return i&&az(n,`http://${i}`),n}function T7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ez({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",T7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w7("Browser");var $o={};const A7={apiKey:$o.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:$o.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:$o.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:$o.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:$o.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:$o.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},K4=zM(A7),Te=hq(K4);E7(K4);new $i;const J4=D.createContext(void 0),k7=({children:t})=>{const[e,n]=D.useState([]),[r,i]=D.useState([]),[s,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[x,b]=D.useState([]),[w,y]=D.useState([]),[v,_]=D.useState([]),[N,C]=D.useState([]),[E,T]=D.useState([]),[S,j]=D.useState([]),[k,R]=D.useState([]),[P,O]=D.useState(!0),[I,H]=D.useState(null);D.useEffect(()=>{const le=[fi(it(Te,"products"),be=>n(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"clients"),be=>i(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"suppliers"),be=>o(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"priceLists"),be=>d(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"branches"),be=>h(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"users"),be=>C(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"salesZones"),be=>_(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"sales"),be=>T(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"remitos"),be=>j(be.docs.map(Re=>({id:Re.id,...Re.data()})))),fi(it(Te,"boxes"),be=>R(be.docs.map(Re=>({id:Re.id,...Re.data()}))))];return O(!1),()=>le.forEach(be=>be())},[]);const F=D.useCallback(async le=>{let be=rd(it(Te,"products"),_q(le.orderByField||"name",le.orderDirection||"asc"));le.startAfterDoc&&(be=rd(be,Sq(le.startAfterDoc))),be=rd(be,Nq(le.limit));const Re=await id(be);return{products:Re.docs.map(xr=>({id:xr.id,...xr.data()})),lastVisible:Re.docs[Re.docs.length-1],hasMore:Re.docs.length===le.limit}},[]),L=async le=>e.find(be=>be.id===le)||null,q=async le=>{await Wn(it(Te,"products"),le)},z=async(le,be)=>{await qr(St(Te,"products",le),be)},U=async le=>{await yr(St(Te,"products",le))},V=async le=>(await Wn(it(Te,"sales"),le)).id,X=async le=>E.find(be=>be.id===le)||null,Q=async le=>{await Wn(it(Te,"clients"),le)},G=async(le,be)=>{await qr(St(Te,"clients",le),be)},se=async le=>{await yr(St(Te,"clients",le))},W=async le=>{await Wn(it(Te,"suppliers"),le)},pe=async(le,be)=>{await qr(St(Te,"suppliers",le),be)},Ae=async le=>{await yr(St(Te,"suppliers",le))},Fe=async le=>{await Wn(it(Te,"priceLists"),le)},de=async(le,be)=>{await qr(St(Te,"priceLists",le),be)},ae=async le=>{await yr(St(Te,"priceLists",le))},J=async le=>{await Wn(it(Te,"branches"),le)},K=async(le,be)=>{await qr(St(Te,"branches",le),be)},fe=async le=>{await yr(St(Te,"branches",le))},ve=async le=>{await Wn(it(Te,"orders"),le)},De=async(le,be)=>{await qr(St(Te,"orders",le),be)},Z=async le=>{await yr(St(Te,"orders",le))},me=async le=>{await Wn(it(Te,"installmentPlans"),le)},Xe=async(le,be)=>{await qr(St(Te,"installmentPlans",le),be)},At=async le=>{await yr(St(Te,"installmentPlans",le))},Nt=async le=>{await Wn(it(Te,"transactions"),le)},He=async le=>{await Wn(it(Te,"users"),le)},Lt=async(le,be)=>{await qr(St(Te,"users",le),be)},Gn=async le=>{await yr(St(Te,"users",le))},te=async le=>{await Wn(it(Te,"salesZones"),le)},ye=async(le,be)=>{await qr(St(Te,"salesZones",le),be)},Ve=async le=>{await yr(St(Te,"salesZones",le))},Be=async le=>(await Wn(it(Te,"remitos"),le)).id,Hn=async(le,be)=>{await qr(St(Te,"remitos",le),be)},gr=async le=>{await yr(St(Te,"remitos",le))},Vr=async le=>S.find(be=>be.id===le)||null,Qc=async le=>{await Wn(it(Te,"boxes"),le)},Na=async(le,be)=>{await qr(St(Te,"boxes",le),be)},ih=async le=>{await yr(St(Te,"boxes",le))},sh=async le=>{const be={};for(const Re of le){const ui=await id(it(Te,Re));be[Re]=ui.docs.map(xr=>({id:xr.id,...xr.data()}))}return be},Zc=async le=>{for(const[be,Re]of Object.entries(le)){await ah(be);for(const ui of Re){const{id:xr,...Io}=ui;xr?await kq(St(Te,be,xr),Io):await Wn(it(Te,be),Io)}}},ah=async le=>{const be=await id(it(Te,le));for(const Re of be.docs)await yr(Re.ref)},Tx=D.useMemo(()=>({products:e,clients:r,suppliers:s,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:w,users:N,loading:P,error:I,salesZones:v,sales:E,remitos:S,boxes:k,fetchProductsPaginatedAndFiltered:F,getProductById:L,addProduct:q,updateProduct:z,deleteProduct:U,addSale:V,getSaleById:X,addClient:Q,updateClient:G,deleteClient:se,addSupplier:W,updateSupplier:pe,deleteSupplier:Ae,addPriceList:Fe,updatePriceList:de,deletePriceList:ae,addBranch:J,updateBranch:K,deleteBranch:fe,addOrder:ve,updateOrder:De,deleteOrder:Z,addInstallmentPlan:me,updateInstallmentPlan:Xe,deleteInstallmentPlan:At,addTransaction:Nt,exportAllData:sh,importAllData:Zc,deleteAllDocumentsInCollection:ah,addUser:He,updateUser:Lt,deleteUser:Gn,addSalesZone:te,updateSalesZone:ye,deleteSalesZone:Ve,addRemito:Be,updateRemito:Hn,deleteRemito:gr,getRemitoById:Vr,addBox:Qc,updateBox:Na,deleteBox:ih}),[e,r,s,l,u,f,x,w,N,P,I,v,E,S,k]);return a.jsx(J4.Provider,{value:Tx,children:t})},Dt=()=>{const t=D.useContext(J4);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...C7,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${j7(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ne("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ne("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ne("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ne("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=ne("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ne("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=ne("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ne("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ne("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ne("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=ne("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=ne("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=ne("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ne("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ne("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ne("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ne("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),aG=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{const[s,o]=D.useState(["Principal","Comercial","Administracin & Finanzas"]),[l,c]=D.useState(!1),[u,d]=D.useState(["sales","inventory","cashier"]);D.useEffect(()=>{const y=localStorage.getItem("ferrogest_shortcuts");if(y)try{d(JSON.parse(y))}catch(v){console.error("Error loading shortcuts",v)}},[]);const f=y=>{const v=u.includes(y)?u.filter(_=>_!==y):[...u,y];d(v),localStorage.setItem("ferrogest_shortcuts",JSON.stringify(v))},h=[{name:"Principal",icon:t5,items:[{id:"dashboard",label:"Dashboard",icon:n5}]},{name:"Comercial",icon:Sm,items:[{id:"sales",label:"Ventas",icon:Sm,color:"bg-orange-500"},{id:"remitos",label:"Remitos",icon:Z4,color:"bg-blue-500"},{id:"quotes",label:"Cotizaciones",icon:km,color:"bg-purple-500"},{id:"orders",label:"Pedidos",icon:zd,color:"bg-indigo-500"},{id:"clients",label:"Clientes",icon:gs,color:"bg-emerald-500"},{id:"loyalty",label:"Fidelizacin",icon:Tm,color:"bg-pink-500"},{id:"ecommerce",label:"E-Commerce",icon:po,color:"bg-sky-500"}]},{name:"Productos & Abastecimiento",icon:Bd,items:[{id:"inventory",label:"Inventario",icon:Bd,color:"bg-amber-600"},{id:"missing-items",label:"Faltantes",icon:oN,color:"bg-red-500"},{id:"stock-adjustment",label:"Ajuste de Stock",icon:ua,color:"bg-teal-500"},{id:"bulk-modification",label:"Modificacin Masiva",icon:lN,color:"bg-violet-500"},{id:"warehouse",label:"Depsito",icon:Rm,color:"bg-stone-500"},{id:"purchase-orders",label:"Pedidos Compra",icon:r5,color:"bg-cyan-600"},{id:"suppliers",label:"Proveedores",icon:Or,color:"bg-orange-400"},{id:"prices",label:"Lista Precios",icon:Za,color:"bg-lime-600"},{id:"bulk-import",label:"Importar Datos",icon:Em,color:"bg-slate-400"}]},{name:"Administracin & Finanzas",icon:da,items:[{id:"cashier",label:"Cajas y Pagos",icon:da,color:"bg-green-600"},{id:"purchases",label:"Compras & IA",icon:Gd,color:"bg-yellow-600"},{id:"balances",label:"Saldos y Deudas",icon:Ql,color:"bg-rose-500"},{id:"installments",label:"Cuotas Internas",icon:Qr,color:"bg-fuchsia-600"},{id:"finance",label:"Finanzas",icon:ai,color:"bg-emerald-600"},{id:"reports",label:"Informes e IVA",icon:Q4,color:"bg-blue-400"},{id:"users",label:"Personal y Accesos",icon:dN,color:"bg-indigo-400"}]}],x=h.flatMap(y=>y.items),b=x.filter(y=>u.includes(y.id)),w=y=>{o(v=>v.includes(y)?v.filter(_=>_!==y):[...v,y])};return!n||typeof n!="object"||!("name"in n)?a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 justify-center items-center",children:[a.jsx($e,{className:"w-8 h-8 animate-spin text-orange-500 mb-2"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Iniciando..."})]}):a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 shrink-0 overflow-hidden",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n!=null&&n.logo&&(n!=null&&n.showLogoInSidebar)?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Bu,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:(n==null?void 0:n.name)||"FerroGest"})]})}),a.jsxs("div",{className:"px-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Accesos Rpidos"}),a.jsx("button",{onClick:()=>c(!0),className:"p-1 hover:bg-slate-800 rounded-md text-slate-500 hover:text-orange-500 transition-colors",children:a.jsx(iG,{className:"w-3.5 h-3.5"})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2",children:[b.map(y=>a.jsx("button",{onClick:()=>e(y.id),className:`aspect-square flex items-center justify-center rounded-xl transition-all ${t===y.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/40 scale-105":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:y.label,children:a.jsx(y.icon,{className:"w-5 h-5"})},y.id)),a.jsx("button",{onClick:()=>c(!0),className:"aspect-square flex items-center justify-center rounded-xl bg-slate-800/20 border border-dashed border-slate-700 text-slate-600 hover:border-slate-500 hover:text-slate-400 transition-all",children:a.jsx(nt,{className:"w-4 h-4"})})]})]}),a.jsxs("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar overscroll-contain pb-10",children:[h.map(y=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>w(y.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(y.icon,{className:"w-4 h-4"}),y.name]}),a.jsx(qd,{className:`w-4 h-4 transition-transform ${s.includes(y.name)?"rotate-0":"-rotate-90"}`})]}),s.includes(y.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:y.items.map(v=>a.jsxs("button",{onClick:()=>e(v.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===v.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(v.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:v.label})]},v.id))})]},y.name)),a.jsxs("div",{className:"pt-4 border-t border-slate-800/50 mt-4 space-y-1",children:[a.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="settings"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(Ji,{className:"w-5 h-5"}),a.jsx("span",{children:"Configuracin"})]}),a.jsxs("button",{onClick:()=>e("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="integrations"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(od,{className:"w-5 h-5"}),a.jsx("span",{children:"Integraciones"})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,className:"w-10 h-10 rounded-full border border-slate-700 bg-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(s5,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(eG,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Personalizar Accesos"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Selecciona tus herramientas favoritas"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(y=>a.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${u.includes(y.id)?"border-orange-500 bg-orange-50":"border-slate-100 bg-white hover:border-slate-200"}`,children:[a.jsx("div",{className:`p-3 rounded-xl ${u.includes(y.id)?"bg-orange-600 text-white":"bg-slate-100 text-slate-400"}`,children:a.jsx(y.icon,{className:"w-6 h-6"})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("p",{className:`font-black text-xs uppercase tracking-tight truncate ${u.includes(y.id)?"text-orange-900":"text-slate-600"}`,children:y.label})}),a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 ${u.includes(y.id)?"bg-orange-600 border-orange-600 text-white":"border-slate-200 text-transparent"}`,children:a.jsx(F7,{className:"w-3 h-3 stroke-[4px]"})})]},y.id))})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 italic",children:"Mximo recomendado: 8 accesos."}),a.jsx("button",{onClick:()=>c(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Listo"})]})]})})]})},oG=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>a.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center gap-2 overflow-x-auto no-scrollbar shadow-sm z-30",children:t.map(i=>{const s=qEe[i]||{label:i,icon:null},o=e===i,l=s.icon;return a.jsxs("div",{className:`group relative flex items-center gap-2 px-5 py-2.5 rounded-2xl cursor-pointer transition-all border-2 ${o?"bg-orange-50 border-orange-500 text-orange-600 shadow-md shadow-orange-500/10":"bg-slate-50 border-transparent text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,onClick:()=>n(i),children:[l&&a.jsx(l,{className:`w-4 h-4 ${o?"text-orange-600":"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-colors",children:s.label}),i!=="dashboard"&&a.jsx("button",{onClick:c=>{c.stopPropagation(),r(i)},className:`ml-1 p-0.5 rounded-md hover:bg-orange-200 hover:text-orange-800 transition-all ${o?"opacity-100 text-orange-400":"opacity-0 group-hover:opacity-100 text-slate-400"}`,children:a.jsx(Je,{className:"w-3 h-3"})})]},i)})});function p5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ue(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p5(t))&&(r&&(r+=" "),r+=e);return r}var lG=Array.isArray,rr=lG,cG=typeof _h=="object"&&_h&&_h.Object===Object&&_h,m5=cG,uG=m5,dG=typeof self=="object"&&self&&self.Object===Object&&self,fG=uG||dG||Function("return this")(),ji=fG,hG=ji,pG=hG.Symbol,Qf=pG,HA=Qf,g5=Object.prototype,mG=g5.hasOwnProperty,gG=g5.toString,wu=HA?HA.toStringTag:void 0;function xG(t){var e=mG.call(t,wu),n=t[wu];try{t[wu]=void 0;var r=!0}catch{}var i=gG.call(t);return r&&(e?t[wu]=n:delete t[wu]),i}var yG=xG,vG=Object.prototype,bG=vG.toString;function wG(t){return bG.call(t)}var _G=wG,WA=Qf,NG=yG,SG=_G,EG="[object Null]",TG="[object Undefined]",KA=WA?WA.toStringTag:void 0;function AG(t){return t==null?t===void 0?TG:EG:KA&&KA in Object(t)?NG(t):SG(t)}var xs=AG;function kG(t){return t!=null&&typeof t=="object"}var ys=kG,CG=xs,jG=ys,PG="[object Symbol]";function IG(t){return typeof t=="symbol"||jG(t)&&CG(t)==PG}var Oc=IG,RG=rr,MG=Oc,OG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DG=/^\w*$/;function LG(t,e){if(RG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||MG(t)?!0:DG.test(t)||!OG.test(t)||e!=null&&t in Object(e)}var fN=LG;function $G(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ya=$G;const Dc=ot(ya);var FG=xs,VG=ya,UG="[object AsyncFunction]",BG="[object Function]",qG="[object GeneratorFunction]",zG="[object Proxy]";function GG(t){if(!VG(t))return!1;var e=FG(t);return e==BG||e==qG||e==UG||e==zG}var hN=GG;const Ce=ot(hN);var HG=ji,WG=HG["__core-js_shared__"],KG=WG,Ty=KG,JA=function(){var t=/[^.]+$/.exec(Ty&&Ty.keys&&Ty.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JG(t){return!!JA&&JA in t}var YG=JG,XG=Function.prototype,QG=XG.toString;function ZG(t){if(t!=null){try{return QG.call(t)}catch{}try{return t+""}catch{}}return""}var x5=ZG,eH=hN,tH=YG,nH=ya,rH=x5,iH=/[\\^$.*+?()[\]{}|]/g,sH=/^\[object .+?Constructor\]$/,aH=Function.prototype,oH=Object.prototype,lH=aH.toString,cH=oH.hasOwnProperty,uH=RegExp("^"+lH.call(cH).replace(iH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dH(t){if(!nH(t)||tH(t))return!1;var e=eH(t)?uH:sH;return e.test(rH(t))}var fH=dH;function hH(t,e){return t==null?void 0:t[e]}var pH=hH,mH=fH,gH=pH;function xH(t,e){var n=gH(t,e);return mH(n)?n:void 0}var To=xH,yH=To,vH=yH(Object,"create"),A0=vH,YA=A0;function bH(){this.__data__=YA?YA(null):{},this.size=0}var wH=bH;function _H(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NH=_H,SH=A0,EH="__lodash_hash_undefined__",TH=Object.prototype,AH=TH.hasOwnProperty;function kH(t){var e=this.__data__;if(SH){var n=e[t];return n===EH?void 0:n}return AH.call(e,t)?e[t]:void 0}var CH=kH,jH=A0,PH=Object.prototype,IH=PH.hasOwnProperty;function RH(t){var e=this.__data__;return jH?e[t]!==void 0:IH.call(e,t)}var MH=RH,OH=A0,DH="__lodash_hash_undefined__";function LH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OH&&e===void 0?DH:e,this}var $H=LH,FH=wH,VH=NH,UH=CH,BH=MH,qH=$H;function Lc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lc.prototype.clear=FH;Lc.prototype.delete=VH;Lc.prototype.get=UH;Lc.prototype.has=BH;Lc.prototype.set=qH;var zH=Lc;function GH(){this.__data__=[],this.size=0}var HH=GH;function WH(t,e){return t===e||t!==t&&e!==e}var pN=WH,KH=pN;function JH(t,e){for(var n=t.length;n--;)if(KH(t[n][0],e))return n;return-1}var k0=JH,YH=k0,XH=Array.prototype,QH=XH.splice;function ZH(t){var e=this.__data__,n=YH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():QH.call(e,n,1),--this.size,!0}var eW=ZH,tW=k0;function nW(t){var e=this.__data__,n=tW(e,t);return n<0?void 0:e[n][1]}var rW=nW,iW=k0;function sW(t){return iW(this.__data__,t)>-1}var aW=sW,oW=k0;function lW(t,e){var n=this.__data__,r=oW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cW=lW,uW=HH,dW=eW,fW=rW,hW=aW,pW=cW;function $c(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$c.prototype.clear=uW;$c.prototype.delete=dW;$c.prototype.get=fW;$c.prototype.has=hW;$c.prototype.set=pW;var C0=$c,mW=To,gW=ji,xW=mW(gW,"Map"),mN=xW,XA=zH,yW=C0,vW=mN;function bW(){this.size=0,this.__data__={hash:new XA,map:new(vW||yW),string:new XA}}var wW=bW;function _W(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var NW=_W,SW=NW;function EW(t,e){var n=t.__data__;return SW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var j0=EW,TW=j0;function AW(t){var e=TW(this,t).delete(t);return this.size-=e?1:0,e}var kW=AW,CW=j0;function jW(t){return CW(this,t).get(t)}var PW=jW,IW=j0;function RW(t){return IW(this,t).has(t)}var MW=RW,OW=j0;function DW(t,e){var n=OW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LW=DW,$W=wW,FW=kW,VW=PW,UW=MW,BW=LW;function Fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fc.prototype.clear=$W;Fc.prototype.delete=FW;Fc.prototype.get=VW;Fc.prototype.has=UW;Fc.prototype.set=BW;var gN=Fc,y5=gN,qW="Expected a function";function xN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(xN.Cache||y5),n}xN.Cache=y5;var v5=xN;const zW=ot(v5);var GW=v5,HW=500;function WW(t){var e=GW(t,function(r){return n.size===HW&&n.clear(),r}),n=e.cache;return e}var KW=WW,JW=KW,YW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XW=/\\(\\)?/g,QW=JW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YW,function(n,r,i,s){e.push(i?s.replace(XW,"$1"):r||n)}),e}),ZW=QW;function eK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var yN=eK,QA=Qf,tK=yN,nK=rr,rK=Oc,ZA=QA?QA.prototype:void 0,e2=ZA?ZA.toString:void 0;function b5(t){if(typeof t=="string")return t;if(nK(t))return tK(t,b5)+"";if(rK(t))return e2?e2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var iK=b5,sK=iK;function aK(t){return t==null?"":sK(t)}var w5=aK,oK=rr,lK=fN,cK=ZW,uK=w5;function dK(t,e){return oK(t)?t:lK(t,e)?[t]:cK(uK(t))}var _5=dK,fK=Oc;function hK(t){if(typeof t=="string"||fK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var P0=hK,pK=_5,mK=P0;function gK(t,e){e=pK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mK(e[n++])];return n&&n==r?t:void 0}var vN=gK,xK=vN;function yK(t,e,n){var r=t==null?void 0:xK(t,e);return r===void 0?n:r}var N5=yK;const fr=ot(N5);function vK(t){return t==null}var bK=vK;const Le=ot(bK);var wK=xs,_K=rr,NK=ys,SK="[object String]";function EK(t){return typeof t=="string"||!_K(t)&&NK(t)&&wK(t)==SK}var TK=EK;const mo=ot(TK);var S5={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN=Symbol.for("react.element"),wN=Symbol.for("react.portal"),I0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),AK=Symbol.for("react.server_context"),L0=Symbol.for("react.forward_ref"),$0=Symbol.for("react.suspense"),F0=Symbol.for("react.suspense_list"),V0=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),kK=Symbol.for("react.offscreen"),E5;E5=Symbol.for("react.module.reference");function $r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bN:switch(t=t.type,t){case I0:case M0:case R0:case $0:case F0:return t;default:switch(t=t&&t.$$typeof,t){case AK:case D0:case L0:case U0:case V0:case O0:return t;default:return e}}case wN:return e}}}lt.ContextConsumer=D0;lt.ContextProvider=O0;lt.Element=bN;lt.ForwardRef=L0;lt.Fragment=I0;lt.Lazy=U0;lt.Memo=V0;lt.Portal=wN;lt.Profiler=M0;lt.StrictMode=R0;lt.Suspense=$0;lt.SuspenseList=F0;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(t){return $r(t)===D0};lt.isContextProvider=function(t){return $r(t)===O0};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bN};lt.isForwardRef=function(t){return $r(t)===L0};lt.isFragment=function(t){return $r(t)===I0};lt.isLazy=function(t){return $r(t)===U0};lt.isMemo=function(t){return $r(t)===V0};lt.isPortal=function(t){return $r(t)===wN};lt.isProfiler=function(t){return $r(t)===M0};lt.isStrictMode=function(t){return $r(t)===R0};lt.isSuspense=function(t){return $r(t)===$0};lt.isSuspenseList=function(t){return $r(t)===F0};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===I0||t===M0||t===R0||t===$0||t===F0||t===kK||typeof t=="object"&&t!==null&&(t.$$typeof===U0||t.$$typeof===V0||t.$$typeof===O0||t.$$typeof===D0||t.$$typeof===L0||t.$$typeof===E5||t.getModuleId!==void 0)};lt.typeOf=$r;S5.exports=lt;var CK=S5.exports,jK=xs,PK=ys,IK="[object Number]";function RK(t){return typeof t=="number"||PK(t)&&jK(t)==IK}var T5=RK;const MK=ot(T5);var OK=T5;function DK(t){return OK(t)&&t!=+t}var LK=DK;const Vc=ot(LK);var Ln=function(e){return e===0?0:e>0?1:-1},za=function(e){return mo(e)&&e.indexOf("%")===e.length-1},ce=function(e){return MK(e)&&!Vc(e)},$K=function(e){return Le(e)},Yt=function(e){return ce(e)||mo(e)},FK=0,Uc=function(e){var n=++FK;return"".concat(e||"").concat(n)},$n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&!mo(e))return r;var s;if(za(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Vc(s)&&(s=r),i&&s>n&&(s=n),s},Ls=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},VK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Yn=function(e,n){return ce(e)&&ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function Om(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var UK=function(e,n){return ce(e)&&ce(n)?e-n:mo(e)&&mo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var BK=["viewBox","children"],qK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t2=["points","pathLength"],Ay={svg:BK,polygon:t2,polyline:t2},_N=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Dc(r))return null;var i={};return Object.keys(r).forEach(function(s){_N.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},zK=function(e,n,r){return function(i){return e(n,r,i),null}},go=function(e,n,r){if(!Dc(e)||Ab(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];_N.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=zK(o,n,r))}),i},GK=["children"],HK=["children"];function n2(t,e){if(t==null)return{};var n=WK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}var r2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},i2=null,ky=null,NN=function t(e){if(e===i2&&Array.isArray(ky))return ky;var n=[];return D.Children.forEach(e,function(r){Le(r)||(CK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ky=n,i2=e,n};function jr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xi(i)}):r=[Xi(e)],NN(t).forEach(function(i){var s=fr(i,"type.displayName")||fr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function or(t,e){var n=jr(t,e);return n&&n[0]}var s2=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ce(r)||r<=0||!ce(i)||i<=0)},KK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JK=function(e){return e&&e.type&&mo(e.type)&&KK.indexOf(e.type)>=0},YK=function(e){return e&&kb(e)==="object"&&"clipDot"in e},XK=function(e,n,r,i){var s,o=(s=Ay==null?void 0:Ay[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ce(e)&&(i&&o.includes(n)||qK.includes(n))||r&&_N.includes(n)},Ee=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Dc(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;XK((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},Cb=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return a2(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!a2(s,o))return!1}return!0},a2=function(e,n){if(Le(e)&&Le(n))return!0;if(!Le(e)&&!Le(n)){var r=e.props||{},i=r.children,s=n2(r,GK),o=n.props||{},l=o.children,c=n2(o,HK);return i&&l?Tl(s,c)&&Cb(i,l):!i&&!l?Tl(s,c):!1}return!1},o2=function(e,n){var r=[],i={};return NN(e).forEach(function(s,o){if(JK(s))r.push(s);else if(s){var l=Xi(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);r.push(f),i[l]=!0}}}),r},QK=function(e){var n=e&&e.type;return n&&r2[n]?r2[n]:null},ZK=function(e,n){return NN(n).indexOf(e)},eJ=["children","width","height","viewBox","className","style","title","desc"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function tJ(t,e){if(t==null)return{};var n=nJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=tJ(t,eJ),d=i||{width:n,height:r,x:0,y:0},f=Ue("recharts-surface",s);return B.createElement("svg",jb({},Ee(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),e)}var rJ=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function iJ(t,e){if(t==null)return{};var n=sJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ke=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=iJ(t,rJ),s=Ue("recharts-layer",r);return B.createElement("g",Ib({className:s},Ee(i,!0),{ref:e}),n)}),ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function aJ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var oJ=aJ,lJ=oJ;function cJ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lJ(t,e,n)}var uJ=cJ,dJ="\\ud800-\\udfff",fJ="\\u0300-\\u036f",hJ="\\ufe20-\\ufe2f",pJ="\\u20d0-\\u20ff",mJ=fJ+hJ+pJ,gJ="\\ufe0e\\ufe0f",xJ="\\u200d",yJ=RegExp("["+xJ+dJ+mJ+gJ+"]");function vJ(t){return yJ.test(t)}var A5=vJ;function bJ(t){return t.split("")}var wJ=bJ,k5="\\ud800-\\udfff",_J="\\u0300-\\u036f",NJ="\\ufe20-\\ufe2f",SJ="\\u20d0-\\u20ff",EJ=_J+NJ+SJ,TJ="\\ufe0e\\ufe0f",AJ="["+k5+"]",Rb="["+EJ+"]",Mb="\\ud83c[\\udffb-\\udfff]",kJ="(?:"+Rb+"|"+Mb+")",C5="[^"+k5+"]",j5="(?:\\ud83c[\\udde6-\\uddff]){2}",P5="[\\ud800-\\udbff][\\udc00-\\udfff]",CJ="\\u200d",I5=kJ+"?",R5="["+TJ+"]?",jJ="(?:"+CJ+"(?:"+[C5,j5,P5].join("|")+")"+R5+I5+")*",PJ=R5+I5+jJ,IJ="(?:"+[C5+Rb+"?",Rb,j5,P5,AJ].join("|")+")",RJ=RegExp(Mb+"(?="+Mb+")|"+IJ+PJ,"g");function MJ(t){return t.match(RJ)||[]}var OJ=MJ,DJ=wJ,LJ=A5,$J=OJ;function FJ(t){return LJ(t)?$J(t):DJ(t)}var VJ=FJ,UJ=uJ,BJ=A5,qJ=VJ,zJ=w5;function GJ(t){return function(e){e=zJ(e);var n=BJ(e)?qJ(e):void 0,r=n?n[0]:e.charAt(0),i=n?UJ(n,1).join(""):e.slice(1);return r[t]()+i}}var HJ=GJ,WJ=HJ,KJ=WJ("toUpperCase"),JJ=KJ;const B0=ot(JJ);function pt(t){return function(){return t}}const M5=Math.cos,Lm=Math.sin,li=Math.sqrt,$m=Math.PI,q0=2*$m,Ob=Math.PI,Db=2*Ob,Ma=1e-6,YJ=Db-Ma;function O5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class QJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O5:XJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ma)if(!(Math.abs(f*c-u*d)>Ma)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,b=i-l,w=c*c+u*u,y=x*x+b*b,v=Math.sqrt(w),_=Math.sqrt(h),N=s*Math.tan((Ob-Math.acos((w+h-y)/(2*v*_)))/2),C=N/_,E=N/v;Math.abs(C-1)>Ma&&this._append`L${e+C*d},${n+C*f}`,this._append`A${s},${s},0,0,${+(f*x>d*b)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-d)>Ma)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Db+Db),h>YJ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ma&&this._append`A${r},${r},0,${+(h>=Ob)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function SN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new QJ(e)}function EN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function z0(t){return new D5(t)}function L5(t){return t[0]}function $5(t){return t[1]}function F5(t,e){var n=pt(!0),r=null,i=z0,s=null,o=SN(l);t=typeof t=="function"?t:t===void 0?L5:pt(t),e=typeof e=="function"?e:e===void 0?$5:pt(e);function l(c){var u,d=(c=EN(c)).length,f,h=!1,x;for(r==null&&(s=i(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(x)return s=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:pt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:pt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:pt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Gh(t,e,n){var r=null,i=pt(!0),s=null,o=z0,l=null,c=SN(u);t=typeof t=="function"?t:t===void 0?L5:pt(+t),e=typeof e=="function"?e:pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$5:pt(+n);function u(f){var h,x,b,w=(f=EN(f)).length,y,v=!1,_,N=new Array(w),C=new Array(w);for(s==null&&(l=o(_=c())),h=0;h<=w;++h){if(!(h<w&&i(y=f[h],h,f))===v)if(v=!v)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=x;--b)l.point(N[b],C[b]);l.lineEnd(),l.areaEnd()}v&&(N[h]=+t(y,h,f),C[h]=+e(y,h,f),l.point(r?+r(y,h,f):N[h],n?+n(y,h,f):C[h]))}if(_)return l=null,_+""||null}function d(){return F5().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:pt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class V5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZJ(t){return new V5(t,!0)}function eY(t){return new V5(t,!1)}const TN={draw(t,e){const n=li(e/$m);t.moveTo(n,0),t.arc(0,0,n,0,q0)}},tY={draw(t,e){const n=li(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},U5=li(1/3),nY=U5*2,rY={draw(t,e){const n=li(e/nY),r=n*U5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iY={draw(t,e){const n=li(e),r=-n/2;t.rect(r,r,n,n)}},sY=.8908130915292852,B5=Lm($m/10)/Lm(7*$m/10),aY=Lm(q0/10)*B5,oY=-M5(q0/10)*B5,lY={draw(t,e){const n=li(e*sY),r=aY*n,i=oY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=q0*s/5,l=M5(o),c=Lm(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Cy=li(3),cY={draw(t,e){const n=-li(e/(Cy*3));t.moveTo(0,n*2),t.lineTo(-Cy*n,-n),t.lineTo(Cy*n,-n),t.closePath()}},vr=-.5,br=li(3)/2,Lb=1/li(12),uY=(Lb/2+1)*3,dY={draw(t,e){const n=li(e/uY),r=n/2,i=n*Lb,s=r,o=n*Lb+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(vr*r-br*i,br*r+vr*i),t.lineTo(vr*s-br*o,br*s+vr*o),t.lineTo(vr*l-br*c,br*l+vr*c),t.lineTo(vr*r+br*i,vr*i-br*r),t.lineTo(vr*s+br*o,vr*o-br*s),t.lineTo(vr*l+br*c,vr*c-br*l),t.closePath()}};function fY(t,e){let n=null,r=SN(i);t=typeof t=="function"?t:pt(t||TN),e=typeof e=="function"?e:pt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:pt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:pt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Fm(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q5(t){this._context=t}q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hY(t){return new q5(t)}function z5(t){this._context=t}z5.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pY(t){return new z5(t)}function G5(t){this._context=t}G5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mY(t){return new G5(t)}function H5(t){this._context=t}H5.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gY(t){return new H5(t)}function l2(t){return t<0?-1:1}function c2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(l2(s)+l2(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function u2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jy(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jy(this,this._t0,u2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jy(this,u2(this,n=c2(this,t,e)),n);break;default:jy(this,this._t0,n=c2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function W5(t){this._context=new K5(t)}(W5.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function K5(t){this._context=t}K5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function xY(t){return new Um(t)}function yY(t){return new W5(t)}function J5(t){this._context=t}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=d2(t),i=d2(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function d2(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function vY(t){return new J5(t)}function G0(t,e){this._context=t,this._t=e}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bY(t){return new G0(t,.5)}function wY(t){return new G0(t,0)}function _Y(t){return new G0(t,1)}function ec(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $b(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function NY(t,e){return t[e]}function SY(t){const e=[];return e.key=t,e}function EY(){var t=pt([]),e=$b,n=ec,r=NY;function i(s){var o=Array.from(t.apply(this,arguments),SY),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=EN(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:pt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:pt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?$b:typeof s=="function"?s:pt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ec,i):n},i}function TY(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ec(t,e)}}function AY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}ec(t,e)}}function kY(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,b=0;b<l;++b){var w=t[e[b]],y=w[r][1]||0,v=w[r-1][1]||0;x+=y-v}c+=f,u+=x*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,ec(t,e)}}function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}var CY=["type","size","sizeType"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){jY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jY(t,e,n){return e=PY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=IY(t,"string");return Wd(e)=="symbol"?e:e+""}function IY(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n=MY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y5={symbolCircle:TN,symbolCross:tY,symbolDiamond:rY,symbolSquare:iY,symbolStar:lY,symbolTriangle:cY,symbolWye:dY},OY=Math.PI/180,DY=function(e){var n="symbol".concat(B0(e));return Y5[n]||TN},LY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*OY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$Y=function(e,n){Y5["symbol".concat(B0(e))]=n},AN=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=RY(e,CY),u=h2(h2({},c),{},{type:r,size:s,sizeType:l}),d=function(){var y=DY(r),v=fY().type(y).size(LY(s,l,r));return v()},f=u.className,h=u.cx,x=u.cy,b=Ee(u,!0);return h===+h&&x===+x&&s===+s?B.createElement("path",Fb({},b,{className:Ue("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};AN.registerSymbol=$Y;function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){Kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q5(r.key),r)}}function BY(t,e,n){return e&&UY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t,e,n){return e=Bm(e),zY(t,X5()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function zY(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(t)}function GY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ub(t,e)}function Kd(t,e,n){return e=Q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t){var e=WY(t,"string");return tc(e)=="symbol"?e:e+""}function WY(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=32,kN=function(t){function e(){return VY(this,e),qY(this,e,arguments)}return HY(e,t),BY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=wr/2,o=wr/6,l=wr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:wr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(wr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=FY({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(AN,{fill:c,cx:s,cy:s,size:wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:wr,height:wr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,b){var w=x.formatter||c,y=Ue(Kd(Kd({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var v=Ce(x.value)?null:x.value;ei(!Ce(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return B.createElement("li",Vb({className:y,style:f,key:"legend-item-".concat(b)},go(r.props,x,b)),B.createElement(Pb,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(v,x,b):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);Kd(kN,"displayName","Legend");Kd(kN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KY=C0;function JY(){this.__data__=new KY,this.size=0}var YY=JY;function XY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var QY=XY;function ZY(t){return this.__data__.get(t)}var eX=ZY;function tX(t){return this.__data__.has(t)}var nX=tX,rX=C0,iX=mN,sX=gN,aX=200;function oX(t,e){var n=this.__data__;if(n instanceof rX){var r=n.__data__;if(!iX||r.length<aX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sX(r)}return n.set(t,e),this.size=n.size,this}var lX=oX,cX=C0,uX=YY,dX=QY,fX=eX,hX=nX,pX=lX;function Bc(t){var e=this.__data__=new cX(t);this.size=e.size}Bc.prototype.clear=uX;Bc.prototype.delete=dX;Bc.prototype.get=fX;Bc.prototype.has=hX;Bc.prototype.set=pX;var Z5=Bc,mX="__lodash_hash_undefined__";function gX(t){return this.__data__.set(t,mX),this}var xX=gX;function yX(t){return this.__data__.has(t)}var vX=yX,bX=gN,wX=xX,_X=vX;function qm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bX;++e<n;)this.add(t[e])}qm.prototype.add=qm.prototype.push=wX;qm.prototype.has=_X;var eD=qm;function NX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var tD=NX;function SX(t,e){return t.has(e)}var nD=SX,EX=eD,TX=tD,AX=nD,kX=1,CX=2;function jX(t,e,n,r,i,s){var o=n&kX,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&CX?new EX:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var b=t[f],w=e[f];if(r)var y=o?r(w,b,f,e,t,s):r(b,w,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(x){if(!TX(e,function(v,_){if(!AX(x,_)&&(b===v||i(b,v,n,r,s)))return x.push(_)})){h=!1;break}}else if(!(b===w||i(b,w,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var rD=jX,PX=ji,IX=PX.Uint8Array,RX=IX;function MX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OX=MX;function DX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var CN=DX,m2=Qf,g2=RX,LX=pN,$X=rD,FX=OX,VX=CN,UX=1,BX=2,qX="[object Boolean]",zX="[object Date]",GX="[object Error]",HX="[object Map]",WX="[object Number]",KX="[object RegExp]",JX="[object Set]",YX="[object String]",XX="[object Symbol]",QX="[object ArrayBuffer]",ZX="[object DataView]",x2=m2?m2.prototype:void 0,Py=x2?x2.valueOf:void 0;function eQ(t,e,n,r,i,s,o){switch(n){case ZX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case QX:return!(t.byteLength!=e.byteLength||!s(new g2(t),new g2(e)));case qX:case zX:case WX:return LX(+t,+e);case GX:return t.name==e.name&&t.message==e.message;case KX:case YX:return t==e+"";case HX:var l=FX;case JX:var c=r&UX;if(l||(l=VX),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=BX,o.set(t,e);var d=$X(l(t),l(e),r,i,s,o);return o.delete(t),d;case XX:if(Py)return Py.call(t)==Py.call(e)}return!1}var tQ=eQ;function nQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iD=nQ,rQ=iD,iQ=rr;function sQ(t,e,n){var r=e(t);return iQ(t)?r:rQ(r,n(t))}var aQ=sQ;function oQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var lQ=oQ;function cQ(){return[]}var uQ=cQ,dQ=lQ,fQ=uQ,hQ=Object.prototype,pQ=hQ.propertyIsEnumerable,y2=Object.getOwnPropertySymbols,mQ=y2?function(t){return t==null?[]:(t=Object(t),dQ(y2(t),function(e){return pQ.call(t,e)}))}:fQ,gQ=mQ;function xQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yQ=xQ,vQ=xs,bQ=ys,wQ="[object Arguments]";function _Q(t){return bQ(t)&&vQ(t)==wQ}var NQ=_Q,v2=NQ,SQ=ys,sD=Object.prototype,EQ=sD.hasOwnProperty,TQ=sD.propertyIsEnumerable,AQ=v2(function(){return arguments}())?v2:function(t){return SQ(t)&&EQ.call(t,"callee")&&!TQ.call(t,"callee")},jN=AQ,zm={exports:{}};function kQ(){return!1}var CQ=kQ;zm.exports;(function(t,e){var n=ji,r=CQ,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(zm,zm.exports);var aD=zm.exports,jQ=9007199254740991,PQ=/^(?:0|[1-9]\d*)$/;function IQ(t,e){var n=typeof t;return e=e??jQ,!!e&&(n=="number"||n!="symbol"&&PQ.test(t))&&t>-1&&t%1==0&&t<e}var PN=IQ,RQ=9007199254740991;function MQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RQ}var IN=MQ,OQ=xs,DQ=IN,LQ=ys,$Q="[object Arguments]",FQ="[object Array]",VQ="[object Boolean]",UQ="[object Date]",BQ="[object Error]",qQ="[object Function]",zQ="[object Map]",GQ="[object Number]",HQ="[object Object]",WQ="[object RegExp]",KQ="[object Set]",JQ="[object String]",YQ="[object WeakMap]",XQ="[object ArrayBuffer]",QQ="[object DataView]",ZQ="[object Float32Array]",eZ="[object Float64Array]",tZ="[object Int8Array]",nZ="[object Int16Array]",rZ="[object Int32Array]",iZ="[object Uint8Array]",sZ="[object Uint8ClampedArray]",aZ="[object Uint16Array]",oZ="[object Uint32Array]",bt={};bt[ZQ]=bt[eZ]=bt[tZ]=bt[nZ]=bt[rZ]=bt[iZ]=bt[sZ]=bt[aZ]=bt[oZ]=!0;bt[$Q]=bt[FQ]=bt[XQ]=bt[VQ]=bt[QQ]=bt[UQ]=bt[BQ]=bt[qQ]=bt[zQ]=bt[GQ]=bt[HQ]=bt[WQ]=bt[KQ]=bt[JQ]=bt[YQ]=!1;function lZ(t){return LQ(t)&&DQ(t.length)&&!!bt[OQ(t)]}var cZ=lZ;function uZ(t){return function(e){return t(e)}}var oD=uZ,Gm={exports:{}};Gm.exports;(function(t,e){var n=m5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Gm,Gm.exports);var dZ=Gm.exports,fZ=cZ,hZ=oD,b2=dZ,w2=b2&&b2.isTypedArray,pZ=w2?hZ(w2):fZ,lD=pZ,mZ=yQ,gZ=jN,xZ=rr,yZ=aD,vZ=PN,bZ=lD,wZ=Object.prototype,_Z=wZ.hasOwnProperty;function NZ(t,e){var n=xZ(t),r=!n&&gZ(t),i=!n&&!r&&yZ(t),s=!n&&!r&&!i&&bZ(t),o=n||r||i||s,l=o?mZ(t.length,String):[],c=l.length;for(var u in t)(e||_Z.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vZ(u,c)))&&l.push(u);return l}var SZ=NZ,EZ=Object.prototype;function TZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||EZ;return t===n}var AZ=TZ;function kZ(t,e){return function(n){return t(e(n))}}var cD=kZ,CZ=cD,jZ=CZ(Object.keys,Object),PZ=jZ,IZ=AZ,RZ=PZ,MZ=Object.prototype,OZ=MZ.hasOwnProperty;function DZ(t){if(!IZ(t))return RZ(t);var e=[];for(var n in Object(t))OZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var LZ=DZ,$Z=hN,FZ=IN;function VZ(t){return t!=null&&FZ(t.length)&&!$Z(t)}var Zf=VZ,UZ=SZ,BZ=LZ,qZ=Zf;function zZ(t){return qZ(t)?UZ(t):BZ(t)}var H0=zZ,GZ=aQ,HZ=gQ,WZ=H0;function KZ(t){return GZ(t,WZ,HZ)}var JZ=KZ,_2=JZ,YZ=1,XZ=Object.prototype,QZ=XZ.hasOwnProperty;function ZZ(t,e,n,r,i,s){var o=n&YZ,l=_2(t),c=l.length,u=_2(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:QZ.call(e,h)))return!1}var x=s.get(t),b=s.get(e);if(x&&b)return x==e&&b==t;var w=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<c;){h=l[f];var v=t[h],_=e[h];if(r)var N=o?r(_,v,h,e,t,s):r(v,_,h,t,e,s);if(!(N===void 0?v===_||i(v,_,n,r,s):N)){w=!1;break}y||(y=h=="constructor")}if(w&&!y){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(w=!1)}return s.delete(t),s.delete(e),w}var eee=ZZ,tee=To,nee=ji,ree=tee(nee,"DataView"),iee=ree,see=To,aee=ji,oee=see(aee,"Promise"),lee=oee,cee=To,uee=ji,dee=cee(uee,"Set"),uD=dee,fee=To,hee=ji,pee=fee(hee,"WeakMap"),mee=pee,Bb=iee,qb=mN,zb=lee,Gb=uD,Hb=mee,dD=xs,qc=x5,N2="[object Map]",gee="[object Object]",S2="[object Promise]",E2="[object Set]",T2="[object WeakMap]",A2="[object DataView]",xee=qc(Bb),yee=qc(qb),vee=qc(zb),bee=qc(Gb),wee=qc(Hb),Oa=dD;(Bb&&Oa(new Bb(new ArrayBuffer(1)))!=A2||qb&&Oa(new qb)!=N2||zb&&Oa(zb.resolve())!=S2||Gb&&Oa(new Gb)!=E2||Hb&&Oa(new Hb)!=T2)&&(Oa=function(t){var e=dD(t),n=e==gee?t.constructor:void 0,r=n?qc(n):"";if(r)switch(r){case xee:return A2;case yee:return N2;case vee:return S2;case bee:return E2;case wee:return T2}return e});var _ee=Oa,Iy=Z5,Nee=rD,See=tQ,Eee=eee,k2=_ee,C2=rr,j2=aD,Tee=lD,Aee=1,P2="[object Arguments]",I2="[object Array]",Hh="[object Object]",kee=Object.prototype,R2=kee.hasOwnProperty;function Cee(t,e,n,r,i,s){var o=C2(t),l=C2(e),c=o?I2:k2(t),u=l?I2:k2(e);c=c==P2?Hh:c,u=u==P2?Hh:u;var d=c==Hh,f=u==Hh,h=c==u;if(h&&j2(t)){if(!j2(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Iy),o||Tee(t)?Nee(t,e,n,r,i,s):See(t,e,c,n,r,i,s);if(!(n&Aee)){var x=d&&R2.call(t,"__wrapped__"),b=f&&R2.call(e,"__wrapped__");if(x||b){var w=x?t.value():t,y=b?e.value():e;return s||(s=new Iy),i(w,y,n,r,s)}}return h?(s||(s=new Iy),Eee(t,e,n,r,i,s)):!1}var jee=Cee,Pee=jee,M2=ys;function fD(t,e,n,r,i){return t===e?!0:t==null||e==null||!M2(t)&&!M2(e)?t!==t&&e!==e:Pee(t,e,n,r,fD,i)}var RN=fD,Iee=Z5,Ree=RN,Mee=1,Oee=2;function Dee(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Iee;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Ree(d,u,Mee|Oee,r,f):h))return!1}}return!0}var Lee=Dee,$ee=ya;function Fee(t){return t===t&&!$ee(t)}var hD=Fee,Vee=hD,Uee=H0;function Bee(t){for(var e=Uee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vee(i)]}return e}var qee=Bee;function zee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var pD=zee,Gee=Lee,Hee=qee,Wee=pD;function Kee(t){var e=Hee(t);return e.length==1&&e[0][2]?Wee(e[0][0],e[0][1]):function(n){return n===t||Gee(n,t,e)}}var Jee=Kee;function Yee(t,e){return t!=null&&e in Object(t)}var Xee=Yee,Qee=_5,Zee=jN,ete=rr,tte=PN,nte=IN,rte=P0;function ite(t,e,n){e=Qee(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=rte(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&nte(i)&&tte(o,i)&&(ete(t)||Zee(t)))}var ste=ite,ate=Xee,ote=ste;function lte(t,e){return t!=null&&ote(t,e,ate)}var cte=lte,ute=RN,dte=N5,fte=cte,hte=fN,pte=hD,mte=pD,gte=P0,xte=1,yte=2;function vte(t,e){return hte(t)&&pte(e)?mte(gte(t),e):function(n){var r=dte(n,t);return r===void 0&&r===e?fte(n,t):ute(e,r,xte|yte)}}var bte=vte;function wte(t){return t}var zc=wte;function _te(t){return function(e){return e==null?void 0:e[t]}}var Nte=_te,Ste=vN;function Ete(t){return function(e){return Ste(e,t)}}var Tte=Ete,Ate=Nte,kte=Tte,Cte=fN,jte=P0;function Pte(t){return Cte(t)?Ate(jte(t)):kte(t)}var Ite=Pte,Rte=Jee,Mte=bte,Ote=zc,Dte=rr,Lte=Ite;function $te(t){return typeof t=="function"?t:t==null?Ote:typeof t=="object"?Dte(t)?Mte(t[0],t[1]):Rte(t):Lte(t)}var Pi=$te;function Fte(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var mD=Fte;function Vte(t){return t!==t}var Ute=Vte;function Bte(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qte=Bte,zte=mD,Gte=Ute,Hte=qte;function Wte(t,e,n){return e===e?Hte(t,e,n):zte(t,Gte,n)}var Kte=Wte,Jte=Kte;function Yte(t,e){var n=t==null?0:t.length;return!!n&&Jte(t,e,0)>-1}var Xte=Yte;function Qte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Zte=Qte;function ene(){}var tne=ene,Ry=uD,nne=tne,rne=CN,ine=1/0,sne=Ry&&1/rne(new Ry([,-0]))[1]==ine?function(t){return new Ry(t)}:nne,ane=sne,one=eD,lne=Xte,cne=Zte,une=nD,dne=ane,fne=CN,hne=200;function pne(t,e,n){var r=-1,i=lne,s=t.length,o=!0,l=[],c=l;if(n)o=!1,i=cne;else if(s>=hne){var u=e?null:dne(t);if(u)return fne(u);o=!1,i=une,c=new one}else c=e?[]:l;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var mne=pne,gne=Pi,xne=mne;function yne(t,e){return t&&t.length?xne(t,gne(e)):[]}var vne=yne;const O2=ot(vne);function gD(t,e,n){return e===!0?O2(t,n):Ce(e)?O2(t,e):t}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}var bne=["ref"];function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){W0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function _ne(t,e,n){return e&&L2(t.prototype,e),n&&L2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=Hm(e),Sne(t,xD()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Sne(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function Tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function W0(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=Ane(t,"string");return nc(e)=="symbol"?e:e+""}function Ane(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kne(t,e){if(t==null)return{};var n=Cne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jne(t){return t.value}function Pne(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=kne(e,bne);return B.createElement(kN,n)}var $2=1,eo=function(t){function e(){var n;wne(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nne(this,e,[].concat(i)),W0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tne(e,t),_ne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$2||Math.abs(i.height-this.lastBoundingBox.height)>$2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mi(Mi({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Mi(Mi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},Pne(s,Mi(Mi({},this.props),{},{payload:gD(d,u,jne)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Mi(Mi({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);W0(eo,"displayName","Legend");W0(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var F2=Qf,Ine=jN,Rne=rr,V2=F2?F2.isConcatSpreadable:void 0;function Mne(t){return Rne(t)||Ine(t)||!!(V2&&t&&t[V2])}var One=Mne,Dne=iD,Lne=One;function vD(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Lne),i||(i=[]);++s<o;){var l=t[s];e>0&&n(l)?e>1?vD(l,e-1,n,r,i):Dne(i,l):r||(i[i.length]=l)}return i}var bD=vD;function $ne(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var Fne=$ne,Vne=Fne,Une=Vne(),Bne=Une,qne=Bne,zne=H0;function Gne(t,e){return t&&qne(t,e,zne)}var wD=Gne,Hne=Zf;function Wne(t,e){return function(n,r){if(n==null)return n;if(!Hne(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Kne=Wne,Jne=wD,Yne=Kne,Xne=Yne(Jne),MN=Xne,Qne=MN,Zne=Zf;function ere(t,e){var n=-1,r=Zne(t)?Array(t.length):[];return Qne(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var _D=ere;function tre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nre=tre,U2=Oc;function rre(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=U2(t),o=e!==void 0,l=e===null,c=e===e,u=U2(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}var ire=rre,sre=ire;function are(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,l=n.length;++r<o;){var c=sre(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var ore=are,My=yN,lre=vN,cre=Pi,ure=_D,dre=nre,fre=oD,hre=ore,pre=zc,mre=rr;function gre(t,e,n){e.length?e=My(e,function(s){return mre(s)?function(o){return lre(o,s.length===1?s[0]:s)}:s}):e=[pre];var r=-1;e=My(e,fre(cre));var i=ure(t,function(s,o,l){var c=My(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return dre(i,function(s,o){return hre(s,o,n)})}var xre=gre;function yre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vre=yre,bre=vre,B2=Math.max;function wre(t,e,n){return e=B2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=B2(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),bre(t,this,l)}}var _re=wre;function Nre(t){return function(){return t}}var Sre=Nre,Ere=To,Tre=function(){try{var t=Ere(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ND=Tre,Are=Sre,q2=ND,kre=zc,Cre=q2?function(t,e){return q2(t,"toString",{configurable:!0,enumerable:!1,value:Are(e),writable:!0})}:kre,jre=Cre,Pre=800,Ire=16,Rre=Date.now;function Mre(t){var e=0,n=0;return function(){var r=Rre(),i=Ire-(r-n);if(n=r,i>0){if(++e>=Pre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ore=Mre,Dre=jre,Lre=Ore,$re=Lre(Dre),Fre=$re,Vre=zc,Ure=_re,Bre=Fre;function qre(t,e){return Bre(Ure(t,e,Vre),t+"")}var zre=qre,Gre=pN,Hre=Zf,Wre=PN,Kre=ya;function Jre(t,e,n){if(!Kre(n))return!1;var r=typeof e;return(r=="number"?Hre(n)&&Wre(e,n.length):r=="string"&&e in n)?Gre(n[e],t):!1}var K0=Jre,Yre=bD,Xre=xre,Qre=zre,z2=K0,Zre=Qre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&z2(t,e[0],e[1])?e=[]:n>2&&z2(e[0],e[1],e[2])&&(e=[e[0]]),Xre(t,Yre(e,1),[])}),eie=Zre;const ON=ot(eie);function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function tie(t,e){return sie(t)||iie(t,e)||rie(t,e)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sie(t){if(Array.isArray(t))return t}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=lie(t,"string");return Jd(e)=="symbol"?e:e+""}function lie(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cie(t){return Array.isArray(t)&&Yt(t[0])&&Yt(t[1])?t.join(" ~ "):t}var uie=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,b=e.labelClassName,w=e.label,y=e.labelFormatter,v=e.accessibilityLayer,_=v===void 0?!1:v,N=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?ON(d,h):d).map(function(H,F){if(H.type==="none")return null;var L=Oy({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),q=H.formatter||f||cie,z=H.value,U=H.name,V=z,X=U;if(q&&V!=null&&X!=null){var Q=q(z,U,H,F,d);if(Array.isArray(Q)){var G=tie(Q,2);V=G[0],X=G[1]}else V=Q}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:L},Yt(X)?B.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Yt(X)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},V),B.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},C=Oy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=Oy({margin:0},u),T=!Le(w),S=T?w:"",j=Ue("recharts-default-tooltip",x),k=Ue("recharts-tooltip-label",b);T&&y&&d!==void 0&&d!==null&&(S=y(w,d));var R=_?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",Kb({className:j,style:C},R),B.createElement("p",{className:k,style:E},B.isValidElement(S)?S:"".concat(S)),N())};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Wh(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=fie(t,"string");return Yd(e)=="symbol"?e:e+""}function fie(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u="recharts-tooltip-wrapper",hie={visibility:"hidden"};function pie(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ue(_u,Wh(Wh(Wh(Wh({},"".concat(_u,"-right"),ce(n)&&e&&ce(e.x)&&n>=e.x),"".concat(_u,"-left"),ce(n)&&e&&ce(e.x)&&n<e.x),"".concat(_u,"-bottom"),ce(r)&&e&&ce(e.y)&&r>=e.y),"".concat(_u,"-top"),ce(r)&&e&&ce(e.y)&&r<e.y))}function W2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ce(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var b=f+l,w=c[r]+u;return b>w?Math.max(d,c[r]):Math.max(f,c[r])}function mie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=W2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=W2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=mie({translateX:d,translateY:f,useTranslate3d:l})):u=hie,{cssProperties:u,cssClasses:pie({translateX:d,translateY:f,coordinate:n})}}function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function vie(t,e,n){return e&&yie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bie(t,e,n){return e=Wm(e),wie(t,SD()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function wie(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ie(t)}function _ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function Nie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function Yb(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=Sie(t,"string");return rc(e)=="symbol"?e:e+""}function Sie(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y2=1,Eie=function(t){function e(){var n;xie(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bie(this,e,[].concat(i)),Yb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Nie(e,t),vie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Y2||Math.abs(r.height-this.state.lastBoundingBox.height)>Y2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,x=i.offset,b=i.position,w=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,_=i.wrapperStyle,N=gie({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),C=N.cssClasses,E=N.cssProperties,T=J2(J2({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return B.createElement("div",{tabIndex:-1,className:C,style:T,ref:function(j){r.wrapperNode=j}},u)}}])}(D.PureComponent),Tie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ao={isSsr:Tie()};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){DN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AD(r.key),r)}}function Cie(t,e,n){return e&&kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jie(t,e,n){return e=Km(e),Pie(t,TD()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function Pie(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(t)}function Iie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Rie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xb(t,e)}function DN(t,e,n){return e=AD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AD(t){var e=Mie(t,"string");return ic(e)=="symbol"?e:e+""}function Mie(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oie(t){return t.dataKey}function Die(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(uie,e)}var Kn=function(t){function e(){return Aie(this,e),jie(this,e,arguments)}return Rie(e,t),Cie(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,x=i.offset,b=i.payload,w=i.payloadUniqBy,y=i.position,v=i.reverseDirection,_=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,E=b??[];f&&E.length&&(E=gD(b.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Oie));var T=E.length>0;return B.createElement(Eie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:T,offset:x,position:y,reverseDirection:v,useTranslate3d:_,viewBox:N,wrapperStyle:C},Die(u,Q2(Q2({},this.props),{},{payload:E})))}}])}(D.PureComponent);DN(Kn,"displayName","Tooltip");DN(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ao.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lie=ji,$ie=function(){return Lie.Date.now()},Fie=$ie,Vie=/\s/;function Uie(t){for(var e=t.length;e--&&Vie.test(t.charAt(e)););return e}var Bie=Uie,qie=Bie,zie=/^\s+/;function Gie(t){return t&&t.slice(0,qie(t)+1).replace(zie,"")}var Hie=Gie,Wie=Hie,Z2=ya,Kie=Oc,ek=NaN,Jie=/^[-+]0x[0-9a-f]+$/i,Yie=/^0b[01]+$/i,Xie=/^0o[0-7]+$/i,Qie=parseInt;function Zie(t){if(typeof t=="number")return t;if(Kie(t))return ek;if(Z2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Z2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wie(t);var n=Yie.test(t);return n||Xie.test(t)?Qie(t.slice(2),n?2:8):Jie.test(t)?ek:+t}var kD=Zie,ese=ya,Dy=Fie,tk=kD,tse="Expected a function",nse=Math.max,rse=Math.min;function ise(t,e,n){var r,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(tse);e=tk(e)||0,ese(n)&&(d=!!n.leading,f="maxWait"in n,s=f?nse(tk(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function x(T){var S=r,j=i;return r=i=void 0,u=T,o=t.apply(j,S),o}function b(T){return u=T,l=setTimeout(v,e),d?x(T):o}function w(T){var S=T-c,j=T-u,k=e-S;return f?rse(k,s-j):k}function y(T){var S=T-c,j=T-u;return c===void 0||S>=e||S<0||f&&j>=s}function v(){var T=Dy();if(y(T))return _(T);l=setTimeout(v,w(T))}function _(T){return l=void 0,h&&r?x(T):(r=i=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function C(){return l===void 0?o:_(Dy())}function E(){var T=Dy(),S=y(T);if(r=arguments,i=this,c=T,S){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(v,e),x(c)}return l===void 0&&(l=setTimeout(v,e)),o}return E.cancel=N,E.flush=C,E}var sse=ise,ase=sse,ose=ya,lse="Expected a function";function cse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lse);return ose(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ase(t,e,{leading:r,maxWait:e,trailing:i})}var use=cse;const CD=ot(use);function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return Xd(e)=="symbol"?e:e+""}function hse(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e){return yse(t)||xse(t,e)||gse(t,e)||mse()}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yse(t){if(Array.isArray(t))return t}var ld=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,b=t.debounce,w=b===void 0?0:b,y=t.id,v=t.className,_=t.onResize,N=t.style,C=N===void 0?{}:N,E=D.useRef(null),T=D.useRef();T.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),j=pse(S,2),k=j[0],R=j[1],P=D.useCallback(function(I,H){R(function(F){var L=Math.round(I),q=Math.round(H);return F.containerWidth===L&&F.containerHeight===q?F:{containerWidth:L,containerHeight:q}})},[]);D.useEffect(function(){var I=function(U){var V,X=U[0].contentRect,Q=X.width,G=X.height;P(Q,G),(V=T.current)===null||V===void 0||V.call(T,Q,G)};w>0&&(I=CD(I,w,{trailing:!0,leading:!1}));var H=new ResizeObserver(I),F=E.current.getBoundingClientRect(),L=F.width,q=F.height;return P(L,q),H.observe(E.current),function(){H.disconnect()}},[P,w]);var O=D.useMemo(function(){var I=k.containerWidth,H=k.containerHeight;if(I<0||H<0)return null;ei(za(o)||za(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=za(o)?I:o,L=za(c)?H:c;n&&n>0&&(F?L=F/n:L&&(F=L*n),h&&L>h&&(L=h)),ei(F>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,L,o,c,d,f,n);var q=!Array.isArray(x)&&Xi(x.type).endsWith("Chart");return B.Children.map(x,function(z){return B.isValidElement(z)?D.cloneElement(z,Kh({width:F,height:L},q?{style:Kh({height:"100%",width:"100%",maxHeight:L,maxWidth:F},z.props.style)}:{})):z})},[n,x,c,h,f,d,k,o]);return B.createElement("div",{id:y?"".concat(y):void 0,className:Ue("recharts-responsive-container",v),style:Kh(Kh({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),J0=function(e){return null};J0.displayName="Cell";function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return e=bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=wse(t,"string");return Qd(e)=="symbol"?e:e+""}function wse(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},_se=2e3,Nse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sk="recharts_measurement_span";function Sse(t){var e=Qb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ao.isSsr)return{width:0,height:0};var r=Sse(n),i=JSON.stringify({text:e,copyStyle:r});if(Fo.widthCache[i])return Fo.widthCache[i];try{var s=document.getElementById(sk);s||(s=document.createElement("span"),s.setAttribute("id",sk),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Qb(Qb({},Nse),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Fo.widthCache[i]=c,++Fo.cacheCount>_se&&(Fo.cacheCount=0,Fo.widthCache={}),c}catch{return{width:0,height:0}}},Ese=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Jm(t,e){return Cse(t)||kse(t,e)||Ase(t,e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ak(t,e)}}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Cse(t){if(Array.isArray(t))return t}function jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ise(r.key),r)}}function Pse(t,e,n){return e&&ok(t.prototype,e),n&&ok(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ise(t){var e=Rse(t,"string");return Zd(e)=="symbol"?e:e+""}function Rse(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ose=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dse=Object.keys(jD),ol="NaN";function Lse(t,e){return t*jD[e]}var Jh=function(){function t(e,n){jse(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mse.test(n)&&(this.num=NaN,this.unit=""),Dse.includes(n)&&(this.num=Lse(e,n),this.unit="px")}return Pse(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ose.exec(n))!==null&&r!==void 0?r:[],s=Jm(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function PD(t){if(t.includes(ol))return ol;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=lk.exec(e))!==null&&n!==void 0?n:[],i=Jm(r,4),s=i[1],o=i[2],l=i[3],c=Jh.parse(s??""),u=Jh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ol;e=e.replace(lk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ck.exec(e))!==null&&f!==void 0?f:[],x=Jm(h,4),b=x[1],w=x[2],y=x[3],v=Jh.parse(b??""),_=Jh.parse(y??""),N=w==="+"?v.add(_):v.subtract(_);if(N.isNaN())return ol;e=e.replace(ck,N.toString())}return e}var uk=/\(([^()]*)\)/;function $se(t){for(var e=t;e.includes("(");){var n=uk.exec(e),r=Jm(n,2),i=r[1];e=e.replace(uk,PD(i))}return e}function Fse(t){var e=t.replace(/\s+/g,"");return e=$se(e),e=PD(e),e}function Vse(t){try{return Fse(t)}catch{return ol}}function Ly(t){var e=Vse(t.slice(5,-1));return e===ol?"":e}var Use=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bse=["dx","dy","angle","className","breakAll"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function dk(t,e){if(t==null)return{};var n=qse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fk(t,e){return Wse(t)||Hse(t,e)||Gse(t,e)||zse()}function zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(t,e){if(t){if(typeof t=="string")return hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wse(t){if(Array.isArray(t))return t}var ID=/[ \f\n\r\t\v\u2028\u2029]+/,RD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Le(n)||(r?s=n.toString().split(""):s=n.toString().split(ID));var o=s.map(function(c){return{word:c,width:cd(c,i).width}}),l=r?0:cd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Kse=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ce(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(L,q){var z=q.word,U=q.width,V=L[L.length-1];if(V&&(i==null||s||V.width+U+r<Number(i)))V.words.push(z),V.width+=U+r;else{var X={words:[z],width:U};L.push(X)}return L},[])},x=h(n),b=function(F){return F.reduce(function(L,q){return L.width>q.width?L:q})};if(!d)return x;for(var w="",y=function(F){var L=f.slice(0,F),q=RD({breakAll:u,style:c,children:L+w}).wordsWithComputedWidth,z=h(q),U=z.length>o||b(z).width>Number(i);return[U,z]},v=0,_=f.length-1,N=0,C;v<=_&&N<=f.length-1;){var E=Math.floor((v+_)/2),T=E-1,S=y(T),j=fk(S,2),k=j[0],R=j[1],P=y(E),O=fk(P,1),I=O[0];if(!k&&!I&&(v=E+1),k&&I&&(_=E-1),!k&&I){C=R;break}N++}return C||x},pk=function(e){var n=Le(e)?[]:e.toString().split(ID);return[{words:n}]},Jse=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Ao.isSsr){var c,u,d=RD({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pk(i);return Kse({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return pk(i)},mk="#808080",xo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,b=e.verticalAnchor,w=b===void 0?"end":b,y=e.fill,v=y===void 0?mk:y,_=dk(e,Use),N=D.useMemo(function(){return Jse({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,E=_.dy,T=_.angle,S=_.className,j=_.breakAll,k=dk(_,Bse);if(!Yt(r)||!Yt(s))return null;var R=r+(ce(C)?C:0),P=s+(ce(E)?E:0),O;switch(w){case"start":O=Ly("calc(".concat(u,")"));break;case"middle":O=Ly("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Ly("calc(".concat(N.length-1," * -").concat(l,")"));break}var I=[];if(f){var H=N[0].width,F=_.width;I.push("scale(".concat((ce(F)?F/H:1)/H,")"))}return T&&I.push("rotate(".concat(T,", ").concat(R,", ").concat(P,")")),I.length&&(k.transform=I.join(" ")),B.createElement("text",Zb({},Ee(k,!0),{x:R,y:P,className:Ue("recharts-text",S),textAnchor:x,fill:v.includes("url")?mk:v}),N.map(function(L,q){var z=L.words.join(j?"":" ");return B.createElement("tspan",{x:R,dy:q===0?O:l,key:"".concat(z,"-").concat(q)},z)}))};function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LN(t){let e,n,r;t.length!==2?(e=ra,n=(l,c)=>ra(t(l),c),r=(l,c)=>t(l)-c):(e=t===ra||t===Yse?t:Xse,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function Xse(){return 0}function MD(t){return t===null?NaN:+t}function*Qse(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Zse=LN(ra),eh=Zse.right;LN(MD).center;class gk extends Map{constructor(e,n=nae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xk(this,e))}has(e){return super.has(xk(this,e))}set(e,n){return super.set(eae(this,e),n)}delete(e){return super.delete(tae(this,e))}}function xk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rae(t=ra){if(t===ra)return OD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function OD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iae=Math.sqrt(50),sae=Math.sqrt(10),aae=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=iae?10:s>=sae?5:s>=aae?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Ym(t,e,n*2):[l,c,u]}function ew(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Ym(e,t,n):Ym(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function tw(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function nw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tw(e,t,n):tw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?OD:rae(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),b=Math.min(r,Math.floor(e+(c-u)*f/c+h));DD(t,e,x,b,i)}const s=t[e];let o=n,l=r;for(Nu(t,n,e),i(t[r],s)>0&&Nu(t,n,r);o<l;){for(Nu(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Nu(t,n,l):(++l,Nu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oae(t,e,n){if(t=Float64Array.from(Qse(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vk(t);if(e>=1)return yk(t);var r,i=(r-1)*e,s=Math.floor(i),o=yk(DD(t,s).subarray(0,s+1)),l=vk(t.subarray(s+1));return o+(l-o)*(i-s)}}function lae(t,e,n=MD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function cae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rw=Symbol("implicit");function $N(){var t=new gk,e=[],n=[],r=rw;function i(s){let o=t.get(s);if(o===void 0){if(r!==rw)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new gk;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $N(e,n).unknown(r)},Fr.apply(i,arguments),i}function ef(){var t=$N().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=i<r,b=x?i:r,w=x?r:i;s=(w-b)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),b+=(w-b-s*(h-c))*d,o=s*(1-c),l&&(b=Math.round(b),o=Math.round(o));var y=cae(h).map(function(v){return b+s*v});return n(x?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ef(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fr.apply(f(),arguments)}function LD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LD(e())},t}function ud(){return LD(ef.apply(null,arguments).paddingInner(1))}function FN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $D(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function th(){}var tf=.7,Xm=1/tf,Al="\\s*([+-]?\\d+)\\s*",nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uae=/^#([0-9a-f]{3,8})$/,dae=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),fae=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),hae=new RegExp(`^rgba\\(${Al},${Al},${Al},${nf}\\)$`),pae=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${nf}\\)$`),mae=new RegExp(`^hsl\\(${nf},${Ni},${Ni}\\)$`),gae=new RegExp(`^hsla\\(${nf},${Ni},${Ni},${nf}\\)$`),bk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FN(th,rf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wk,formatHex:wk,formatHex8:xae,formatHsl:yae,formatRgb:_k,toString:_k});function wk(){return this.rgb().formatHex()}function xae(){return this.rgb().formatHex8()}function yae(){return FD(this).formatHsl()}function _k(){return this.rgb().formatRgb()}function rf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Nk(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dae.exec(t))?new Zn(e[1],e[2],e[3],1):(e=fae.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hae.exec(t))?Yh(e[1],e[2],e[3],e[4]):(e=pae.exec(t))?Yh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mae.exec(t))?Tk(e[1],e[2]/100,e[3]/100,1):(e=gae.exec(t))?Tk(e[1],e[2]/100,e[3]/100,e[4]):bk.hasOwnProperty(t)?Nk(bk[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Nk(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Yh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function vae(t){return t instanceof th||(t=rf(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function iw(t,e,n,r){return arguments.length===1?vae(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FN(Zn,iw,$D(th,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tf:Math.pow(tf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(to(this.r),to(this.g),to(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sk,formatHex:Sk,formatHex8:bae,formatRgb:Ek,toString:Ek}));function Sk(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function bae(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ek(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ga(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function Tk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jr(t,e,n,r)}function FD(t){if(t instanceof Jr)return new Jr(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=rf(t)),!t)return new Jr;if(t instanceof Jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Jr(o,l,c,t.opacity)}function wae(t,e,n,r){return arguments.length===1?FD(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FN(Jr,wae,$D(th,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tf:Math.pow(tf,t),new Jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zn($y(t>=240?t-240:t+120,i,r),$y(t,i,r),$y(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Jr(Ak(this.h),Xh(this.s),Xh(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${Ak(this.h)}, ${Xh(this.s)*100}%, ${Xh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ak(t){return t=(t||0)%360,t<0?t+360:t}function Xh(t){return Math.max(0,Math.min(1,t||0))}function $y(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VN=t=>()=>t;function _ae(t,e){return function(n){return t+n*e}}function Nae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sae(t){return(t=+t)==1?VD:function(e,n){return n-e?Nae(e,n,t):VN(isNaN(e)?n:e)}}function VD(t,e){var n=e-t;return n?_ae(t,n):VN(isNaN(t)?e:t)}const kk=function t(e){var n=Sae(e);function r(i,s){var o=n((i=iw(i)).r,(s=iw(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=VD(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Eae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Tae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Gc(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function kae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var sw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fy=new RegExp(sw.source,"g");function jae(t){return function(){return t}}function Pae(t){return function(e){return t(e)+""}}function Iae(t,e){var n=sw.lastIndex=Fy.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=sw.exec(t))&&(i=Fy.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Zm(r,i)})),n=Fy.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Pae(c[0].x):jae(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Gc(t,e){var n=typeof e,r;return e==null||n==="boolean"?VN(e):(n==="number"?Zm:n==="string"?(r=rf(e))?(e=r,kk):Iae:e instanceof rf?kk:e instanceof Date?kae:Tae(e)?Eae:Array.isArray(e)?Aae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cae:Zm)(t,e)}function UN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rae(t,e){e===void 0&&(e=t,t=Gc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function Mae(t){return function(){return t}}function eg(t){return+t}var Ck=[0,1];function Fn(t){return t}function aw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mae(isNaN(e)?NaN:.5)}function Oae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dae(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=aw(i,r),s=n(o,s)):(r=aw(r,i),s=n(s,o)),function(l){return s(r(l))}}function Lae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=aw(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=eh(t,l,1,r)-1;return s[c](i[c](l))}}function nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Y0(){var t=Ck,e=Ck,n=Gc,r,i,s,o=Fn,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Fn&&(o=Oae(t[0],t[h-1])),l=h>2?Lae:Dae,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(r),Zm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,eg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=UN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Fn,d()):o!==Fn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,x){return r=h,i=x,d()}}function BN(){return Y0()(Fn,Fn)}function $ae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sc(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function Fae(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Vae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sf(t){if(!(e=Uae.exec(t)))throw new Error("invalid format: "+t);var e;return new qN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sf.prototype=qN.prototype;function qN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ng;function qae(t,e){var n=tg(t,e);if(!n)return ng=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(ng=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tg(t,Math.max(0,e+s-1))[0]}function jk(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Pk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$ae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jk(t*100,e),r:jk,s:qae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ik(t){return t}var Rk=Array.prototype.map,Mk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zae(t){var e=t.grouping===void 0||t.thousands===void 0?Ik:Fae(Rk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ik:Vae(Rk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=sf(f);var x=f.fill,b=f.align,w=f.sign,y=f.symbol,v=f.zero,_=f.width,N=f.comma,C=f.precision,E=f.trim,T=f.type;T==="n"?(N=!0,T="g"):Pk[T]||(C===void 0&&(C=12),E=!0,T="g"),(v||x==="0"&&b==="=")&&(v=!0,x="0",b="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),j=(y==="$"?r:/[%p]/.test(T)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),k=Pk[T],R=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(O){var I=S,H=j,F,L,q;if(T==="c")H=k(O)+H,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),C),E&&(O=Bae(O)),z&&+O==0&&w!=="+"&&(z=!1),I=(z?w==="("?w:l:w==="-"||w==="("?"":w)+I,H=(T==="s"&&!isNaN(O)&&ng!==void 0?Mk[8+ng/3]:"")+H+(z&&w==="("?")":""),R){for(F=-1,L=O.length;++F<L;)if(q=O.charCodeAt(F),48>q||q>57){H=(q===46?i+O.slice(F+1):O.slice(F))+H,O=O.slice(0,F);break}}}N&&!v&&(O=e(O,1/0));var U=I.length+O.length+H.length,V=U<_?new Array(_-U+1).join(x):"";switch(N&&v&&(O=e(V+O,V.length?_-H.length:1/0),V=""),b){case"<":O=I+O+H+V;break;case"=":O=I+V+O+H;break;case"^":O=V.slice(0,U=V.length>>1)+I+O+H+V.slice(U);break;default:O=V+I+O+H;break}return s(O)}return P.toString=function(){return f+""},P}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(sc(h)/3)))*3,b=Math.pow(10,-x),w=u((f=sf(f),f.type="f",f),{suffix:Mk[8+x/3]});return function(y){return w(b*y)}}return{format:u,formatPrefix:d}}var Qh,zN,UD;Gae({thousands:",",grouping:[3],currency:["$",""]});function Gae(t){return Qh=zae(t),zN=Qh.format,UD=Qh.formatPrefix,Qh}function Hae(t){return Math.max(0,-sc(Math.abs(t)))}function Wae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function Kae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function BD(t,e,n,r){var i=nw(t,e,n),s;switch(r=sf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Wae(i,o))&&(r.precision=s),UD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Kae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Hae(i))&&(r.precision=s-(r.type==="%")*2);break}}return zN(r)}function va(t){var e=t.domain;return t.ticks=function(n){var r=e();return ew(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return BD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=tw(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function rg(){var t=BN();return t.copy=function(){return nh(t,rg())},Fr.apply(t,arguments),va(t)}function qD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qD(t).unknown(e)},t=arguments.length?Array.from(t,eg):[0,1],va(n)}function zD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Ok(t){return Math.log(t)}function Dk(t){return Math.exp(t)}function Jae(t){return-Math.log(-t)}function Yae(t){return-Math.exp(-t)}function Xae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qae(t){return t===10?Xae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Lk(t){return(e,n)=>-t(-e,n)}function GN(t){const e=t(Ok,Dk),n=e.domain;let r=10,i,s;function o(){return i=Zae(r),s=Qae(r),n()[0]<0?(i=Lk(i),s=Lk(s),t(Jae,Yae)):t(Ok,Dk),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),x=i(d),b,w;const y=l==null?10:+l;let v=[];if(!(r%1)&&x-h<y){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(b=1;b<r;++b)if(w=h<0?b/s(-h):b*s(h),!(w<u)){if(w>d)break;v.push(w)}}else for(;h<=x;++h)for(b=r-1;b>=1;--b)if(w=h>0?b/s(-h):b*s(h),!(w<u)){if(w>d)break;v.push(w)}v.length*2<y&&(v=ew(u,d,y))}else v=ew(h,x,Math.min(x-h,y)).map(s);return f?v.reverse():v},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=sf(c)).precision==null&&(c.trim=!0),c=zN(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(zD(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function GD(){const t=GN(Y0()).domain([1,10]);return t.copy=()=>nh(t,GD()).base(t.base()),Fr.apply(t,arguments),t}function $k(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Fk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HN(t){var e=1,n=t($k(e),Fk(e));return n.constant=function(r){return arguments.length?t($k(e=+r),Fk(e)):e},va(n)}function HD(){var t=HN(Y0());return t.copy=function(){return nh(t,HD()).constant(t.constant())},Fr.apply(t,arguments)}function Vk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function toe(t){return t<0?-t*t:t*t}function WN(t){var e=t(Fn,Fn),n=1;function r(){return n===1?t(Fn,Fn):n===.5?t(eoe,toe):t(Vk(n),Vk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},va(e)}function KN(){var t=WN(Y0());return t.copy=function(){return nh(t,KN()).exponent(t.exponent())},Fr.apply(t,arguments),t}function noe(){return KN.apply(null,arguments).exponent(.5)}function Uk(t){return Math.sign(t)*t*t}function roe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WD(){var t=BN(),e=[0,1],n=!1,r;function i(s){var o=roe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(Uk(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,eg)).map(Uk)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fr.apply(i,arguments),va(i)}function KD(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=lae(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[eh(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ra),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return KD().domain(t).range(e).unknown(r)},Fr.apply(s,arguments)}function JD(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[eh(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return JD().domain([t,e]).range(i).unknown(s)},Fr.apply(va(o),arguments)}function YD(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[eh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return YD().domain(t).range(e).unknown(n)},Fr.apply(i,arguments)}const Vy=new Date,Uy=new Date;function Zt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Zt(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(Vy.setTime(+s),Uy.setTime(+o),t(Vy),t(Uy),Math.floor(n(Vy,Uy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ig=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ig);ig.range;const zi=1e3,Tr=zi*60,Gi=Tr*60,us=Gi*24,JN=us*7,Bk=us*30,By=us*365,Ha=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCSeconds());Ha.range;const YN=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getMinutes());YN.range;const XN=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCMinutes());XN.range;const QN=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi-t.getMinutes()*Tr)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getHours());QN.range;const ZN=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getUTCHours());ZN.range;const rh=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/us,t=>t.getDate()-1);rh.range;const X0=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>t.getUTCDate()-1);X0.range;const XD=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>Math.floor(t/us));XD.range;function ko(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/JN)}const Q0=ko(0),sg=ko(1),ioe=ko(2),soe=ko(3),ac=ko(4),aoe=ko(5),ooe=ko(6);Q0.range;sg.range;ioe.range;soe.range;ac.range;aoe.range;ooe.range;function Co(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JN)}const Z0=Co(0),ag=Co(1),loe=Co(2),coe=Co(3),oc=Co(4),uoe=Co(5),doe=Co(6);Z0.range;ag.range;loe.range;coe.range;oc.range;uoe.range;doe.range;const eS=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eS.range;const tS=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tS.range;const ds=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ds.range;const fs=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fs.range;function QD(t,e,n,r,i,s){const o=[[Ha,1,zi],[Ha,5,5*zi],[Ha,15,15*zi],[Ha,30,30*zi],[s,1,Tr],[s,5,5*Tr],[s,15,15*Tr],[s,30,30*Tr],[i,1,Gi],[i,3,3*Gi],[i,6,6*Gi],[i,12,12*Gi],[r,1,us],[r,2,2*us],[n,1,JN],[e,1,Bk],[e,3,3*Bk],[t,1,By]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),b=x?x.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,x=LN(([,,y])=>y).right(o,h);if(x===o.length)return t.every(nw(u/By,d/By,f));if(x===0)return ig.every(Math.max(nw(u,d,f),1));const[b,w]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return b.every(w)}return[l,c]}const[foe,hoe]=QD(fs,tS,Z0,XD,ZN,XN),[poe,moe]=QD(ds,eS,Q0,rh,QN,YN);function qy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Su(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function goe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Eu(i),d=Tu(i),f=Eu(s),h=Tu(s),x=Eu(o),b=Tu(o),w=Eu(l),y=Tu(l),v=Eu(c),_=Tu(c),N={a:q,A:z,b:U,B:V,c:null,d:Kk,e:Kk,f:Foe,g:Joe,G:Xoe,H:Doe,I:Loe,j:$oe,L:ZD,m:Voe,M:Uoe,p:X,q:Q,Q:Xk,s:Qk,S:Boe,u:qoe,U:zoe,V:Goe,w:Hoe,W:Woe,x:null,X:null,y:Koe,Y:Yoe,Z:Qoe,"%":Yk},C={a:G,A:se,b:W,B:pe,c:null,d:Jk,e:Jk,f:nle,g:fle,G:ple,H:Zoe,I:ele,j:tle,L:tL,m:rle,M:ile,p:Ae,q:Fe,Q:Xk,s:Qk,S:sle,u:ale,U:ole,V:lle,w:cle,W:ule,x:null,X:null,y:dle,Y:hle,Z:mle,"%":Yk},E={a:R,A:P,b:O,B:I,c:H,d:Hk,e:Hk,f:Ioe,g:Gk,G:zk,H:Wk,I:Wk,j:koe,L:Poe,m:Aoe,M:Coe,p:k,q:Toe,Q:Moe,s:Ooe,S:joe,u:woe,U:_oe,V:Noe,w:boe,W:Soe,x:F,X:L,y:Gk,Y:zk,Z:Eoe,"%":Roe};N.x=T(n,N),N.X=T(r,N),N.c=T(e,N),C.x=T(n,C),C.X=T(r,C),C.c=T(e,C);function T(de,ae){return function(J){var K=[],fe=-1,ve=0,De=de.length,Z,me,Xe;for(J instanceof Date||(J=new Date(+J));++fe<De;)de.charCodeAt(fe)===37&&(K.push(de.slice(ve,fe)),(me=qk[Z=de.charAt(++fe)])!=null?Z=de.charAt(++fe):me=Z==="e"?" ":"0",(Xe=ae[Z])&&(Z=Xe(J,me)),K.push(Z),ve=fe+1);return K.push(de.slice(ve,fe)),K.join("")}}function S(de,ae){return function(J){var K=Su(1900,void 0,1),fe=j(K,de,J+="",0),ve,De;if(fe!=J.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ae&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ve=zy(Su(K.y,0,1)),De=ve.getUTCDay(),ve=De>4||De===0?ag.ceil(ve):ag(ve),ve=X0.offset(ve,(K.V-1)*7),K.y=ve.getUTCFullYear(),K.m=ve.getUTCMonth(),K.d=ve.getUTCDate()+(K.w+6)%7):(ve=qy(Su(K.y,0,1)),De=ve.getDay(),ve=De>4||De===0?sg.ceil(ve):sg(ve),ve=rh.offset(ve,(K.V-1)*7),K.y=ve.getFullYear(),K.m=ve.getMonth(),K.d=ve.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),De="Z"in K?zy(Su(K.y,0,1)).getUTCDay():qy(Su(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(De+5)%7:K.w+K.U*7-(De+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,zy(K)):qy(K)}}function j(de,ae,J,K){for(var fe=0,ve=ae.length,De=J.length,Z,me;fe<ve;){if(K>=De)return-1;if(Z=ae.charCodeAt(fe++),Z===37){if(Z=ae.charAt(fe++),me=E[Z in qk?ae.charAt(fe++):Z],!me||(K=me(de,J,K))<0)return-1}else if(Z!=J.charCodeAt(K++))return-1}return K}function k(de,ae,J){var K=u.exec(ae.slice(J));return K?(de.p=d.get(K[0].toLowerCase()),J+K[0].length):-1}function R(de,ae,J){var K=x.exec(ae.slice(J));return K?(de.w=b.get(K[0].toLowerCase()),J+K[0].length):-1}function P(de,ae,J){var K=f.exec(ae.slice(J));return K?(de.w=h.get(K[0].toLowerCase()),J+K[0].length):-1}function O(de,ae,J){var K=v.exec(ae.slice(J));return K?(de.m=_.get(K[0].toLowerCase()),J+K[0].length):-1}function I(de,ae,J){var K=w.exec(ae.slice(J));return K?(de.m=y.get(K[0].toLowerCase()),J+K[0].length):-1}function H(de,ae,J){return j(de,e,ae,J)}function F(de,ae,J){return j(de,n,ae,J)}function L(de,ae,J){return j(de,r,ae,J)}function q(de){return o[de.getDay()]}function z(de){return s[de.getDay()]}function U(de){return c[de.getMonth()]}function V(de){return l[de.getMonth()]}function X(de){return i[+(de.getHours()>=12)]}function Q(de){return 1+~~(de.getMonth()/3)}function G(de){return o[de.getUTCDay()]}function se(de){return s[de.getUTCDay()]}function W(de){return c[de.getUTCMonth()]}function pe(de){return l[de.getUTCMonth()]}function Ae(de){return i[+(de.getUTCHours()>=12)]}function Fe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var ae=T(de+="",N);return ae.toString=function(){return de},ae},parse:function(de){var ae=S(de+="",!1);return ae.toString=function(){return de},ae},utcFormat:function(de){var ae=T(de+="",C);return ae.toString=function(){return de},ae},utcParse:function(de){var ae=S(de+="",!0);return ae.toString=function(){return de},ae}}}var qk={"-":"",_:" ",0:"0"},an=/^\s*\d+/,xoe=/^%/,yoe=/[\\^$*+?|[\]().{}]/g;function et(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function voe(t){return t.replace(yoe,"\\$&")}function Eu(t){return new RegExp("^(?:"+t.map(voe).join("|")+")","i")}function Tu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function boe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zk(t,e,n){var r=an.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Toe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aoe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Hk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function joe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=an.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Roe(t,e,n){var r=xoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Moe(t,e,n){var r=an.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ooe(t,e,n){var r=an.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Kk(t,e){return et(t.getDate(),e,2)}function Doe(t,e){return et(t.getHours(),e,2)}function Loe(t,e){return et(t.getHours()%12||12,e,2)}function $oe(t,e){return et(1+rh.count(ds(t),t),e,3)}function ZD(t,e){return et(t.getMilliseconds(),e,3)}function Foe(t,e){return ZD(t,e)+"000"}function Voe(t,e){return et(t.getMonth()+1,e,2)}function Uoe(t,e){return et(t.getMinutes(),e,2)}function Boe(t,e){return et(t.getSeconds(),e,2)}function qoe(t){var e=t.getDay();return e===0?7:e}function zoe(t,e){return et(Q0.count(ds(t)-1,t),e,2)}function eL(t){var e=t.getDay();return e>=4||e===0?ac(t):ac.ceil(t)}function Goe(t,e){return t=eL(t),et(ac.count(ds(t),t)+(ds(t).getDay()===4),e,2)}function Hoe(t){return t.getDay()}function Woe(t,e){return et(sg.count(ds(t)-1,t),e,2)}function Koe(t,e){return et(t.getFullYear()%100,e,2)}function Joe(t,e){return t=eL(t),et(t.getFullYear()%100,e,2)}function Yoe(t,e){return et(t.getFullYear()%1e4,e,4)}function Xoe(t,e){var n=t.getDay();return t=n>=4||n===0?ac(t):ac.ceil(t),et(t.getFullYear()%1e4,e,4)}function Qoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+et(e/60|0,"0",2)+et(e%60,"0",2)}function Jk(t,e){return et(t.getUTCDate(),e,2)}function Zoe(t,e){return et(t.getUTCHours(),e,2)}function ele(t,e){return et(t.getUTCHours()%12||12,e,2)}function tle(t,e){return et(1+X0.count(fs(t),t),e,3)}function tL(t,e){return et(t.getUTCMilliseconds(),e,3)}function nle(t,e){return tL(t,e)+"000"}function rle(t,e){return et(t.getUTCMonth()+1,e,2)}function ile(t,e){return et(t.getUTCMinutes(),e,2)}function sle(t,e){return et(t.getUTCSeconds(),e,2)}function ale(t){var e=t.getUTCDay();return e===0?7:e}function ole(t,e){return et(Z0.count(fs(t)-1,t),e,2)}function nL(t){var e=t.getUTCDay();return e>=4||e===0?oc(t):oc.ceil(t)}function lle(t,e){return t=nL(t),et(oc.count(fs(t),t)+(fs(t).getUTCDay()===4),e,2)}function cle(t){return t.getUTCDay()}function ule(t,e){return et(ag.count(fs(t)-1,t),e,2)}function dle(t,e){return et(t.getUTCFullYear()%100,e,2)}function fle(t,e){return t=nL(t),et(t.getUTCFullYear()%100,e,2)}function hle(t,e){return et(t.getUTCFullYear()%1e4,e,4)}function ple(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oc(t):oc.ceil(t),et(t.getUTCFullYear()%1e4,e,4)}function mle(){return"+0000"}function Yk(){return"%"}function Xk(t){return+t}function Qk(t){return Math.floor(+t/1e3)}var Vo,rL,iL;gle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gle(t){return Vo=goe(t),rL=Vo.format,Vo.parse,iL=Vo.utcFormat,Vo.utcParse,Vo}function xle(t){return new Date(t)}function yle(t){return t instanceof Date?+t:+new Date(+t)}function nS(t,e,n,r,i,s,o,l,c,u){var d=BN(),f=d.invert,h=d.domain,x=u(".%L"),b=u(":%S"),w=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),_=u("%b %d"),N=u("%B"),C=u("%Y");function E(T){return(c(T)<T?x:l(T)<T?b:o(T)<T?w:s(T)<T?y:r(T)<T?i(T)<T?v:_:n(T)<T?N:C)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,yle)):h().map(xle)},d.ticks=function(T){var S=h();return t(S[0],S[S.length-1],T??10)},d.tickFormat=function(T,S){return S==null?E:u(S)},d.nice=function(T){var S=h();return(!T||typeof T.range!="function")&&(T=e(S[0],S[S.length-1],T??10)),T?h(zD(S,T)):d},d.copy=function(){return nh(d,nS(t,e,n,r,i,s,o,l,c,u))},d}function vle(){return Fr.apply(nS(poe,moe,ds,eS,Q0,rh,QN,YN,Ha,rL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ble(){return Fr.apply(nS(foe,hoe,fs,tS,Z0,X0,ZN,XN,Ha,iL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var t=0,e=1,n,r,i,s,o=Fn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,b;return arguments.length?([x,b]=h,o=f(x,b),u):[o(0),o(1)]}}return u.range=d(Gc),u.rangeRound=d(UN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sL(){var t=va(ex()(Fn));return t.copy=function(){return ba(t,sL())},vs.apply(t,arguments)}function aL(){var t=GN(ex()).domain([1,10]);return t.copy=function(){return ba(t,aL()).base(t.base())},vs.apply(t,arguments)}function oL(){var t=HN(ex());return t.copy=function(){return ba(t,oL()).constant(t.constant())},vs.apply(t,arguments)}function rS(){var t=WN(ex());return t.copy=function(){return ba(t,rS()).exponent(t.exponent())},vs.apply(t,arguments)}function wle(){return rS.apply(null,arguments).exponent(.5)}function lL(){var t=[],e=Fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ra),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>oae(t,s/r))},n.copy=function(){return lL(e).domain(t)},vs.apply(n,arguments)}function tx(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=Fn,d,f=!1,h;function x(w){return isNaN(w=+w)?h:(w=.5+((w=+d(w))-s)*(r*w<r*s?l:c),u(f?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(f=!!w,x):f},x.interpolator=function(w){return arguments.length?(u=w,x):u};function b(w){return function(y){var v,_,N;return arguments.length?([v,_,N]=y,u=Rae(w,[v,_,N]),x):[u(0),u(.5),u(1)]}}return x.range=b(Gc),x.rangeRound=b(UN),x.unknown=function(w){return arguments.length?(h=w,x):h},function(w){return d=w,i=w(t),s=w(e),o=w(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x}}function cL(){var t=va(tx()(Fn));return t.copy=function(){return ba(t,cL())},vs.apply(t,arguments)}function uL(){var t=GN(tx()).domain([.1,1,10]);return t.copy=function(){return ba(t,uL()).base(t.base())},vs.apply(t,arguments)}function dL(){var t=HN(tx());return t.copy=function(){return ba(t,dL()).constant(t.constant())},vs.apply(t,arguments)}function iS(){var t=WN(tx());return t.copy=function(){return ba(t,iS()).exponent(t.exponent())},vs.apply(t,arguments)}function _le(){return iS.apply(null,arguments).exponent(.5)}const Zk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ef,scaleDiverging:cL,scaleDivergingLog:uL,scaleDivergingPow:iS,scaleDivergingSqrt:_le,scaleDivergingSymlog:dL,scaleIdentity:qD,scaleImplicit:rw,scaleLinear:rg,scaleLog:GD,scaleOrdinal:$N,scalePoint:ud,scalePow:KN,scaleQuantile:KD,scaleQuantize:JD,scaleRadial:WD,scaleSequential:sL,scaleSequentialLog:aL,scaleSequentialPow:rS,scaleSequentialQuantile:lL,scaleSequentialSqrt:wle,scaleSequentialSymlog:oL,scaleSqrt:noe,scaleSymlog:HD,scaleThreshold:YD,scaleTime:vle,scaleUtc:ble,tickFormat:BD},Symbol.toStringTag,{value:"Module"}));var Nle=Oc;function Sle(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!Nle(o):n(o,l)))var l=o,c=s}return c}var nx=Sle;function Ele(t,e){return t>e}var fL=Ele,Tle=nx,Ale=fL,kle=zc;function Cle(t){return t&&t.length?Tle(t,kle,Ale):void 0}var jle=Cle;const Bs=ot(jle);function Ple(t,e){return t<e}var hL=Ple,Ile=nx,Rle=hL,Mle=zc;function Ole(t){return t&&t.length?Ile(t,Mle,Rle):void 0}var Dle=Ole;const rx=ot(Dle);var Lle=yN,$le=Pi,Fle=_D,Vle=rr;function Ule(t,e){var n=Vle(t)?Lle:Fle;return n(t,$le(e))}var Ble=Ule,qle=bD,zle=Ble;function Gle(t,e){return qle(zle(t,e),1)}var Hle=Gle;const Wle=ot(Hle);var Kle=RN;function Jle(t,e){return Kle(t,e)}var Yle=Jle;const lc=ot(Yle);var Hc=1e9,Xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aS,Tt=!0,Dr="[DecimalError] ",no=Dr+"Invalid argument: ",sS=Dr+"Exponent out of range: ",Wc=Math.floor,Da=Math.pow,Qle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,tn=1e7,wt=7,pL=9007199254740991,og=Wc(pL/wt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return Qi(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return ft(Qi(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return zt(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(lr))throw Error(Dr+"NaN");if(n.s<1)throw Error(Dr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Tt=!1,e=Qi(af(n,s),af(t,s),s),Tt=!0,ft(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xL(e,t):mL(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Dr+"NaN");return n.s?(Tt=!1,e=Qi(n,t,0,1).times(t),Tt=!0,n.minus(e)):ft(new r(n),i)};_e.naturalExponential=_e.exp=function(){return gL(this)};_e.naturalLogarithm=_e.ln=function(){return af(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):xL(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(no+t);if(e=zt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Dr+"NaN")}for(t=zt(l),Tt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=mi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Qi(l,s,o+2)).times(.5),mi(s.d).slice(0,o)===(e=mi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ft(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return Tt=!0,ft(r,n)};_e.times=_e.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(s=h,h=x,x=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+x[r]*h[i-r-1]+e,s[i--]=l%tn|0,e=l/tn|0;s[i]=(s[i]+e)%tn|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Tt?ft(t,f.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ai(t,0,Hc),e===void 0?e=r.rounding:Ai(e,0,8),ft(n,t+zt(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yo(r,!0):(Ai(t,0,Hc),e===void 0?e=i.rounding:Ai(e,0,8),r=ft(new i(r),t+1,e),n=yo(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?yo(i):(Ai(t,0,Hc),e===void 0?e=s.rounding:Ai(e,0,8),r=ft(new s(i),t+zt(i)+1,e),n=yo(r.abs(),!1,t+zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return ft(new e(t),zt(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(lr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(r=c.precision,t.eq(lr))return ft(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=pL){for(i=new c(lr),e=Math.ceil(r/wt+4),Tt=!1;n%2&&(i=i.times(l),tC(i.d,e)),n=Wc(n/2),n!==0;)l=l.times(l),tC(l.d,e);return Tt=!0,t.s<0?new c(lr).div(i):ft(i,r)}}else if(s<0)throw Error(Dr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Tt=!1,i=t.times(af(l,r+u)),Tt=!0,i=gL(i),i.s=s,i};_e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zt(i),r=yo(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ai(t,1,Hc),e===void 0?e=s.rounding:Ai(e,0,8),i=ft(new s(i),t,e),n=zt(i),r=yo(i,t<=n||n<=s.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ai(t,1,Hc),e===void 0?e=r.rounding:Ai(e,0,8)),ft(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zt(t),n=t.constructor;return yo(t,e<=n.toExpNeg||e>=n.toExpPos)};function mL(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Tt?ft(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/wt),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/tn|0,c[s]%=tn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Tt?ft(e,f):e}function Ai(t,e,n){if(t!==~~t||t<e||t>n)throw Error(no+t)}function mi(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=wt-r.length,n&&(s+=Ps(n)),s+=r;o=t[e],r=o+"",n=wt-r.length,n&&(s+=Ps(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Qi=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%tn|0,o=s/tn|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,f,h,x,b,w,y,v,_,N,C,E,T,S,j,k=r.constructor,R=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Dr+"Division by zero");for(c=r.e-i.e,S=O.length,E=P.length,x=new k(R),b=x.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,s==null?_=s=k.precision:o?_=s+(zt(r)-zt(i))+1:_=s,_<0)return new k(0);if(_=_/wt+2|0,u=0,S==1)for(d=0,O=O[0],_++;(u<E||d)&&_--;u++)N=d*tn+(P[u]||0),b[u]=N/O|0,d=N%O|0;else{for(d=tn/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),S=O.length,E=P.length),C=S,w=P.slice(0,S),y=w.length;y<S;)w[y++]=0;j=O.slice(),j.unshift(0),T=O[0],O[1]>=tn/2&&++T;do d=0,l=e(O,w,S,y),l<0?(v=w[0],S!=y&&(v=v*tn+(w[1]||0)),d=v/T|0,d>1?(d>=tn&&(d=tn-1),f=t(O,d),h=f.length,y=w.length,l=e(f,w,h,y),l==1&&(d--,n(f,S<h?j:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(w,f,y),l==-1&&(y=w.length,l=e(O,w,S,y),l<1&&(d++,n(w,S<y?j:O,y))),y=w.length):l===0&&(d++,w=[0]),b[u++]=d,l&&w[0]?w[y++]=P[C]||0:(w=[P[C]],y=1);while((C++<E||w[0]!==void 0)&&_--)}return b[0]||b.shift(),x.e=c,ft(x,o?s+zt(x)+1:s)}}();function gL(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(zt(t)>16)throw Error(sS+zt(t));if(!t.s)return new d(lr);for(Tt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Da(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(lr),d.precision=l;;){if(i=ft(i.times(t),l),n=n.times(++c),o=s.plus(Qi(i,n,l)),mi(o.d).slice(0,l)===mi(s.d).slice(0,l)){for(;u--;)s=ft(s.times(s),l);return d.precision=f,e==null?(Tt=!0,ft(s,f)):s}s=o}}function zt(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function Gy(t,e,n){if(e>t.LN10.sd())throw Tt=!0,n&&(t.precision=n),Error(Dr+"LN10 precision limit exceeded");return ft(new t(t.LN10),e)}function Ps(t){for(var e="";t--;)e+="0";return e}function af(t,e){var n,r,i,s,o,l,c,u,d,f=1,h=10,x=t,b=x.d,w=x.constructor,y=w.precision;if(x.s<1)throw Error(Dr+(x.s?"NaN":"-Infinity"));if(x.eq(lr))return new w(0);if(e==null?(Tt=!1,u=y):u=e,x.eq(10))return e==null&&(Tt=!0),Gy(w,u);if(u+=h,w.precision=u,n=mi(b),r=n.charAt(0),s=zt(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=mi(x.d),r=n.charAt(0),f++;s=zt(x),r>1?(x=new w("0."+n),s++):x=new w(r+"."+n.slice(1))}else return c=Gy(w,u+2,y).times(s+""),x=af(new w(r+"."+n.slice(1)),u-h).plus(c),w.precision=y,e==null?(Tt=!0,ft(x,y)):x;for(l=o=x=Qi(x.minus(lr),x.plus(lr),u),d=ft(x.times(x),u),i=3;;){if(o=ft(o.times(d),u),c=l.plus(Qi(o,new w(i),u)),mi(c.d).slice(0,u)===mi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Gy(w,u+2,y).times(s+""))),l=Qi(l,new w(f),u),w.precision=y,e==null?(Tt=!0,ft(l,y)):l;l=c,i+=2}}function eC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Wc(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wt;r<i;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Tt&&(t.e>og||t.e<-og))throw Error(sS+n)}else t.s=0,t.e=0,t.d=[0];return t}function ft(t,e,n){var r,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=wt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/wt),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=wt,i=r-wt+o}if(n!==void 0&&(s=Da(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Da(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=zt(t),f.length=1,e=e-s-1,f[0]=Da(10,(wt-e%wt)%wt),t.e=Wc(-e/wt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Da(10,wt-r),f[d]=i>0?(u/Da(10,o-i)%Da(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==tn&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=tn)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Tt&&(t.e>og||t.e<-og))throw Error(sS+zt(t));return t}function xL(t,e){var n,r,i,s,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tt?ft(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(x/wt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=tn-1;--c[s],c[i]+=tn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Tt?ft(e,x):e):new h(0)}function yo(t,e,n){var r,i=zt(t),s=mi(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ps(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ps(-i-1)+s,n&&(r=n-o)>0&&(s+=Ps(r))):i>=o?(s+=Ps(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Ps(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Ps(r))),t.s<0?"-"+s:s}function tC(t,e){if(t.length>e)return t.length=e,!0}function yL(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(no+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return eC(o,s.toString())}else if(typeof s!="string")throw Error(no+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Qle.test(s))eC(o,s);else throw Error(no+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yL,i.config=i.set=Zle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zle(t){if(!t||typeof t!="object")throw Error(Dr+"Object expected");var e,n,r,i=["precision",1,Hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Wc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(no+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(no+n+": "+r);return this}var aS=yL(Xle);lr=new aS(1);const ct=aS;function ece(t){return ice(t)||rce(t)||nce(t)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function rce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ice(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sce=function(e){return e},vL={},bL=function(e){return e===vL},nC=function(e){return function n(){return arguments.length===0||arguments.length===1&&bL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ace=function t(e,n){return e===1?n:nC(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==vL}).length;return o>=e?n.apply(void 0,i):t(e-o,nC(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return bL(f)?c.shift():f});return n.apply(void 0,ece(d).concat(c))}))})},ix=function(e){return ace(e.length,e)},lw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},oce=ix(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sce;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function cce(t){var e;return t===0?e=1:e=Math.floor(new ct(t).abs().log(10).toNumber())+1,e}function uce(t,e,n){for(var r=new ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var dce=ix(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fce=ix(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hce=ix(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sx={rangeStep:uce,getDigitCount:cce,interpolateNumber:dce,uninterpolateNumber:fce,uninterpolateTruncation:hce};function uw(t){return gce(t)||mce(t)||_L(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gce(t){if(Array.isArray(t))return dw(t)}function of(t,e){return vce(t)||yce(t,e)||_L(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _L(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function vce(t){if(Array.isArray(t))return t}function NL(t){var e=of(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function SL(t,e,n){if(t.lte(0))return new ct(0);var r=sx.getDigitCount(t.toNumber()),i=new ct(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new ct(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new ct(Math.ceil(c))}function bce(t,e,n){var r=1,i=new ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new ct(10).pow(sx.getDigitCount(t)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ct(Math.floor(t)))}else t===0?i=new ct(Math.floor((e-1)/2)):n||(i=new ct(Math.floor(t)));var o=Math.floor((e-1)/2),l=lce(oce(function(c){return i.add(new ct(c-o).mul(r)).toNumber()}),lw);return l(0,e)}function EL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var s=SL(new ct(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ct(0):(o=new ct(t).add(e).div(2),o=o.sub(new ct(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new ct(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?EL(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new ct(l).mul(s)),tickMax:o.add(new ct(c).mul(s))})}function wce(t){var e=of(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=NL([n,r]),c=of(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(uw(lw(0,i-1).map(function(){return 1/0}))):[].concat(uw(lw(0,i-1).map(function(){return-1/0})),[d]);return n>r?cw(f):f}if(u===d)return bce(u,i,s);var h=EL(u,d,o,s),x=h.step,b=h.tickMin,w=h.tickMax,y=sx.rangeStep(b,w.add(new ct(.1).mul(x)),x);return n>r?cw(y):y}function _ce(t,e){var n=of(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NL([r,i]),l=of(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=SL(new ct(u).sub(c).div(d-1),s,0),h=[].concat(uw(sx.rangeStep(new ct(c),new ct(u).sub(new ct(.99).mul(f)),f)),[u]);return r>i?cw(h):h}var Nce=wL(wce),Sce=wL(_ce),Ece="Invariant failed";function vo(t,e){throw new Error(Ece)}var Tce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Ace(t,e){return Pce(t)||jce(t,e)||Cce(t,e)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pce(t){if(Array.isArray(t))return t}function Ice(t,e){if(t==null)return{};var n=Rce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function Dce(t,e,n){return e&&Oce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lce(t,e,n){return e=cg(e),$ce(t,TL()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function AL(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t){var e=Uce(t,"string");return cc(e)=="symbol"?e:e+""}function Uce(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ax=function(t){function e(){return Mce(this,e),Lce(this,e,arguments)}return Vce(e,t),Dce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Ice(r,Tce),x=Ee(h,!1);this.props.direction==="x"&&d.type!=="number"&&vo();var b=c.map(function(w){var y=u(w,l),v=y.x,_=y.y,N=y.value,C=y.errorVal;if(!C)return null;var E=[],T,S;if(Array.isArray(C)){var j=Ace(C,2);T=j[0],S=j[1]}else T=S=C;if(s==="vertical"){var k=d.scale,R=_+i,P=R+o,O=R-o,I=k(N-T),H=k(N+S);E.push({x1:H,y1:P,x2:H,y2:O}),E.push({x1:I,y1:R,x2:H,y2:R}),E.push({x1:I,y1:P,x2:I,y2:O})}else if(s==="horizontal"){var F=f.scale,L=v+i,q=L-o,z=L+o,U=F(N-T),V=F(N+S);E.push({x1:q,y1:V,x2:z,y2:V}),E.push({x1:L,y1:U,x2:L,y2:V}),E.push({x1:q,y1:U,x2:z,y2:U})}return B.createElement(Ke,lg({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},x),E.map(function(X){return B.createElement("line",lg({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return B.createElement(Ke,{className:"recharts-errorBars"},b)}}])}(B.Component);AL(ax,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AL(ax,"displayName","ErrorBar");function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return e=qce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=zce(t,"string");return lf(e)=="symbol"?e:e+""}function zce(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=or(n,eo);if(!o)return null;var l=eo.defaultProps,c=l!==void 0?ka(ka({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,b=x.sectors||x.data||[];return d.concat(b.map(function(w){return{type:o.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?ka(ka({},h),f.props):{},b=x.dataKey,w=x.name,y=x.legendType,v=x.hide;return{inactive:v,dataKey:b,type:c.iconType||y||"square",color:oS(f),value:w||b,payload:x}}),ka(ka(ka({},c),eo.getWithHeight(o,i)),{},{payload:u,item:o})};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function sC(t){return Kce(t)||Wce(t)||Hce(t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kl(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Yce(t,"string");return cf(e)=="symbol"?e:e+""}function Yce(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kt(t,e,n){return Le(t)||Le(e)?n:Yt(e)?fr(t,e,n):Ce(e)?e(t):n}function dd(t,e,n,r){var i=Wle(t,function(l){return Kt(l,e)});if(n==="number"){var s=i.filter(function(l){return ce(l)||parseFloat(l)});return s.length?[rx(s),Bs(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!Le(l)}):i;return o.map(function(l){return Yt(l)||l instanceof Date?l:""})}var Xce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,x=void 0;if(Ln(f-d)!==Ln(h-f)){var b=[];if(Ln(h-f)===Ln(c[1]-c[0])){x=h;var w=f+c[1]-c[0];b[0]=Math.min(w,(w+d)/2),b[1]=Math.max(w,(w+d)/2)}else{x=d;var y=h+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>v[0]&&e<=v[1]||e>=b[0]&&e<=b[1]){o=i[u].index;break}}else{var _=Math.min(d,h),N=Math.max(d,h);if(e>(_+f)/2&&e<=(N+f)/2){o=i[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},oS=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Qce=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var b=d[f[h]],w=b.items,y=b.cateAxisId,v=w.filter(function(S){return Xi(S.type).indexOf("Bar")>=0});if(v&&v.length){var _=v[0].type.defaultProps,N=_!==void 0?Mt(Mt({},_),v[0].props):v[0].props,C=N.barSize,E=N[y];o[E]||(o[E]=[]);var T=Le(C)?n:C;o[E].push({item:v[0],stackList:v.slice(1),barSize:Le(T)?void 0:$n(T,r,0)})}}return o},Zce=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=$n(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=i/c,b=o.reduce(function(C,E){return C+E.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&x>0&&(h=!0,x*=.9,b=c*x);var w=(i-b)/2>>0,y={offset:w-u,size:0};d=o.reduce(function(C,E){var T={item:E.item,position:{offset:y.offset+y.size+u,size:h?x:E.barSize}},S=[].concat(sC(C),[T]);return y=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){S.push({item:j,position:y})}),S},f)}else{var v=$n(r,i,0,!0);i-2*v-(c-1)*u<=0&&(u=0);var _=(i-2*v-(c-1)*u)/c;_>1&&(_>>=0);var N=l===+l?Math.min(_,l):_;d=o.reduce(function(C,E,T){var S=[].concat(sC(C),[{item:E.item,position:{offset:v+(_+u)*T+(_-N)/2,size:N}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){S.push({item:j,position:S[S.length-1].position})}),S},f)}return d},eue=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=CL({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,x=u.align,b=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&x!=="center"&&ce(e[x]))return Mt(Mt({},e),{},kl({},x,e[x]+(f||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&b!=="middle"&&ce(e[b]))return Mt(Mt({},e),{},kl({},b,e[b]+(h||0)))}return e},tue=function(e,n,r){return Le(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},jL=function(e,n,r,i,s){var o=n.props.children,l=jr(o,ax).filter(function(u){return tue(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Kt(d,r);if(Le(f))return u;var h=Array.isArray(f)?[rx(f),Bs(f)]:[f,f],x=c.reduce(function(b,w){var y=Kt(d,w,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},nue=function(e,n,r,i,s){var o=n.map(function(l){return jL(e,l,r,s,i)}).filter(function(l){return!Le(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PL=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&jL(e,c,u,i)||dd(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},IL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},RL=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Hi=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ln(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Vc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Hy=new WeakMap,Zh=function(e,n){if(typeof n!="function")return e;Hy.has(e)||Hy.set(e,new WeakMap);var r=Hy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ML=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ef(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ud(),realScaleType:"point"}:s==="category"?{scale:ef(),realScaleType:"band"}:{scale:rg(),realScaleType:"linear"};if(mo(i)){var c="scale".concat(B0(i));return{scale:(Zk[c]||ud)(),realScaleType:Zk[c]?c:"point"}}return Ce(i)?{scale:i}:{scale:ud(),realScaleType:"point"}},oC=1e-4,OL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-oC,o=Math.max(i[0],i[1])+oC,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},rue=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},iue=function(e,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ce(e[0])||e[0]<r)&&(s[0]=r),(!ce(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},sue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=Vc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},aue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=Vc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},oue={sign:sue,expand:TY,none:ec,silhouette:AY,wiggle:kY,positive:aue},lue=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=oue[r],o=EY().keys(i).value(function(l,c){return+Kt(l,c,0)}).order($b).offset(s);return o(e)},cue=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,b=(x=h.type)!==null&&x!==void 0&&x.defaultProps?Mt(Mt({},h.type.defaultProps),h.props):h.props,w=b.stackId,y=b.hide;if(y)return f;var v=b[r],_=f[v]||{hasStack:!1,stackGroups:{}};if(Yt(w)){var N=_.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(h),_.hasStack=!0,_.stackGroups[w]=N}else _.stackGroups[Uc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Mt(Mt({},f),{},kl({},v,_))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,y){var v=x.stackGroups[y];return Mt(Mt({},w),{},kl({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:lue(e,v.items,s)}))},b)}return Mt(Mt({},f),{},kl({},h,x))},d)},DL=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Nce(u,s,l);return e.domain([rx(d),Bs(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=Sce(f,s,l);return{niceTicks:h}}return null};function lC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Le(i[e.dataKey])){var l=Om(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Kt(i,Le(o)?e.dataKey:o);return Le(c)?null:e.scale(c)}var cC=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Kt(o,n.dataKey,n.domain[l]);return Le(c)?null:n.scale(c)-s/2+i},uue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},due=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Yt(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},fue=function(e){return e.reduce(function(n,r){return[rx(r.concat([n[0]]).filter(ce)),Bs(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},LL=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=fue(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=function(e,n,r){if(Ce(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(uC.test(e[0])){var s=+uC.exec(e[0])[1];i[0]=n[0]-s}else Ce(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(dC.test(e[1])){var o=+dC.exec(e[1])[1];i[1]=n[1]+o}else Ce(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ug=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=ON(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},fC=function(e,n,r){return!e||!e.length||lc(e,fr(r,"type.defaultProps.domain"))?n:e},$L=function(e,n){var r=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Mt(Mt({},Ee(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:oS(e),value:Kt(n,i),type:c,payload:n,chartType:u,hide:d})};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){FL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FL(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=pue(t,"string");return uf(e)=="symbol"?e:e+""}function pue(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t,e){return vue(t)||yue(t,e)||xue(t,e)||gue()}function gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return pC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vue(t){if(Array.isArray(t))return t}var dg=Math.PI/180,bue=function(e){return e*180/Math.PI},xt=function(e,n,r,i){return{x:e+Math.cos(-dg*i)*r,y:n+Math.sin(-dg*i)*r}},VL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wue=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=$n(e.cx,o,o/2),f=$n(e.cy,l,l/2),h=VL(o,l,r),x=$n(e.innerRadius,h,0),b=$n(e.outerRadius,h,h*.8),w=Object.keys(n);return w.reduce(function(y,v){var _=n[v],N=_.domain,C=_.reversed,E;if(Le(_.range))i==="angleAxis"?E=[c,u]:i==="radiusAxis"&&(E=[x,b]),C&&(E=[E[1],E[0]]);else{E=_.range;var T=E,S=mue(T,2);c=S[0],u=S[1]}var j=ML(_,s),k=j.realScaleType,R=j.scale;R.domain(N).range(E),OL(R);var P=DL(R,Di(Di({},_),{},{realScaleType:k})),O=Di(Di(Di({},_),P),{},{range:E,radius:b,realScaleType:k,scale:R,cx:d,cy:f,innerRadius:x,outerRadius:b,startAngle:c,endAngle:u});return Di(Di({},y),{},FL({},v,O))},{})},_ue=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},Nue=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=_ue({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:bue(u),angleInRadian:u}},Sue=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Eue=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},mC=function(e,n){var r=e.x,i=e.y,s=Nue({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Sue(n),f=d.startAngle,h=d.endAngle,x=l,b;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;b=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;b=x>=h&&x<=f}return b?Di(Di({},n),{},{radius:o,angle:Eue(x,n)}):null},UL=function(e){return!D.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var Tue=["offset"];function Aue(t){return Pue(t)||jue(t)||Cue(t)||kue()}function kue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pue(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iue(t,e){if(t==null)return{};var n=Rue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return e=Oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Due(t,"string");return df(e)=="symbol"?e:e+""}function Due(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}var Lue=function(e){var n=e.value,r=e.formatter,i=Le(e.children)?n:e.children;return Ce(r)?r(i):i},$ue=function(e,n){var r=Ln(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Fue=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,b=c.endAngle,w=c.clockWise,y=(f+h)/2,v=$ue(x,b),_=v>=0?1:-1,N,C;i==="insideStart"?(N=x+_*o,C=w):i==="insideEnd"?(N=b-_*o,C=!w):i==="end"&&(N=b+_*o,C=w),C=v<=0?C:!C;var E=xt(u,d,y,N),T=xt(u,d,y,N+(C?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(T.x,",").concat(T.y),j=Le(e.id)?Uc("recharts-radial-line-"):e.id;return B.createElement("text",ff({},r,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:j,d:S})),B.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Vue=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var x=xt(o,l,u+r,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,v=xt(o,l,y,h),_=v.x,N=v.y;return{x:_,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Uue=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,x=f>0?"end":"start",b=f>0?"start":"end",w=u>=0?1:-1,y=w*i,v=w>0?"end":"start",_=w>0?"start":"end";if(s==="top"){var N={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:x};return Ht(Ht({},N),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return Ht(Ht({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var E={x:l-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ht(Ht({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(s==="right"){var T={x:l+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Ht(Ht({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return s==="insideLeft"?Ht({x:l+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},S):s==="insideRight"?Ht({x:l+u-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideTop"?Ht({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},S):s==="insideBottom"?Ht({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},S):s==="insideTopLeft"?Ht({x:l+y,y:c+h,textAnchor:_,verticalAnchor:b},S):s==="insideTopRight"?Ht({x:l+u-y,y:c+h,textAnchor:v,verticalAnchor:b},S):s==="insideBottomLeft"?Ht({x:l+y,y:c+d-h,textAnchor:_,verticalAnchor:x},S):s==="insideBottomRight"?Ht({x:l+u-y,y:c+d-h,textAnchor:v,verticalAnchor:x},S):Dc(s)&&(ce(s.x)||za(s.x))&&(ce(s.y)||za(s.y))?Ht({x:l+$n(s.x,u),y:c+$n(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Ht({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Bue=function(e){return"cx"in e&&ce(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=Iue(t,Tue),i=Ht({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Le(l)&&Le(c)&&!D.isValidElement(u)&&!Ce(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var x;if(Ce(u)){if(x=D.createElement(u,i),D.isValidElement(x))return x}else x=Lue(i);var b=Bue(s),w=Ee(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fue(i,x,w);var y=b?Vue(i):Uue(i);return B.createElement(xo,ff({className:Ue("recharts-label",f)},w,y,{breakAll:h}),x)}rn.displayName="Label";var BL=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,b=e.left,w=e.width,y=e.height,v=e.clockWise,_=e.labelViewBox;if(_)return _;if(ce(w)&&ce(y)){if(ce(f)&&ce(h))return{x:f,y:h,width:w,height:y};if(ce(x)&&ce(b))return{x,y:b,width:w,height:y}}return ce(f)&&ce(h)?{x:f,y:h,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:e.viewBox?e.viewBox:{}},que=function(e,n){return e?e===!0?B.createElement(rn,{key:"label-implicit",viewBox:n}):Yt(e)?B.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===rn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Ce(e)?B.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Dc(e)?B.createElement(rn,ff({viewBox:n},e,{key:"label-implicit"})):null:null},zue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=BL(e),o=jr(i,rn).map(function(c,u){return D.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=que(e.label,n||s);return[l].concat(Aue(o))};rn.parseViewBox=BL;rn.renderCallByParent=zue;function Gue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Hue=Gue;const Wue=ot(Hue);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var Kue=["valueAccessor"],Jue=["data","dataKey","clockWise","id","textBreakAll"];function Yue(t){return ede(t)||Zue(t)||Que(t)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function Zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ede(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return e=nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return hf(e)=="symbol"?e:e+""}function rde(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vC(t,e){if(t==null)return{};var n=ide(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sde=function(e){return Array.isArray(e.value)?Wue(e.value):e.value};function Zi(t){var e=t.valueAccessor,n=e===void 0?sde:e,r=vC(t,Kue),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=vC(r,Jue);return!i||!i.length?null:B.createElement(Ke,{className:"recharts-label-list"},i.map(function(d,f){var h=Le(s)?n(d,f):Kt(d&&d.payload,s),x=Le(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement(rn,fg({},Ee(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:rn.parseViewBox(Le(o)?d:yC(yC({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Zi.displayName="LabelList";function ade(t,e){return t?t===!0?B.createElement(Zi,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Ce(t)?B.createElement(Zi,{key:"labelList-implicit",data:e,content:t}):Dc(t)?B.createElement(Zi,fg({data:e},t,{key:"labelList-implicit"})):null:null}function ode(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=jr(r,Zi).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=ade(t.label,e);return[s].concat(Yue(i))}Zi.renderCallByParent=ode;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return e=cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return pf(e)=="symbol"?e:e+""}function ude(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dde=function(e,n){var r=Ln(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ep=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/dg,h=u?s:s+o*f,x=xt(n,r,d,h),b=xt(n,r,i,h),w=u?s-o*f:s,y=xt(n,r,d*Math.cos(f*dg),w);return{center:x,circleTangency:b,lineTangency:y,theta:f}},qL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=dde(o,l),u=o+c,d=xt(n,r,s,o),f=xt(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var x=xt(n,r,i,o),b=xt(n,r,i,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ln(d-u),h=ep({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,b=h.lineTangency,w=h.theta,y=ep({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,_=y.lineTangency,N=y.theta,C=c?Math.abs(u-d):Math.abs(u-d)-w-N;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qL({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var T=ep({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=T.circleTangency,j=T.lineTangency,k=T.theta,R=ep({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=R.circleTangency,O=R.lineTangency,I=R.theta,H=c?Math.abs(u-d):Math.abs(u-d)-k-I;if(H<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},hde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=function(e){var n=wC(wC({},hde),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var x=Ue("recharts-sector",h),b=o-s,w=$n(l,b,0,!0),y;return w>0&&Math.abs(d-f)<360?y=fde({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=qL({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),B.createElement("path",xw({},Ee(n,!0),{className:x,d:y,role:"img"}))};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return mf(e)=="symbol"?e:e+""}function gde(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SC={curveBasisClosed:pY,curveBasisOpen:mY,curveBasis:hY,curveBumpX:ZJ,curveBumpY:eY,curveLinearClosed:gY,curveLinear:z0,curveMonotoneX:xY,curveMonotoneY:yY,curveNatural:vY,curveStep:bY,curveStepAfter:_Y,curveStepBefore:wY},tp=function(e){return e.x===+e.x&&e.y===+e.y},Au=function(e){return e.x},ku=function(e){return e.y},xde=function(e,n){if(Ce(e))return e;var r="curve".concat(B0(e));return(r==="curveMonotone"||r==="curveBump")&&n?SC["".concat(r).concat(n==="vertical"?"Y":"X")]:SC[r]||z0},yde=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=xde(r,l),f=u?s.filter(function(w){return tp(w)}):s,h;if(Array.isArray(o)){var x=u?o.filter(function(w){return tp(w)}):o,b=f.map(function(w,y){return NC(NC({},w),{},{base:x[y]})});return l==="vertical"?h=Gh().y(ku).x1(Au).x0(function(w){return w.base.x}):h=Gh().x(Au).y1(ku).y0(function(w){return w.base.y}),h.defined(tp).curve(d),h(b)}return l==="vertical"&&ce(o)?h=Gh().y(ku).x1(Au).x0(o):ce(o)?h=Gh().x(Au).y1(ku).y0(o):h=F5().x(Au).y(ku),h.defined(tp).curve(d),h(f)},Cl=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?yde(e):i;return D.createElement("path",yw({},Ee(e,!1),Dm(e),{className:Ue("recharts-curve",n),d:o,ref:s}))},GL={exports:{}},vde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bde=vde,wde=bde;function HL(){}function WL(){}WL.resetWarningCache=HL;var _de=function(){function t(r,i,s,o,l,c){if(c!==wde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WL,resetWarningCache:HL};return n.PropTypes=n,n};GL.exports=_de();var Nde=GL.exports;const rt=ot(Nde),{getOwnPropertyNames:Sde,getOwnPropertySymbols:Ede}=Object,{hasOwnProperty:Tde}=Object.prototype;function Wy(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function np(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);const c=t(n,r,i);return s.delete(n),s.delete(r),c}}function Ade(t){return t!=null?t[Symbol.toStringTag]:void 0}function EC(t){return Sde(t).concat(Ede(t))}const kde=Object.hasOwn||((t,e)=>Tde.call(t,e));function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cde="__v",jde="__o",Pde="_owner",{getOwnPropertyDescriptor:TC,keys:AC}=Object;function Ide(t,e){return t.byteLength===e.byteLength&&hg(new Uint8Array(t),new Uint8Array(e))}function Rde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mde(t,e){return t.byteLength===e.byteLength&&hg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ode(t,e){return jo(t.getTime(),e.getTime())}function Dde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lde(t,e){return t===e}function kC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const $de=jo;function Fde(t,e,n){const r=AC(t);let i=r.length;if(AC(e).length!==i)return!1;for(;i-- >0;)if(!KL(t,e,n,r[i]))return!1;return!0}function Cu(t,e,n){const r=EC(t);let i=r.length;if(EC(e).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=r[i],!KL(t,e,n,s)||(o=TC(t,s),l=TC(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Vde(t,e){return jo(t.valueOf(),e.valueOf())}function Ude(t,e){return t.source===e.source&&t.flags===e.flags}function CC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let o,l;for(;(o=s.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function hg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KL(t,e,n,r){return(r===Pde||r===jde||r===Cde)&&(t.$$typeof||e.$$typeof)?!0:kde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const qde="[object ArrayBuffer]",zde="[object Arguments]",Gde="[object Boolean]",Hde="[object DataView]",Wde="[object Date]",Kde="[object Error]",Jde="[object Map]",Yde="[object Number]",Xde="[object Object]",Qde="[object RegExp]",Zde="[object Set]",efe="[object String]",tfe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},nfe="[object URL]",rfe=Object.prototype.toString;function ife({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:b}){return function(y,v,_){if(y===v)return!0;if(y==null||v==null)return!1;const N=typeof y;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?l(y,v,_):N==="function"?s(y,v,_):!1;const C=y.constructor;if(C!==v.constructor)return!1;if(C===Object)return c(y,v,_);if(Array.isArray(y))return e(y,v,_);if(C===Date)return r(y,v,_);if(C===RegExp)return d(y,v,_);if(C===Map)return o(y,v,_);if(C===Set)return f(y,v,_);const E=rfe.call(y);if(E===Wde)return r(y,v,_);if(E===Qde)return d(y,v,_);if(E===Jde)return o(y,v,_);if(E===Zde)return f(y,v,_);if(E===Xde)return typeof y.then!="function"&&typeof v.then!="function"&&c(y,v,_);if(E===nfe)return x(y,v,_);if(E===Kde)return i(y,v,_);if(E===zde)return c(y,v,_);if(tfe[E])return h(y,v,_);if(E===qde)return t(y,v,_);if(E===Hde)return n(y,v,_);if(E===Gde||E===Yde||E===efe)return u(y,v,_);if(b){let T=b[E];if(!T){const S=Ade(y);S&&(T=b[S])}if(T)return T(y,v,_)}return!1}}function sfe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Ide,areArraysEqual:n?Cu:Rde,areDataViewsEqual:Mde,areDatesEqual:Ode,areErrorsEqual:Dde,areFunctionsEqual:Lde,areMapsEqual:n?Wy(kC,Cu):kC,areNumbersEqual:$de,areObjectsEqual:n?Cu:Fde,arePrimitiveWrappersEqual:Vde,areRegExpsEqual:Ude,areSetsEqual:n?Wy(CC,Cu):CC,areTypedArraysEqual:n?Wy(hg,Cu):hg,areUrlsEqual:Bde,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=np(r.areArraysEqual),s=np(r.areMapsEqual),o=np(r.areObjectsEqual),l=np(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return r}function afe(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function ofe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,s)}}const lfe=wa();wa({strict:!0});wa({circular:!0});wa({circular:!0,strict:!0});wa({createInternalComparator:()=>jo});wa({strict:!0,createInternalComparator:()=>jo});wa({circular:!0,createInternalComparator:()=>jo});wa({circular:!0,createInternalComparator:()=>jo,strict:!0});function wa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=sfe(t),o=ife(s),l=n?n(o):afe(o);return ofe({circular:e,comparator:o,createState:r,equals:l,strict:i})}function cfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):cfe(i)};requestAnimationFrame(r)}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function ufe(t){return pfe(t)||hfe(t)||ffe(t)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pfe(t){if(Array.isArray(t))return t}function mfe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=ufe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){jC(i.bind(null,u),c);return}i(c),jC(i.bind(null,u));return}vw(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){JL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JL(t,e,n){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=xfe(t,"string");return gf(e)==="symbol"?e:String(e)}function xfe(t,e){if(gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},vfe=function(e){return e},bfe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fd=function(e,n){return Object.keys(n).reduce(function(r,i){return RC(RC({},r),{},JL({},i,e(i,n[i])))},{})},MC=function(e,n,r){return e.map(function(i){return"".concat(bfe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function wfe(t,e){return Sfe(t)||Nfe(t,e)||YL(t,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Sfe(t){if(Array.isArray(t))return t}function Efe(t){return kfe(t)||Afe(t)||YL(t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function Afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pg=1e-4,XL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},QL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},OC=function(e,n){return function(r){var i=XL(e,n);return QL(i,r)}},Cfe=function(e,n){return function(r){var i=XL(e,n),s=[].concat(Efe(i.map(function(o,l){return o*l}).slice(1)),[0]);return QL(s,r)}},DC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=wfe(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=OC(i,o),h=OC(s,l),x=Cfe(i,o),b=function(v){return v>1?1:v<0?0:v},w=function(v){for(var _=v>1?1:v,N=_,C=0;C<8;++C){var E=f(N)-_,T=x(N);if(Math.abs(E-_)<pg||T<pg)return h(N);N=b(N-E/T)}return h(N)};return w.isStepper=!1,w},jfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,b=h*s,w=h+(x-b)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<pg&&Math.abs(w)<pg?[f,0]:[y,w]};return c.isStepper=!0,c.dt=l,c},Pfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DC(i);case"spring":return jfe();default:if(i.split("(")[0]==="cubic-bezier")return DC(i)}return typeof i=="function"?i:null};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function LC(t){return Mfe(t)||Rfe(t)||ZL(t)||Ife()}function Ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mfe(t){if(Array.isArray(t))return _w(t)}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ww(t,e,n){return e=Ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ofe(t){var e=Dfe(t,"string");return xf(e)==="symbol"?e:String(e)}function Dfe(t,e){if(xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lfe(t,e){return Vfe(t)||Ffe(t,e)||ZL(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ffe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Vfe(t){if(Array.isArray(t))return t}var mg=function(e,n,r){return e+(n-e)*r},Nw=function(e){var n=e.from,r=e.to;return n!==r},Ufe=function t(e,n,r){var i=fd(function(s,o){if(Nw(o)){var l=e(o.from,o.to,o.velocity),c=Lfe(l,2),u=c[0],d=c[1];return cn(cn({},o),{},{from:u,velocity:d})}return o},n);return r<1?fd(function(s,o){return Nw(o)?cn(cn({},o),{},{velocity:mg(o.velocity,i[s].velocity,r),from:mg(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const Bfe=function(t,e,n,r,i){var s=yfe(t,e),o=s.reduce(function(y,v){return cn(cn({},y),{},ww({},v,[t[v],e[v]]))},{}),l=s.reduce(function(y,v){return cn(cn({},y),{},ww({},v,{from:t[v],velocity:0,to:e[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fd(function(v,_){return _.from},l)},x=function(){return!Object.values(l).filter(Nw).length},b=function(v){u||(u=v);var _=v-u,N=_/n.dt;l=Ufe(n,l,N),i(cn(cn(cn({},t),e),h())),u=v,x()||(c=requestAnimationFrame(f))},w=function(v){d||(d=v);var _=(v-d)/r,N=fd(function(E,T){return mg.apply(void 0,LC(T).concat([n(_)]))},o);if(i(cn(cn(cn({},t),e),N)),_<1)c=requestAnimationFrame(f);else{var C=fd(function(E,T){return mg.apply(void 0,LC(T).concat([n(1)]))},o);i(cn(cn(cn({},t),e),C))}};return f=n.isStepper?b:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var qfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zfe(t,e){if(t==null)return{};var n=Gfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ky(t){return Jfe(t)||Kfe(t)||Wfe(t)||Hfe()}function Hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function Kfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jfe(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t,e,n){return e=e6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e6(r.key),r)}}function Qfe(t,e,n){return e&&Xfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e6(t){var e=Zfe(t,"string");return uc(e)==="symbol"?e:String(e)}function Zfe(t,e){if(uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function the(t){var e=nhe();return function(){var r=gg(t),i;if(e){var s=gg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Tw(this,i)}}function Tw(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aw(t)}function Aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}var ki=function(t){ehe(n,t);var e=the(n);function n(r,i){var s;Yfe(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Aw(s)),s.changeStyle=s.changeStyle.bind(Aw(s)),!l||x<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Tw(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Tw(s);s.state={style:c?qu({},c,u):u}}else s.state={style:{}};return s}return Qfe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var x={style:c?qu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(lfe(i.to,d)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||u?f:i.to;if(this.state&&h){var y={style:c?qu({},c,w):w};(c&&h[c]!==w||!c&&h!==w)&&this.setState(y)}this.runAnimation(zr(zr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,x=Bfe(o,l,Pfe(u),c,this.changeStyle),b=function(){s.stopJSAnimation=x()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(w,y,v){if(v===0)return w;var _=y.duration,N=y.easing,C=N===void 0?"ease":N,E=y.style,T=y.properties,S=y.onAnimationEnd,j=v>0?o[v-1]:y,k=T||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Ky(w),[s.runJSAnimation.bind(s,{from:j.style,to:E,duration:_,easing:C}),_]);var R=MC(k,_,C),P=zr(zr(zr({},j.style),E),{},{transition:R});return[].concat(Ky(w),[P,_,S]).filter(vfe)};return this.manager.start([c].concat(Ky(o.reduce(x,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=mfe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,x=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=l?qu({},l,c):c,y=MC(Object.keys(w),o,u);b.start([d,s,zr(zr({},w),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=zfe(i,qfe),u=D.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(x){var b=x.props,w=b.style,y=w===void 0?{}:w,v=b.className,_=D.cloneElement(x,zr(zr({},c),{},{style:zr(zr({},y),d),className:v}));return _};return u===1?f(D.Children.only(s)):B.createElement("div",null,D.Children.map(s,function(h){return f(h)}))}}]),n}(D.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function rhe(t,e){return ohe(t)||ahe(t,e)||she(t,e)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function she(t,e){if(t){if(typeof t=="string")return VC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(t,e)}}function VC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ahe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ohe(t){if(Array.isArray(t))return t}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return e=che(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=uhe(t,"string");return yf(e)=="symbol"?e:e+""}function uhe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qC=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);d="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-c*b,",").concat(n+i,`
            L `).concat(e+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*b," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},dhe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},fhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lS=function(e){var n=BC(BC({},fhe),e),r=D.useRef(),i=D.useState(-1),s=rhe(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,b=n.animationEasing,w=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=Ue("recharts-rectangle",x);return _?B.createElement(ki,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:w,animationEasing:b,isActive:_},function(C){var E=C.width,T=C.height,S=C.x,j=C.y;return B.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:v,easing:b},B.createElement("path",xg({},Ee(n,!0),{className:N,d:qC(S,j,E,T,h),ref:r})))}):B.createElement("path",xg({},Ee(n,!0),{className:N,d:qC(c,u,d,f,h)}))},hhe=["points","className","baseLinePoints","connectNulls"];function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function phe(t,e){if(t==null)return{};var n=mhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zC(t){return vhe(t)||yhe(t)||xhe(t)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function yhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vhe(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GC=function(e){return e&&e.x===+e.x&&e.y===+e.y},bhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){GC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),GC(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},hd=function(e,n){var r=bhe(e);n&&(r=[r.reduce(function(s,o){return[].concat(zC(s),zC(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},whe=function(e,n,r){var i=hd(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hd(n.reverse(),r).slice(1))},_he=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=phe(e,hhe);if(!n||!n.length)return null;var l=Ue("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=whe(n,i,s);return B.createElement("g",{className:l},B.createElement("path",ll({},Ee(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?B.createElement("path",ll({},Ee(o,!0),{fill:"none",d:hd(n,s)})):null,c?B.createElement("path",ll({},Ee(o,!0),{fill:"none",d:hd(i,s)})):null)}var d=hd(n,s);return B.createElement("path",ll({},Ee(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}var ox=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Ue("recharts-dot",s);return n===+n&&r===+r&&i===+i?D.createElement("circle",Cw({},Ee(e,!1),Dm(e),{className:o,cx:n,cy:r,r:i})):null};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var Nhe=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function She(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=The(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Ahe(t,"string");return vf(e)=="symbol"?e:e+""}function Ahe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){if(t==null)return{};var n=Che(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jhe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Phe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,b=e.className,w=khe(e,Nhe),y=She({x:r,y:s,top:l,left:u,width:f,height:x},w);return!ce(r)||!ce(s)||!ce(f)||!ce(x)||!ce(l)||!ce(u)?null:B.createElement("path",jw({},Ee(y,!0),{className:Ue("recharts-cross",b),d:jhe(r,s,f,x,l,u)}))},Ihe=nx,Rhe=fL,Mhe=Pi;function Ohe(t,e){return t&&t.length?Ihe(t,Mhe(e),Rhe):void 0}var Dhe=Ohe;const Lhe=ot(Dhe);var $he=nx,Fhe=Pi,Vhe=hL;function Uhe(t,e){return t&&t.length?$he(t,Fhe(e),Vhe):void 0}var Bhe=Uhe;const qhe=ot(Bhe);var zhe=["cx","cy","angle","ticks","axisLine"],Ghe=["ticks","tick","angle","tickFormatter","stroke"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KC(t,e){if(t==null)return{};var n=Hhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n6(r.key),r)}}function Khe(t,e,n){return e&&JC(t.prototype,e),n&&JC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=yg(e),Yhe(t,t6()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function Yhe(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(t)}function Xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function Qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function lx(t,e,n){return e=n6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n6(t){var e=Zhe(t,"string");return dc(e)=="symbol"?e:e+""}function Zhe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cx=function(t){function e(){return Whe(this,e),Jhe(this,e,arguments)}return Qhe(e,t),Khe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return xt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=Lhe(l,function(d){return d.coordinate||0}),u=qhe(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=KC(r,zhe),d=l.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),f=xt(i,s,d[0],o),h=xt(i,s,d[1],o),x=Ca(Ca(Ca({},Ee(u,!1)),{},{fill:"none"},Ee(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",pd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=KC(i,Ghe),f=this.getTickTextAnchor(),h=Ee(d,!1),x=Ee(o,!1),b=s.map(function(w,y){var v=r.getTickValueCoord(w),_=Ca(Ca(Ca(Ca({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:y},v),{},{payload:w});return B.createElement(Ke,pd({className:Ue("recharts-polar-radius-axis-tick",UL(o)),key:"tick-".concat(w.coordinate)},go(r.props,w,y)),e.renderTickItem(o,_,c?c(w.value,y):w.value))});return B.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:B.createElement(Ke,{className:Ue("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ce(r)?o=r(i):o=B.createElement(xo,pd({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(D.PureComponent);lx(cx,"displayName","PolarRadiusAxis");lx(cx,"axisType","radiusAxis");lx(cx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i6(r.key),r)}}function tpe(t,e,n){return e&&XC(t.prototype,e),n&&XC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function npe(t,e,n){return e=vg(e),rpe(t,r6()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function rpe(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipe(t)}function ipe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function ux(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i6(t){var e=ape(t,"string");return fc(e)=="symbol"?e:e+""}function ape(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ope=Math.PI/180,QC=1e-5,dx=function(t){function e(){return epe(this,e),npe(this,e,arguments)}return spe(e,t),tpe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=xt(s,o,l,r.coordinate),h=xt(s,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*ope),o;return s>QC?o=i==="outer"?"start":"end":s<-QC?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=ja(ja({},Ee(this.props,!1)),{},{fill:"none"},Ee(l,!1));if(c==="circle")return B.createElement(ox,$a({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return xt(i,s,o,h.coordinate)});return B.createElement(_he,$a({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ee(this.props,!1),f=Ee(o,!1),h=ja(ja({},d),{},{fill:"none"},Ee(l,!1)),x=s.map(function(b,w){var y=r.getTickLineCoord(b),v=r.getTickTextAnchor(b),_=ja(ja(ja({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:w,payload:b,x:y.x2,y:y.y2});return B.createElement(Ke,$a({className:Ue("recharts-polar-angle-axis-tick",UL(o)),key:"tick-".concat(b.coordinate)},go(r.props,b,w)),l&&B.createElement("line",$a({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,_,c?c(b.value,w):b.value))});return B.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:B.createElement(Ke,{className:Ue("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ce(r)?o=r(i):o=B.createElement(xo,$a({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(D.PureComponent);ux(dx,"displayName","PolarAngleAxis");ux(dx,"axisType","angleAxis");ux(dx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lpe=cD,cpe=lpe(Object.getPrototypeOf,Object),upe=cpe,dpe=xs,fpe=upe,hpe=ys,ppe="[object Object]",mpe=Function.prototype,gpe=Object.prototype,s6=mpe.toString,xpe=gpe.hasOwnProperty,ype=s6.call(Object);function vpe(t){if(!hpe(t)||dpe(t)!=ppe)return!1;var e=fpe(t);if(e===null)return!0;var n=xpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&s6.call(n)==ype}var bpe=vpe;const wpe=ot(bpe);var _pe=xs,Npe=ys,Spe="[object Boolean]";function Epe(t){return t===!0||t===!1||Npe(t)&&_pe(t)==Spe}var Tpe=Epe;const Ape=ot(Tpe);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function kpe(t,e){return Ipe(t)||Ppe(t,e)||jpe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ipe(t){if(Array.isArray(t))return t}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e,n){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mpe(t){var e=Ope(t,"string");return bf(e)=="symbol"?e:e+""}function Ope(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nj=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},Dpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lpe=function(e){var n=tj(tj({},Dpe),e),r=D.useRef(),i=D.useState(-1),s=kpe(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,b=n.animationEasing,w=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Ue("recharts-trapezoid",x);return v?B.createElement(ki,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:w,animationEasing:b,isActive:v},function(N){var C=N.upperWidth,E=N.lowerWidth,T=N.height,S=N.x,j=N.y;return B.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:b},B.createElement("path",bg({},Ee(n,!0),{className:_,d:nj(S,j,C,E,T),ref:r})))}):B.createElement("g",null,B.createElement("path",bg({},Ee(n,!0),{className:_,d:nj(c,u,d,f,h)})))},$pe=["option","shapeType","propTransformer","activeClassName","isActive"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Fpe(t,e){if(t==null)return{};var n=Vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){Upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e,n){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=qpe(t,"string");return wf(e)=="symbol"?e:e+""}function qpe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){return wg(wg({},e),t)}function Gpe(t,e){return t==="symbols"}function ij(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(lS,n);case"trapezoid":return B.createElement(Lpe,n);case"sector":return B.createElement(zL,n);case"symbols":if(Gpe(e))return B.createElement(AN,n);break;default:return null}}function Hpe(t){return D.isValidElement(t)?t.props:t}function a6(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zpe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=Fpe(t,$pe),u;if(D.isValidElement(e))u=D.cloneElement(e,wg(wg({},c),Hpe(e)));else if(Ce(e))u=e(c);else if(wpe(e)&&!Ape(e)){var d=i(e,c);u=B.createElement(ij,{shapeType:n,elementProps:d})}else{var f=c;u=B.createElement(ij,{shapeType:n,elementProps:f})}return l?B.createElement(Ke,{className:o},u):u}function fx(t,e){return e!=null&&"trapezoids"in t.props}function hx(t,e){return e!=null&&"sectors"in t.props}function _f(t,e){return e!=null&&"points"in t.props}function Wpe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Kpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jpe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ype(t,e){var n;return fx(t,e)?n=Wpe:hx(t,e)?n=Kpe:_f(t,e)&&(n=Jpe),n}function Xpe(t,e){var n;return fx(t,e)?n="trapezoids":hx(t,e)?n="sectors":_f(t,e)&&(n="points"),n}function Qpe(t,e){if(fx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(hx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _f(t,e)?e.payload:{}}function Zpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Xpe(n,e),s=Qpe(n,e),o=r.filter(function(c,u){var d=lc(s,c),f=n.props[i].filter(function(b){var w=Ype(n,e);return w(b,e)}),h=n.props[i].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var Mp;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l6(r.key),r)}}function tme(t,e,n){return e&&aj(t.prototype,e),n&&aj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,n){return e=_g(e),rme(t,o6()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function rme(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ime(t)}function ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function Sr(t,e,n){return e=l6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=ame(t,"string");return hc(e)=="symbol"?e:e+""}function ame(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bs=function(t){function e(n){var r;return eme(this,e),r=nme(this,e,[n]),Sr(r,"pieRef",null),Sr(r,"sectorRefs",[]),Sr(r,"id",Uc("recharts-pie-")),Sr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ce(i)&&i()}),Sr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ce(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return sme(e,t),tme(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ee(this.props,!1),f=Ee(o,!1),h=Ee(l,!1),x=o&&o.offsetRadius||20,b=r.map(function(w,y){var v=(w.startAngle+w.endAngle)/2,_=xt(w.cx,w.cy,w.outerRadius+x,v),N=ht(ht(ht(ht({},d),w),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(_.x,w.cx)},_),C=ht(ht(ht(ht({},d),w),{},{fill:"none",stroke:w.fill},h),{},{index:y,points:[xt(w.cx,w.cy,w.outerRadius,v),_]}),E=c;return Le(c)&&Le(u)?E="value":Le(c)&&(E=u),B.createElement(Ke,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,N,Kt(w,E)))});return B.createElement(Ke,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,x=f?o:h,b=ht(ht({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return B.createElement(Ke,cl({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},go(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(a6,cl({option:x,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return B.createElement(ki,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,y=[],v=s&&s[0],_=v.startAngle;return s.forEach(function(N,C){var E=h&&h[C],T=C>0?fr(N,"paddingAngle",0):0;if(E){var S=Yn(E.endAngle-E.startAngle,N.endAngle-N.startAngle),j=ht(ht({},N),{},{startAngle:_+T,endAngle:_+S(w)+T});y.push(j),_=j.endAngle}else{var k=N.endAngle,R=N.startAngle,P=Yn(0,k-R),O=P(w),I=ht(ht({},N),{},{startAngle:_+T,endAngle:_+O+T});y.push(I),_=I.endAngle}}),B.createElement(Ke,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!lc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,x=i.isAnimationActive,b=this.state.isAnimationFinished;if(s||!o||!o.length||!ce(u)||!ce(d)||!ce(f)||!ce(h))return null;var w=Ue("recharts-pie",l);return B.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:w,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),rn.renderCallByParent(this.props,null,!1),(!x||b)&&Zi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(B.isValidElement(r))return B.cloneElement(r,i);if(Ce(r))return r(i);var o=Ue("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Cl,cl({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(B.isValidElement(r))return B.cloneElement(r,i);var o=s;if(Ce(r)&&(o=r(i),B.isValidElement(o)))return o;var l=Ue("recharts-pie-label-text",typeof r!="boolean"&&!Ce(r)?r.className:"");return B.createElement(xo,cl({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Mp=bs;Sr(bs,"displayName","Pie");Sr(bs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ao.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Sr(bs,"parseDeltaAngle",function(t,e){var n=Ln(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Sr(bs,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ee(t,!1),i=jr(n,J0);return e&&e.length?e.map(function(s,o){return ht(ht(ht({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return ht(ht({},r),s.props)}):[]});Sr(bs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=VL(i,s),l=r+$n(t.cx,i,i/2),c=n+$n(t.cy,s,s/2),u=$n(t.innerRadius,o,0),d=$n(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Sr(bs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ht(ht({},e.type.defaultProps),e.props):e.props,i=Mp.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),b=Mp.parseCoordinateOfPie(r,n),w=Mp.parseDeltaAngle(o,l),y=Math.abs(w),v=u;Le(u)&&Le(f)?(ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Le(u)&&(ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var _=i.filter(function(j){return Kt(j,v,0)!==0}).length,N=(y>=360?_:_-1)*c,C=y-_*x-N,E=i.reduce(function(j,k){var R=Kt(k,v,0);return j+(ce(R)?R:0)},0),T;if(E>0){var S;T=i.map(function(j,k){var R=Kt(j,v,0),P=Kt(j,d,k),O=(ce(R)?R:0)/E,I;k?I=S.endAngle+Ln(w)*c*(R!==0?1:0):I=o;var H=I+Ln(w)*((R!==0?x:0)+O*C),F=(I+H)/2,L=(b.innerRadius+b.outerRadius)/2,q=[{name:P,value:R,payload:j,dataKey:v,type:h}],z=xt(b.cx,b.cy,L,F);return S=ht(ht(ht({percent:O,cornerRadius:s,name:P,tooltipPayload:q,midAngle:F,middleRadius:L,tooltipPosition:z},j),b),{},{value:Kt(j,v),startAngle:I,endAngle:H,payload:j,paddingAngle:Ln(w)*c}),S})}return ht(ht({},b),{},{sectors:T,data:i})});var ome=Math.ceil,lme=Math.max;function cme(t,e,n,r){for(var i=-1,s=lme(ome((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var ume=cme,dme=kD,oj=1/0,fme=17976931348623157e292;function hme(t){if(!t)return t===0?t:0;if(t=dme(t),t===oj||t===-oj){var e=t<0?-1:1;return e*fme}return t===t?t:0}var c6=hme,pme=ume,mme=K0,Jy=c6;function gme(t){return function(e,n,r){return r&&typeof r!="number"&&mme(e,n,r)&&(n=r=void 0),e=Jy(e),n===void 0?(n=e,e=0):n=Jy(n),r=r===void 0?e<n?1:-1:Jy(r),pme(e,n,r,t)}}var xme=gme,yme=xme,vme=yme(),bme=vme;const Ng=ot(bme);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=_me(t,"string");return Nf(e)=="symbol"?e:e+""}function _me(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nme=["Webkit","Moz","O","ms"],Sme=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Nme.reduce(function(s,o){return cj(cj({},s),{},u6({},o+r,n))},{});return i[e]=n,i};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f6(r.key),r)}}function Tme(t,e,n){return e&&dj(t.prototype,e),n&&dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,n){return e=Eg(e),kme(t,d6()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function kme(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(t)}function Cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function sr(t,e,n){return e=f6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f6(t){var e=Pme(t,"string");return pc(e)=="symbol"?e:e+""}function Pme(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ime=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ud().domain(Ng(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},fj=function(e){return e.changedTouches&&!!e.changedTouches.length},mc=function(t){function e(n){var r;return Eme(this,e),r=Ame(this,e,[n]),sr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),sr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),sr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),sr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),sr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),sr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),sr(r,"handleSlideDragStart",function(i){var s=fj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return jme(e,t),Tme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),x=e.getIndexInRange(o,f),b=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Kt(s[r],l,r);return Ce(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,b=c.onChange,w=r.pageX-s;w>0?w=Math.min(w,u+d-f-l,u+d-f-o):w<0&&(w=Math.max(w,u-o,u-l));var y=this.getIndex({startX:o+w,endX:l+w});(y.startIndex!==h||y.endIndex!==x)&&b&&b(y),this.setState({startX:o+w,endX:l+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=fj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,b=d.onChange,w=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,f+h-x-u):_<0&&(_=Math.max(_,f-u)),v[o]=u+_;var N=this.getIndex(v),C=N.startIndex,E=N.endIndex,T=function(){var j=y.length-1;return o==="startX"&&(l>c?C%w===0:E%w===0)||l<c&&E===j||o==="endX"&&(l>c?E%w===0:C%w===0)||l>c&&E===j};this.setState(sr(sr({},o,u+_),"brushMoveStartX",r.pageX),function(){b&&T()&&b(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];i==="startX"&&x>=u||i==="endX"&&x<=c||this.setState(sr({},i,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?B.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,b=c.data,w=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),_=Yy(Yy({},Ee(this.props,!1)),{},{x:v,y:u,width:d,height:f}),N=x||"Min value: ".concat((s=b[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return B.createElement(Ke,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,b={pointerEvents:"none",fill:u};return B.createElement(Ke,{className:"recharts-brush-texts"},B.createElement(xo,Sg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},b),this.getTextOfTick(i)),B.createElement(xo,Sg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,b=h.endX,w=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!ce(l)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var N=Ue("recharts-brush",s),C=B.Children.count(o)===1,E=Sme("userSelect","none");return B.createElement(Ke,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(w||y||v||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Ce(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Yy({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Ime({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(D.PureComponent);sr(mc,"displayName","Brush");sr(mc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rme=MN;function Mme(t,e){var n;return Rme(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Ome=Mme,Dme=tD,Lme=Pi,$me=Ome,Fme=rr,Vme=K0;function Ume(t,e,n){var r=Fme(t)?Dme:$me;return n&&Vme(t,e,n)&&(e=void 0),r(t,Lme(e))}var Bme=Ume;const qme=ot(Bme);var Si=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},hj=ND;function zme(t,e,n){e=="__proto__"&&hj?hj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Gme=zme,Hme=Gme,Wme=wD,Kme=Pi;function Jme(t,e){var n={};return e=Kme(e),Wme(t,function(r,i,s){Hme(n,i,e(r,i,s))}),n}var Yme=Jme;const Xme=ot(Yme);function Qme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Zme=Qme,ege=MN;function tge(t,e){var n=!0;return ege(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var nge=tge,rge=Zme,ige=nge,sge=Pi,age=rr,oge=K0;function lge(t,e,n){var r=age(t)?rge:ige;return n&&oge(t,e,n)&&(e=void 0),r(t,sge(e))}var cge=lge;const h6=ot(cge);var uge=["x","y"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=hge(t,"string");return Sf(e)=="symbol"?e:e+""}function hge(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pge(t,e){if(t==null)return{};var n=mge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gge(t,e){var n=t.x,r=t.y,i=pge(t,uge),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ju(ju(ju(ju(ju({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function mj(t){return B.createElement(a6,Ow({shapeType:"rectangle",propTransformer:gge,activeClassName:"recharts-active-bar"},t))}var xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ce(r)||$K(r);return s?e(r,i):(s||vo(),n)}},yge=["value","background"],p6;function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function vge(t,e){if(t==null)return{};var n=bge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){qs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g6(r.key),r)}}function _ge(t,e,n){return e&&xj(t.prototype,e),n&&xj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,n){return e=Ag(e),Sge(t,m6()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function Sge(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ege(t)}function Ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function qs(t,e,n){return e=g6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g6(t){var e=Age(t,"string");return gc(e)=="symbol"?e:e+""}function Age(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ti=function(t){function e(){var n;wge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nge(this,e,[].concat(i)),qs(n,"state",{isAnimationFinished:!1}),qs(n,"id",Uc("recharts-bar-")),qs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),qs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Tge(e,t),_ge(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Ee(this.props,!1);return r&&r.map(function(f,h){var x=h===c,b=x?u:o,w=Ut(Ut(Ut({},d),f),{},{isActive:x,option:b,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Ke,Tg({className:"recharts-bar-rectangle"},go(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(mj,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(ki,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,w=s.map(function(y,v){var _=h&&h[v];if(_){var N=Yn(_.x,y.x),C=Yn(_.y,y.y),E=Yn(_.width,y.width),T=Yn(_.height,y.height);return Ut(Ut({},y),{},{x:N(b),y:C(b),width:E(b),height:T(b)})}if(o==="horizontal"){var S=Yn(0,y.height),j=S(b);return Ut(Ut({},y),{},{y:y.y+y.height-j,height:j})}var k=Yn(0,y.width),R=k(b);return Ut(Ut({},y),{},{width:R})});return B.createElement(Ke,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!lc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Ee(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=vge(u,yge);if(!f)return null;var x=Ut(Ut(Ut(Ut(Ut({},h),{},{fill:"#eee"},f),c),go(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(mj,Tg({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=jr(d,ax);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(y,v){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Kt(y,v)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ke,b,f.map(function(w){return B.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,b=r.background,w=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=Ue("recharts-bar",o),_=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=_||N,E=Le(w)?this.id:w;return B.createElement(Ke,{className:v},_||N?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(E)},B.createElement("rect",{x:_?u:u-f/2,y:N?d:d-h/2,width:_?f:f*2,height:N?h:h*2}))):null,B.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!x||y)&&Zi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);p6=ti;qs(ti,"displayName","Bar");qs(ti,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ao.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qs(ti,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=rue(r,n);if(!x)return null;var b=e.layout,w=n.type.defaultProps,y=w!==void 0?Ut(Ut({},w),n.props):n.props,v=y.dataKey,_=y.children,N=y.minPointSize,C=b==="horizontal"?o:s,E=u?C.scale.domain():null,T=uue({numericAxis:C}),S=jr(_,J0),j=f.map(function(k,R){var P,O,I,H,F,L;u?P=iue(u[d+R],E):(P=Kt(k,v),Array.isArray(P)||(P=[T,P]));var q=xge(N,p6.defaultProps.minPointSize)(P[1],R);if(b==="horizontal"){var z,U=[o.scale(P[0]),o.scale(P[1])],V=U[0],X=U[1];O=cC({axis:s,ticks:l,bandSize:i,offset:x.offset,entry:k,index:R}),I=(z=X??V)!==null&&z!==void 0?z:void 0,H=x.size;var Q=V-X;if(F=Number.isNaN(Q)?0:Q,L={x:O,y:o.y,width:H,height:o.height},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var G=Ln(F||q)*(Math.abs(q)-Math.abs(F));I-=G,F+=G}}else{var se=[s.scale(P[0]),s.scale(P[1])],W=se[0],pe=se[1];if(O=W,I=cC({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:k,index:R}),H=pe-W,F=x.size,L={x:s.x,y:I,width:s.width,height:F},Math.abs(q)>0&&Math.abs(H)<Math.abs(q)){var Ae=Ln(H||q)*(Math.abs(q)-Math.abs(H));H+=Ae}}return Ut(Ut(Ut({},k),{},{x:O,y:I,width:H,height:F,value:u?P:P[1],payload:k,background:L},S&&S[R]&&S[R].props),{},{tooltipPayload:[$L(n,k)],tooltipPosition:{x:O+H/2,y:I+F/2}})});return Ut({data:j,layout:b},h)});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x6(r.key),r)}}function Cge(t,e,n){return e&&yj(t.prototype,e),n&&yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function px(t,e,n){return e=x6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t){var e=jge(t,"string");return Ef(e)=="symbol"?e:e+""}function jge(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!or(u,ti);return d.reduce(function(x,b){var w=n[b],y=w.orientation,v=w.domain,_=w.padding,N=_===void 0?{}:_,C=w.mirror,E=w.reversed,T="".concat(y).concat(C?"Mirror":""),S,j,k,R,P;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var O=v[1]-v[0],I=1/0,H=w.categoricalDomain.sort(UK);if(H.forEach(function(se,W){W>0&&(I=Math.min((se||0)-(H[W-1]||0),I))}),Number.isFinite(I)){var F=I/O,L=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=F*L/2),w.padding==="no-gap"){var q=$n(e.barCategoryGap,F*L),z=F*L/2;S=z-q-(z-q)/L*q}}}i==="xAxis"?j=[r.left+(N.left||0)+(S||0),r.left+r.width-(N.right||0)-(S||0)]:i==="yAxis"?j=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(S||0),r.top+r.height-(N.bottom||0)-(S||0)]:j=w.range,E&&(j=[j[1],j[0]]);var U=ML(w,s,h),V=U.scale,X=U.realScaleType;V.domain(v).range(j),OL(V);var Q=DL(V,Wr(Wr({},w),{},{realScaleType:X}));i==="xAxis"?(P=y==="top"&&!C||y==="bottom"&&C,k=r.left,R=f[T]-P*w.height):i==="yAxis"&&(P=y==="left"&&!C||y==="right"&&C,k=f[T]-P*w.width,R=r.top);var G=Wr(Wr(Wr({},w),Q),{},{realScaleType:X,x:k,y:R,scale:V,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return G.bandSize=ug(G,Q),!w.hide&&i==="xAxis"?f[T]+=(P?-1:1)*G.height:w.hide||(f[T]+=(P?-1:1)*G.width),Wr(Wr({},x),{},px({},b,G))},{})},v6=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Pge=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return v6({x:n,y:r},{x:i,y:s})},b6=function(){function t(e){kge(this,t),this.scale=e}return Cge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();px(b6,"EPS",1e-4);var cS=function(e){var n=Object.keys(e).reduce(function(r,i){return Wr(Wr({},r),{},px({},i,b6.create(e[i])))},{});return Wr(Wr({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Xme(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return h6(i,function(s,o){return n[o].isInRange(s)})}})};function Ige(t){return(t%180+180)%180}var Rge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ige(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Mge=Pi,Oge=Zf,Dge=H0;function Lge(t){return function(e,n,r){var i=Object(e);if(!Oge(e)){var s=Mge(n);e=Dge(e),n=function(l){return s(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var $ge=Lge,Fge=c6;function Vge(t){var e=Fge(t),n=e%1;return e===e?n?e-n:e:0}var Uge=Vge,Bge=mD,qge=Pi,zge=Uge,Gge=Math.max;function Hge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:zge(n);return i<0&&(i=Gge(r+i,0)),Bge(t,qge(e),i)}var Wge=Hge,Kge=$ge,Jge=Wge,Yge=Kge(Jge),Xge=Yge;const Qge=ot(Xge);var Zge=zW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),uS=D.createContext(void 0),dS=D.createContext(void 0),w6=D.createContext(void 0),_6=D.createContext({}),N6=D.createContext(void 0),S6=D.createContext(0),E6=D.createContext(0),bj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Zge(s);return B.createElement(uS.Provider,{value:r},B.createElement(dS.Provider,{value:i},B.createElement(_6.Provider,{value:s},B.createElement(w6.Provider,{value:d},B.createElement(N6.Provider,{value:o},B.createElement(S6.Provider,{value:u},B.createElement(E6.Provider,{value:c},l)))))))},e0e=function(){return D.useContext(N6)},T6=function(e){var n=D.useContext(uS);n==null&&vo();var r=n[e];return r==null&&vo(),r},t0e=function(){var e=D.useContext(uS);return Ls(e)},n0e=function(){var e=D.useContext(dS),n=Qge(e,function(r){return h6(r.domain,Number.isFinite)});return n||Ls(e)},A6=function(e){var n=D.useContext(dS);n==null&&vo();var r=n[e];return r==null&&vo(),r},r0e=function(){var e=D.useContext(w6);return e},i0e=function(){return D.useContext(_6)},fS=function(){return D.useContext(E6)},hS=function(){return D.useContext(S6)};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function o0e(t,e,n){return e&&a0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,n){return e=kg(e),c0e(t,k6()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){pS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pS(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=f0e(t,"string");return xc(e)=="symbol"?e:e+""}function f0e(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h0e(t,e){return x0e(t)||g0e(t,e)||m0e(t,e)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,e){if(t){if(typeof t=="string")return Nj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nj(t,e)}}function Nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function x0e(t){if(Array.isArray(t))return t}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}var y0e=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Ce(e)?r=e(n):r=B.createElement("line",$w({},n,{className:"recharts-reference-line-line"})),r},v0e=function(e,n,r,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,x=s.height;if(r){var b=u.y,w=e.y.apply(b,{position:o});if(Si(u,"discard")&&!e.y.isInRange(w))return null;var y=[{x:d+h,y:w},{x:d,y:w}];return c==="left"?y.reverse():y}if(n){var v=u.x,_=e.x.apply(v,{position:o});if(Si(u,"discard")&&!e.x.isInRange(_))return null;var N=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?N.reverse():N}if(i){var C=u.segment,E=C.map(function(T){return e.apply(T,{position:o})});return Si(u,"discard")&&qme(E,function(T){return!e.isInRange(T)})?null:E}return null};function b0e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=e0e(),d=T6(i),f=A6(s),h=r0e();if(!u||!h)return null;ei(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=cS({x:d.scale,y:f.scale}),b=Yt(e),w=Yt(n),y=r&&r.length===2,v=v0e(x,b,w,y,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var _=h0e(v,2),N=_[0],C=N.x,E=N.y,T=_[1],S=T.x,j=T.y,k=Si(t,"hidden")?"url(#".concat(u,")"):void 0,R=_j(_j({clipPath:k},Ee(t,!0)),{},{x1:C,y1:E,x2:S,y2:j});return B.createElement(Ke,{className:Ue("recharts-reference-line",l)},y0e(o,R),rn.renderCallByParent(t,Pge({x1:C,y1:E,x2:S,y2:j})))}var mS=function(t){function e(){return s0e(this,e),l0e(this,e,arguments)}return d0e(e,t),o0e(e,[{key:"render",value:function(){return B.createElement(b0e,this.props)}}])}(B.Component);pS(mS,"displayName","ReferenceLine");pS(mS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function N0e(t,e,n){return e&&_0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=Cg(e),E0e(t,j6()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function mx(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=k0e(t,"string");return yc(e)=="symbol"?e:e+""}function k0e(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C0e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=cS({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Si(e,"discard")&&!o.isInRange(l)?null:l},gx=function(t){function e(){return w0e(this,e),S0e(this,e,arguments)}return A0e(e,t),N0e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Yt(i),d=Yt(s);if(ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=C0e(this.props);if(!f)return null;var h=f.x,x=f.y,b=this.props,w=b.shape,y=b.className,v=Si(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Ej(Ej({clipPath:v},Ee(this.props,!0)),{},{cx:h,cy:x});return B.createElement(Ke,{className:Ue("recharts-reference-dot",y)},e.renderDot(w,_),rn.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(B.Component);mx(gx,"displayName","ReferenceDot");mx(gx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mx(gx,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ce(t)?n=t(e):n=B.createElement(ox,Fw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function I0e(t,e,n){return e&&P0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R0e(t,e,n){return e=jg(e),M0e(t,I6()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function M0e(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0e(t)}function O0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function D0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bw(t,e)}function xx(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=L0e(t,"string");return vc(e)=="symbol"?e:e+""}function L0e(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $0e=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=cS({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Si(s,"discard")&&(!h.isInRange(x)||!h.isInRange(b))?null:v6(x,b)},yx=function(t){function e(){return j0e(this,e),R0e(this,e,arguments)}return D0e(e,t),I0e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yt(i),h=Yt(s),x=Yt(o),b=Yt(l),w=this.props.shape;if(!f&&!h&&!x&&!b&&!w)return null;var y=$0e(f,h,x,b,this.props);if(!y&&!w)return null;var v=Si(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Ke,{className:Ue("recharts-reference-area",c)},e.renderRect(w,Aj(Aj({clipPath:v},Ee(this.props,!0)),y)),rn.renderCallByParent(this.props,y))}}])}(B.Component);xx(yx,"displayName","ReferenceArea");xx(yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xx(yx,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ce(t)?n=t(e):n=B.createElement(lS,Uw({},e,{className:"recharts-reference-area-rect"})),n});function M6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function F0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rge(r,n)}function V0e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function Pg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function U0e(t,e){return M6(t,e+1)}function B0e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:M6(r,u)};var w=c,y,v=function(){return y===void 0&&(y=n(b,w)),y},_=b.coordinate,N=c===0||Pg(t,_,v,d,l);N||(c=0,d=o,u+=1),N&&(d=_+t*(v()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q0e(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=G0e(t,"string");return Tf(e)=="symbol"?e:e+""}function G0e(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var x=s[h],b,w=function(){return b===void 0&&(b=n(x,h)),b};if(h===o-1){var y=t*(x.coordinate+t*w()/2-c);s[h]=x=Sn(Sn({},x),{},{tickCoord:y>0?x.coordinate-y*t:x.coordinate})}else s[h]=x=Sn(Sn({},x),{},{tickCoord:x.coordinate});var v=Pg(t,x.tickCoord,w,l,c);v&&(c=x.tickCoord-t*(w()/2+i),s[h]=Sn(Sn({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function W0e(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=Sn(Sn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=Pg(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+i),o[l-1]=Sn(Sn({},d),{},{isShow:!0}))}for(var b=s?l-1:l,w=function(_){var N=o[_],C,E=function(){return C===void 0&&(C=n(N,_)),C};if(_===0){var T=t*(N.coordinate-t*E()/2-c);o[_]=N=Sn(Sn({},N),{},{tickCoord:T<0?N.coordinate-T*t:N.coordinate})}else o[_]=N=Sn(Sn({},N),{},{tickCoord:N.coordinate});var S=Pg(t,N.tickCoord,E,c,u);S&&(c=N.tickCoord+t*(E()/2+i),o[_]=Sn(Sn({},N),{},{isShow:!0}))},y=0;y<b;y++)w(y);return o}function gS(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ce(c)||Ao.isSsr)return U0e(i,typeof c=="number"&&ce(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",b=d&&x==="width"?cd(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(N,C){var E=Ce(u)?u(N.value,C):N.value;return x==="width"?F0e(cd(E,{fontSize:e,letterSpacing:n}),b,f):cd(E,{fontSize:e,letterSpacing:n})[x]},y=i.length>=2?Ln(i[1].coordinate-i[0].coordinate):1,v=V0e(s,y,x);return c==="equidistantPreserveStart"?B0e(y,v,w,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=W0e(y,v,w,i,o,c==="preserveStartEnd"):h=H0e(y,v,w,i,o),h.filter(function(_){return _.isShow}))}var K0e=["viewBox"],J0e=["viewBox"],Y0e=["ticks"];function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){xS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xy(t,e){if(t==null)return{};var n=X0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D6(r.key),r)}}function Z0e(t,e,n){return e&&jj(t.prototype,e),n&&jj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function exe(t,e,n){return e=Ig(e),txe(t,O6()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function txe(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(t)}function nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function xS(t,e,n){return e=D6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t){var e=ixe(t,"string");return bc(e)=="symbol"?e:e+""}function ixe(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=function(t){function e(n){var r;return Q0e(this,e),r=exe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return rxe(e,t),Z0e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Xy(r,K0e),l=this.props,c=l.viewBox,u=Xy(l,J0e);return!Tl(s,c)||!Tl(o,u)||!Tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,x,b,w,y,v,_,N=f?-1:1,C=r.tickSize||d,E=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=b=r.coordinate,y=o+ +!f*c,w=y-N*C,_=w-N*h,v=E;break;case"left":w=y=r.coordinate,b=s+ +!f*l,x=b-N*C,v=x-N*h,_=E;break;case"right":w=y=r.coordinate,b=s+ +f*l,x=b+N*C,v=x+N*h,_=E;break;default:x=b=r.coordinate,y=o+ +f*c,w=y+N*C,_=w+N*h,v=E;break}return{line:{x1:x,y1:w,x2:b,y2:y},tick:{x:v,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Gt(Gt(Gt({},Ee(this.props,!1)),Ee(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Gt(Gt({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=Gt(Gt({},f),{},{x1:i+x*o,y1:s,x2:i+x*o,y2:s+l})}return B.createElement("line",ul({},f,{className:Ue("recharts-cartesian-axis-line",fr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=gS(Gt(Gt({},this.props),{},{ticks:r}),i,s),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Ee(this.props,!1),v=Ee(d,!1),_=Gt(Gt({},y),{},{fill:"none"},Ee(c,!1)),N=x.map(function(C,E){var T=o.getTickLineCoord(C),S=T.line,j=T.tick,k=Gt(Gt(Gt(Gt({textAnchor:b,verticalAnchor:w},y),{},{stroke:"none",fill:u},v),j),{},{index:E,payload:C,visibleTicksCount:x.length,tickFormatter:f});return B.createElement(Ke,ul({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},go(o.props,C,E)),c&&B.createElement("line",ul({},_,S,{className:Ue("recharts-cartesian-axis-tick-line",fr(c,"className"))})),d&&e.renderTickItem(d,k,"".concat(Ce(f)?f(C.value,E):C.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,x=Xy(f,Y0e),b=h;return Ce(c)&&(b=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:B.createElement(Ke,{className:Ue("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=Ue(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?o=B.cloneElement(r,Gt(Gt({},i),{},{className:l})):Ce(r)?o=r(Gt(Gt({},i),{},{className:l})):o=B.createElement(xo,ul({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(D.Component);xS(Kc,"displayName","CartesianAxis");xS(Kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sxe=["x1","y1","x2","y2","key"],axe=["offset"];function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oxe(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=cxe(t,"string");return bo(e)=="symbol"?e:e+""}function cxe(t,e){if(bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}function Ij(t,e){if(t==null)return{};var n=uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return B.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function L6(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=Ij(e,sxe),u=Ee(c,!1);u.offset;var d=Ij(u,axe);n=B.createElement("line",Wa({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function fxe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=kn(kn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return L6(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function hxe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=kn(kn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return L6(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?i+o-h:d[x+1]-h;if(w<=0)return null;var y=x%e.length;return B.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:w,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function mxe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?s+l-h:d[x+1]-h;if(w<=0)return null;var y=x%r.length;return B.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:w,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gxe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return RL(gS(kn(kn(kn({},Kc.defaultProps),r),{},{ticks:Hi(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},xxe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return RL(gS(kn(kn(kn({},Kc.defaultProps),r),{},{ticks:Hi(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Uo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Af(t){var e,n,r,i,s,o,l=fS(),c=hS(),u=i0e(),d=kn(kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Uo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Uo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Uo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Uo.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Uo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Uo.verticalFill,x:ce(t.x)?t.x:u.left,y:ce(t.y)?t.y:u.top,width:ce(t.width)?t.width:u.width,height:ce(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,b=d.height,w=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,_=t0e(),N=n0e();if(!ce(x)||x<=0||!ce(b)||b<=0||!ce(f)||f!==+f||!ce(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||gxe,E=d.horizontalCoordinatesGenerator||xxe,T=d.horizontalPoints,S=d.verticalPoints;if((!T||!T.length)&&Ce(E)){var j=y&&y.length,k=E({yAxis:N?kn(kn({},N),{},{ticks:j?y:N.ticks}):void 0,width:l,height:c,offset:u},j?!0:w);ei(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bo(k),"]")),Array.isArray(k)&&(T=k)}if((!S||!S.length)&&Ce(C)){var R=v&&v.length,P=C({xAxis:_?kn(kn({},_),{},{ticks:R?v:_.ticks}):void 0,width:l,height:c,offset:u},R?!0:w);ei(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bo(P),"]")),Array.isArray(P)&&(S=P)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(dxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(fxe,Wa({},d,{offset:u,horizontalPoints:T,xAxis:_,yAxis:N})),B.createElement(hxe,Wa({},d,{offset:u,verticalPoints:S,xAxis:_,yAxis:N})),B.createElement(pxe,Wa({},d,{horizontalPoints:T})),B.createElement(mxe,Wa({},d,{verticalPoints:S})))}Af.displayName="CartesianGrid";var yxe=["layout","type","stroke","connectNulls","isRange","ref"],vxe=["key"],$6;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function F6(t,e){if(t==null)return{};var n=bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U6(r.key),r)}}function _xe(t,e,n){return e&&Mj(t.prototype,e),n&&Mj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t,e,n){return e=Rg(e),Sxe(t,V6()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function Sxe(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(t)}function Exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function Txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function gi(t,e,n){return e=U6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t){var e=Axe(t,"string");return wc(e)=="symbol"?e:e+""}function Axe(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oi=function(t){function e(){var n;wxe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nxe(this,e,[].concat(i)),gi(n,"state",{isAnimationFinished:!0}),gi(n,"id",Uc("recharts-area-")),gi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(o)&&o()}),gi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(o)&&o()}),n}return Txe(e,t),_xe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ee(this.props,!1),x=Ee(u,!0),b=d.map(function(y,v){var _=ks(ks(ks({key:"dot-".concat(v),r:3},h),x),{},{index:v,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,_)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return B.createElement(Ke,Ka({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Bs(o.map(function(h){return h.y||0}));return ce(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Bs(s.map(function(h){return h.y||0})),f)),ce(f)?B.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Bs(o.map(function(h){return h.x||0}));return ce(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Bs(s.map(function(h){return h.x||0})),f)),ce(f)?B.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=F6(l,yxe);return B.createElement(Ke,{clipPath:s?"url(#clipPath-".concat(o,")"):null},B.createElement(Cl,Ka({},Ee(x,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(Cl,Ka({},Ee(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&B.createElement(Cl,Ka({},Ee(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,b=this.state,w=b.prevPoints,y=b.prevBaseLine;return B.createElement(ki,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t;if(w){var N=w.length/l.length,C=l.map(function(j,k){var R=Math.floor(k*N);if(w[R]){var P=w[R],O=Yn(P.x,j.x),I=Yn(P.y,j.y);return ks(ks({},j),{},{x:O(_),y:I(_)})}return j}),E;if(ce(c)&&typeof c=="number"){var T=Yn(y,c);E=T(_)}else if(Le(c)||Vc(c)){var S=Yn(y,0);E=S(_)}else E=c.map(function(j,k){var R=Math.floor(k*N);if(y[R]){var P=y[R],O=Yn(P.x,j.x),I=Yn(P.y,j.y);return ks(ks({},j),{},{x:O(_),y:I(_)})}return j});return s.renderAreaStatically(C,E,r,i)}return B.createElement(Ke,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(_))),B.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!lc(d,o)||!lc(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,x=i.width,b=i.height,w=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,_=l.length===1,N=Ue("recharts-area",c),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,T=C||E,S=Le(y)?this.id:y,j=(r=Ee(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=j.r,R=k===void 0?3:k,P=j.strokeWidth,O=P===void 0?2:P,I=YK(o)?o:{},H=I.clipDot,F=H===void 0?!0:H,L=R*2+O;return B.createElement(Ke,{className:N},C||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:C?d:d-x/2,y:E?u:u-b/2,width:C?x:x*2,height:E?b:b*2})),!F&&B.createElement("clipPath",{id:"clipPath-dots-".concat(S)},B.createElement("rect",{x:d-L/2,y:u-L/2,width:x+L,height:b+L}))):null,_?null:this.renderArea(T,S),(o||_)&&this.renderDots(T,F,S),(!w||v)&&Zi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);$6=oi;gi(oi,"displayName","Area");gi(oi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ao.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});gi(oi,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(ce(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});gi(oi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,b=u&&u.length,w=$6.getBaseValue(e,n,r,i),y=x==="horizontal",v=!1,_=f.map(function(C,E){var T;b?T=u[d+E]:(T=Kt(C,c),Array.isArray(T)?v=!0:T=[w,T]);var S=T[1]==null||b&&Kt(C,c)==null;return y?{x:lC({axis:r,ticks:s,bandSize:l,entry:C,index:E}),y:S?null:i.scale(T[1]),value:T,payload:C}:{x:S?null:r.scale(T[1]),y:lC({axis:i,ticks:o,bandSize:l,entry:C,index:E}),value:T,payload:C}}),N;return b||v?N=_.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:E!=null&&C.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:C.y}}):N=y?i.scale(w):r.scale(w),ks({points:_,baseLine:N,layout:x,isRange:v},h)});gi(oi,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=Ue("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=F6(e,vxe);n=B.createElement(ox,Ka({},s,{key:i,className:r}))}return n});function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function jxe(t,e,n){return e&&Cxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=Mg(e),Ixe(t,B6()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function Ixe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rxe(t)}function Rxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function Mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function q6(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=Oxe(t,"string");return _c(e)=="symbol"?e:e+""}function Oxe(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function Dxe(t){var e=t.xAxisId,n=fS(),r=hS(),i=T6(e);return i==null?null:D.createElement(Kc,Hw({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Hi(o,!0)}}))}var fa=function(t){function e(){return kxe(this,e),Pxe(this,e,arguments)}return Mxe(e,t),jxe(e,[{key:"render",value:function(){return D.createElement(Dxe,this.props)}}])}(D.Component);q6(fa,"displayName","XAxis");q6(fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6(r.key),r)}}function Fxe(t,e,n){return e&&$xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vxe(t,e,n){return e=Og(e),Uxe(t,G6()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function Uxe(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(t)}function Bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function H6(t,e,n){return e=W6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6(t){var e=zxe(t,"string");return Nc(e)=="symbol"?e:e+""}function zxe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var Gxe=function(e){var n=e.yAxisId,r=fS(),i=hS(),s=A6(n);return s==null?null:D.createElement(Kc,Kw({},s,{className:Ue("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Hi(l,!0)}}))},ha=function(t){function e(){return Lxe(this,e),Vxe(this,e,arguments)}return qxe(e,t),Fxe(e,[{key:"render",value:function(){return D.createElement(Gxe,this.props)}}])}(D.Component);H6(ha,"displayName","YAxis");H6(ha,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Oj(t){return Jxe(t)||Kxe(t)||Wxe(t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function Kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jxe(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yw=function(e,n,r,i,s){var o=jr(e,mS),l=jr(e,gx),c=[].concat(Oj(o),Oj(l)),u=jr(e,yx),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(w,y){if(y.props[d]===r&&Si(y.props,"extendDomain")&&ce(y.props[f])){var v=y.props[f];return[Math.min(w[0],v),Math.max(w[1],v)]}return w},h)),u.length){var x="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(w,y){if(y.props[d]===r&&Si(y.props,"extendDomain")&&ce(y.props[x])&&ce(y.props[b])){var v=y.props[x],_=y.props[b];return[Math.min(w[0],v,_),Math.max(w[1],v,_)]}return w},h)}return s&&s.length&&(h=s.reduce(function(w,y){return ce(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},h)),h},K6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,f||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,b=new Array(x);h<x;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,b){var w=n?n+u:u;if(!this._events[w])return!1;var y=this._events[w],v=arguments.length,_,N;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,x),!0;case 6:return y.fn.call(y.context,d,f,h,x,b),!0}for(N=1,_=new Array(v-1);N<v;N++)_[N-1]=arguments[N];y.fn.apply(y.context,_)}else{var C=y.length,E;for(N=0;N<C;N++)switch(y[N].once&&this.removeListener(u,y[N].fn,void 0,!0),v){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,d);break;case 3:y[N].fn.call(y[N].context,d,f);break;case 4:y[N].fn.call(y[N].context,d,f,h);break;default:if(!_)for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];y[N].fn.apply(y[N].context,_)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,x);else{for(var w=0,y=[],v=b.length;w<v;w++)(b[w].fn!==d||h&&!b[w].once||f&&b[w].context!==f)&&y.push(b[w]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(K6);var Yxe=K6.exports;const Xxe=ot(Yxe);var Qy=new Xxe,Zy="recharts.syncMouseEvents";function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J6(r.key),r)}}function eye(t,e,n){return e&&Zxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ev(t,e,n){return e=J6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J6(t){var e=tye(t,"string");return kf(e)=="symbol"?e:e+""}function tye(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nye=function(){function t(){Qxe(this,t),ev(this,"activeIndex",0),ev(this,"coordinateList",[]),ev(this,"layout","horizontal")}return eye(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ce(r)&&ce(i))return!0}return!1}function iye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Y6(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=xt(e,n,r,i),l=xt(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function sye(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=xt(l,c,u,f),x=xt(l,c,d,f);r=h.x,i=h.y,s=x.x,o=x.y}else return Y6(e);return[{x:r,y:i},{x:s,y:o}]}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e,n){return e=oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=lye(t,"string");return Cf(e)=="symbol"?e:e+""}function lye(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,w=Cl;if(h==="ScatterChart")b=o,w=Phe;else if(h==="BarChart")b=iye(f,o,c,d),w=lS;else if(f==="radial"){var y=Y6(o),v=y.cx,_=y.cy,N=y.radius,C=y.startAngle,E=y.endAngle;b={cx:v,cy:_,startAngle:C,endAngle:E,innerRadius:N,outerRadius:N},w=zL}else b={points:sye(f,o,c)},w=Cl;var T=rp(rp(rp(rp({stroke:"#ccc",pointerEvents:"none"},c),b),Ee(x,!1)),{},{payload:l,payloadIndex:u,className:Ue("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,T):D.createElement(w,T)}var uye=["item"],dye=["children","className","width","height","style","compact","title","desc"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function Lj(t,e){return pye(t)||hye(t,e)||Q6(t,e)||fye()}function fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pye(t){if(Array.isArray(t))return t}function $j(t,e){if(t==null)return{};var n=mye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z6(r.key),r)}}function yye(t,e,n){return e&&xye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=Dg(e),bye(t,X6()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function _ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Ec(t){return Eye(t)||Sye(t)||Q6(t)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function Sye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eye(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ke(t,e,n){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t){var e=Tye(t,"string");return Sc(e)=="symbol"?e:e+""}function Tye(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aye={xAxis:["bottom","top"],yAxis:["left","right"]},kye={width:"100%",height:"100%"},e$={x:0,y:0};function ip(t){return t}var Cye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jye=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return re(re(re({},i),xt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return re(re(re({},i),xt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e$},vx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ec(l),Ec(u)):l},[]);return o.length>0?o:e&&e.length&&ce(i)&&ce(s)?e.slice(i,s+1):[]};function t$(t){return t==="number"?[0,"auto"]:void 0}var Zw=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=vx(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=Om(x,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Ec(c),[$L(u,h)]):c},[])},Vj=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=Cye(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Xce(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Zw(e,n,d,f),x=jye(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},Pye=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=IL(d,s);return r.reduce(function(b,w){var y,v=w.type.defaultProps!==void 0?re(re({},w.type.defaultProps),w.props):w.props,_=v.type,N=v.dataKey,C=v.allowDataOverflow,E=v.allowDuplicatedCategory,T=v.scale,S=v.ticks,j=v.includeHidden,k=v[o];if(b[k])return b;var R=vx(e.data,{graphicalItems:i.filter(function(Q){var G,se=o in Q.props?Q.props[o]:(G=Q.type.defaultProps)===null||G===void 0?void 0:G[o];return se===k}),dataStartIndex:c,dataEndIndex:u}),P=R.length,O,I,H;rye(v.domain,C,_)&&(O=pw(v.domain,null,C),x&&(_==="number"||T!=="auto")&&(H=dd(R,N,"category")));var F=t$(_);if(!O||O.length===0){var L,q=(L=v.domain)!==null&&L!==void 0?L:F;if(N){if(O=dd(R,N,_),_==="category"&&x){var z=VK(O);E&&z?(I=O,O=Ng(0,P)):E||(O=fC(q,O,w).reduce(function(Q,G){return Q.indexOf(G)>=0?Q:[].concat(Ec(Q),[G])},[]))}else if(_==="category")E?O=O.filter(function(Q){return Q!==""&&!Le(Q)}):O=fC(q,O,w).reduce(function(Q,G){return Q.indexOf(G)>=0||G===""||Le(G)?Q:[].concat(Ec(Q),[G])},[]);else if(_==="number"){var U=nue(R,i.filter(function(Q){var G,se,W=o in Q.props?Q.props[o]:(G=Q.type.defaultProps)===null||G===void 0?void 0:G[o],pe="hide"in Q.props?Q.props.hide:(se=Q.type.defaultProps)===null||se===void 0?void 0:se.hide;return W===k&&(j||!pe)}),N,s,d);U&&(O=U)}x&&(_==="number"||T!=="auto")&&(H=dd(R,N,"category"))}else x?O=Ng(0,P):l&&l[k]&&l[k].hasStack&&_==="number"?O=h==="expand"?[0,1]:LL(l[k].stackGroups,c,u):O=PL(R,i.filter(function(Q){var G=o in Q.props?Q.props[o]:Q.type.defaultProps[o],se="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return G===k&&(j||!se)}),_,d,!0);if(_==="number")O=Yw(f,O,k,s,S),q&&(O=pw(q,O,C));else if(_==="category"&&q){var V=q,X=O.every(function(Q){return V.indexOf(Q)>=0});X&&(O=V)}}return re(re({},b),{},ke({},k,re(re({},v),{},{axisType:s,domain:O,categoricalDomain:H,duplicateDomain:I,originalDomain:(y=v.domain)!==null&&y!==void 0?y:F,isCategorical:x,layout:d})))},{})},Iye=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=vx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,b=IL(d,s),w=-1;return r.reduce(function(y,v){var _=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,N=_[o],C=t$("number");if(!y[N]){w++;var E;return b?E=Ng(0,x):l&&l[N]&&l[N].hasStack?(E=LL(l[N].stackGroups,c,u),E=Yw(f,E,N,s)):(E=pw(C,PL(h,r.filter(function(T){var S,j,k=o in T.props?T.props[o]:(S=T.type.defaultProps)===null||S===void 0?void 0:S[o],R="hide"in T.props?T.props.hide:(j=T.type.defaultProps)===null||j===void 0?void 0:j.hide;return k===N&&!R}),"number",d),i.defaultProps.allowDataOverflow),E=Yw(f,E,N,s)),re(re({},y),{},ke({},N,re(re({axisType:s},i.defaultProps),{},{hide:!0,orientation:fr(Aye,"".concat(s,".").concat(w%2),null),domain:E,originalDomain:C,isCategorical:b,layout:d})))}return y},{})},Rye=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=jr(d,s),x={};return h&&h.length?x=Pye(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=Iye(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},Mye=function(e){var n=Ls(e),r=Hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ON(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ug(n,r)}},Uj=function(e){var n=e.children,r=e.defaultShowTooltip,i=or(n,mc),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Oye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},Bj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dye=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=or(f,mc),b=or(f,eo),w=Object.keys(c).reduce(function(E,T){var S=c[T],j=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},ke({},j,E[j]+S.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,T){var S=o[T],j=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},ke({},j,fr(E,"".concat(j))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=re(re({},y),w),_=v.bottom;x&&(v.bottom+=x.props.height||mc.defaultProps.height),b&&n&&(v=eue(v,i,r,n));var N=u-v.left-v.right,C=d-v.top-v.bottom;return re(re({brushBottom:_},v),{},{width:Math.max(N,0),height:Math.max(C,0)})},Lye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,_){var N=_.graphicalItems,C=_.stackGroups,E=_.offset,T=_.updateId,S=_.dataStartIndex,j=_.dataEndIndex,k=v.barSize,R=v.layout,P=v.barGap,O=v.barCategoryGap,I=v.maxBarSize,H=Bj(R),F=H.numericAxisName,L=H.cateAxisName,q=Oye(N),z=[];return N.forEach(function(U,V){var X=vx(v.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:j}),Q=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,G=Q.dataKey,se=Q.maxBarSize,W=Q["".concat(F,"Id")],pe=Q["".concat(L,"Id")],Ae={},Fe=c.reduce(function(He,Lt){var Gn=_["".concat(Lt.axisType,"Map")],te=Q["".concat(Lt.axisType,"Id")];Gn&&Gn[te]||Lt.axisType==="zAxis"||vo();var ye=Gn[te];return re(re({},He),{},ke(ke({},Lt.axisType,ye),"".concat(Lt.axisType,"Ticks"),Hi(ye)))},Ae),de=Fe[L],ae=Fe["".concat(L,"Ticks")],J=C&&C[W]&&C[W].hasStack&&due(U,C[W].stackGroups),K=Xi(U.type).indexOf("Bar")>=0,fe=ug(de,ae),ve=[],De=q&&Qce({barSize:k,stackGroups:C,totalSize:Lye(Fe,L)});if(K){var Z,me,Xe=Le(se)?I:se,At=(Z=(me=ug(de,ae,!0))!==null&&me!==void 0?me:Xe)!==null&&Z!==void 0?Z:0;ve=Zce({barGap:P,barCategoryGap:O,bandSize:At!==fe?At:fe,sizeList:De[pe],maxBarSize:Xe}),At!==fe&&(ve=ve.map(function(He){return re(re({},He),{},{position:re(re({},He.position),{},{offset:He.position.offset-At/2})})}))}var Nt=U&&U.type&&U.type.getComposedData;Nt&&z.push({props:re(re({},Nt(re(re({},Fe),{},{displayedData:X,props:v,dataKey:G,item:U,bandSize:fe,barPosition:ve,offset:E,stackedData:J,layout:R,dataStartIndex:S,dataEndIndex:j}))),{},ke(ke(ke({key:U.key||"item-".concat(V)},F,Fe[F]),L,Fe[L]),"animationId",T)),childIndex:ZK(U,v.children),item:U})}),z},x=function(v,_){var N=v.props,C=v.dataStartIndex,E=v.dataEndIndex,T=v.updateId;if(!s2({props:N}))return null;var S=N.children,j=N.layout,k=N.stackOffset,R=N.data,P=N.reverseStackOrder,O=Bj(j),I=O.numericAxisName,H=O.cateAxisName,F=jr(S,r),L=cue(R,F,"".concat(I,"Id"),"".concat(H,"Id"),k,P),q=c.reduce(function(Q,G){var se="".concat(G.axisType,"Map");return re(re({},Q),{},ke({},se,Rye(N,re(re({},G),{},{graphicalItems:F,stackGroups:G.axisType===I&&L,dataStartIndex:C,dataEndIndex:E}))))},{}),z=Dye(re(re({},q),{},{props:N,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(Q){q[Q]=d(N,q[Q],z,Q.replace("Map",""),n)});var U=q["".concat(H,"Map")],V=Mye(U),X=h(N,re(re({},q),{},{dataStartIndex:C,dataEndIndex:E,updateId:T,graphicalItems:F,stackGroups:L,offset:z}));return re(re({formattedGraphicalItems:X,graphicalItems:F,offset:z,stackGroups:L},V),q)},b=function(y){function v(_){var N,C,E;return gye(this,v),E=vye(this,v,[_]),ke(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ke(E,"accessibilityManager",new nye),ke(E,"handleLegendBBoxUpdate",function(T){if(T){var S=E.state,j=S.dataStartIndex,k=S.dataEndIndex,R=S.updateId;E.setState(re({legendBBox:T},x({props:E.props,dataStartIndex:j,dataEndIndex:k,updateId:R},re(re({},E.state),{},{legendBBox:T}))))}}),ke(E,"handleReceiveSyncEvent",function(T,S,j){if(E.props.syncId===T){if(j===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),ke(E,"handleBrushChange",function(T){var S=T.startIndex,j=T.endIndex;if(S!==E.state.dataStartIndex||j!==E.state.dataEndIndex){var k=E.state.updateId;E.setState(function(){return re({dataStartIndex:S,dataEndIndex:j},x({props:E.props,dataStartIndex:S,dataEndIndex:j,updateId:k},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:j})}}),ke(E,"handleMouseEnter",function(T){var S=E.getMouseInfo(T);if(S){var j=re(re({},S),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var k=E.props.onMouseEnter;Ce(k)&&k(j,T)}}),ke(E,"triggeredAfterMouseMove",function(T){var S=E.getMouseInfo(T),j=S?re(re({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var k=E.props.onMouseMove;Ce(k)&&k(j,T)}),ke(E,"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ke(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ke(E,"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),ke(E,"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var j=E.props.onMouseLeave;Ce(j)&&j(S,T)}),ke(E,"handleOuterEvent",function(T){var S=QK(T),j=fr(E.props,"".concat(S));if(S&&Ce(j)){var k,R;/.*touch.*/i.test(S)?R=E.getMouseInfo(T.changedTouches[0]):R=E.getMouseInfo(T),j((k=R)!==null&&k!==void 0?k:{},T)}}),ke(E,"handleClick",function(T){var S=E.getMouseInfo(T);if(S){var j=re(re({},S),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var k=E.props.onClick;Ce(k)&&k(j,T)}}),ke(E,"handleMouseDown",function(T){var S=E.props.onMouseDown;if(Ce(S)){var j=E.getMouseInfo(T);S(j,T)}}),ke(E,"handleMouseUp",function(T){var S=E.props.onMouseUp;if(Ce(S)){var j=E.getMouseInfo(T);S(j,T)}}),ke(E,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ke(E,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),ke(E,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),ke(E,"handleDoubleClick",function(T){var S=E.props.onDoubleClick;if(Ce(S)){var j=E.getMouseInfo(T);S(j,T)}}),ke(E,"handleContextMenu",function(T){var S=E.props.onContextMenu;if(Ce(S)){var j=E.getMouseInfo(T);S(j,T)}}),ke(E,"triggerSyncEvent",function(T){E.props.syncId!==void 0&&Qy.emit(Zy,E.props.syncId,T,E.eventEmitterSymbol)}),ke(E,"applySyncEvent",function(T){var S=E.props,j=S.layout,k=S.syncMethod,R=E.state.updateId,P=T.dataStartIndex,O=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(re({dataStartIndex:P,dataEndIndex:O},x({props:E.props,dataStartIndex:P,dataEndIndex:O,updateId:R},E.state)));else if(T.activeTooltipIndex!==void 0){var I=T.chartX,H=T.chartY,F=T.activeTooltipIndex,L=E.state,q=L.offset,z=L.tooltipTicks;if(!q)return;if(typeof k=="function")F=k(z,T);else if(k==="value"){F=-1;for(var U=0;U<z.length;U++)if(z[U].value===T.activeLabel){F=U;break}}var V=re(re({},q),{},{x:q.left,y:q.top}),X=Math.min(I,V.x+V.width),Q=Math.min(H,V.y+V.height),G=z[F]&&z[F].value,se=Zw(E.state,E.props.data,F),W=z[F]?{x:j==="horizontal"?z[F].coordinate:X,y:j==="horizontal"?Q:z[F].coordinate}:e$;E.setState(re(re({},T),{},{activeLabel:G,activeCoordinate:W,activePayload:se,activeTooltipIndex:F}))}else E.setState(T)}),ke(E,"renderCursor",function(T){var S,j=E.state,k=j.isTooltipActive,R=j.activeCoordinate,P=j.activePayload,O=j.offset,I=j.activeTooltipIndex,H=j.tooltipAxisBandSize,F=E.getTooltipEventType(),L=(S=T.props.active)!==null&&S!==void 0?S:k,q=E.props.layout,z=T.key||"_recharts-cursor";return B.createElement(cye,{key:z,activeCoordinate:R,activePayload:P,activeTooltipIndex:I,chartName:n,element:T,isActive:L,layout:q,offset:O,tooltipAxisBandSize:H,tooltipEventType:F})}),ke(E,"renderPolarAxis",function(T,S,j){var k=fr(T,"type.axisType"),R=fr(E.state,"".concat(k,"Map")),P=T.type.defaultProps,O=P!==void 0?re(re({},P),T.props):T.props,I=R&&R[O["".concat(k,"Id")]];return D.cloneElement(T,re(re({},I),{},{className:Ue(k,I.className),key:T.key||"".concat(S,"-").concat(j),ticks:Hi(I,!0)}))}),ke(E,"renderPolarGrid",function(T){var S=T.props,j=S.radialLines,k=S.polarAngles,R=S.polarRadius,P=E.state,O=P.radiusAxisMap,I=P.angleAxisMap,H=Ls(O),F=Ls(I),L=F.cx,q=F.cy,z=F.innerRadius,U=F.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(k)?k:Hi(F,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(R)?R:Hi(H,!0).map(function(V){return V.coordinate}),cx:L,cy:q,innerRadius:z,outerRadius:U,key:T.key||"polar-grid",radialLines:j})}),ke(E,"renderLegend",function(){var T=E.state.formattedGraphicalItems,S=E.props,j=S.children,k=S.width,R=S.height,P=E.props.margin||{},O=k-(P.left||0)-(P.right||0),I=CL({children:j,formattedGraphicalItems:T,legendWidth:O,legendContent:u});if(!I)return null;var H=I.item,F=$j(I,uye);return D.cloneElement(H,re(re({},F),{},{chartWidth:k,chartHeight:R,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ke(E,"renderTooltip",function(){var T,S=E.props,j=S.children,k=S.accessibilityLayer,R=or(j,Kn);if(!R)return null;var P=E.state,O=P.isTooltipActive,I=P.activeCoordinate,H=P.activePayload,F=P.activeLabel,L=P.offset,q=(T=R.props.active)!==null&&T!==void 0?T:O;return D.cloneElement(R,{viewBox:re(re({},L),{},{x:L.left,y:L.top}),active:q,label:F,payload:q?H:[],coordinate:I,accessibilityLayer:k})}),ke(E,"renderBrush",function(T){var S=E.props,j=S.margin,k=S.data,R=E.state,P=R.offset,O=R.dataStartIndex,I=R.dataEndIndex,H=R.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Zh(E.handleBrushChange,T.props.onChange),data:k,x:ce(T.props.x)?T.props.x:P.left,y:ce(T.props.y)?T.props.y:P.top+P.height+P.brushBottom-(j.bottom||0),width:ce(T.props.width)?T.props.width:P.width,startIndex:O,endIndex:I,updateId:"brush-".concat(H)})}),ke(E,"renderReferenceElement",function(T,S,j){if(!T)return null;var k=E,R=k.clipPathId,P=E.state,O=P.xAxisMap,I=P.yAxisMap,H=P.offset,F=T.type.defaultProps||{},L=T.props,q=L.xAxisId,z=q===void 0?F.xAxisId:q,U=L.yAxisId,V=U===void 0?F.yAxisId:U;return D.cloneElement(T,{key:T.key||"".concat(S,"-").concat(j),xAxis:O[z],yAxis:I[V],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:R})}),ke(E,"renderActivePoints",function(T){var S=T.item,j=T.activePoint,k=T.basePoint,R=T.childIndex,P=T.isRange,O=[],I=S.props.key,H=S.item.type.defaultProps!==void 0?re(re({},S.item.type.defaultProps),S.item.props):S.item.props,F=H.activeDot,L=H.dataKey,q=re(re({index:R,dataKey:L,cx:j.x,cy:j.y,r:4,fill:oS(S.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Ee(F,!1)),Dm(F));return O.push(v.renderActiveDot(F,q,"".concat(I,"-activePoint-").concat(R))),k?O.push(v.renderActiveDot(F,re(re({},q),{},{cx:k.x,cy:k.y}),"".concat(I,"-basePoint-").concat(R))):P&&O.push(null),O}),ke(E,"renderGraphicChild",function(T,S,j){var k=E.filterFormatItem(T,S,j);if(!k)return null;var R=E.getTooltipEventType(),P=E.state,O=P.isTooltipActive,I=P.tooltipAxis,H=P.activeTooltipIndex,F=P.activeLabel,L=E.props.children,q=or(L,Kn),z=k.props,U=z.points,V=z.isRange,X=z.baseLine,Q=k.item.type.defaultProps!==void 0?re(re({},k.item.type.defaultProps),k.item.props):k.item.props,G=Q.activeDot,se=Q.hide,W=Q.activeBar,pe=Q.activeShape,Ae=!!(!se&&O&&q&&(G||W||pe)),Fe={};R!=="axis"&&q&&q.props.trigger==="click"?Fe={onClick:Zh(E.handleItemMouseEnter,T.props.onClick)}:R!=="axis"&&(Fe={onMouseLeave:Zh(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Zh(E.handleItemMouseEnter,T.props.onMouseEnter)});var de=D.cloneElement(T,re(re({},k.props),Fe));function ae(Lt){return typeof I.dataKey=="function"?I.dataKey(Lt.payload):null}if(Ae)if(H>=0){var J,K;if(I.dataKey&&!I.allowDuplicatedCategory){var fe=typeof I.dataKey=="function"?ae:"payload.".concat(I.dataKey.toString());J=Om(U,fe,F),K=V&&X&&Om(X,fe,F)}else J=U==null?void 0:U[H],K=V&&X&&X[H];if(pe||W){var ve=T.props.activeIndex!==void 0?T.props.activeIndex:H;return[D.cloneElement(T,re(re(re({},k.props),Fe),{},{activeIndex:ve})),null,null]}if(!Le(J))return[de].concat(Ec(E.renderActivePoints({item:k,activePoint:J,basePoint:K,childIndex:H,isRange:V})))}else{var De,Z=(De=E.getItemByXY(E.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:de},me=Z.graphicalItem,Xe=me.item,At=Xe===void 0?T:Xe,Nt=me.childIndex,He=re(re(re({},k.props),Fe),{},{activeIndex:Nt});return[D.cloneElement(At,He),null,null]}return V?[de,null,null]:[de,null]}),ke(E,"renderCustomized",function(T,S,j){return D.cloneElement(T,re(re({key:"recharts-customized-".concat(j)},E.props),E.state))}),ke(E,"renderMap",{CartesianGrid:{handler:ip,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ip},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ip},YAxis:{handler:ip},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((N=_.id)!==null&&N!==void 0?N:Uc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=CD(E.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return _ye(v,y),yye(v,[{key:"componentDidMount",value:function(){var N,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,C=N.children,E=N.data,T=N.height,S=N.layout,j=or(C,Kn);if(j){var k=j.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=Zw(this.state,E,k,R),O=this.state.tooltipTicks[k].coordinate,I=(this.state.offset.top+T)/2,H=S==="horizontal",F=H?{x:O,y:I}:{y:O,x:I},L=this.state.formattedGraphicalItems.find(function(z){var U=z.item;return U.type.name==="Scatter"});L&&(F=re(re({},F),L.props.points[k].tooltipPosition),P=L.props.points[k].tooltipPayload);var q={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:F};this.setState(q),this.renderCursor(j),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(N){Cb([or(N.children,Kn)],[or(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=or(this.props.children,Kn);if(N&&typeof N.props.shared=="boolean"){var C=N.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),T=Ese(E),S={chartX:Math.round(N.pageX-T.left),chartY:Math.round(N.pageY-T.top)},j=E.width/C.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,j);if(!k)return null;var R=this.state,P=R.xAxisMap,O=R.yAxisMap,I=this.getTooltipEventType(),H=Vj(this.state,this.props.data,this.props.layout,k);if(I!=="axis"&&P&&O){var F=Ls(P).scale,L=Ls(O).scale,q=F&&F.invert?F.invert(S.chartX):null,z=L&&L.invert?L.invert(S.chartY):null;return re(re({},S),{},{xValue:q,yValue:z},H)}return H?re(re({},S),H):null}},{key:"inRange",value:function(N,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,S=N/E,j=C/E;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,R=S>=k.left&&S<=k.left+k.width&&j>=k.top&&j<=k.top+k.height;return R?{x:S,y:j}:null}var P=this.state,O=P.angleAxisMap,I=P.radiusAxisMap;if(O&&I){var H=Ls(O);return mC({x:S,y:j},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,C=this.getTooltipEventType(),E=or(N,Kn),T={};E&&C==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Dm(this.props,this.handleOuterEvent);return re(re({},S),T)}},{key:"addListener",value:function(){Qy.on(Zy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qy.removeListener(Zy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,C,E){for(var T=this.state.formattedGraphicalItems,S=0,j=T.length;S<j;S++){var k=T[S];if(k.item===N||k.props.key===N.key||C===Xi(k.item.type)&&E===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,C=this.state.offset,E=C.left,T=C.top,S=C.height,j=C.width;return B.createElement("defs",null,B.createElement("clipPath",{id:N},B.createElement("rect",{x:E,y:T,height:S,width:j})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(C,E){var T=Lj(E,2),S=T[0],j=T[1];return re(re({},C),{},ke({},S,j.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(C,E){var T=Lj(E,2),S=T[0],j=T[1];return re(re({},C),{},ke({},S,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var C=this.state,E=C.formattedGraphicalItems,T=C.activeItem;if(E&&E.length)for(var S=0,j=E.length;S<j;S++){var k=E[S],R=k.props,P=k.item,O=P.type.defaultProps!==void 0?re(re({},P.type.defaultProps),P.props):P.props,I=Xi(P.type);if(I==="Bar"){var H=(R.data||[]).find(function(z){return dhe(N,z)});if(H)return{graphicalItem:k,payload:H}}else if(I==="RadialBar"){var F=(R.data||[]).find(function(z){return mC(N,z)});if(F)return{graphicalItem:k,payload:F}}else if(fx(k,T)||hx(k,T)||_f(k,T)){var L=Zpe({graphicalItem:k,activeTooltipItem:T,itemData:O.data}),q=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:re(re({},k),{},{childIndex:q}),payload:_f(k,T)?O.data[L]:k.props.data[L]}}}return null}},{key:"render",value:function(){var N=this;if(!s2(this))return null;var C=this.props,E=C.children,T=C.className,S=C.width,j=C.height,k=C.style,R=C.compact,P=C.title,O=C.desc,I=$j(C,dye),H=Ee(I,!1);if(R)return B.createElement(bj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(Pb,dl({},H,{width:S,height:j,title:P,desc:O}),this.renderClipPath(),o2(E,this.renderMap)));if(this.props.accessibilityLayer){var F,L;H.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,H.role=(L=this.props.role)!==null&&L!==void 0?L:"application",H.onKeyDown=function(z){N.accessibilityManager.keyboardEvent(z)},H.onFocus=function(){N.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return B.createElement(bj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",dl({className:Ue("recharts-wrapper",T),style:re({position:"relative",cursor:"default",width:S,height:j},k)},q,{ref:function(U){N.container=U}}),B.createElement(Pb,dl({},H,{width:S,height:j,title:P,desc:O,style:kye}),this.renderClipPath(),o2(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ke(b,"displayName",n),ke(b,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ke(b,"getDerivedStateFromProps",function(y,v){var _=y.dataKey,N=y.data,C=y.children,E=y.width,T=y.height,S=y.layout,j=y.stackOffset,k=y.margin,R=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var O=Uj(y);return re(re(re({},O),{},{updateId:0},x(re(re({props:y},O),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:N,prevWidth:E,prevHeight:T,prevLayout:S,prevStackOffset:j,prevMargin:k,prevChildren:C})}if(_!==v.prevDataKey||N!==v.prevData||E!==v.prevWidth||T!==v.prevHeight||S!==v.prevLayout||j!==v.prevStackOffset||!Tl(k,v.prevMargin)){var I=Uj(y),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=re(re({},Vj(v,N,S)),{},{updateId:v.updateId+1}),L=re(re(re({},I),H),F);return re(re(re({},L),x(re({props:y},L),v)),{},{prevDataKey:_,prevData:N,prevWidth:E,prevHeight:T,prevLayout:S,prevStackOffset:j,prevMargin:k,prevChildren:C})}if(!Cb(C,v.prevChildren)){var q,z,U,V,X=or(C,mc),Q=X&&(q=(z=X.props)===null||z===void 0?void 0:z.startIndex)!==null&&q!==void 0?q:R,G=X&&(U=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&U!==void 0?U:P,se=Q!==R||G!==P,W=!Le(N),pe=W&&!se?v.updateId:v.updateId+1;return re(re({updateId:pe},x(re(re({props:y},v),{},{updateId:pe,dataStartIndex:Q,dataEndIndex:G}),v)),{},{prevChildren:C,dataStartIndex:Q,dataEndIndex:G})}return null}),ke(b,"renderActiveDot",function(y,v,_){var N;return D.isValidElement(y)?N=D.cloneElement(y,v):Ce(y)?N=y(v):N=B.createElement(ox,v),B.createElement(Ke,{className:"recharts-active-dot",key:_},N)});var w=D.forwardRef(function(v,_){return B.createElement(b,dl({},v,{ref:_}))});return w.displayName=b.displayName,w},n$=yS({chartName:"BarChart",GraphicalChild:ti,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:ha}],formatAxisMap:y6}),$ye=yS({chartName:"PieChart",GraphicalChild:bs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dx},{axisType:"radiusAxis",AxisComp:cx}],formatAxisMap:wue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),r$=yS({chartName:"AreaChart",GraphicalChild:oi,axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:ha}],formatAxisMap:y6});const Fye=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Vye=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:Sm,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:X4,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:Ki,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:Bd,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:ai,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:gs,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:Ki,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:jn,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Mm,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>a.jsxs("button",{onClick:()=>t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[a.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),a.jsx(Mc,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(r$,{data:Fye,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Af,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(Kn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(oi,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(oi,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zd,{className:"w-6 h-6 text-orange-500"}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),a.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?a.jsx(fn,{className:"w-4 h-4 text-green-400"}):a.jsx(T0,{className:"w-4 h-4 text-orange-500"})]},r))}),a.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[a.jsx(ua,{className:"w-4 h-4"})," Aadir Requisito"]})]}),a.jsx(Cm,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ki,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[a.jsx(Xl,{className:"w-5 h-5 text-orange-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Uye=20,Bye=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:i,fetchProductsPaginatedAndFiltered:s}=Dt(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,x]=D.useState(!1),[b,w]=D.useState([]),[y,v]=D.useState(null),[_,N]=D.useState(!0),[C,E]=D.useState(!1),T=D.useRef(null),[S,j]=D.useState(null),[k,R]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[P,O]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[I,H]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[F,L]=D.useState({isFractionable:!1,saleUnitConversionFactor:1}),[q,z]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),U=D.useCallback(async(W=!1,pe=o,Ae=y)=>{E(!0);try{const Fe={limit:Uye,searchTerm:pe.toLowerCase().trim(),startAfterDoc:W?void 0:Ae,orderByField:"name",orderDirection:"asc"},{products:de,lastVisible:ae,hasMore:J}=await s(Fe);w(K=>W?de:[...K,...de]),v(ae),N(J)}catch(Fe){console.error("Error loading products:",Fe)}finally{E(!1)}},[o,y,s]);D.useEffect(()=>{t||U(!0,o,null)},[o,t,U]);const V=B.useMemo(()=>{let W=P.baseCost;P.discounts.forEach(de=>{de>0&&(W=W*(1-de/100))});const pe=W*(1+P.markup/100),Ae=pe*(1+P.ivaRate/100),Fe=F.isFractionable&&F.saleUnitConversionFactor?Ae*F.saleUnitConversionFactor:Ae;return{netCost:W,priceWithoutIva:pe,finalSalePricePrimaryUnit:Ae,finalSalePriceSaleUnit:Fe}},[P,F]),X=()=>{j(null),R({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),H({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),L({isFractionable:!1,saleUnitConversionFactor:1}),z({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},Q=W=>{j(W),W?(R({name:W.name,sku:W.sku,category:W.category,brand:W.brand,saleCurrency:W.saleCurrency||"ARS",supplierProductCode:W.supplierProductCode||"",imageUrl:W.imageUrl||"",primaryUnit:W.primaryUnit||"unidad",saleUnit:W.saleUnit||"unidad"}),O({baseCost:W.costPrice||0,ivaRate:21,discounts:[],markup:W.salePrice&&W.costPrice?(W.salePrice/(W.costPrice*1.21)-1)*100:30,supplierId:W.supplierId||"",purchaseCurrency:W.purchaseCurrency||"ARS"}),H({stock:W.stock,minStock:W.minStock||5,location:W.location||"",reorderPoint:W.reorderPoint||0,targetStock:W.targetStock||0,packQuantity:W.packQuantity||1}),L({isFractionable:W.isFractionable||!1,saleUnitConversionFactor:W.saleUnitConversionFactor||1}),z({isOnline:W.isOnline||!1,onlinePriceAdjustment:W.onlinePriceAdjustment||0,mlSync:W.mlSync||!1})):X(),u(!0)},G=W=>{var Ae;const pe=(Ae=W.target.files)==null?void 0:Ae[0];if(pe){const Fe=new FileReader;Fe.onload=de=>{R(ae=>{var J;return{...ae,imageUrl:(J=de.target)==null?void 0:J.result}})},Fe.readAsDataURL(pe)}},se=async()=>{if(x(!0),!k.name||!k.sku||!k.primaryUnit||!k.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),x(!1);return}if(P.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),x(!1);return}if(F.isFractionable&&(!F.saleUnitConversionFactor||F.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),x(!1);return}const W={sku:k.sku||"",name:k.name||"",supplierId:P.supplierId||null,costPrice:Number(P.baseCost),salePrice:Number(V.finalSalePricePrimaryUnit),stock:Number(I.stock),category:k.category||"General",brand:k.brand||"N/A",reorderPoint:Number(I.reorderPoint)||0,targetStock:Number(I.targetStock)||0,packQuantity:Number(I.packQuantity)||1,purchaseCurrency:P.purchaseCurrency||"ARS",saleCurrency:k.saleCurrency||"ARS",supplierProductCode:k.supplierProductCode||"",minStock:Number(I.minStock)||0,location:I.location||"",imageUrl:k.imageUrl||"",primaryUnit:k.primaryUnit,saleUnit:k.saleUnit,isFractionable:!!F.isFractionable,saleUnitConversionFactor:F.isFractionable?Number(F.saleUnitConversionFactor):null,isOnline:!!q.isOnline,onlinePriceAdjustment:q.isOnline?Number(q.onlinePriceAdjustment):null,mlSync:!!q.mlSync};try{S?await n(S.id,W):await e(W),u(!1),X(),U(!0)}catch(pe){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",pe)}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),a.jsxs("button",{onClick:()=>{Q(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:o,onChange:W=>l(W.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",k.primaryUnit,")"]}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",k.saleUnit,")"]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(W=>{var pe;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:W.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:W.sku})]}),a.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[W.stock," ",W.primaryUnit]}),a.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(pe=W.salePrice)==null?void 0:pe.toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right font-black",children:W.isFractionable&&W.saleUnitConversionFactor&&W.salePrice?`$${(W.salePrice*W.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("button",{onClick:()=>Q(W),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(cs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(W.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]},W.id)})})]}),C&&a.jsxs("div",{className:"p-10 text-center",children:[a.jsx($e,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[a.jsx("h2",{className:"text-xl font-black uppercase",children:S?"Editar Producto":"Nuevo Producto"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[600px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:Xl},{id:"costs",label:"Costos y Precios",icon:jn},{id:"inventory",label:"Inventario Fsico",icon:Rm},{id:"fractioned",label:"Venta Fraccionada",icon:Ql},{id:"ecommerce",label:"E-commerce",icon:po}].map(W=>a.jsxs("button",{onClick:()=>f(W.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===W.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[a.jsx(W.icon,{className:"w-4 h-4 inline-block mr-2"}),W.label]},W.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Xl,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:k.name||"",onChange:W=>R({...k,name:W.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:k.sku||"",onChange:W=>R({...k,sku:W.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:k.primaryUnit||"unidad",onChange:W=>R({...k,primaryUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:k.saleUnit||"unidad",onChange:W=>R({...k,saleUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),a.jsx("input",{value:k.category||"",onChange:W=>R({...k,category:W.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsx("input",{value:k.brand||"",onChange:W=>R({...k,brand:W.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),a.jsx("input",{value:k.supplierProductCode||"",onChange:W=>R({...k,supplierProductCode:W.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),a.jsxs("select",{value:k.saleCurrency||"ARS",onChange:W=>R({...k,saleCurrency:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Sb,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:k.imageUrl?a.jsx("img",{src:k.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):a.jsx(Sb,{className:"w-8 h-8 text-slate-300"})}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{var W;return(W=T.current)==null?void 0:W.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Im,{className:"w-4 h-4"})," Subir Imagen"]}),a.jsx("input",{ref:T,type:"file",className:"hidden",accept:"image/*",onChange:G})]})]})]})]}),d==="costs"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(jn,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:P.baseCost||"",onChange:W=>O({...P,baseCost:Number(W.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),a.jsx("input",{type:"number",value:P.ivaRate||"",onChange:W=>O({...P,ivaRate:Number(W.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),a.jsx("input",{type:"number",value:P.markup||"",onChange:W=>O({...P,markup:Number(W.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),a.jsxs("select",{value:P.supplierId||"",onChange:W=>O({...P,supplierId:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Ninguno"}),i.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",V.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Rm,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),a.jsx("input",{type:"number",value:I.stock||"",onChange:W=>H({...I,stock:Number(W.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),a.jsx("input",{type:"number",value:I.minStock||"",onChange:W=>H({...I,minStock:Number(W.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),a.jsx("input",{value:I.location||"",onChange:W=>H({...I,location:W.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ql,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.isFractionable||!1,onChange:W=>L({...F,isFractionable:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),F.isFractionable&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",k.saleUnit," = ? ",k.primaryUnit,")"]}),a.jsx("input",{type:"number",value:F.saleUnitConversionFactor||"",onChange:W=>L({...F,saleUnitConversionFactor:Number(W.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),d==="ecommerce"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(po,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:q.isOnline||!1,onChange:W=>z({...q,isOnline:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:se,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[h?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},qye=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:i,updateProduct:s,boxes:o,addTransaction:l,updateBox:c}=Dt(),[u,d]=D.useState(""),[f,h]=D.useState([]),[x,b]=D.useState(!1),[w,y]=D.useState(!1),[v,_]=D.useState(!1),[N,C]=D.useState({name:"",price:0,quantity:1}),[E,T]=D.useState(null),[S,j]=D.useState(""),[k,R]=D.useState(!1),[P,O]=D.useState("ticket"),[I,H]=D.useState([]),[F,L]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[q,z]=D.useState([]),[U,V]=D.useState(!1),[X,Q]=D.useState(null),[G,se]=D.useState("primary"),W=D.useRef(null),pe=D.useCallback(Z=>{W.current&&clearTimeout(W.current),W.current=setTimeout(async()=>{if(Z.length<2){z([]);return}V(!0);try{const{products:me}=await r({limit:8,searchTerm:Z.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});z(me)}finally{V(!1)}},300)},[r]),Ae=Z=>{Z.isFractionable&&Z.saleUnitConversionFactor&&Z.saleUnit!==Z.primaryUnit?(Q(Z),se("primary")):(Fe(Z,Z.primaryUnit),Q(null))},Fe=(Z,me)=>{let Xe=Z.salePrice,At=1;me===Z.saleUnit&&Z.isFractionable&&Z.saleUnitConversionFactor&&(Xe=Z.salePrice*Z.saleUnitConversionFactor,At=Z.saleUnitConversionFactor);const Nt=f.findIndex(He=>He.id===Z.id&&He.selectedSaleUnit===me);h(Nt!==-1?f.map((He,Lt)=>Lt===Nt?{...He,quantity:He.quantity+1}:He):[...f,{id:Z.id,sku:Z.sku,name:Z.name,brand:Z.brand,price:parseFloat(Xe.toFixed(2)),quantity:1,stockBeforeSale:Z.stock,primaryUnit:Z.primaryUnit,selectedSaleUnit:me,saleUnitConversionFactor:At}]),d(""),z([]),Q(null)},de=()=>{!N.name||N.price<=0||(h([...f,{id:`manual-${Date.now()}`,sku:"MANUAL",name:N.name,brand:"Venta Libre",price:N.price,quantity:N.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),y(!1),C({name:"",price:0,quantity:1}))},ae=f.reduce((Z,me)=>Z+me.price*me.quantity,0),J=I.reduce((Z,me)=>Z+me.amount,0),K=ae-J,fe=D.useMemo(()=>S?i.filter(Z=>Z.name.toLowerCase().includes(S.toLowerCase())||Z.cuit.includes(S)).slice(0,5):[],[i,S]),ve=()=>{if(F.amount<=0)return;if(!F.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const Z=t.paymentCommissions[F.method]||0,me=parseFloat((F.amount*(Z/100)).toFixed(2)),Xe=parseFloat((F.amount-me).toFixed(2));H([...I,{...F,id:Date.now().toString(),commissionRate:Z,commissionAmount:me,netAmount:Xe}]),L({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},De=async()=>{if(P!=="presupuesto"&&Math.abs(K)>.01){alert(`Falta cubrir $${K.toLocaleString()} del total.`);return}_(!0);try{const Z=f.map(me=>({id:me.id,sku:me.sku,name:me.name,brand:me.brand,price:me.price,quantity:me.quantity,subtotal:parseFloat((me.price*me.quantity).toFixed(2)),isManual:me.isManual,selectedSaleUnit:me.selectedSaleUnit}));if(P!=="presupuesto"){for(const me of f)if(!me.isManual){const Xe=me.quantity*me.saleUnitConversionFactor;await s(me.id,{stock:me.stockBeforeSale-Xe})}for(const me of I){const Xe=o.find(At=>At.id===me.targetBoxId);Xe&&(await l({date:new Date().toISOString(),amount:me.netAmount,type:"ingreso",boxId:me.targetBoxId,category:"venta",description:`Venta ${P.toUpperCase()} - Cliente: ${(E==null?void 0:E.name)||"Mostrador"}`,paymentDetails:[me]}),await c(Xe.id,{balance:Xe.balance+me.netAmount}))}}await e({clientName:(E==null?void 0:E.name)||"Mostrador",clientId:(E==null?void 0:E.id)||null,items:Z,total:ae,paymentDetails:I,docType:P,date:new Date().toISOString(),status:P==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),b(!1),H([]),T(null)}catch(Z){console.error(Z),alert("Error al procesar la venta.")}finally{_(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),a.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[a.jsx(ua,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:Z=>{d(Z.target.value),pe(Z.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[U&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx($e,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),q.map(Z=>a.jsxs("div",{onClick:()=>Ae(Z),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(l5,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:Z.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[Z.sku,"  Stock: ",Z.stock]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",Z.salePrice.toLocaleString()]})]},Z.id))]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:a.jsx("div",{className:"relative",children:E?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(Xf,{className:"w-5 h-5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:E.name})})]}),a.jsx("button",{onClick:()=>T(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(Je,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:Z=>{j(Z.target.value),R(!0)},onFocus:()=>R(!0)}),k&&S.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:a.jsx("div",{className:"p-1 space-y-1",children:fe.map(Z=>a.jsxs("button",{onClick:()=>{T(Z),j(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[a.jsx("span",{className:"font-bold text-xs",children:Z.name}),a.jsx(Ti,{className:"w-3 h-3 text-slate-300"})]},Z.id))})})]})})}),a.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Gd,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:f.map((Z,me)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:Z.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[Z.quantity," x $",Z.price.toLocaleString()]})]}),a.jsx("button",{onClick:()=>h(f.filter((Xe,At)=>At!==me)),className:"text-slate-300 hover:text-red-500",children:a.jsx(Rn,{className:"w-4 h-4"})})]},me))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ae.toLocaleString()]})]}),a.jsxs("button",{disabled:f.length===0,onClick:()=>b(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(Ti,{className:"w-6 h-6"})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(Je,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:I.map(Z=>{var me;return a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:Z.method.replace("_"," ")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(me=o.find(Xe=>Xe.id===Z.targetBoxId))==null?void 0:me.name]}),Z.commissionAmount>0&&a.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",Z.commissionRate,"% (-$",Z.commissionAmount,")"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",Z.amount.toLocaleString()]}),a.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",Z.netAmount.toLocaleString()]})]}),a.jsx("button",{onClick:()=>H(I.filter(Xe=>Xe.id!==Z.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]},Z.id)})}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"space-y-1 md:col-span-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),a.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.method,onChange:Z=>L({...F,method:Z.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),a.jsxs("div",{className:"space-y-1 md:col-span-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),a.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.amount||"",onChange:Z=>L({...F,amount:parseFloat(Z.target.value)||0})})]})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),a.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:F.targetBoxId,onChange:Z=>L({...F,targetBoxId:Z.target.value}),children:[a.jsx("option",{value:"",children:"Seleccionar Caja..."}),o.filter(Z=>Z.status==="abierta").map(Z=>a.jsxs("option",{value:Z.id,children:[Z.name," ($",Z.balance.toLocaleString(),")"]},Z.id))]})]})]}),F.amount>0&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[a.jsx(Zr,{className:"w-4 h-4 text-orange-600"}),a.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[F.method]||0,"% (-$",(F.amount*((t.paymentCommissions[F.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(F.amount*(1-(t.paymentCommissions[F.method]||0)/100)).toFixed(2)]})]}),a.jsxs("button",{onClick:ve,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:P})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ae.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"A Recibir (Neto)"}),a.jsxs("span",{children:["$",I.reduce((Z,me)=>Z+me.netAmount,0).toLocaleString()]})]})]}),a.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),a.jsxs("span",{className:K>0?"text-red-500":"text-orange-500",children:["$",K.toLocaleString()]})]})})]}),a.jsxs("button",{onClick:De,disabled:v||P!=="presupuesto"&&Math.abs(K)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[v?a.jsx($e,{className:"w-6 h-6 animate-spin"}):a.jsx(fn,{className:"w-6 h-6"}),v?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>y(!1),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:N.name,onChange:Z=>C({...N,name:Z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:N.price||"",onChange:Z=>C({...N,price:parseFloat(Z.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),a.jsx("button",{onClick:de,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var zye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gye,Hye;function Wye(){return{geminiUrl:Gye,vertexUrl:Hye}}function Kye(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Wye();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(s+1),n[u])}else for(const u of c)g(u,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Jye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&s.length>l)for(let c=l;c<s.length;c++){const u=s[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}e1(t,i,s,0,o)}}function e1(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])e1(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;s in o&&e1(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yye(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Xye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Zye(o)),e}function Qye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],eve(o)),e}function Zye(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>tve(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function eve(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>nve(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function tve(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],lve(n)),e}function nve(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],cve(n)),e}function rve(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ive(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function sve(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],ave(o)),e}function ave(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function i$(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],ove(o)),e}function ove(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function lve(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],vS(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function cve(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],vS(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qj||(qj={}));var zj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(zj||(zj={}));var Gj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gj||(Gj={}));var dt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dt||(dt={}));var Hj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hj||(Hj={}));var Wj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Wj||(Wj={}));var Kj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kj||(Kj={}));var Jj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jj||(Jj={}));var Yj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Yj||(Yj={}));var Xj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Xj||(Xj={}));var Qj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Qj||(Qj={}));var Zj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Zj||(Zj={}));var eP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eP||(eP={}));var tP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tP||(tP={}));var nP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nP||(nP={}));var rP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(rP||(rP={}));var iP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iP||(iP={}));var sP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sP||(sP={}));var aP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(aP||(aP={}));var oP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(oP||(oP={}));var lP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lP||(lP={}));var Lg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Lg||(Lg={}));var cP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cP||(cP={}));var uP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uP||(uP={}));var dP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dP||(dP={}));var t1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(t1||(t1={}));var fP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fP||(fP={}));var hP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(hP||(hP={}));var n1;(function(t){t.COLLECTION="COLLECTION"})(n1||(n1={}));var pP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pP||(pP={}));var mP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mP||(mP={}));var gP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gP||(gP={}));var xP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xP||(xP={}));var yP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yP||(yP={}));var vP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vP||(vP={}));var bP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bP||(bP={}));var wP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wP||(wP={}));var _P;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_P||(_P={}));var NP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(NP||(NP={}));var SP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(SP||(SP={}));var EP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(EP||(EP={}));var TP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(TP||(TP={}));var AP;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(AP||(AP={}));var kP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(kP||(kP={}));var CP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(CP||(CP={}));var jP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(jP||(jP={}));var PP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(PP||(PP={}));var IP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IP||(IP={}));var RP;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(RP||(RP={}));var MP;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(MP||(MP={}));var OP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OP||(OP={}));var DP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(DP||(DP={}));var LP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(LP||(LP={}));var $P;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($P||($P={}));var FP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FP||(FP={}));var VP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(VP||(VP={}));var fl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class r1{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Pu{get text(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,b]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class UP{}class BP{}class uve{}class dve{}class fve{}class hve{}class qP{}class zP{}class GP{}class pve{}class $g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $g;let i;const s=e;return n?i=Qye(s):i=Xye(s),Object.assign(r,i),r}}class HP{}class WP{}class KP{}class JP{}class mve{}class gve{}class xve{}class bS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bS,s=sve(e);return Object.assign(r,s),r}}class yve{}class vve{}class bve{}class YP{}class wve{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class _ve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wS,s=i$(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s$(t,e){const n=tt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function a$(t){return Array.isArray(t)?t.map(e=>Fg(e)):[Fg(t)]}function Fg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function o$(t){const e=Fg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l$(t){const e=Fg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function c$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>XP(e)):[XP(t)]}function i1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ZP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Cn(t){if(t==null)throw new Error("ContentUnion is required");return i1(t)?t:{role:"user",parts:c$(t)}}function _S(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Cn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Cn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Cn(n)):[Cn(e)]}function Pr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(QP(t)||ZP(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cn(t)]}const e=[],n=[],r=i1(t[0]);for(const i of t){const s=i1(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(QP(i)||ZP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:c$(n)}),e}function Nve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dt).includes(n[0].toUpperCase())?n[0].toUpperCase():dt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dt).includes(r.toUpperCase())?r.toUpperCase():dt.TYPE_UNSPECIFIED})}}function jl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Nve(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(dt).includes(l.toUpperCase())?l.toUpperCase():dt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=jl(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(jl(u))}e[o]=c}else if(i.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=jl(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function NS(t){return jl(t)}function SS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ES(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jl(e.response));return t}function Yc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Sve(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function _s(t,e){if(typeof e!="string")throw new Error("name must be a string");return Sve(t,e,"cachedContents")}function u$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _a(t){return vS(t)}function Eve(t){return t!=null&&typeof t=="object"&&"name"in t}function Tve(t){return t!=null&&typeof t=="object"&&"video"in t}function Ave(t){return t!=null&&typeof t=="object"&&"uri"in t}function d$(t){var e;let n;if(Eve(t)&&(n=t.name),!(Ave(t)&&(n=t.uri,n===void 0))&&!(Tve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function f$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function h$(t){for(const e of["models","tunedModels","publisherModels"])if(kve(t,e))return t[e];return[]}function kve(t,e){return t!==null&&typeof t=="object"&&e in t}function Cve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jve(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=Cve(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function p$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Pve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function m$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function g$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ive(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>fbe(o))),g(e,["inlinedResponses"],s)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["inlinedEmbedContentResponses"],s)}return e}function Rve(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Mve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Op(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],g$(i));const s=p(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],Ive(m$(u))),e}function s1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],g$(i));const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],Ove(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],Rve(m$(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function Ove(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Dve(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>dbe(t,o))),g(n,["requests","requests"],s)}return n}function Lve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $ve(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Fve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Vve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Uve(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Bve(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Bve(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function x$(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vbe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function qve(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function zve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Mve(Pve(i))),n}function eI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Dve(t,p$(t,i)));const s=p(e,["config"]);return s!=null&&qve(s,n),n}function Gve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],tt(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],Lve(p$(t,i)));const s=p(e,["config"]);return s!=null&&zve(s,n),n}function Hve(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Wve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],ebe(t,i));const s=p(e,["config"]);return s!=null&&Hve(s,n),n}function Kve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Jve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Yve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function Xve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function Qve(t,e){const n={},r=p(e,["contents"]);if(r!=null){let s=_S(t,r);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["requests[]","request","content"],s)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],Zve(i,n)),Jye(n,{"requests[].*":"requests[].request.*"})),n}function Zve(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ebe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],Qve(t,i)),n}function tbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ibe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],x$(Cn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],NS(v));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let I=N;Array.isArray(I)&&(I=I.map(H=>bbe(H))),g(n,["safetySettings"],I)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let I=Yc(C);Array.isArray(I)&&(I=I.map(H=>_be(Jc(H)))),g(n,["tools"],I)}const E=p(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],wbe(E)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&g(n,["cachedContent"],_s(t,T));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],SS(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],ube(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function sbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Uve(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function abe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function obe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function lbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function cbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ube(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let l=Pr(i);Array.isArray(l)&&(l=l.map(c=>x$(c))),g(n,["request","contents"],l)}const s=p(e,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],ibe(t,o,p(n,["request"],{}))),n}function fbe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],sbe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function hbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function mbe(t){const e={},n=p(t,["config"]);return n!=null&&hbe(n,e),e}function gbe(t){const e={},n=p(t,["config"]);return n!=null&&pbe(n,e),e}function xbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Op(o))),g(e,["batchJobs"],s)}return e}function ybe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>s1(o))),g(e,["batchJobs"],s)}return e}function vbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],tbe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],nbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],$ve(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function bbe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function wbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],rbe(r)),e}function _be(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],lbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],cbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(hs||(hs={}));class Po{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nbe extends ws{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=eI(this.apiClient,e),r=n._url,i=xe("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Gve(this.apiClient,e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>s1(d))}else{const u=eI(this.apiClient,e);return l=xe("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Op(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wve(this.apiClient,e);return s=xe("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Op(c))}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=obe(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>s1(d))}else{const u=abe(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Op(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const c=Vve(this.apiClient,e);o=xe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Fve(this.apiClient,e);o=xe("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=gbe(e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ybe(d),h=new YP;return Object.assign(h,f),h})}else{const u=mbe(e);return l=xe("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=xbe(d),h=new YP;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Jve(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Xve(d))}else{const u=Kve(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Yve(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sbe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tI(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Wbe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Ebe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=Pr(o);Array.isArray(d)&&(d=d.map(f=>tI(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],tI(Cn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Jbe(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Kbe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Tbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=Pr(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],Cn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Ybe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function Abe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],s$(t,r));const i=p(e,["config"]);return i!=null&&Ebe(i,n),n}function kbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],s$(t,r));const i=p(e,["config"]);return i!=null&&Tbe(i,n),n}function Cbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_s(t,r)),n}function jbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_s(t,r)),n}function Pbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Ibe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Rbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Mbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Obe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dbe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Lbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_s(t,r)),n}function $be(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_s(t,r)),n}function Fbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Vbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Ube(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Bbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function qbe(t){const e={},n=p(t,["config"]);return n!=null&&Ube(n,e),e}function zbe(t){const e={},n=p(t,["config"]);return n!=null&&Bbe(n,e),e}function Gbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Hbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Wbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],Rbe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Mbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Sbe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Kbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Obe(r)),e}function Jbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Fbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Vbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Ybe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Dbe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Xbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Qbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Zbe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],_s(t,r));const i=p(e,["config"]);return i!=null&&Xbe(i,n),n}function ewe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],_s(t,r));const i=p(e,["config"]);return i!=null&&Qbe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class twe extends ws{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=kbe(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Abe(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$be(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Lbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=jbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ibe(d),h=new KP;return Object.assign(h,f),h})}else{const u=Cbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Pbe(d),h=new KP;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ewe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Zbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=zbe(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Hbe(d),h=new JP;return Object.assign(h,f),h})}else{const u=qbe(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Gbe(d),h=new JP;return Object.assign(h,f),h})}}}function Vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(t){return this instanceof Ie?(this.v=t,this):new Ie(t)}function ni(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(b){return Promise.resolve(b).then(x,f)}}function l(x,b){r[x]&&(i[x]=function(w){return new Promise(function(y,v){s.push([x,w,y,v])>1||c(x,w)})},b&&(i[x]=b(i[x])))}function c(x,b){try{u(r[x](b))}catch(w){h(s[0][3],w)}}function u(x){x.value instanceof Ie?Promise.resolve(x.value.v).then(d,f):h(s[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,b){x(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ri(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nI=="function"?nI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,c){o=t[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nwe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:y$(n)}function y$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rwe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!y$(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class iwe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new swe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class swe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),rwe(s)}async sendMessage(e){var n;await this.sendPromise;const r=Cn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const c=await i,u=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Cn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?rI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ni(this,arguments,function*(){var i,s,o,l,c,u;const d=[];try{for(var f=!0,h=ri(e),x;x=yield Ie(h.next()),i=x.done,!i;f=!0){l=x.value,f=!1;const b=l;if(nwe(b)){const w=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;w!==void 0&&d.push(w)}yield yield Ie(b)}}catch(b){s={error:b}}finally{try{!f&&!i&&(o=h.return)&&(yield Ie(o.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rI(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,jf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function awe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function owe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function lwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],d$(n)),e}function cwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function uwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],d$(n)),e}function dwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function fwe(t){const e={},n=p(t,["config"]);return n!=null&&dwe(n,e),e}function hwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pwe extends ws{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fwe(e);return s=xe("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=hwe(c),d=new yve;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=awe(e);return s=xe("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=owe(c),d=new vve;return Object.assign(d,u),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uwe(e);return s=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lwe(e);return s=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=cwe(c),d=new bve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function mwe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Pwe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function gwe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ywe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vwe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const v=p(t,["seed"]);v!=null&&g(e,["seed"],v);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const E=p(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const T=p(t,["topK"]);T!=null&&g(e,["topK"],T);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bwe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function wwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function _we(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],ES(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],mwe(Cn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let T=Yc(w);Array.isArray(T)&&(T=T.map(S=>Rwe(Jc(S)))),g(e,["setup","tools"],T)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],Iwe(y));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Nwe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],vwe(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],ES(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],Cn(b));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let S=Yc(w);Array.isArray(S)&&(S=S.map(j=>Mwe(Jc(j)))),g(e,["setup","tools"],S)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],y);const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);e!==void 0&&E!=null&&g(e,["setup","proactivity"],E);const T=p(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&g(e,["setup","explicitVadSignal"],T),n}function Swe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],_we(i,n)),n}function Ewe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Nwe(i,n)),n}function Twe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Awe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function kwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=a$(n);Array.isArray(u)&&(u=u.map(d=>Dp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Dp(l$(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],Dp(o$(s)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Cwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=a$(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],l$(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],o$(s));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function jwe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const s=p(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Owe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],Dwe(d)),e}function Pwe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],gwe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],xwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Dp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Iwe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rwe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],bwe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],wwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Mwe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>ywe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Owe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function Dwe(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lwe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $we(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Fwe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Fwe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Vwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Pr(i);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["contents"],s)}return n}function Uwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["tokensInfo"],i)}return e}function Bwe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],qwe(r)),e}function qwe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function bx(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Q1e(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function zwe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Gwe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hwe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Cn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>_$(l))),g(e,["tools"],o)}const s=p(t,["generationConfig"]);return e!==void 0&&s!=null&&g(e,["generationConfig"],L1e(s)),n}function Wwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let o=Pr(i);Array.isArray(o)&&(o=o.map(l=>bx(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Gwe(s),n}function Kwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let o=Pr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Hwe(s,n),n}function Jwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function Ywe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Xwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function Qwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function Zwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function e1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function t1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function n1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>i_e(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&t1e(o,n),n}function r1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wx(s))),g(e,["generatedImages"],i)}return e}function i1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function s1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const s=p(t,["outputDimensionality"]);e!==void 0&&s!=null&&g(e,["parameters","outputDimensionality"],s);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function a1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let l=_S(t,i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const s=p(e,["config"]);s!=null&&i1e(s,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],tt(t,o)),n}function o1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let o=_S(t,i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const s=p(e,["config"]);return s!=null&&s1e(s,n),n}function l1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function c1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Bwe(o))),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function u1e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function d1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function f1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function h1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function p1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function m1e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],bx(Cn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],NS(v));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let I=N;Array.isArray(I)&&(I=I.map(H=>s_e(H))),g(n,["safetySettings"],I)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let I=Yc(C);Array.isArray(I)&&(I=I.map(H=>f_e(Jc(H)))),g(n,["tools"],I)}const E=p(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],d_e(E)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&g(n,["cachedContent"],_s(t,T));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],SS(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],B1e(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function g1e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Cn(i));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],NS(v));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const N=p(e,["routingConfig"]);N!=null&&g(r,["routingConfig"],N);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let q=E;Array.isArray(q)&&(q=q.map(z=>z)),g(n,["safetySettings"],q)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let q=Yc(T);Array.isArray(q)&&(q=q.map(z=>_$(Jc(z)))),g(n,["tools"],q)}const S=p(e,["toolConfig"]);n!==void 0&&S!=null&&g(n,["toolConfig"],S);const j=p(e,["labels"]);n!==void 0&&j!=null&&g(n,["labels"],j);const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],_s(t,k));const R=p(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const P=p(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],SS(O));const I=p(e,["audioTimestamp"]);I!=null&&g(r,["audioTimestamp"],I);const H=p(e,["thinkingConfig"]);H!=null&&g(r,["thinkingConfig"],H);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],q1e(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const L=p(e,["modelArmorConfig"]);return n!==void 0&&L!=null&&g(n,["modelArmorConfig"],L),r}function iI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let o=Pr(i);Array.isArray(o)&&(o=o.map(l=>bx(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],m1e(t,s,n)),n}function sI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["contents"]);if(i!=null){let o=Pr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],g1e(t,s,n)),n}function aI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>$we(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function oI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function x1e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const s=p(t,["guidanceScale"]);if(e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function y1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function v1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&x1e(s,n),n}function b1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&y1e(s,n),n}function w1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>R1e(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],b$(i)),e}function _1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>wx(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],w$(i)),e}function N1e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],_x(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>E_e(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function S1e(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["fps"]);e!==void 0&&s!=null&&g(e,["parameters","fps"],s);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const b=p(t,["generateAudio"]);e!==void 0&&b!=null&&g(e,["parameters","generateAudio"],b);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],ci(w));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let N=y;Array.isArray(N)&&(N=N.map(C=>T_e(C))),g(e,["instances[0]","referenceImages"],N)}const v=p(t,["mask"]);e!==void 0&&v!=null&&g(e,["instances[0]","mask"],S_e(v));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function E1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],C1e(o)),e}function T1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],j1e(o)),e}function A1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],_x(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],N$(o));const l=p(e,["source"]);l!=null&&P1e(l,n);const c=p(e,["config"]);return c!=null&&N1e(c,n),n}function k1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],ci(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],S$(o));const l=p(e,["source"]);l!=null&&I1e(l,n);const c=p(e,["config"]);return c!=null&&S1e(c,n),n}function C1e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>O1e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function j1e(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>D1e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function P1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],_x(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],N$(s)),n}function I1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ci(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],S$(s)),n}function R1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],z1e(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],b$(i)),e}function wx(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],v$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],w$(i));const s=p(t,["prompt"]);return s!=null&&g(e,["enhancedPrompt"],s),e}function M1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],v$(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["labels"],i)}return e}function O1e(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],__e(n)),e}function D1e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],N_e(n)),e}function L1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const v=p(t,["seed"]);v!=null&&g(e,["seed"],v);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const E=p(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const T=p(t,["topK"]);T!=null&&g(e,["topK"],T);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function F1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function V1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function U1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function B1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function q1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const s=p(t,["outputMimeType"]);s!=null&&g(e,["imageOutputOptions","mimeType"],s);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function z1e(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],_a(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function v$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],_a(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function _x(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],_a(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ci(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],_a(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function G1e(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],f$(t,l)),r}function H1e(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],f$(t,l)),r}function W1e(t,e){const n={},r=p(e,["config"]);return r!=null&&G1e(t,r,n),n}function K1e(t,e){const n={},r=p(e,["config"]);return r!=null&&H1e(t,r,n),n}function J1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=h$(i);Array.isArray(s)&&(s=s.map(o=>a1(o))),g(e,["models"],s)}return e}function Y1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=h$(i);Array.isArray(s)&&(s=s.map(o=>o1(o))),g(e,["models"],s)}return e}function X1e(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function a1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["version"]);s!=null&&g(e,["version"],s);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],h_e(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const b=p(t,["thinking"]);return b!=null&&g(e,["thinking"],b),e}function o1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["versionId"]);s!=null&&g(e,["version"],s);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>u1e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],p_e(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function Q1e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],d1e(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],f1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Lwe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Z1e(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],ci(n)),e}function e_e(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function t_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["source"]);i!=null&&r_e(i,n);const s=p(e,["config"]);return s!=null&&e_e(s,n),n}function n_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wx(i))),g(e,["generatedImages"],r)}return e}function r_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],ci(i));const s=p(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Z1e(l))),g(e,["instances[0]","productImages"],o)}return n}function i_e(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],ci(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const s=p(t,["maskImageConfig"]);s!=null&&g(e,["maskImageConfig"],X1e(s));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],zwe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function b$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function w$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function s_e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function a_e(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],ci(n)),e}function o_e(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const s=p(t,["confidenceThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","confidenceThreshold"],s);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function l_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["source"]);i!=null&&u_e(i,n);const s=p(e,["config"]);return s!=null&&o_e(s,n),n}function c_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>M1e(i))),g(e,["generatedMasks"],r)}return e}function u_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ci(i));const s=p(t,["scribbleImage"]);return e!==void 0&&s!=null&&g(e,["instances[0]","scribble"],a_e(s)),n}function d_e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],h1e(r)),e}function f_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],V1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],U1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function _$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>p1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function h_e(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function p_e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function m_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function g_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function x_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],tt(t,r));const i=p(e,["config"]);return i!=null&&m_e(i,n),n}function y_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["config"]);return i!=null&&g_e(i,n),n}function v_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function b_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],ci(i));const s=p(e,["upscaleFactor"]);s!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=p(e,["config"]);return o!=null&&v_e(o,n),n}function w_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wx(s))),g(e,["generatedImages"],i)}return e}function __e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],_a(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function N_e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],_a(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function S_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],ci(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function E_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],_x(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function T_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ci(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function N$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],_a(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function S$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],_a(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function k_e(t){const e={},n=p(t,["config"]);return n!=null&&A_e(n,e),e}function C_e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function j_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&C_e(r,e),e}function P_e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function I_e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["customMetadata"],s)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function R_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],O_e(o)),e}function M_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&I_e(i,e),e}function O_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function D_e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function L_e(t){const e={},n=p(t,["config"]);return n!=null&&D_e(n,e),e}function $_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["fileSearchStores"],s)}return e}function E$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function F_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&E$(r,e),e}function V_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U_e="Content-Type",B_e="X-Server-Timeout",q_e="User-Agent",l1="x-goog-api-client",z_e="1.38.0",G_e=`google-genai-sdk/${z_e}`,H_e="v1beta1",W_e="v1beta";class K_e{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:H_e}else{if(!this.clientOptions.apiKey)throw new jf({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:W_e,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===n1.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&J_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lI(i),new r1(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lI(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ni(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Ie(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(d,{stream:!0});try{const b=JSON.parse(f);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),y=w.status,v=w.code,_=`got status: ${y}. ${JSON.stringify(b)}`;if(v>=400&&v<600)throw new jf({message:_,status:v})}}catch(b){if(b.name==="ApiError")throw b}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const y of c){const v=o.indexOf(y);v!==-1&&(h===-1||v<h)&&(h=v,x=y.length)}if(h===-1)break;const b=o.substring(0,h);o=o.substring(h+x);const w=b.trim();if(w.startsWith(l)){const y=w.substring(l.length).trim();try{const v=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ie(new r1(v))}catch(v){throw new Error(`exception parsing stream chunk ${y}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=G_e+" "+this.clientOptions.userAgentExtra;return e[q_e]=n,e[l1]=n,e[U_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(B_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},u=this.getFileName(e),d=xe("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,n==null?void 0:n.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),l=String(o.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&E$(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function lI(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new jf({message:i,status:n}):new Error(i)}}function J_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_e="mcp_used/unknown";let X_e=!1;function T$(t){for(const e of t)if(Q_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X_e}function A$(t){var e;const n=(e=t[l1])!==null&&e!==void 0?e:"";t[l1]=(n+` ${Y_e}`).trimStart()}function Q_e(t){return t!==null&&typeof t=="object"&&t instanceof TS}function Z_e(t){return ni(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield Ie(n.listTools({cursor:i}));for(const l of o.tools)yield yield Ie(l),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class TS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new TS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,ri(Z_e(d))),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const f=i;o.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),jve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eNe(t,e,n){const r=new _ve;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class tNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=iNe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(N=>{u=N}),f=e.callbacks,h=function(){u({})},x=this.apiClient,b={onopen:h,onmessage:N=>{eNe(x,f.onmessage,N)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(N){}},w=this.webSocketFactory.create(c,rNe(o),b);w.connect(),await d;const _={setup:{model:tt(this.apiClient,e.model)}};return w.send(JSON.stringify(_)),new nNe(w,this.apiClient)}}class nNe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Awe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Twe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function rNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sNe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aNe(t,e,n){const r=new wve;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=jwe(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class oNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tNe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&T$(e.config.tools)&&A$(f);const h=dNe(f);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),R=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),O=!!k&&!!R||!!P;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const k=this.apiClient.getApiKey();let R="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${P}=${k}`}let x=()=>{};const b=new Promise(k=>{x=k}),w=e.callbacks,y=function(){var k;(k=w==null?void 0:w.onopen)===null||k===void 0||k.call(w),x({})},v=this.apiClient,_={onopen:y,onmessage:k=>{aNe(v,w.onmessage,k)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(k){}},N=this.webSocketFactory.create(d,uNe(h),_);N.connect(),await b;let C=tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const k=this.apiClient.getProject(),R=this.apiClient.getLocation();k&&R&&(C=`projects/${k}/locations/${R}/`+C)}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lg.AUDIO]}:e.config.responseModalities=[Lg.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],S=[];for(const k of T)if(this.isCallableTool(k)){const R=k;S.push(await R.tool())}else S.push(k);S.length>0&&(e.config.tools=S);const j={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=Ewe(this.apiClient,j):E=Swe(this.apiClient,j),delete E.config,N.send(JSON.stringify(E)),new cNe(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lNe={turnComplete:!0};class cNe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Pr(n.turns),e.isVertexAI()||(r=r.map(i=>bx(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(sNe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lNe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Cwe(e)}:n={realtimeInput:kwe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cI=10;function uI(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pl(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Pl(t){return"callTool"in t&&typeof t.callTool=="function"}function fNe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pl(i)))!==null&&r!==void 0?r:!1}function dI(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Pl(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function fI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hNe extends ws{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!fNe(n)||uI(n.config))return await this.generateContentInternal(c);const u=dI(n);if(u.length>0){const w=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let d,f;const h=Pr(c.contents),x=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:cI;let b=0;for(;b<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,y=[];for(const v of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Pl(v)){const N=await v.callTool(d.functionCalls);y.push(...N)}b++,f={role:"user",parts:y},c.contents=Pr(c.contents),c.contents.push(w),c.contents.push(f),fI(c.config)&&(h.push(w),h.push(f))}return fI(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,s,o,l;if(this.maybeMoveToResponseJsonSchem(n),uI(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=dI(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Po(hs.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>Pl(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&T$(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),A$(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pl(o)){const l=o,c=await l.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:cI;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return ni(this,arguments,function*(){for(var h,x,b,w,y,v;l<s;){o&&(l++,o=!1);const E=yield Ie(u.processParamsMaybeAddMcpUsage(f)),T=yield Ie(u.generateContentStreamInternal(E)),S=[],j=[];try{for(var _=!0,N=(x=void 0,ri(T)),C;C=yield Ie(N.next()),h=C.done,!h;_=!0){w=C.value,_=!1;const k=w;if(yield yield Ie(k),k.candidates&&(!((y=k.candidates[0])===null||y===void 0)&&y.content)){j.push(k.candidates[0].content);for(const R of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<s&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){const P=yield Ie(d.get(R.functionCall.name).callTool([R.functionCall]));S.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(k){x={error:k}}finally{try{!_&&!h&&(b=N.return)&&(yield Ie(b.call(N)))}finally{if(x)throw x.error}}if(S.length>0){o=!0;const k=new Pu;k.candidates=[{content:{role:"user",parts:S}}],yield yield Ie(k);const R=[];R.push(...j),R.push({role:"user",parts:S});const P=Pr(f.contents).concat(R);f.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=sI(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=oI(d),h=new Pu;return Object.assign(h,f),h})}else{const u=iI(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=aI(d),h=new Pu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=sI(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return ni(this,arguments,function*(){var h,x,b,w;try{for(var y=!0,v=ri(f),_;_=yield Ie(v.next()),h=_.done,!h;y=!0){w=_.value,y=!1;const N=w,C=oI(yield Ie(N.json()));C.sdkHttpResponse={headers:N.headers};const E=new Pu;Object.assign(E,C),yield yield Ie(E)}}catch(N){x={error:N}}finally{try{!y&&!h&&(b=v.return)&&(yield Ie(b.call(v)))}finally{if(x)throw x.error}}})})}else{const u=iI(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return ni(this,arguments,function*(){var h,x,b,w;try{for(var y=!0,v=ri(f),_;_=yield Ie(v.next()),h=_.done,!h;y=!0){w=_.value,y=!1;const N=w,C=aI(yield Ie(N.json()));C.sdkHttpResponse={headers:N.headers};const E=new Pu;Object.assign(E,C),yield yield Ie(E)}}catch(N){x={error:N}}finally{try{!y&&!h&&(b=v.return)&&(yield Ie(b.call(v)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=o1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=c1e(d),h=new UP;return Object.assign(h,f),h})}else{const u=a1e(this.apiClient,e);return l=xe("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=l1e(d),h=new UP;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=b1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_1e(d),h=new BP;return Object.assign(h,f),h})}else{const u=v1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=w1e(d),h=new BP;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=n1e(this.apiClient,e);return s=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=r1e(c),d=new uve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=b_e(this.apiClient,e);return s=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=w_e(c),d=new dve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=t_e(this.apiClient,e);return s=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=n_e(c),d=new fve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=l_e(this.apiClient,e);return s=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=c_e(c),d=new hve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=F1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>o1(d))}else{const u=$1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>a1(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=K1e(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Y1e(d),h=new qP;return Object.assign(h,f),h})}else{const u=W1e(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=J1e(d),h=new qP;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=y_e(this.apiClient,e);return l=xe("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>o1(d))}else{const u=x_e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>a1(d))}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Qwe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=e1e(d),h=new zP;return Object.assign(h,f),h})}else{const u=Xwe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Zwe(d),h=new zP;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Kwe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ywe(d),h=new GP;return Object.assign(h,f),h})}else{const u=Wwe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jwe(d),h=new GP;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Vwe(this.apiClient,e);return s=xe("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Uwe(c),d=new pve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=k1e(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=T1e(d),h=new $g;return Object.assign(h,f),h})}else{const u=A1e(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const f=E1e(d),h=new $g;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pNe extends ws{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ive(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=rve(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Yye(e);return s=xe("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mNe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function gNe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ENe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function xNe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],SNe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function yNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],xNe(t,r,n)),n}function vNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bNe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _Ne(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function NNe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],ES(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],gNe(Cn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let T=Yc(w);Array.isArray(T)&&(T=T.map(S=>ANe(Jc(S)))),g(e,["setup","tools"],T)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],TNe(y));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function SNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],NNe(i,n)),n}function ENe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],vNe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],bNe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],mNe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function TNe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ANe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],wNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],_Ne(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kNe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function CNe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=kNe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];s&&c.push(s),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jNe extends ws{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=yNe(this.apiClient,e);s=xe("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=CNe(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PNe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function INe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&PNe(r,e),e}function RNe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function MNe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function ONe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&MNe(r,e),e}function DNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LNe extends ws{constructor(e){super(),this.apiClient=e,this.list=async n=>new Po(hs.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RNe(e);return s=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=INe(e);i=xe("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ONe(e);return s=xe("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=DNe(c),d=new mve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $Ne extends ws{constructor(e,n=new LNe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Po(hs.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k_e(e);return s=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=P_e(e);return s=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=j_e(e);i=xe("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=L_e(e);return s=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=$_e(c),d=new gve;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F_e(e);return s=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=V_e(c),d=new xve;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=M_e(e);return s=xe("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=R_e(c),d=new bS;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let k$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return k$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const FNe=()=>k$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c1(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const u1=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lr extends Error{}class Bn extends Lr{constructor(e,n,r,i){super(`${Bn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Nx({message:r,cause:u1(n)});const s=n;return e===400?new j$(e,s,r,i):e===401?new P$(e,s,r,i):e===403?new I$(e,s,r,i):e===404?new R$(e,s,r,i):e===409?new M$(e,s,r,i):e===422?new O$(e,s,r,i):e===429?new D$(e,s,r,i):e>=500?new L$(e,s,r,i):new Bn(e,s,r,i)}}class d1 extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nx extends Bn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class C$ extends Nx{constructor({message:e}={}){super({message:e??"Request timed out."})}}class j$ extends Bn{}class P$ extends Bn{}class I$ extends Bn{}class R$ extends Bn{}class M$ extends Bn{}class O$ extends Bn{}class D$ extends Bn{}class L$ extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VNe=/^[a-z][a-z0-9+.-]*:/i,UNe=t=>VNe.test(t);let f1=t=>(f1=Array.isArray,f1(t));const BNe=f1;let qNe=BNe;const hI=qNe;function zNe(t){if(!t)return!0;for(const e in t)return!1;return!0}function GNe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const HNe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Lr(`${t} must be an integer`);if(e<0)throw new Lr(`${t} must be a positive integer`);return e},WNe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KNe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ho="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JNe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YNe=()=>{var t,e,n,r,i;const s=JNe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":mI(Deno.build.os),"X-Stainless-Arch":pI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":mI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":pI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=XNe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function XNe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const pI=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mI=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let sp;const QNe=()=>sp??(sp=YNe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZNe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function eSe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function F$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tSe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nSe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tv(t,e,n){return V$(),new File(t,e??"unknown_file",n)}function rSe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const iSe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",sSe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&U$(t),aSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function oSe(t,e,n){if(V$(),t=await t,sSe(t))return t instanceof File?t:tv([await t.arrayBuffer()],t.name);if(aSe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),tv(await h1(i),e,n)}const r=await h1(t);if(e||(e=rSe(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return tv(r,e,n)}async function h1(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(U$(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(iSe(t))try{for(var l=!0,c=ri(t),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const d=i;o.push(...await h1(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${lSe(t)}`)}return o}function lSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B${constructor(e){this._client=e}}B$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gI=Object.freeze(Object.create(null)),cSe=(t=q$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((d,f,h)=>{var x,b,w;/[?#]/.test(f)&&(i=!0);const y=r[h];let v=(i?encodeURIComponent:t)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((x=y.hasOwnProperty)!==null&&x!==void 0?x:gI))!==null&&b!==void 0?b:gI))===null||w===void 0?void 0:w.toString))&&(v=y+"",s.push({start:d.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":v)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((d,f)=>d.start-f.start),s.length>0){let d=0;const f=s.reduce((h,x)=>{const b=" ".repeat(x.start-d),w="^".repeat(x.length);return d=x.start+x.length,h+b+w},"");throw new Lr(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},ap=cSe(q$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z$ extends B${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=Vg(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Lr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Lr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ap`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ap`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ap`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=Vg(s,["api_version"]);return this._client.get(ap`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}z$._key=Object.freeze(["interactions"]);class G$ extends z${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uSe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let op;function AS(t){let e;return(op??(e=new globalThis.TextEncoder,op=e.encode.bind(e)))(t)}let lp;function xI(t){let e;return(lp??(e=new globalThis.TextDecoder,lp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sx{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?AS(e):e;this.buffer=uSe([this.buffer,n]);const r=[];let i;for(;(i=dSe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(xI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=xI(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Sx.NEWLINE_CHARS=new Set([`
`,"\r"]);Sx.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dSe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function fSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ug={off:0,error:200,warn:300,info:400,debug:500},yI=(t,e,n)=>{if(t){if(GNe(Ug,t))return t;On(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ug))}`)}};function zu(){}function cp(t,e,n){return!e||Ug[t]>Ug[n]?zu:e[t].bind(e)}const hSe={error:zu,warn:zu,info:zu,debug:zu};let vI=new WeakMap;function On(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return hSe;const i=vI.get(n);if(i&&i[0]===r)return i[1];const s={error:cp("error",n,r),warn:cp("warn",n,r),info:cp("info",n,r),debug:cp("debug",n,r)};return vI.set(n,[r,s]),s}const La=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?On(r):console;function o(){return ni(this,arguments,function*(){var c,u,d,f;if(i)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var x=!0,b=ri(pSe(e,n)),w;w=yield Ie(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const y=f;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ie(JSON.parse(y.data))}catch(v){throw s.error("Could not parse message into JSON:",y.data),s.error("From chunk:",y.raw),v}}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=b.return)&&(yield Ie(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(y){if(c1(y))return yield Ie(void 0);throw y}finally{h||n.abort()}})}return new hl(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ni(this,arguments,function*(){var c,u,d,f;const h=new Sx,x=F$(e);try{for(var b=!0,w=ri(x),y;y=yield Ie(w.next()),c=y.done,!c;b=!0){f=y.value,b=!1;const v=f;for(const _ of h.decode(v))yield yield Ie(_)}}catch(v){u={error:v}}finally{try{!b&&!c&&(d=w.return)&&(yield Ie(d.call(w)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield Ie(v)})}function o(){return ni(this,arguments,function*(){var c,u,d,f;if(i)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var x=!0,b=ri(s()),w;w=yield Ie(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const y=f;h||y&&(yield yield Ie(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=b.return)&&(yield Ie(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(y){if(c1(y))return yield Ie(void 0);throw y}finally{h||n.abort()}})}return new hl(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new hl(()=>i(e),this.controller,this.client),new hl(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=AS(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function pSe(t,e){return ni(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Lr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Lr("Attempted to iterate over a response with no body");const l=new gSe,c=new Sx,u=F$(t.body);try{for(var d=!0,f=ri(mSe(u)),h;h=yield Ie(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const b of c.decode(x)){const w=l.decode(b);w&&(yield yield Ie(w))}}}catch(x){i={error:x}}finally{try{!d&&!r&&(s=f.return)&&(yield Ie(s.call(f)))}finally{if(i)throw i.error}}for(const x of c.flush()){const b=l.decode(x);b&&(yield yield Ie(b))}})}function mSe(t){return ni(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,c=ri(t),u;u=yield Ie(c.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const d=s;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?AS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=fSe(o))!==-1;)yield yield Ie(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=c.return)&&(yield Ie(i.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Ie(o))})}class gSe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=xSe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function xSe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ySe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var l;if(e.options.stream)return On(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):hl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return On(t).debug(`[${r}] response parsed`,La({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kS extends Promise{constructor(e,n,r=ySe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new kS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H$=Symbol("brand.privateNullableHeaders");function*vSe(t){if(!t)return;if(H$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hI(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=hI(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const Iu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of vSe(r)){const l=s.toLowerCase();i.has(l)||(e.delete(s),i.add(l)),o===null?(e.delete(s),n.add(l)):(e.append(s,o),n.delete(l))}}return{[H$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nv=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=zye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var W$;class Ex{constructor(e){var n,r,i,s,o,l,c,{baseURL:u=nv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=nv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Vg(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:Ex.DEFAULT_TIMEOUT,this.logger=(i=x.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(o=(s=yI(x.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:yI(nv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:ZNe(),this.encoder=nSe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Iu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Iu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Iu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Lr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ho}`}defaultIdempotencyKey(){return`stainless-node-retry-${FNe()}`}makeStatusError(e,n,r,i){return Bn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=UNe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return zNe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new kS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(On(this).debug(`[${h}] sending request`,La({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new d1;const w=new AbortController,y=await this.fetchWithTimeout(d,u,f,w).catch(u1),v=Date.now();if(y instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new d1;const C=c1(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return On(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${N}`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${N})`,La({retryOfRequestLogID:r,url:d,durationMs:v-b,message:y.message})),this.retryRequest(l,n,r??h);throw On(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,La({retryOfRequestLogID:r,url:d,durationMs:v-b,message:y.message})),C?new C$:new Nx({cause:y})}const _=`[${h}${x}] ${u.method} ${d} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${v-b}ms`;if(!y.ok){const N=await this.shouldRetry(y);if(n&&N){const k=`retrying, ${n} attempts remaining`;return await tSe(y.body),On(this).info(`${_} - ${k}`),On(this).debug(`[${h}] response error (${k})`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-b})),this.retryRequest(l,n,r??h,y.headers)}const C=N?"error; no more retries left":"error; not retryable";On(this).info(`${_} - ${C}`);const E=await y.text().catch(k=>u1(k).message),T=WNe(E),S=T?void 0:E;throw On(this).debug(`[${h}] response error (${C})`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:S,durationMs:Date.now()-b})),this.makeStatusError(y.status,T,S,y.headers)}return On(this).info(_),On(this).debug(`[${h}] response start`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-b})),{response:y,options:l,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:l}=s,c=Vg(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await KNe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&HNe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),b=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=Iu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),QNe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Iu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:eSe(e)}:this.encoder({body:e,headers:r})}}Ex.DEFAULT_TIMEOUT=6e4;class on extends Ex{constructor(){super(...arguments),this.interactions=new G$(this)}}W$=on;on.GeminiNextGenAPIClient=W$;on.GeminiNextGenAPIClientError=Lr;on.APIError=Bn;on.APIConnectionError=Nx;on.APIConnectionTimeoutError=C$;on.APIUserAbortError=d1;on.NotFoundError=R$;on.ConflictError=M$;on.RateLimitError=D$;on.BadRequestError=j$;on.AuthenticationError=P$;on.InternalServerError=L$;on.PermissionDeniedError=I$;on.UnprocessableEntityError=O$;on.toFile=oSe;on.Interactions=G$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function wSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _Se(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function NSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function SSe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=p(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ESe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],bI(x))}else if(i==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],bI(x))}const s=p(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function TSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&LSe(s);const o=p(t,["config"]);return o!=null&&SSe(o,n),n}function ASe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&$Se(s,n,e);const o=p(t,["config"]);return o!=null&&ESe(o,n,e),n}function kSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function CSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function jSe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function PSe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function ISe(t,e){const n={},r=p(t,["config"]);return r!=null&&jSe(r,n),n}function RSe(t,e){const n={},r=p(t,["config"]);return r!=null&&PSe(r,n),n}function MSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>K$(l))),g(n,["tuningJobs"],o)}return n}function OSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>p1(l))),g(n,["tuningJobs"],o)}return n}function DSe(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function LSe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["examples","examples"],i)}return n}function $Se(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function K$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],u$(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],DSe(h)),n}function p1(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],u$(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const b=p(t,["preTunedModel"]);b!=null&&g(n,["preTunedModel"],b);const w=p(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const y=p(t,["preferenceOptimizationSpec"]);y!=null&&g(n,["preferenceOptimizationSpec"],y);const v=p(t,["tuningDataStats"]);v!=null&&g(n,["tuningDataStats"],v);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const E=p(t,["experiment"]);E!=null&&g(n,["experiment"],E);const T=p(t,["labels"]);T!=null&&g(n,["labels"],T);const S=p(t,["outputUri"]);S!=null&&g(n,["outputUri"],S);const j=p(t,["pipelineJob"]);j!=null&&g(n,["pipelineJob"],j);const k=p(t,["serviceAccount"]);k!=null&&g(n,["serviceAccount"],k);const R=p(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const P=p(t,["veoTuningSpec"]);return P!=null&&g(n,["veoTuningSpec"],P),n}function FSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function bI(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VSe extends ws{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:t1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=CSe(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>p1(d))}else{const u=kSe(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>K$(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=RSe(e);return l=xe("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=OSe(d),h=new HP;return Object.assign(h,f),h})}else{const u=ISe(e);return l=xe("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=MSe(d),h=new HP;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=wSe(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=NSe(d),h=new WP;return Object.assign(h,f),h})}else{const u=bSe(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_Se(d),h=new WP;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=ASe(e,e);return s=xe("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>p1(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TSe(e);return s=xe("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>FSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class USe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BSe=1024*1024*8,qSe=3,zSe=1e3,GSe=2,Bg="x-goog-upload-status";async function HSe(t,e,n){var r;const i=await J$(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function WSe(t,e,n){var r;const i=await J$(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=i$(s),l=new wS;return Object.assign(l,o),l}async function J$(t,e,n){var r,i;let s=0,o=0,l=new r1(new Response),c="upload";for(s=t.size;o<s;){const u=Math.min(BSe,s-o),d=t.slice(o,o+u);o+u>=s&&(c+=", finalize");let f=0,h=zSe;for(;f<qSe&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Bg]));)f++,await JSe(h),h=h*GSe;if(o+=u,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Bg])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function KSe(t){return{size:t.size,type:t.type}}function JSe(t){return new Promise(e=>setTimeout(e,t))}class YSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XSe{create(e,n,r){return new QSe(e,n,r)}}class QSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="x-goog-api-key";class ZSe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(wI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eEe="gl-node/";class CS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new on({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Kye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new ZSe(this.apiKey);this.apiClient=new K_e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eEe+"web",uploader:new YSe,downloader:new USe}),this.models=new hNe(this.apiClient),this.live=new oNe(this.apiClient,i,new XSe),this.batches=new Nbe(this.apiClient),this.chats=new iwe(this.models,this.apiClient),this.caches=new twe(this.apiClient),this.files=new pwe(this.apiClient),this.operations=new pNe(this.apiClient),this.authTokens=new jNe(this.apiClient),this.tunings=new VSe(this.apiClient),this.fileSearchStores=new $Ne(this.apiClient)}}var Y$={};async function tEe(t,e){const n=new CS({apiKey:Y$.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:dt.OBJECT,properties:{invoiceNumber:{type:dt.STRING},supplierName:{type:dt.STRING},supplierCuit:{type:dt.STRING},date:{type:dt.STRING},items:{type:dt.ARRAY,items:{type:dt.OBJECT,properties:{sku:{type:dt.STRING},description:{type:dt.STRING},quantity:{type:dt.NUMBER},unitPrice:{type:dt.NUMBER},total:{type:dt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:dt.NUMBER},iva:{type:dt.NUMBER},totalAmount:{type:dt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}async function nEe(t){const e=new CS({apiKey:Y$.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). 
  
  Mensaje: "${t}"`;try{const i=(await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:dt.ARRAY,items:{type:dt.OBJECT,properties:{productName:{type:dt.STRING,description:"The name of the product mentioned."},quantity:{type:dt.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"]}}}})).text||"[]";return JSON.parse(i)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const rEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Dt(),n=D.useRef(null),[r,i]=D.useState("ia"),[s,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),x=v=>{var N;const _=(N=v.target.files)==null?void 0:N[0];if(_){const C=new FileReader;C.onload=E=>{var T;d({name:_.name,type:_.type,preview:(T=E.target)==null?void 0:T.result})},C.readAsDataURL(_)}},b=async()=>{if(u){o(!0);try{const v=u.preview.split(",")[1],_=await tEe(v,u.type),N=await Promise.all(_.items.map(async C=>{const{products:E}=await e({limit:1,searchTerm:C.sku||C.description.split(" ")[0],orderByField:"name"});return{...C,matchedProduct:E[0]}}));h({invoiceNumber:_.invoiceNumber||"",supplierName:_.supplierName||"",date:_.date||new Date().toISOString().split("T")[0],items:N})}catch(v){console.error(v),alert("Error al procesar el documento con IA.")}finally{o(!1)}}},w=async()=>{c(!0);try{for(const v of f.items)if(v.matchedProduct){const _=(v.matchedProduct.stock||0)+v.quantity;await t(v.matchedProduct.id,{costPrice:v.unitPrice,stock:_})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),d(null)}finally{c(!1)}},y=f.items.reduce((v,_)=>v+_.unitPrice*_.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Cm,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(f5,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?a.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Mr,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),a.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(Je,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:s,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[s?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Cm,{className:"w-5 h-5"}),s?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var v;return(v=n.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Mr,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:x})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Zr,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:f.supplierName,onChange:v=>h({...f,supplierName:v.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:f.invoiceNumber,onChange:v=>h({...f,invoiceNumber:v.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:f.date,onChange:v=>h({...f,date:v.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(l5,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(Sb,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.description}),v.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(fn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",v.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(Ki,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:v.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",v.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",v.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},_))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",y.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(y*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:w,disabled:l||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[l?a.jsx($e,{className:"animate-spin w-6 h-6"}):a.jsx(Qt,{className:"w-6 h-6"}),l?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})};var iEe={};const _I=iEe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function sEe(t,e){if(await new Promise(n=>setTimeout(n,2e3)),e<=0)throw new Error("El importe a liquidar debe ser mayor a cero.");return{status:"success",cuil:"20-"+t.id+"-9",protocolNumber:"LSD-"+Math.floor(Math.random()*1e6),timestamp:new Date().toISOString(),message:"Liquidacin validada correctamente en Libro de Sueldos Digital."}}async function X$(t,e){await new Promise(i=>setTimeout(i,Math.random()*1500+500)),(_I.includes("DEMO_KEY")||_I.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const aEe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:i,deleteClient:s}=Dt(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[b,w]=D.useState(""),[y,v]=D.useState(!1);B.useEffect(()=>{n.length>0&&!h.priceListId&&x(P=>{var O,I;return{...P,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((I=n[0])==null?void 0:I.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}v(!0);try{const P=await X$(h.cuit,"client");x(O=>{var I,H;return{...O,name:P.name,email:P.email,whatsapp:P.phone,priceListId:((I=n.find(F=>F.isBase))==null?void 0:I.id)||((H=n[0])==null?void 0:H.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(P){alert(`Error al buscar CUIT en ARCA: ${P.message}`),console.error("ARCA CUIT Lookup Error:",P)}finally{v(!1)}},N=()=>{b.trim()&&(x(P=>({...P,authorizedPersons:[...P.authorizedPersons||[],b.trim()]})),w(""))},C=P=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(I=>I!==P)}))},E=async()=>{var P,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await i(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((P=n.find(I=>I.isBase))==null?void 0:P.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w("")}catch(I){alert("Error al guardar el cliente."),console.error(I)}},T=async P=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await s(P),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},S=P=>{var O,I;f(P),x(P||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((I=n[0])==null?void 0:I.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w(""),u("general"),l(!0)},j=()=>{t&&(l(!1),t("balances"))},k=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},R=P=>{var O;return P&&((O=n.find(I=>I.id===P))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:P.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:P.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(a5,{className:"w-4 h-4 text-slate-300"})," ",P.email]}),P.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(Q7,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${P.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:P.balance<0?`DEBE $${Math.abs(P.balance).toLocaleString()}`:`SALDO $${P.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",P.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:j,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(Qr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>S(P),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(_b,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>T(P.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(Rn,{className:"w-5 h-5"})})]})})]},P.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:Tm}].map(P=>a.jsxs("button",{onClick:()=>u(P.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===P.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[P.icon&&a.jsx(P.icon,{className:"w-4 h-4 inline-block mr-2"})," ",P.label]},P.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:P=>x({...h,cuit:P.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:y,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:y?a.jsx($e,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:P=>x({...h,name:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:P=>x({...h,email:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:P=>x({...h,whatsapp:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Eb,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(Eb,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:R(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(h5,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:b,onChange:P=>w(P.target.value),onKeyPress:P=>{P.key==="Enter"&&N()}}),a.jsx("button",{onClick:N,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:P}),a.jsx("button",{onClick:()=>C(P),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(Rn,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(Jl,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(_b,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:k,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(i5,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Tm,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:P=>x({...h,pointsEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Hd,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:P=>x({...h,accumulatedPoints:Number(P.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:E,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},oEe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Dt(),[i,s]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),b=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const C=await X$(c.cuit,"supplier");u(E=>({...E,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{x(!1)}},w=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),s(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},y=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(E){alert("Error al eliminar el proveedor."),console.error(E)}},v=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),s(!0)},_=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},N=C=>{u(E=>({...E,discounts:(E.discounts||[]).filter((T,S)=>S!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>v(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((E,T)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",E,"%"]},T)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>v(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(Y7,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>y(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(Rn,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(Ti,{className:"w-5 h-5"})})]})]},C.id))})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:b,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx($e,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,E)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>N(E),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(Je,{className:"w-3 h-3"})})]},E))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},lEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:s}=Dt(),[o,l]=D.useState("boxes"),[c,u]=D.useState({show:!1,type:null}),[d,f]=D.useState(!1),[h,x]=D.useState(!1),[b,w]=D.useState(null),[y,v]=D.useState(null),[_,N]=D.useState(!1),C=D.useMemo(()=>e.reduce((k,R)=>k+R.balance,0),[e]),E=D.useMemo(()=>e.filter(k=>k.type==="efectivo").reduce((k,R)=>k+R.balance,0),[e]),T=async k=>{k.preventDefault();const R=new FormData(k.currentTarget),P=parseFloat(R.get("amount")),O=R.get("boxId"),I=c.type,H=e.find(F=>F.id===O);if(!H){alert("Debes seleccionar una caja de origen.");return}try{await s({date:new Date().toISOString(),amount:P,type:I,boxId:O,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:P}]});const F=I==="egreso"?H.balance-P:H.balance+P;await r(O,{balance:F}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async k=>{k.preventDefault(),N(!0);const R=new FormData(k.currentTarget),P=R.get("name"),O=R.get("type"),I=R.get("responsible"),H=parseFloat(R.get("balance"))||0;try{y?await r(y.id,{name:P,type:O,responsible:I}):await n({name:P,type:O,responsible:I,balance:H,status:"abierta"}),x(!1),v(null)}finally{N(!1)}},j=async k=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(k)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[a.jsx(X4,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[a.jsx(P7,{className:"w-5 h-5"})," Ingreso Manual"]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>l("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),a.jsx("button",{onClick:()=>l("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",C.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(Zl,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(Ud,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",E.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Am,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(k=>k.type==="banco").reduce((k,R)=>k+R.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Qr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(k=>k.type==="virtual").reduce((k,R)=>k+R.balance,0).toLocaleString()]})]})]})]}),o==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(k=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${k.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:k.type==="banco"?a.jsx(Am,{className:"w-6 h-6"}):k.type==="virtual"?a.jsx(Qr,{className:"w-6 h-6"}):a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{v(k),x(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(cs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:k.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",k.balance.toLocaleString()]}),k.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(gs,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:k.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{w(k),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(aN,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(R7,{className:"w-4 h-4"})," Transferir"]})]})]}),k.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",k.lastClosed]}),a.jsxs("button",{onClick:()=>r(k.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(nt,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},k.id)),a.jsxs("button",{onClick:()=>{v(null),x(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ai,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(Zr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),a.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(e5,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(k=>{var R;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(k.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(k.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(P=>P.id===k.boxId))==null?void 0:R.name)||"Mostrador"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:k.category||"Varios"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:k.description})]}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${k.type==="egreso"?"text-red-600":"text-green-600"}`,children:[k.type==="egreso"?"-":"+","$",k.amount.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:a.jsx(Jf,{className:"w-5 h-5"})})})]},k.id)})})]})})]}),c.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${c.type==="ingreso"?"bg-green-600":c.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ud,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",c.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),a.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:T,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[a.jsx("option",{value:"",children:"Elegir caja..."}),e.map(k=>a.jsxs("option",{value:k.id,children:[k.name," ($",k.balance.toLocaleString(),")"]},k.id))]}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",c.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"gasto",children:"Gasto General"}),a.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),a.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),a.jsx("option",{value:"venta",children:"Venta / Cobranza"}),a.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${c.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:y?"Editar Fondo":"Nueva Caja / Fondo"}),a.jsx("button",{onClick:()=>x(!1),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),a.jsx("input",{name:"name",defaultValue:y==null?void 0:y.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:y==null?void 0:y.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!y&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:y==null?void 0:y.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),a.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:_?a.jsx($e,{className:"animate-spin w-5 h-5 mx-auto"}):y?"Guardar Cambios":"Crear Fondo"})]})]})})]})},cEe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(i,s,o)=>{const l=new Blob([i],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=s,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const i=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const i=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(al,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(n$,{data:t,children:[a.jsx(Af,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{}),a.jsx(ti,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(ti,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(aN,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:qa},{label:"Ranking de Productos",icon:ai},{label:"Libro IVA Ventas (AFIP)",icon:Mr},{label:"Libro IVA Compras",icon:Mr},{label:"CITI IVA Ventas (AFIP)",icon:al,action:n},{label:"CITI IVA Compras (AFIP)",icon:al,action:r}].map((i,s)=>a.jsxs("button",{onClick:i.action||(()=>alert(`Generar reporte: ${i.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(i.icon,{className:"w-4 h-4"}),i.label]}),i.action?a.jsx(al,{className:"w-4 h-4 text-slate-400"}):a.jsx(qd,{className:"w-4 h-4 text-slate-300"})]},s))]})]})]})]})},uEe=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:i,setCompanyInfo:s})=>{const o=D.useRef(null),l=D.useRef(null),[c,u]=D.useState(t),[d,f]=D.useState(!1),{exportAllData:h,importAllData:x,deleteAllDocumentsInCollection:b}=Dt(),[w,y]=D.useState(!1),[v,_]=D.useState(!1),[N,C]=D.useState(!1),[E,T]=D.useState(!1),[S,j]=D.useState(!1),[k,R]=D.useState(""),[P,O]=D.useState(!1),[I,H]=D.useState(null),F="BORRARTODO",[L,q]=D.useState("factura");if(D.useEffect(()=>{u(t)},[t]),!i||!i.printConfigs)return a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-slate-400",children:[a.jsx($e,{className:"w-10 h-10 animate-spin mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando configuracin..."})]});const z=i.printConfigs[L],U=ae=>{var K;const J=(K=ae.target.files)==null?void 0:K[0];if(J){const fe=new FileReader;fe.onload=ve=>{s(De=>{var Z;return{...De,logo:(Z=ve.target)==null?void 0:Z.result}})},fe.readAsDataURL(J)}},V=ae=>{const{name:J,value:K,type:fe}=ae.target,ve=ae.target.checked;s(De=>({...De,[J]:fe==="checkbox"?ve:K}))},X=(ae,J)=>{const K=parseFloat(J)||0;s(fe=>({...fe,paymentCommissions:{...fe.paymentCommissions,[ae]:K}}))},Q=()=>{f(!0),setTimeout(()=>{f(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},G=async(ae,J)=>{_(!0),C(!1);try{await new Promise(K=>setTimeout(K,3e3)),C(!0)}catch(K){console.error("Error al enviar backup por email:",K)}finally{_(!1),setTimeout(()=>C(!1),5e3)}},se=async()=>{y(!0);try{const J=await h(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks","remitos","boxes","installmentPlans"]),K=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,fe=JSON.stringify(J,null,2),ve=new Blob([fe],{type:"application/json"}),De=URL.createObjectURL(ve),Z=document.createElement("a");Z.href=De,Z.download=K,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(De),await G(J,K)}catch(ae){console.error("Error al generar backup:",ae),alert("Error al generar backup.")}finally{y(!1)}},W=async()=>{if(I){if(k!==F){alert("Debe ingresar la contrasea de seguridad.");return}T(!0);try{const ae=new FileReader;ae.onload=async J=>{var K;try{const fe=JSON.parse((K=J.target)==null?void 0:K.result);await x(fe),alert("Sistema restaurado al 100% con xito!"),window.location.reload()}catch{alert("Archivo invlido."),T(!1)}},ae.readAsText(I)}catch{alert("Error al importar backup."),T(!1)}}},pe=()=>{let ae=210,J=297,K=1.2;if(!z)return{width:ae,height:J,scale:K};switch(z.pageSize){case"A5":ae=148,J=210,K=1.6;break;case"A6":ae=105,J=148,K=2;break;case"80mm":ae=80,J=250,K=1.8;break}return z.orientation==="landscape"?{width:J,height:ae,scale:K*.8}:{width:ae,height:J,scale:K}},{width:Ae,height:Fe,scale:de}=pe();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>u("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L7,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>u("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(wb,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>u("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(cN,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>u("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(BA,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>u("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Tb,{className:"w-5 h-5"})," Mdulos"]})]}),c==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Mr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:i.name,onChange:V,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:i.cuit,onChange:V,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Qr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Comisiones por Medio de Pago"})]}),a.jsx("p",{className:"text-slate-500 text-sm italic",children:"Define el porcentaje de descuento que aplican los bancos para que tus cajas concilien automticamente."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(i.paymentCommissions).map(([ae,J])=>a.jsxs("div",{className:"space-y-2 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 block truncate",children:ae.replace("_"," ")}),a.jsxs("div",{className:"relative",children:[a.jsx(c5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),a.jsx("input",{type:"number",step:"0.01",value:J,onChange:K=>X(ae,K.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-xl outline-none font-black text-slate-800 text-lg"})]})]},ae))})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[i.logo?a.jsx("img",{src:i.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx($7,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var ae;return(ae=o.current)==null?void 0:ae.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Im,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:U})]})]})})]}),c==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(rG,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"})]})]}),a.jsxs("button",{onClick:Q,disabled:d,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(Yf,{className:`w-6 h-6 ${d?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(Ti,{className:"w-5 h-5 text-slate-300"})]})]})})}),c==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsx("div",{className:"lg:col-span-4 space-y-6",children:a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nG,{className:"w-4 h-4 text-purple-600"})," Comprobante"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(ae=>a.jsx("button",{onClick:()=>q(ae),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${L===ae?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:ae},ae))})]})}),a.jsx("div",{className:"lg:col-span-8",children:a.jsx("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:a.jsx("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${Ae}px`,height:`${Fe}px`,transform:`scale(${de})`},children:a.jsx("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:a.jsxs("div",{className:"space-y-1",children:[z.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),z.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]})})})})})]}),c==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(V7,{className:"w-6 h-6 text-green-600"})," Exportar Datos"]}),a.jsxs("button",{onClick:se,disabled:w||v,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3",children:[w?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(BA,{className:"w-5 h-5"}),w?"Generando...":"Generar Backup & Email"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(f5,{className:"w-6 h-6 text-orange-600"})," Importar Backup"]}),a.jsxs("div",{onClick:()=>{var ae;return(ae=l.current)==null?void 0:ae.click()},className:"border-4 border-dashed rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer transition-all border-slate-100 hover:bg-orange-50/20",children:[a.jsx(U7,{className:"w-10 h-10 text-slate-300"}),a.jsx("input",{ref:l,type:"file",className:"hidden",accept:".json",onChange:ae=>{var J;return H(((J=ae.target.files)==null?void 0:J[0])||null)}})]}),I&&a.jsx("button",{onClick:W,className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl",children:"RESTAURAR SISTEMA"})]})]}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})},dEe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:i,deleteBranch:s}=Dt(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const b=N=>{const{name:C,value:E,type:T}=N.target,S=N.target.checked;x(j=>({...j,[C]:T==="checkbox"?S:E}))},w=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await i(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(N){alert("Error al guardar la sucursal."),console.error("Error saving branch:",N)}},y=N=>{f(N),u(!0)},v=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx($e,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(Jl,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(Yf,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((N,C)=>N+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:v,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(N=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${N.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Uu,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${N.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:N.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(K7,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:N.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(o5,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:N.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[N.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(gs,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:N.manager})]})]})})]}),a.jsxs("button",{onClick:()=>y(N),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(Ti,{className:"w-4 h-4"})]})]},N.id)),a.jsxs("button",{onClick:v,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(ai,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(N=>N.dailySales>0).map(N=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:N.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${N.dailySales/_*100}%`}})})]},N.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Mc,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Uu,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Uu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Uu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Mr,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(T0,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:N=>x(C=>({...C,status:N.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ai,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Qt,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},fEe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:i,addTransaction:s,boxes:o,updateBox:l}=Dt(),[c,u]=D.useState("staff"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState(null),[y,v]=D.useState({}),[_,N]=D.useState("general"),[C,E]=D.useState(!1),[T,S]=D.useState(null),[j,k]=D.useState({}),[R,P]=D.useState({show:!1,title:"",message:"",onConfirm:()=>{},type:"info"}),[O,I]=D.useState({amount:0,description:"",type:"adelanto",boxId:""}),H=G=>(G.advances||[]).reduce((se,W)=>W.type==="adelanto"||W.type==="descuento"?se+W.amount:se,0),F=G=>(G.advances||[]).reduce((se,W)=>W.type==="bono"?se+W.amount:se,0),L=G=>{const se=G.salary||0,W=H(G),pe=F(G);return se-W+pe},q=async G=>{const se=L(G);S(String(G.id));try{const W=await sEe(G,se);P({show:!0,title:"Validacin ARCA Exitosa",message:`${W.message}
Protocolo: ${W.protocolNumber}
CUIL: ${W.cuil}`,type:"arca",onConfirm:()=>P(pe=>({...pe,show:!1}))})}catch(W){alert(W.message)}finally{S(null)}},z=G=>{const se=L(G);if(!G.salary||G.salary<=0){P({show:!0,title:"Sueldo no configurado",message:`${G.name} no tiene un sueldo base asignado.`,type:"danger",onConfirm:()=>P(pe=>({...pe,show:!1}))});return}const W=o.find(pe=>pe.status==="abierta")||o[0];P({show:!0,title:"Liquidar Haberes",message:`Registrar pago de $${se.toLocaleString()} para ${G.name}.`,type:"success",showBoxSelector:!0,selectedBoxId:W==null?void 0:W.id,onConfirm:()=>{}})},U=async(G,se)=>{const W=L(G),pe=o.find(Ae=>Ae.id===se);if(pe){P(Ae=>({...Ae,show:!1})),k(Ae=>({...Ae,[String(G.id)]:!0}));try{await s({date:new Date().toISOString(),amount:W,type:"egreso",boxId:se,category:"sueldo",description:`Liquidacin Haberes: ${G.name} (Libro Sueldos Digital)`,paymentDetails:[{id:`pay-${Date.now()}`,method:"efectivo",amount:W}]}),await l(se,{balance:pe.balance-W}),await n(String(G.id),{advances:[]}),alert(`Liquidacin completada. Se gener egreso en ${pe.name}.`)}finally{k(Ae=>({...Ae,[String(G.id)]:!1}))}}},V=async()=>{if(!h||O.amount<=0)return;if(O.type==="adelanto"&&!O.boxId){alert("Para un adelanto de efectivo, debes seleccionar una caja de origen.");return}const G=o.find(se=>se.id===O.boxId);try{O.type==="adelanto"&&G&&(await s({date:new Date().toISOString(),amount:O.amount,type:"egreso",boxId:O.boxId,category:"sueldo",description:`Vale/Adelanto: ${h.name}`,paymentDetails:[{id:`pm-${Date.now()}`,method:"efectivo",amount:O.amount}]}),await l(O.boxId,{balance:G.balance-O.amount}));const se={id:`adv-${Date.now()}`,date:new Date().toISOString().split("T")[0],amount:O.amount,description:O.description||(O.type==="adelanto"?"Adelanto de sueldo":"Bono/Premio"),type:O.type};await n(String(h.id),{advances:[...h.advances||[],se]}),alert("Movimiento registrado con xito."),x(null),I({amount:0,description:"",type:"adelanto",boxId:""})}catch(se){console.error(se),alert("Error al registrar el movimiento.")}},X=G=>{var se;w(G),v(G||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((se=i[0])==null?void 0:se.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),N("general"),f(!0)},Q=D.useMemo(()=>t.reduce((G,se)=>G+L(se),0),[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"Personal & Nmina Digital"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Libro de Sueldos Digital (ARCA) y control de haberes."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>u("staff"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="staff"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Staff"}),a.jsx("button",{onClick:()=>u("payroll"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="payroll"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Nmina ARCA"})]}),a.jsxs("button",{onClick:()=>X(null),className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(h5,{className:"w-5 h-5 text-orange-500"})," Nuevo Colaborador"]})]})]}),c==="payroll"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Costo Operativo Nmina"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",Q.toLocaleString()]}),a.jsx(wb,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(jn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Neto Estimado"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",Q.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Zl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Certificados ARCA"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:t.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-2xl",children:a.jsx(uN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Vales/Adel."}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",t.reduce((G,se)=>G+H(se),0).toLocaleString()]})]})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5",children:"Rol / Funcin"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5 text-right",children:"Sueldo Base"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Descuentos/Vales"}),a.jsx("th",{className:"px-8 py-5 text-right font-black text-slate-900",children:"Neto a Liquidar"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Sincro ARCA"})]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(G=>{const se=L(G),W=j[String(G.id)],pe=T===String(G.id);return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 flex items-center justify-center font-black text-white text-sm",children:G.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:G.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:G.role})]})]})}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:G.role}),a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:G.branchName}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${G.status==="Activo"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G.status})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-slate-500",children:["$",(G.salary||0).toLocaleString()]}),a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-red-500",children:["-$",H(G).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:"text-lg font-black text-slate-900",children:["$",se.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{onClick:()=>q(G),disabled:pe,className:`p-2 rounded-xl transition-all ${pe?"bg-slate-100":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,children:pe?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(wb,{className:"w-4 h-4"})})})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c==="payroll"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{var Ae;I({amount:0,description:"",type:"adelanto",boxId:((Ae=o.find(Fe=>Fe.status==="abierta"))==null?void 0:Ae.id)||""}),x(G)},className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>z(G),disabled:W,className:`p-2.5 rounded-xl transition-all shadow-sm ${W?"bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-600 hover:text-white"}`,children:W?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Ud,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:()=>X(G),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-orange-600 shadow-sm",children:a.jsx(cs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(String(G.id)),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-red-600 shadow-sm",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},G.id)})})]})}),R.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl p-10 text-center space-y-6 animate-in zoom-in duration-200",children:[a.jsx("div",{className:`w-20 h-20 mx-auto rounded-[2rem] flex items-center justify-center shadow-xl ${R.type==="danger"?"bg-red-100 text-red-600":R.type==="arca"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:R.type==="arca"?a.jsx(Zl,{className:"w-10 h-10"}):a.jsx(Ud,{className:"w-10 h-10"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:R.title}),a.jsx("p",{className:"text-slate-500 font-medium leading-relaxed whitespace-pre-wrap",children:R.message})]}),R.showBoxSelector&&a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen de Fondos"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:R.selectedBoxId,onChange:G=>P(se=>({...se,selectedBoxId:G.target.value})),className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-orange-500 appearance-none",children:o.map(G=>a.jsxs("option",{value:G.id,children:[G.name," ($",G.balance.toLocaleString(),")"]},G.id))}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{onClick:()=>P(G=>({...G,show:!1})),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cerrar"}),R.showBoxSelector&&a.jsx("button",{onClick:()=>{const G=t.find(se=>R.message.includes(se.name));G&&R.selectedBoxId&&U(G,R.selectedBoxId)},className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Confirmar Pago"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-orange-600 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Registrar Movimiento"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest",children:h.name})]})]}),a.jsx("button",{onClick:()=>x(null),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Registro"}),a.jsxs("select",{value:O.type,onChange:G=>I({...O,type:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",children:[a.jsx("option",{value:"adelanto",children:"Adelanto (Resta del Sueldo)"}),a.jsx("option",{value:"bono",children:"Bono / Premio (Suma al Sueldo)"}),a.jsx("option",{value:"descuento",children:"Inasistencia (Resta del Sueldo)"})]})]}),O.type==="adelanto"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja de Origen (Egreso Fsico)"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:O.boxId,onChange:G=>I({...O,boxId:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-slate-50 outline-none appearance-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Seleccione una caja..."}),o.map(G=>a.jsxs("option",{value:G.id,children:[G.name," ($",G.balance.toLocaleString(),")"]},G.id))]}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{type:"number",value:O.amount||"",onChange:G=>I({...O,amount:parseFloat(G.target.value)||0}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-3xl text-center focus:ring-2 focus:ring-orange-500 outline-none text-orange-600",placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo / Descripcin"}),a.jsx("input",{type:"text",value:O.description,onChange:G=>I({...O,description:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",placeholder:"Ej: Vale para almuerzo, Premio puntualidad..."})]}),a.jsxs("button",{onClick:V,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5 text-orange-500"})," Guardar Registro"]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col h-[85vh]",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(dN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:b?"Perfil del Colaborador":"Nuevo Ingreso"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:y.name||"Staff FerroGest"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2 shrink-0",children:[a.jsx("button",{onClick:()=>N("general"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="general"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Datos de Acceso"}),a.jsx("button",{onClick:()=>N("financial"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="financial"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Finanzas & Sueldo"})]}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar bg-white",children:[_==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:y.name||"",onChange:G=>v({...y,name:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:y.email||"",onChange:G=>v({...y,email:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:y.branchName,onChange:G=>v({...y,branchName:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl outline-none font-bold",children:i.map(G=>a.jsx("option",{value:G.name,children:G.name},G.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha de Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:y.joiningDate||"",onChange:G=>v({...y,joiningDate:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl font-bold"})]})]})]}),_==="financial"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border-2 border-orange-200 flex items-center justify-between shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-black text-orange-900 uppercase text-xs tracking-widest italic",children:"Sueldo Base Mensual"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-bold",children:"Importe fijo antes de descuentos/premios."})]})]}),a.jsxs("div",{className:"relative w-48",children:[a.jsx(jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600"}),a.jsx("input",{type:"number",value:y.salary||"",onChange:G=>v({...y,salary:parseFloat(G.target.value)||0}),className:"w-full pl-12 pr-4 py-4 border-2 border-white rounded-2xl font-black text-xl text-slate-800 outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Historial de Adelantos del Mes"}),a.jsx("div",{className:"border border-slate-100 rounded-3xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[9px] font-black text-slate-400 uppercase border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3",children:"Concepto"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[(y.advances||[]).map((G,se)=>a.jsxs("tr",{className:"text-xs",children:[a.jsx("td",{className:"px-6 py-3 font-bold",children:G.date}),a.jsx("td",{className:"px-6 py-3 font-medium text-slate-500",children:G.description}),a.jsxs("td",{className:`px-6 py-3 text-right font-black ${G.type==="bono"?"text-green-600":"text-red-600"}`,children:[G.type==="bono"?"+":"-","$",G.amount.toLocaleString()]})]},se)),(y.advances||[]).length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-slate-400 italic",children:"Sin movimientos registrados este mes."})})]})]})})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400 hover:bg-slate-100 transition-all",children:"Descartar"}),a.jsxs("button",{onClick:async()=>{E(!0);try{b?await n(String(b.id),y):await e(y),f(!1)}finally{E(!1)}},disabled:C,className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-black flex items-center gap-3",children:[C?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5 text-orange-500"}),b?"Guardar Perfil":"Dar de Alta"]})]})]})})]})},hEe=[{id:"h1",date:"2024-05-20 08:00",source:"Sinteplast (Web)",status:"success",itemsUpdated:120,itemsAdded:5,errors:0,log:"Proceso completado sin errores."},{id:"h2",date:"2024-05-19 23:00",source:"Alba (Email)",status:"error",itemsUpdated:0,itemsAdded:0,errors:2,log:"Error: Adjunto no reconocido o malformado."},{id:"h3",date:"2024-05-18 08:00",source:"Stanley (Web)",status:"success",itemsUpdated:85,itemsAdded:0,errors:0,log:"Proceso completado sin errores."}],pEe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r,suppliers:i}=Dt(),[s,o]=D.useState("lists"),[l,c]=D.useState(1),[u,d]=D.useState(""),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,y]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),[v,_]=D.useState({enabled:!1,frequency:"diario",executionTime:"03:00"}),[N,C]=D.useState({}),[E,T]=D.useState(!1),[S,j]=D.useState(null);D.useEffect(()=>{if(i.length>0){const U={};i.forEach(V=>{N[V.id]||(U[V.id]={supplierId:V.id,sourceType:"manual",enabled:!1})}),C(V=>({...V,...U}))}},[i,N]);const k=[{id:1,name:"Seleccionar Proveedor",icon:Mr},{id:2,name:"Configurar Plantilla",icon:Ji},{id:3,name:"Cargar Excel",icon:Im},{id:4,name:"Previsualizacin",icon:Nb},{id:5,name:"Anlisis y Ejecucin",icon:tG}],R=async()=>{if(!w.name){alert("El nombre de la lista es obligatorio.");return}try{if(w.isBase){const U=t.find(V=>V.isBase&&V.id!==(x==null?void 0:x.id));U&&await n(U.id,{isBase:!1})}x!=null&&x.id?(await n(x.id,w),alert("Lista de precios actualizada con xito!")):(await e(w),alert("Lista de precios creada con xito!")),h(!1),b(null),y({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(U){alert("Error al guardar la lista de precios."),console.error(U)}},P=async U=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(U),alert("Lista de precios eliminada con xito.")}catch(V){alert("Error al eliminar la lista de precios."),console.error(V)}},O=U=>{b(U),y(U||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),h(!0)},I=()=>{T(!0),setTimeout(()=>{alert("Configuracin de automatizacin guardada."),T(!1)},1e3)},H=(U,V,X)=>{C(Q=>({...Q,[U]:{...Q[U],[V]:X}}))},F=U=>{j(U),setTimeout(()=>{var V;alert(`Actualizacin manual disparada para ${((V=i.find(X=>X.id===U))==null?void 0:V.name)||"proveedor"}.`),C(X=>({...X,[U]:{...X[U],lastRun:new Date().toLocaleString(),lastRunStatus:Math.random()>.2?"success":"error",lastRunMessage:Math.random()>.2?"Proceso completado.":"Error: Contactar soporte."}})),j(null)},2e3)},L=()=>{var U;switch(l){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.map(V=>a.jsxs("button",{onClick:()=>{d(V.id),c(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Mr,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:V.name})]},V.id)),i.length===0&&a.jsx("div",{className:"col-span-full text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados."})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",((U=i.find(V=>V.id===u))==null?void 0:U.name)||"Proveedor"]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>c(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((V,X)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:V.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",V.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",V.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:V.diff})]},X))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Im,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>c(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},q=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Bu,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>O(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(U=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${U.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[U.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${U.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:U.isBase?a.jsx(Eb,{className:"w-6 h-6"}):a.jsx(i5,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>O(U),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(cs,{className:"w-4 h-4"})}),!U.isBase&&a.jsx("button",{onClick:()=>P(U.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:U.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:U.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:U.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c5,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[U.value>0?"+":"",U.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${U.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:U.isBase?"Configuracin Base":"Ajustar Modificador"})]},U.id)),a.jsxs("button",{onClick:()=>O(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(nt,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(I7,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(fn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Bu,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]}),z=()=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Rp,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin General de Automatizacin"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{htmlFor:"enableAutomation",className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:"enableAutomation",checked:v.enabled,onChange:U=>_(V=>({...V,enabled:U.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"enableAutomation",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Procesamiento Automtico"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Activa las tareas programadas para actualizar precios de forma recurrente."})]})]}),v.enabled&&a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Frecuencia de Ejecucin"}),a.jsxs("select",{value:v.frequency,onChange:U=>_(V=>({...V,frequency:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"diario",children:"Diario"}),a.jsx("option",{value:"semanal",children:"Semanal"}),a.jsx("option",{value:"mensual",children:"Mensual"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Horario de Ejecucin (Hora Argentina)"}),a.jsx("input",{type:"time",value:v.executionTime,onChange:U=>_(V=>({...V,executionTime:U.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white"})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:I,disabled:E,className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[E?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-4 h-4"}),E?"Guardando...":"Guardar Configuracin General"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Bu,{className:"w-6 h-6 text-orange-600"})," Fuentes por Proveedor"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Configura cmo se obtendrn las listas de precios de cada uno de tus proveedores."}),a.jsx("div",{className:"space-y-6",children:i.length===0?a.jsx("div",{className:"text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados para configurar."}):i.map(U=>{const V=N[U.id]||{supplierId:U.id,sourceType:"manual",enabled:!1};return a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 space-y-4 group",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[9px] font-black px-2 py-1 rounded-full uppercase ${V.lastRunStatus==="success"?"bg-green-50 text-green-700":V.lastRunStatus==="error"?"bg-red-50 text-red-700":"bg-slate-100 text-slate-400"}`,children:V.lastRun?`${V.lastRunStatus==="success"?"xito":"Error"}`:"Sin Ejecucin"}),a.jsxs("button",{onClick:()=>F(U.id),disabled:S===U.id,className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-xs font-black uppercase flex items-center gap-2 shadow-lg hover:bg-orange-500 disabled:opacity-50",children:[S===U.id?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Za,{className:"w-4 h-4"}),"Actualizar Ahora"]})]})]}),V.lastRun&&V.lastRunStatus==="error"&&a.jsxs("div",{className:"bg-red-100 text-red-800 text-xs p-3 rounded-xl flex items-center gap-2",children:[a.jsx(Jl,{className:"w-4 h-4"}),a.jsxs("span",{children:["ltima ejecucin (",V.lastRun,"): ",V.lastRunMessage]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fuente Principal"}),a.jsxs("select",{value:V.sourceType,onChange:X=>H(U.id,"sourceType",X.target.value),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"manual",children:"Manual (Excel)"}),a.jsx("option",{value:"web",children:"Web (Scraping)"}),a.jsx("option",{value:"email",children:"Email (Adjunto)"})]})]}),V.sourceType==="web"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(po,{className:"w-3 h-3"})," URL del Proveedor"]}),a.jsx("input",{type:"url",value:V.url||"",onChange:X=>H(U.id,"url",X.target.value),placeholder:"https://proveedor.com/listaprecios",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),V.sourceType==="email"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(a5,{className:"w-3 h-3"})," Email de Origen"]}),a.jsx("input",{type:"email",value:V.emailSource||"",onChange:X=>H(U.id,"emailSource",X.target.value),placeholder:"listaprecios@proveedor.com",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100",children:[a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:`enable-${U.id}`,checked:V.enabled,onChange:X=>H(U.id,"enabled",X.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:`enable-${U.id}`,className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Activar Fuente Automtica"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Esta fuente se procesar automticamente segn la configuracin general."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>alert("Se abrira una interfaz para configurar el mapeo de columnas/campos de esta fuente."),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Ji,{className:"w-4 h-4"})," Editar Mapeo de Campos"]}),a.jsxs("button",{onClick:()=>alert("Configuracin guardada para "+U.name),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-orange-500"})," Guardar"]})]})]},U.id)})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Yl,{className:"w-6 h-6 text-purple-600"})," Historial de Procesos Automticos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el resultado de las ltimas ejecuciones automticas de precios."}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha/Hora"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Fuente"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Items Act."}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Errores"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:hEe.map(U=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:U.date}),a.jsx("td",{className:"px-6 py-4 text-slate-700",children:U.source}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${U.status==="success"?"bg-green-50 text-green-700 border-green-100":U.status==="error"?"bg-red-50 text-red-700 border-red-100":"bg-slate-100 text-slate-400"}`,children:U.status==="success"?"xito":"Fallo"})}),a.jsxs("td",{className:"px-6 py-4 text-center text-slate-700",children:[U.itemsUpdated," / ",U.itemsAdded]}),a.jsx("td",{className:"px-6 py-4 text-center text-red-600 font-bold",children:U.errors}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>alert(`Log detallado para ${U.source}:
${U.log}`),className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Log",children:a.jsx(Jf,{className:"w-4 h-4"})})})]},U.id))})]})})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>o("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${s==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Za,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>o("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${s==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Bu,{className:"w-5 h-5"})," Gestin de Listas de Venta"]}),a.jsxs("button",{onClick:()=>o("automation"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${s==="automation"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Rp,{className:"w-5 h-5"})," Automatizacin & Fuentes"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:s==="update"?k.map((U,V)=>a.jsxs(B.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${l===U.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${l>=U.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:l>U.id?a.jsx(fn,{className:"w-6 h-6"}):a.jsx(U.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${l===U.id?"":"hidden md:block"}`,children:U.name})]}),V<k.length-1&&a.jsx(Ti,{className:"w-5 h-5 text-slate-100"})]},U.id)):s==="lists"?a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Ji,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]}):a.jsxs("div",{className:"flex items-center gap-3 text-blue-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500 bg-blue-50 flex items-center justify-center",children:a.jsx(Rp,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Configuracin de Fuentes Automticas"})]})}),s==="update"?L():s==="lists"?q():z(),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:w.name||"",onChange:U=>y({...w,name:U.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:w.description||"",onChange:U=>y({...w,description:U.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:w.modifierType,onChange:U=>y({...w,modifierType:U.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:w.value||"",onChange:U=>y({...w,value:parseFloat(U.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:w.isBase||!1,onChange:U=>y({...w,isBase:U.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:R,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[x?"Actualizar Lista":"Crear Lista"," ",a.jsx(Qt,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},mEe=()=>{var w;const t=D.useRef(null),[e,n]=D.useState(1),[r,i]=D.useState(null),[s,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Bd,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:gs,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:Or,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:Pm,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:lN,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=y=>{switch(y){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=y=>{var _;const v=(_=y.target.files)==null?void 0:_[0];o(v||null)},b=()=>{if(!s)return;c(!0);let y=0;const v=setInterval(()=>{y+=10,d(y),y>=100&&(clearInterval(v),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(Y4,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Ji},{id:2,label:"Cargar Archivo",icon:Em},{id:3,label:"Mapear Columnas",icon:Ot},{id:4,label:"Anlisis y Carga",icon:fn}].map((y,v)=>a.jsxs(B.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===y.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=y.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>y.id?a.jsx(fn,{className:"w-6 h-6"}):y.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:y.label})]}),v<3&&a.jsx(Ti,{className:"w-5 h-5 text-slate-100"})]},y.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(y=>a.jsxs("button",{onClick:()=>{i(y.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${y.bg} ${y.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(y.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:y.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:y.desc})]},y.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(Nb,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(w=f.find(y=>y.id===r))==null?void 0:w.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var y;return(y=t.current)==null?void 0:y.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[s?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Nb,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:s.name}),a.jsxs("button",{onClick:y=>{y.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(Je,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Em,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(al,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!s,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Ji,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(y=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[y.label," ",y.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(Ti,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},y.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(Zr,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:b,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx($e,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Jl,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(Jl,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})]})]})},gEe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[i]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),s=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=i.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(Ny,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(O7,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:i.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(Ki,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:i.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(ai,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(e5,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),s.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Xl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),s.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(Ki,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(Yl,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(cs,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(W7,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Ny,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(Je,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(Ny,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(Or,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},xEe=10,yEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Dt(),[n,r]=D.useState("sugerencias"),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:xEe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{i&&d(i)},[i,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(nt,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:i,onChange:f=>s(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(ua,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx($e,{className:"animate-spin mx-auto"})]})]})]})},vEe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Dt(),[i,s]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),b=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],w=T=>{const S=encodeURIComponent(`Hola ${T.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(T.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${T.whatsapp}?text=${S}`,"_blank")},y=t.filter(T=>(T.name.toLowerCase().includes(o.toLowerCase())||T.cuit.includes(o))&&(i==="clients"?T.balance<0:!0)),v=e.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.cuit.includes(o)),_=t.filter(T=>T.balance<0).reduce((T,S)=>T+Math.abs(S.balance),0),N=e.reduce((T,S)=>T+Math.abs(S.balance),0),C=()=>{u(null),f(null)},E=()=>{const T=h.type==="RECIBO",S=T?c:d;return S?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${T?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(u5,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:T?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[S.name,"  ",S.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${T?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",T?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:da},{id:"transfer",label:"Transferencia",icon:Am},{id:"check",label:"Cheque",icon:Mr}].map(j=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(j.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:j.label})]},j.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${T?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(Qt,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const T=!!c,S=T?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&E(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(Y4,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:T?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${T?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," ",T?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${T?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${T?"bg-orange-600":"bg-blue-600"}`,children:S.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:S.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:S.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:T?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(S.balance).toLocaleString()]})]})]}),a.jsx(jn,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Yl,{className:`w-5 h-5 ${T?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(j=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(j.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:j.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:j.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${j.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(j.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(Jf,{className:"w-4 h-4"})," Ver"]})})]},j.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(uN,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(ai,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",N.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(jn,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-N).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(gs,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>s("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Or,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:T=>l(T.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:i==="clients"?y.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(T),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:T.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:T.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${T.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(T.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:S=>{S.stopPropagation(),w(T)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(G7,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(Ti,{className:"w-5 h-5 text-slate-300"})]})})]},T.id)):v.map(T=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(T),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:T.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:T.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${T.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(T.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(Ti,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},T.id))})]})]})]})};var bEe={};const wEe=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Dt(),[i,s]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=[{id:1,date:"2024-06-05",concept:"Sueldos Personal",amount:145e4,status:"urgent"},{id:2,date:"2024-06-10",concept:"Alquiler Local Central",amount:35e4,status:"pending"},{id:3,date:"2024-06-15",concept:"IVA Mayo (AFIP)",amount:254100,status:"pending"},{id:4,date:"2024-06-20",concept:"Luz y Gas (Sucursales)",amount:85e3,status:"pending"}],x=D.useMemo(()=>{const v=e.reduce((N,C)=>N+C.stock*C.costPrice,0),_=n.reduce((N,C)=>N+(C.balance>0?C.balance:0),0);return v+_+25e5},[e,n]),b=D.useMemo(()=>r.reduce((v,_)=>v+Math.abs(_.balance<0?_.balance:0),0),[r]),w=x-b,y=async()=>{l(!0);try{const v=new CS({apiKey:bEe.API_KEY}),_=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${x}, 
      Pasivos: $${b}, 
      Patrimonio Neto: $${w}. 
      Dame recomendaciones estratgicas para pagar sueldos y vencimientos.`,N=await v.models.generateContent({model:"gemini-3-flash-preview",contents:_});u(N.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:Ql},{id:"cashflow",label:"Cash Flow",icon:UA},{id:"breakeven",label:"Punto de Equilibrio",icon:aN},{id:"accounting",label:"Libro Diario",icon:Mr}].map(v=>a.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${i===v.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Mc,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(Am,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",b.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(Zl,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(uN,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",w.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(UA,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(jn,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(ai,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(Z7,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),i==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(ai,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]})}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(r$,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Af,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Kn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(oi,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(oi,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(T0,{className:"w-5 h-5 text-indigo-600"})," Prximos Vencimientos (Nmina y Fijos)"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(v=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 flex justify-between items-center group hover:border-indigo-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${v.status==="urgent"?"bg-red-100 text-red-600":"bg-white text-indigo-600 shadow-sm"}`,children:a.jsx(El,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.concept}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date(v.date).toLocaleDateString("es-AR",{day:"2-digit",month:"long"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",v.amount.toLocaleString()]}),v.status==="urgent"&&a.jsx("span",{className:"text-[9px] font-black text-red-500 uppercase tracking-widest",children:"Urgente"})]})]},v.id))})]})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D7,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Estrategia IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Cmo cubrimos los prximos sueldos y el alquiler del local central?"}),a.jsxs("button",{onClick:y,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Yf,{className:"w-4 h-4"}),"Consultar Plan de Pagos"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Distribucin de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs($ye,{children:[a.jsx(bs,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((v,_)=>a.jsx(J0,{fill:v.color},`cell-${_}`))}),a.jsx(Kn,{})]})})})]})]})]}),i==="cashflow"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(n$,{data:d,children:[a.jsx(Af,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(eo,{iconType:"circle"}),a.jsx(ti,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(ti,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(ti,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]})}),i==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-12",children:a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]})]})})}),i==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Mr,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Sueldos Pagados",debe:0,haber:145e3,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",debe:0,haber:85200,status:"Auditado"}].map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:v.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:v.account})}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:v.debe>0?`$${v.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:v.haber>0?`$${v.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${v.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:v.status})})]},_))})]})})]})]})},_Ee=10,NEe=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],SEe=()=>{const{fetchProductsPaginatedAndFiltered:t}=Dt(),[e,n]=D.useState("dashboard"),[r,i]=D.useState("mobile"),[s,o]=D.useState([{id:"1",name:"Martillo Stanley 20oz Pro",price:15500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650 13mm",price:88500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=300",mlStatus:"none"},{id:"3",name:"Pintura Alba Latex 20L",price:42300,stock:20,visits:245,status:"publicado",img:"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"4",name:"Juego de Llaves Combinadas",price:12900,stock:12,visits:56,status:"publicado",img:"https://images.unsplash.com/photo-1621905252507-b35222028781?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,b]=D.useState("login"),[w,y]=D.useState(null),[v,_]=D.useState(""),[N,C]=D.useState([]),[E,T]=D.useState(null),[S,j]=D.useState(!0),[k,R]=D.useState(!1),P=D.useRef(null),O=D.useCallback(async(L=!1,q=v,z=E)=>{R(!0);try{const U={limit:_Ee,searchTerm:q.toLowerCase().trim(),startAfterDoc:L?void 0:z,orderByField:"name",orderDirection:"asc"},{products:V,lastVisible:X,hasMore:Q}=await t(U);C(G=>L?V:[...G,...V]),T(X),j(Q)}catch(U){console.error("Error loading products for picker:",U)}finally{R(!1)}},[v,E,t]),I=D.useCallback(L=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{O(!0,L,null)},300)},[O]),H=L=>{o([...s,{id:L.id,name:L.name,price:L.salePrice||0,stock:L.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),alert(`${L.name} agregado a la tienda.`)},F=L=>a.jsxs("div",{className:`bg-white h-full flex flex-col ${L==="mobile"?"w-full max-w-[375px] mx-auto shadow-2xl border-[8px] border-slate-900 rounded-[3rem] overflow-hidden":"w-full"}`,children:[a.jsxs("header",{className:`p-4 flex justify-between items-center bg-white border-b sticky top-0 z-[60] ${L==="mobile"?"rounded-t-[2rem]":""}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-orange-600 rounded-lg text-white",children:a.jsx(qa,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-lg font-black text-slate-800 tracking-tighter uppercase italic",children:"FERRO-GEST"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{className:"relative",children:[a.jsx(Gd,{className:"w-5 h-5 text-slate-700"}),a.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-orange-600 text-white text-[8px] font-black w-4 h-4 rounded-full flex items-center justify-center",children:"2"})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50 pb-20",children:[a.jsx("section",{className:"p-4",children:a.jsxs("div",{className:"w-full aspect-[16/9] bg-slate-900 rounded-2xl relative overflow-hidden flex items-center p-6",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Super Oferta"}),a.jsx("h1",{className:"text-xl font-black text-white leading-tight",children:"TODO EN HERRAMIENTAS"}),a.jsx("button",{className:"bg-white text-slate-900 px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-xl",children:"Ver ms"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=400",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 to-transparent"})]})}),a.jsx("section",{className:"px-4 py-2 overflow-x-auto no-scrollbar flex gap-4",children:["Pinturas","Elctricas","Buloneria","Plomeria"].map(q=>a.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-full shadow-sm border border-slate-100 flex items-center justify-center text-orange-600 font-bold text-[8px]",children:a.jsx(Xl,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase",children:q})]},q))}),a.jsxs("section",{className:"px-4 mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:"Los ms vendidos"}),a.jsx("button",{className:"text-orange-600 font-bold text-[10px] uppercase",children:"Ver todos"})]}),a.jsx("div",{className:`grid ${L==="mobile"?"grid-cols-2":"grid-cols-4"} gap-4`,children:s.map(q=>a.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden border border-slate-100 shadow-sm flex flex-col",children:[a.jsxs("div",{className:"aspect-square relative bg-slate-50 overflow-hidden",children:[a.jsx("img",{src:q.img,className:"w-full h-full object-cover"}),a.jsx("button",{className:"absolute top-2 right-2 p-1.5 bg-white/80 backdrop-blur-md rounded-full shadow-sm text-slate-400 hover:text-red-500 transition-colors",children:a.jsx(B7,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"p-3 flex flex-col flex-1 justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800 text-[11px] leading-tight line-clamp-2",children:q.name}),a.jsxs("p",{className:"text-xs font-black text-slate-900 mt-1",children:["$",q.price.toLocaleString()]})]}),a.jsx("button",{className:"w-full py-1.5 bg-orange-600 text-white rounded-lg font-black text-[9px] uppercase tracking-widest shadow-md",children:"Comprar"})]})]},q.id))})]})]}),a.jsxs("nav",{className:`bg-white border-t p-3 flex justify-around items-center sticky bottom-0 z-[60] ${L==="mobile"?"rounded-b-[2rem]":""}`,children:[a.jsxs("button",{className:"flex flex-col items-center gap-1 text-orange-600",children:[a.jsx(t5,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Inicio"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(Ot,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Buscar"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400 relative",children:[a.jsx(Gd,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-600 text-white text-[7px] w-3 h-3 rounded-full flex items-center justify-center",children:"2"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Carrito"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(Xf,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Perfil"})]})]}),L==="mobile"&&a.jsx("div",{className:"absolute bottom-20 right-6 z-[70] flex flex-col gap-3",children:a.jsx("button",{className:"p-3 bg-green-500 text-white rounded-full shadow-2xl animate-bounce",children:a.jsx(zA,{className:"w-5 h-5"})})})]});return a.jsxs("div",{className:"space-y-6",children:[u&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/95 z-[200] flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center bg-slate-800 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(po,{className:"w-5 h-5 text-orange-500"}),a.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Vista Previa: Ferretera Norte Tienda Online"})]}),a.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-xl",children:[a.jsx("button",{onClick:()=>i("mobile"),className:`p-2 rounded-lg transition-all ${r==="mobile"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(Yi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>i("desktop"),className:`p-2 rounded-lg transition-all ${r==="desktop"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(GA,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>d(!1),className:"bg-white/10 hover:bg-white/20 p-2 rounded-xl transition-all",children:a.jsx(Je,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-hidden p-8 flex items-center justify-center",children:F(r)})]}),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(po,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"E-Commerce & Mobile Store"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Tu ferretera abierta las 24hs en el bolsillo del cliente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{d(!0),i("mobile")},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Yi,{className:"w-4 h-4 text-orange-600"})," Ver en Celular"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-black transition-all shadow-lg",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"App Dashboard",icon:q7},{id:"catalogo",label:"Catlogo Online",icon:Pm},{id:"pedidos",label:"Pedidos Web",icon:qa},{id:"diseno",label:"UX Mobile Custom",icon:Tb}].map(L=>a.jsxs("button",{onClick:()=>n(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(qa,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Ventas Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"124"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(gs,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Clientes Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"482"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(Mm,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Sincronizacin"}),a.jsx("h3",{className:"text-lg font-black text-white",children:"ACTIVA 100%"})]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(GA,{className:"w-6 h-6 text-blue-600"})," Rendimiento Multicanal"]}),a.jsx("div",{className:"space-y-6",children:[{name:"Tienda Directa",val:"65%",color:"bg-orange-500"},{name:"MercadoLibre",val:"25%",color:"bg-yellow-400"},{name:"WhatsApp Bot",val:"10%",color:"bg-green-500"}].map(L=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase tracking-widest",children:[a.jsx("span",{className:"text-slate-500",children:L.name}),a.jsx("span",{className:"text-slate-900",children:L.val})]}),a.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${L.color}`,style:{width:L.val}})})]},L.name))})]})]}),a.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-6 border-2 border-slate-100 flex flex-col items-center",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Mobile Mockup"}),a.jsxs("div",{className:"w-full max-w-[280px] aspect-[9/18.5] bg-slate-900 rounded-[2.5rem] border-[6px] border-slate-800 shadow-2xl relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 inset-x-0 h-4 flex justify-center",children:a.jsx("div",{className:"w-16 h-4 bg-slate-800 rounded-b-xl"})}),F("mobile"),a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{onClick:()=>{d(!0),i("mobile")},className:"bg-white text-slate-900 px-4 py-2 rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 shadow-xl scale-110",children:[a.jsx(Jf,{className:"w-4 h-4"})," Expandir"]})})]})]})})]}),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(nt,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:L.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:L.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:L.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",L.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:L.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Ji,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),e==="pedidos"&&a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(qa,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:NEe.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(o5,{className:"inline w-3 h-3 mr-1"})," ",L.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:L.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",L.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(_b,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(Or,{className:"w-4 h-4"})})]})})]},L.id))})]})]})}),e==="diseno"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-12 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Tb,{className:"w-6 h-6 text-orange-600"})," Personalizacin Mobile UI"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color de Marca (Botones y TabBar)"}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-14 h-14 rounded-2xl border-none p-0 cursor-pointer shadow-lg"}),a.jsx("input",{className:"flex-1 px-5 py-4 border-2 border-slate-100 rounded-2xl font-black uppercase outline-none focus:ring-2 focus:ring-orange-500",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Botones de Accin Flotante (Mobile)"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:a.jsx(zA,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn WhatsApp Flotante"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:a.jsx(J7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:'Botn "Como llegar" (Maps)'})]}),a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:a.jsx(X7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn Llamar Ahora"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 flex flex-col items-center justify-center text-center space-y-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-orange-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"p-6 bg-white/5 rounded-full backdrop-blur-md mb-4 border border-white/10",children:a.jsx(Yi,{className:"w-16 h-16 text-orange-500"})}),a.jsx("h4",{className:"text-white font-black text-xl uppercase tracking-tight",children:"Experiencia Optimizada"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed max-w-xs",children:"El diseo mobile-first asegura que tus clientes compren cmodamente desde la obra o su casa."}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx("button",{onClick:()=>{d(!0),i("mobile")},className:"px-8 py-4 bg-white text-slate-900 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-orange-500 hover:text-white transition-all",children:"Abrir Simulador"})})]})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:v,onChange:L=>{_(L.target.value),I(L.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:k?a.jsx("div",{className:"text-center py-10",children:a.jsx($e,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"})}):N.length>0?N.map(L=>{var q;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>H(L),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Pm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:L.sku})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(q=L.salePrice)==null?void 0:q.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",L.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},L.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Zr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos"})]})})]}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:a.jsx("button",{onClick:()=>c(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})})]})})]})},EEe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(sG,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(gs,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(Ey,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Hd,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Ey,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Ey,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),TEe=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[b,w]=D.useState(!1),[y,v]=D.useState(!1),[_,N]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,E]=D.useState(!1),[T,S]=D.useState(!1),j="https://ferrogest.app/ml-callback";D.useEffect(()=>{const L=localStorage.getItem("mlClientId")||"",q=localStorage.getItem("mlClientSecret")||"",z=localStorage.getItem("mlUserId")||null,U=localStorage.getItem("mlNickname")||null,V=localStorage.getItem("mlAutoSyncStock")==="true",X=localStorage.getItem("mlAutoSyncPrices")==="true";r(L),s(q),l(z),u(U),f(V),x(X);const Q=localStorage.getItem("andreaniConfig");Q&&N(JSON.parse(Q))},[]);const k=()=>{v(!0),setTimeout(()=>{v(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},R=async()=>{if(!n||!i){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}w(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise(L=>setTimeout(L,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch(L){console.error("Error al conectar con MercadoLibre:",L),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{w(!1)}},P=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:L,clientSecret:q,accountNumber:z,branchCode:U}=_;if(!L||!q||!z||!U){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}E(!0);try{await new Promise(X=>setTimeout(X,2500));const V={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};N(V),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(V))}catch(V){console.error("Error al conectar con Andreani:",V),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{E(!1)}},I=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},H=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(Mm,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:k,disabled:y||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[y?a.jsx(Za,{className:"w-5 h-5 animate-spin"}):a.jsx(Za,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(qA,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:L=>r(L.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:i,onChange:L=>s(L.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(Sy,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:j}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(j),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:R,disabled:b||!n||!i,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[b?a.jsx($e,{className:"w-5 h-5"}):a.jsx(Rp,{className:"w-5 h-5"}),b?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(fn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ji,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:L=>f(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:L=>x(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),F=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(od,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Za,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qA,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:L=>N(q=>({...q,clientId:L.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:L=>N(q=>({...q,clientSecret:L.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:L=>N(q=>({...q,accountNumber:L.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:L=>N(q=>({...q,branchCode:L.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx($e,{className:"w-5 h-5"}):a.jsx(od,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:I,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(od,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:Mm},{id:"andreani",label:"Andreani Envos",icon:Or},{id:"other",label:"Otras Conexiones",icon:Sy}].map(L=>a.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&H(),t==="andreani"&&F(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(Sy,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(Hd,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},AEe=10,kEe=()=>{const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Dt(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,b]=D.useState(!1),[w,y]=D.useState(""),[v,_]=D.useState([]),[N,C]=D.useState(null),[E,T]=D.useState(!0),[S,j]=D.useState(!1),k=D.useRef(null),R=D.useCallback((V,X)=>{let Q=V.salePrice;if(!X||!V.costPrice)return Q||0;const G=e.find(se=>se.id===X.priceListId);if(G){const se=V.costPrice;G.modifierType==="margin"?Q=se*(1+G.value/100):G.modifierType==="percentage_over_base"&&(Q=(V.salePrice||0)*(1+G.value/100))}return X.specialDiscount>0&&(Q=Q*(1-X.specialDiscount/100)),parseFloat(Q.toFixed(2))},[e]),P=async()=>{if(!r.trim()){h("Por favor, ingresa un mensaje para analizar.");return}o(!0),h(null),c([]);try{const V=await nEe(r),X=[];for(const Q of V){const{products:G}=await n({limit:1,searchTerm:Q.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(G.length>0){const se=G[0],W=R(se,u);X.push({productId:se.id,sku:se.sku,name:se.name,brand:se.brand,quantity:Q.quantity,unitPrice:W,subtotal:parseFloat((W*Q.quantity).toFixed(2)),originalProduct:se})}else X.push({productId:`unmatched-${Date.now()}-${Q.productName}`,sku:"N/A",name:Q.productName,brand:"N/A",quantity:Q.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:Q.productName})}c(X)}catch(V){console.error("Error al analizar el mensaje:",V),h("Ocurri un error al procesar el mensaje con la IA.")}finally{o(!1)}};D.useEffect(()=>{c(V=>V.map(X=>({...X,unitPrice:X.originalProduct?R(X.originalProduct,u):X.unitPrice,subtotal:X.originalProduct?parseFloat((R(X.originalProduct,u)*X.quantity).toFixed(2)):X.subtotal})))},[u,R]);const O=(V,X)=>{c(Q=>Q.map(G=>G.productId===V?{...G,quantity:X,subtotal:parseFloat((G.unitPrice*X).toFixed(2))}:G))},I=V=>{c(X=>X.filter(Q=>Q.productId!==V))},H=D.useCallback(async(V=!1,X=w,Q=N)=>{j(!0);try{const G={limit:AEe,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:V?void 0:Q},{products:se,lastVisible:W,hasMore:pe}=await n(G);_(Ae=>V?se:[...Ae,...se]),C(W),T(pe)}catch(G){console.error("Error loading products for picker:",G)}finally{j(!1)}},[w,N,n]),F=D.useCallback(V=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{H(!0,V,null)},300)},[H]);D.useEffect(()=>{x&&H(!0,w,null)},[x,H,w]);const L=(V,X)=>{if(l.find(G=>G.productId===V.id))c(G=>G.map(se=>se.productId===V.id?{...se,quantity:se.quantity+1,subtotal:parseFloat((se.unitPrice*(se.quantity+1)).toFixed(2))}:se));else{const G=R(V,u);c(se=>[...se,{productId:V.id,sku:V.sku,name:V.name,brand:V.brand,quantity:1,unitPrice:G,subtotal:parseFloat(G.toFixed(2)),originalProduct:V}])}b(!1)},q=D.useMemo(()=>l.reduce((V,X)=>V+X.subtotal,0),[l]),z=q*.21,U=q+z;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(km,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsxs("button",{onClick:()=>{i(""),c([]),d(null),h(null)},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Yf,{className:"w-4 h-4"})," Limpiar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(km,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:V=>i(V.target.value)}),f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(Ki,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:f})]}),a.jsxs("button",{onClick:P,disabled:s||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[s?a.jsx($e,{className:"w-6 h-6 animate-spin"}):a.jsx(Cm,{className:"w-6 h-6"}),s?"Analizando...":"Analizar Mensaje"]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cliente"}),a.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:V=>d(t.find(X=>X.id===V.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(V=>a.jsxs("option",{value:V.id,children:[V.name," (",V.cuit,")"]},V.id))]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:l.map(V=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:V.originalProduct?a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:V.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:V.sku})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Ki,{className:"w-4 h-4"})," ",V.name,a.jsx("button",{onClick:()=>{b(!0)},className:"ml-2 px-2 py-1 bg-red-50 text-[10px] rounded",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:V.quantity,onChange:X=>O(V.productId,Number(X.target.value)),className:"w-16 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",V.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>I(V.productId),className:"text-slate-300 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},V.productId))})]})}),a.jsxs("button",{onClick:()=>b(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Aadir Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-2 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",q.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",U.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{disabled:l.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5"})," Guardar"]}),a.jsxs("button",{disabled:l.length===0||!(u!=null&&u.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(d5,{className:"w-5 h-5"})," WhatsApp"]})]})]})})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase",children:"Buscar Producto"}),a.jsx("button",{onClick:()=>b(!1),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50",value:w,onChange:V=>{y(V.target.value),F(V.target.value)}})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:S?a.jsx("div",{className:"text-center py-10",children:a.jsx($e,{className:"w-10 h-10 text-slate-200 mx-auto animate-spin"})}):v.map(V=>{var X;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 cursor-pointer",onClick:()=>L(V),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:V.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:V.sku})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(X=V.salePrice)==null?void 0:X.toLocaleString()]}),a.jsx(nt,{className:"w-5 h-5 text-orange-600"})]})]},V.id)})})]})]})})]})},Bo={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},up={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},CEe=10,jEe=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:i,fetchProductsPaginatedAndFiltered:s,addRemito:o}=Dt(),[l,c]=D.useState(""),[u,d]=D.useState("all"),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,y]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[v,_]=D.useState([]),[N,C]=D.useState(!1),[E,T]=D.useState(!1),[S,j]=D.useState(""),[k,R]=D.useState([]),[P,O]=D.useState(null),[I,H]=D.useState(!0),[F,L]=D.useState(!1),q=D.useRef(null),[z,U]=D.useState(!1),[V,X]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),[Q,G]=D.useState(!1),[se,W]=D.useState(!1),[pe,Ae]=D.useState(null),Fe=D.useCallback(async(te=!1,ye=S,Ve=P)=>{L(!0);try{const Be={limit:CEe,searchTerm:ye.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:te?void 0:Ve},{products:Hn,lastVisible:gr,hasMore:Vr}=await s(Be);R(Qc=>te?Hn:[...Qc,...Hn]),O(gr),H(Vr)}catch(Be){console.error("Error loading products for picker:",Be)}finally{L(!1)}},[S,P,s]),de=D.useCallback(te=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{Fe(!0,te,null)},300)},[Fe]);D.useEffect(()=>{E&&(R([]),O(null),H(!0),Fe(!0,S,null))},[S,E,Fe]),D.useEffect(()=>{if(w.clientId){const te=t.find(ye=>ye.id===w.clientId);te&&y(ye=>({...ye,clientName:te.name}))}else y(te=>({...te,clientName:""}))},[w.clientId,t]),D.useEffect(()=>{const te=v.reduce((ye,Ve)=>ye+Ve.subtotal,0);y(ye=>({...ye,total:parseFloat(te.toFixed(2))}))},[v]);const ae=te=>{te?(b(te),y(te),_(te.items)):(b(null),y({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),_([])),h(!0)},J=(te,ye)=>{_(Ve=>Ve.map((Be,Hn)=>{if(Hn===te){const gr=Math.max(1,ye),Vr=Be.unitPrice*gr;return{...Be,quantity:gr,subtotal:parseFloat(Vr.toFixed(2))}}return Be}))},K=te=>{_(ye=>ye.filter((Ve,Be)=>Be!==te))},fe=te=>{const ye=v.findIndex(Ve=>Ve.productId===te.id&&!Ve.isService);if(ye!==-1)J(ye,v[ye].quantity+1);else{const Ve=te.salePrice;_(Be=>[...Be,{productId:te.id,sku:te.sku,name:te.name,brand:te.brand,quantity:1,unitPrice:Ve,subtotal:parseFloat(Ve.toFixed(2)),originalProduct:te}])}T(!1),j("")},ve=()=>{if(!V.name||V.unitPrice<=0||V.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const te=V.unitPrice*V.quantity;_(ye=>[...ye,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:V.name,brand:"N/A",quantity:V.quantity,unitPrice:V.unitPrice,subtotal:parseFloat(te.toFixed(2)),isService:!0,serviceDescription:V.serviceDescription,originalProduct:null}]),U(!1),X({name:"",serviceDescription:"",unitPrice:0,quantity:1})},De=async()=>{if(!w.clientId||v.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}C(!0);try{const te={clientId:w.clientId,clientName:w.clientName||"Cliente",items:v,total:v.reduce((ye,Ve)=>ye+Ve.subtotal,0),status:w.status||"pendiente_preparacion",dateCreated:w.dateCreated||new Date().toISOString().split("T")[0],dateDue:w.dateDue,notes:w.notes,isServiceOrder:v.some(ye=>ye.isService)};x?await r(x.id,te):await n(te),alert("Pedido guardado con xito!"),h(!1)}catch(te){console.error("Error al guardar el pedido:",te),alert("Ocurri un error al guardar el pedido.")}finally{C(!1)}},Z=async te=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await i(te),alert("Pedido eliminado con xito.")}catch(ye){console.error("Error al eliminar el pedido:",ye),alert("Ocurri un error al eliminar el pedido.")}},me=async(te,ye)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${Bo[ye]}"?`))try{await r(te,{status:ye}),alert("Estado del pedido actualizado.")}catch(Ve){console.error("Error al actualizar estado del pedido:",Ve),alert("Ocurri un error al actualizar el estado.")}},Xe=te=>{Ae(te),G(!0)},At=async()=>{if(pe){W(!0);try{const te=pe.items.map(Be=>{var Hn,gr,Vr;return{id:Be.productId,sku:Be.sku,name:Be.name,quantity:Be.quantity,price:Be.unitPrice,brand:Be.brand,selectedSaleUnit:Be.selectedSaleUnit||"unidad",originalPrimaryUnit:((Hn=Be.originalProduct)==null?void 0:Hn.primaryUnit)||"unidad",originalSaleUnit:((gr=Be.originalProduct)==null?void 0:gr.saleUnit)||"unidad",originalSaleUnitConversionFactor:((Vr=Be.originalProduct)==null?void 0:Vr.saleUnitConversionFactor)||1}}),ye={date:new Date().toISOString().split("T")[0],client:pe.clientName,clientId:pe.clientId,itemsCount:te.length,itemsList:te,total:pe.total,status:"pendiente"},Ve=await o(ye);await r(pe.id,{status:"en_camino"}),alert(`Remito N ${Ve} generado con xito para el pedido ${pe.id}!`),G(!1),Ae(null)}catch(te){console.error("Error al generar remito desde pedido:",te),alert("Ocurri un error al generar el remito.")}finally{W(!1)}}},Nt=D.useMemo(()=>e.filter(te=>{const ye=te.clientName.toLowerCase().includes(l.toLowerCase())||te.id.toLowerCase().includes(l.toLowerCase()),Ve=u==="all"||te.status===u;return ye&&Ve}).sort((te,ye)=>new Date(ye.dateCreated).getTime()-new Date(te.dateCreated).getTime()),[e,l,u]),He=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:S,onChange:te=>{j(te.target.value),de(te.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:F&&S.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx($e,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):k.length>0?k.map(te=>{var ye;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>fe(te),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Pm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:te.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[te.sku,"  ",te.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(ye=te.salePrice)==null?void 0:ye.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",te.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},te.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Zr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!F&&I&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>Fe(!1,S,P),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(Zr,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>T(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),Lt=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Mr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:V.name,onChange:te=>X(ye=>({...ye,name:te.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:V.serviceDescription,onChange:te=>X(ye=>({...ye,serviceDescription:te.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:V.unitPrice||"",onChange:te=>X(ye=>({...ye,unitPrice:parseFloat(te.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:V.quantity||"",onChange:te=>X(ye=>({...ye,quantity:parseInt(te.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ve,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(nt,{className:"w-5 h-5"})]})]})]})}),Gn=()=>pe?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-500 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Generar Remito"}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Para Pedido N ",pe.id]})]})]}),a.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Detalles del Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:pe.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha Pedido"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(pe.dateCreated).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Total"}),a.jsxs("p",{className:"font-bold text-slate-900",children:["$",pe.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado Actual"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${up[pe.status]}`,children:Bo[pe.status]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems a Incluir en Remito"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:pe.items.map((te,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:te.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:te.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:te.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",te.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",te.subtotal.toLocaleString()]})]},ye))})]})}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Zr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Nota:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este remito incluir todos los tems del pedido. El stock se deducir del inventario al generar el remito."})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>G(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:At,disabled:se,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[se?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),se?"Generando Remito...":"Confirmar Generacin de Remito"]})]})]})}):null;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(zd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>ae(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:l,onChange:te=>c(te.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(te=>a.jsx("button",{onClick:()=>d(te),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${u===te?"bg-orange-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:te==="all"?"Todos":Bo[te]},te))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Nt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(zd,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):Nt.map(te=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:te.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:te.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:te.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(te.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:te.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(te.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[te.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${up[te.status]}`,children:Bo[te.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",te.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>ae(te),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(cs,{className:"w-4 h-4"})}),["pendiente_preparacion","listo_retiro","en_camino"].includes(te.status)&&a.jsx("button",{onClick:()=>Xe(te),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors",title:"Generar Remito",children:a.jsx(Or,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(te.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(Rn,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(Yf,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(Bo).map(ye=>a.jsxs("button",{onClick:()=>me(te.id,ye),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${up[ye].split(" ")[0]} ${up[ye].split(" ")[1]}`}),Bo[ye]]},ye))})]})]})})]},te.id))})]})})]}),f&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[E&&He(),z&&Lt(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Xf,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:w.clientId||"",onChange:te=>y(ye=>({...ye,clientId:te.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(El,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:w.dateDue||"",onChange:te=>y(ye=>({...ye,dateDue:te.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>T(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nt,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>U(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nt,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):v.map((te,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:te.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:te.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:te.quantity,onChange:Ve=>J(ye,parseInt(Ve.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",te.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",te.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>K(ye),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},ye))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:w.notes||"",onChange:te=>y(ye=>({...ye,notes:te.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(w.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:De,disabled:N,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[N?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),x?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]}),Q&&Gn()]})},NI={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},PEe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},IEe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:i,addTransaction:s}=Dt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[y,v]=D.useState(!1),[_,N]=D.useState(!1),[C,E]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[T,S]=D.useState(!1);D.useEffect(()=>{const L=(b.totalAmount||0)-(b.downPayment||0),q=b.installmentsCount>0?b.installmentsCount:1,z=parseFloat((L/q).toFixed(2));w(U=>({...U,amountPerInstallment:z,remainingAmount:h?h.remainingAmount:parseFloat(L.toFixed(2))}))},[b.totalAmount,b.downPayment,b.installmentsCount,h]),D.useEffect(()=>{if(b.clientId){const L=t.find(q=>q.id===b.clientId);L&&w(q=>({...q,clientName:L.name}))}else w(L=>({...L,clientName:""}))},[b.clientId,t]);const j=L=>{L?(x(L),w(L)):(x(null),w({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},k=async()=>{if(!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}v(!0);try{const L={clientId:b.clientId,clientName:b.clientName||"Cliente",totalAmount:b.totalAmount,downPayment:b.downPayment||0,installmentsCount:Math.max(1,b.installmentsCount||1),amountPerInstallment:b.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:b.totalAmount-(b.downPayment||0),payments:b.payments||[],status:b.status||"activo",startDate:b.startDate||new Date().toISOString().split("T")[0],nextDueDate:b.nextDueDate,description:b.description};h?await r(h.id,L):await n(L),alert("Plan de cuotas guardado con xito!"),f(!1)}catch(L){console.error("Error al guardar el plan de cuotas:",L),alert("Ocurri un error al guardar el plan de cuotas.")}finally{v(!1)}},R=async L=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await i(L),alert("Plan de cuotas eliminado con xito.")}catch(q){console.error("Error al eliminar el plan de cuotas:",q),alert("Ocurri un error al eliminar el plan de cuotas.")}},P=L=>{x(L),E({amountPaid:Math.min(L.amountPerInstallment,L.remainingAmount),method:"efectivo",notes:""}),N(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}S(!0);try{const L=h.remainingAmount-C.amountPaid,q=L<=0?"pagado":"activo",z={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},U=[...h.payments,z],V=t.find(X=>X.id===h.clientId);V&&await I(h.clientId,V.balance+C.amountPaid),await s({amount:C.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:L,payments:U,status:q,nextDueDate:q==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),N(!1),x(null)}catch(L){console.error("Error al registrar pago:",L),alert("Ocurri un error al registrar el pago.")}finally{S(!1)}},I=async(L,q)=>{console.log(`Simulating client ${L} balance update to: $${q}`)},H=D.useMemo(()=>e.filter(L=>{const q=L.clientName.toLowerCase().includes(o.toLowerCase())||L.id.toLowerCase().includes(o.toLowerCase()),z=c==="all"||L.status===c;return q&&z}).sort((L,q)=>new Date(q.startDate).getTime()-new Date(L.startDate).getTime()),[e,o,c]),F=D.useMemo(()=>e.filter(L=>L.status==="activo"||L.status==="mora").reduce((L,q)=>L+q.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Qr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>j(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(Ql,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter(L=>L.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(Jl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter(L=>L.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(ai,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",F.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:L=>l(L.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map(L=>a.jsx("button",{onClick:()=>u(L),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===L?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:L==="all"?"Todos":NI[L]},L))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:H.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Qr,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):H.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[L.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:L.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:L.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:L.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[L.payments.filter(q=>q.amountPaid>0).length,"/",L.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",L.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",L.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${L.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",L.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:L.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(L.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${PEe[L.status]}`,children:NI[L.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>j(L),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(cs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P(L),disabled:L.status==="pagado"||L.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(jn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>R(L.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Qr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Xf,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:b.clientId||"",onChange:L=>w(q=>({...q,clientId:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(L=>a.jsxs("option",{value:L.id,children:[L.name," (",L.cuit,")"]},L.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:b.description||"",onChange:L=>w(q=>({...q,description:L.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:b.totalAmount||"",onChange:L=>w(q=>({...q,totalAmount:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:b.downPayment||"",onChange:L=>w(q=>({...q,downPayment:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:b.installmentsCount||"",onChange:L=>w(q=>({...q,installmentsCount:parseInt(L.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(El,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:b.startDate||"",onChange:L=>w(q=>({...q,startDate:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((b.totalAmount||0)-(b.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(b.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Yl,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map((L,q)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date(L.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",L.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:L.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:L.notes||"-"})]},L.id||q))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:k,disabled:y||!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),y?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(jn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:L=>E(q=>({...q,amountPaid:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:L=>E(q=>({...q,method:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:L=>E(q=>({...q,notes:L.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:T||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[T?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(fn,{className:"w-5 h-5"}),T?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},REe=()=>{const{products:t,suppliers:e,updateProduct:n}=Dt(),[r,i]=D.useState(""),[s,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,b=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&b}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(oN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(cN,{className:"w-4 h-4"})," Imprimir"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ua,{className:"w-4 h-4"})," Generar Pedidos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>i(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(fn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(Or,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(d5,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(Ki,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:a.jsx("span",{className:x.stock<=0?"text-red-600":"text-orange-600",children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:s===x.id,onChange:b=>u(x.id,b.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),s===x.id&&a.jsx($e,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg",title:"Aadir",children:a.jsx(ua,{className:"w-4 h-4"})})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Zr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu cuando su stock actual es menor al ",a.jsx("b",{children:"Punto de Reorden"}),"."]})]})]})]})},MEe=20,OEe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Dt(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,b]=D.useState(!1),[w,y]=D.useState([]),[v,_]=D.useState(null),[N,C]=D.useState(!0),[E,T]=D.useState(!1),S=D.useRef(null),j=D.useCallback(I=>{S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{i(I)},300)},[]),k=D.useCallback(async(I=!1,H=r,F=v)=>{T(!0);try{const L={limit:MEe,searchTerm:H.toLowerCase().trim(),startAfterDoc:I?void 0:F,orderByField:"name",orderDirection:"asc"},{products:q,lastVisible:z,hasMore:U}=await n(L);y(V=>I?q:[...V,...q]),_(z),C(U)}catch(L){console.error("Error loading products:",L)}finally{T(!1)}},[r,v,n]);D.useEffect(()=>{e||(y([]),_(null),C(!0),k(!0,r,null))},[r,e,k]);const R=I=>{c(I),d(0),h(""),o(!0)},P=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}b(!0);try{const I=(l.stock||0)+u;await t(l.id,{stock:I}),alert(`Stock de "${l.name}" ajustado a ${I} unidades.`),o(!1),c(null),y(H=>H.map(F=>F.id===l.id?{...F,stock:I}:F))}catch(I){console.error("Error al guardar el ajuste de stock:",I),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{b(!1)}}};return(e||E)&&w.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx($e,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:I=>{i(I.target.value),j(I.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[w.map(I=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(Xl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[I.sku,"  ",I.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${I.stock<(I.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:I.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:I.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>R(I),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(cs,{className:"w-5 h-5"})," Ajustar"]})})]},I.id)),w.length===0&&!E&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),E&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx($e,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!E&&N&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>k(!1,r,v),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),s&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(cs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(I=>I-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(H7,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:I=>d(Number(I.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(I=>I+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(ua,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:I=>h(I.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(Zr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},DEe=20,LEe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Dt(),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[b,w]=D.useState(null),[y,v]=D.useState(!0),[_,N]=D.useState(!1),C=D.useRef(null),E=D.useCallback(F=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{s(F)},300)},[]),T=D.useCallback(async(F=!1,L=i,q=b)=>{N(!0);try{const z={limit:DEe,searchTerm:L.toLowerCase().trim(),startAfterDoc:F?void 0:q,orderByField:"name",orderDirection:"asc"},{products:U,lastVisible:V,hasMore:X}=await r(z);x(Q=>F?U:[...Q,...U]),w(V),v(X)}catch(z){console.error("Error loading products:",z)}finally{N(!1)}},[i,b,r]);D.useEffect(()=>{n||(x([]),w(null),v(!0),T(!0,i,null),l([]))},[i,n,T]);const S=D.useMemo(()=>{const F=new Set;return h.forEach(L=>L.category&&F.add(L.category)),Array.from(F).sort()},[h]),j=D.useMemo(()=>{const F=new Set;return h.forEach(L=>L.brand&&F.add(L.brand)),Array.from(F).sort()},[h]),k=F=>{l(L=>L.includes(F)?L.filter(q=>q!==F):[...L,F])},R=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(F=>F.id))},P=(F,L)=>{f(q=>({...q,[F]:L}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},I=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const F={};if(d.supplierId&&(F.supplierId=d.supplierId),d.category&&(F.category=d.category),d.brand&&(F.brand=d.brand),d.reorderPoint!==""&&(F.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(F.targetStock=Number(d.targetStock)),Object.keys(F).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const L=new Map;for(const q of o){const z=h.find(V=>V.id===q);if(!z)continue;const U={...F};if(d.markup!==""){const V=Number(d.markup);!isNaN(V)&&z.costPrice!==void 0&&(U.salePrice=z.costPrice*(1+V/100))}await e(q,U),L.set(q,{...z,...U})}x(q=>q.map(z=>L.has(z.id)?L.get(z.id):z)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch(L){console.error("Error al aplicar cambios masivos:",L),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx($e,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:i,onChange:F=>{s(F.target.value),E(F.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(ad,{className:"w-5 h-5 text-orange-600"}):a.jsx(jm,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(F=>{var L,q;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>k(F.id),className:"p-1",children:o.includes(F.id)?a.jsx(ad,{className:"w-5 h-5 text-orange-600"}):a.jsx(jm,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:F.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:((L=t.find(z=>z.id===F.supplierId))==null?void 0:L.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:F.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${F.stock<(F.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:F.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(q=F.salePrice)==null?void 0:q.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.targetStock||"N/A"})]},F.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx($e,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&y&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>T(!1,i,b),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:F=>P("supplierId",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:F=>P("markup",F.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:F=>P("category",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),S.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:F=>P("brand",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),j.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:F=>P("reorderPoint",F.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:F=>P("targetStock",F.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:I,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx($e,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},rv=[{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",clientId:"client-456",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"},{id:"R-0003",date:"2024-05-22",client:"Alberto Gimenez",clientId:"client-789",itemsCount:2,itemsList:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:25e3,status:"facturado",invoiceId:"F-INV-001"},{id:"R-0004",date:"2024-05-23",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:3,itemsList:[{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:4e3,status:"pendiente"},{id:"R-0005",date:"2024-05-24",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:8,itemsList:[{id:"p8",sku:"TUER-M8",name:"Tuercas M8",quantity:100,price:3,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p9",sku:"LIJA-F100",name:"Lija Grano 100",quantity:10,price:150,brand:"3M",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:1800,status:"pendiente"}],$Ee=[{id:"F-INV-001",clientName:"Alberto Gimenez",clientId:"client-789",items:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",subtotal:25e3,selectedSaleUnit:"litro"}],total:25e3,paymentDetails:[{id:"pd1",method:"efectivo",amount:25e3,netAmount:25e3}],docType:"factura_a",date:"2024-05-22T10:00:00Z",status:"completado",seller:"Sistema",remitoIds:["R-0003"]},{id:"F-INV-002",clientName:"Juan Perez S.R.L.",clientId:"client-123",items:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",subtotal:11e3,selectedSaleUnit:"unidad"},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",subtotal:1500,selectedSaleUnit:"metro_lineal"},{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",subtotal:500,selectedSaleUnit:"unidad"},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",subtotal:3500,selectedSaleUnit:"unidad"}],total:16500,paymentDetails:[{id:"pd2",method:"transferencia",amount:16500,netAmount:16500}],docType:"factura_b",date:"2024-05-25T11:30:00Z",status:"completado",seller:"Usuario Actual",remitoIds:["R-0001","R-0004"]}],FEe=()=>{const{addSale:t,clients:e,remitos:n,updateRemito:r,sales:i}=Dt(),[s,o]=D.useState(""),[l,c]=D.useState("todos"),[u,d]=D.useState([]),[f,h]=D.useState(!1),[x,b]=D.useState(!1),[w,y]=D.useState(null),[v,_]=D.useState(null),[N,C]=D.useState([]),[E,T]=D.useState({method:"efectivo",amount:0,notes:"",netAmount:0}),[S,j]=D.useState("factura_a"),[k,R]=D.useState(0),[P,O]=D.useState(""),[I,H]=D.useState([]);D.useEffect(()=>{if(n&&n.length>0){const J=new Map(n.map(ve=>[ve.id,ve])),K=rv.map(ve=>J.get(ve.id)||ve),fe=n.filter(ve=>!rv.some(De=>De.id===ve.id));H([...K,...fe])}else H(rv)},[n]);const[F,L]=D.useState(!1),q=J=>{switch(J){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";case"facturado":return"bg-blue-50 text-blue-700 border-blue-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},z=I.filter(J=>{const K=J.client.toLowerCase().includes(s.toLowerCase())||J.id.toLowerCase().includes(s.toLowerCase()),fe=l==="todos"||J.status===l;return K&&fe}),U=J=>{d(K=>K.includes(J)?K.filter(fe=>fe!==J):[...K,J])},V=()=>{const J=z.filter(K=>K.status!=="facturado").map(K=>K.id);u.length===J.length&&J.length>0?d([]):d(J)},X=D.useMemo(()=>I.filter(J=>u.includes(J.id)),[I,u]),Q=D.useMemo(()=>w?w.total:X.reduce((J,K)=>J+K.total,0),[w,X]),G=Q+k,se=N.reduce((J,K)=>J+K.amount,0),W=G-se,pe=()=>{if(E.amount<=0){alert("Por favor, ingresa un monto mayor a cero.");return}const J={...E,id:Date.now().toString(),netAmount:E.amount};C(K=>[...K,J]),T({method:"efectivo",amount:0,notes:"",netAmount:0})},Ae=(J=null,K=!1)=>{if(console.log("openBillingModal called:",{remito:J,isBulk:K,selectedIds:u,selectedRemitosData:X}),K&&u.length===0){alert("No hay remitos seleccionados para facturar.");return}if(K&&u.length>1){const fe=X[0],ve=fe==null?void 0:fe.clientId,De=fe==null?void 0:fe.client;if(!X.every(me=>me.clientId===ve)){alert(`Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes (ej. "${De}" y otros).`);return}}else if(!J&&!K){alert("No se ha seleccionado ningn remito para facturar.");return}y(J),C([]),T({method:"efectivo",amount:0,notes:"",netAmount:0}),j("factura_a"),R(0),O(""),h(!0)},Fe=async()=>{var ve,De;console.log("handleConfirmInvoice called.");const J=X.length>0?X:w?[w]:[];if(J.length===0){alert("No hay remitos seleccionados para facturar."),L(!1);return}const K=(ve=J[0])==null?void 0:ve.clientId;if(!J.every(Z=>Z.clientId===K)){alert("Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes."),L(!1);return}if(N.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(W)>.01){alert(`Falta asignar $${W.toLocaleString()}`);return}L(!0);try{const Z=[];for(const Nt of J)for(const He of Nt.itemsList){const Lt=Z.findIndex(Gn=>Gn.id===He.id&&Gn.selectedSaleUnit===He.selectedSaleUnit);Lt!==-1?(Z[Lt].quantity+=He.quantity,Z[Lt].subtotal=parseFloat((Z[Lt].quantity*Z[Lt].price).toFixed(2))):Z.push({id:He.id,sku:He.sku,name:He.name,brand:He.brand,price:He.price,quantity:He.quantity,subtotal:parseFloat((He.price*He.quantity).toFixed(2)),selectedSaleUnit:He.selectedSaleUnit})}const me=e.find(Nt=>Nt.id===K),Xe={clientName:(me==null?void 0:me.name)||((De=J[0])==null?void 0:De.client)||"Consumidor Final",clientId:(me==null?void 0:me.id)||null,items:Z,total:G,paymentDetails:N,docType:S,date:new Date().toISOString(),status:"completado",seller:"Usuario Actual",remitoIds:J.map(Nt=>Nt.id)},At=await t(Xe);for(const Nt of J)await r(Nt.id,{invoiceId:At,status:"facturado"});alert(`Facturacin completada! Se gener el comprobante N ${At}.`),d([]),h(!1),C([]),y(null)}catch(Z){console.error("Error al confirmar factura:",Z),alert("Error al procesar la facturacin.")}finally{L(!1)}},de=async J=>{console.log('Clicked "Ver Factura" for invoiceId:',J);let K=i.find(fe=>fe.id===J);K||(K=$Ee.find(fe=>fe.id===J)),K?(console.log("Found invoice:",K),_(K),b(!0)):(console.log("Invoice not found for invoiceId:",J),alert("No se encontr la factura."))},ae=()=>{if(!v)return null;const J=I.filter(fe=>{var ve;return(ve=v.remitoIds)==null?void 0:ve.includes(fe.id)}),K=e.find(fe=>fe.id===v.clientId);return a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(bu,{className:"w-6 h-6","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Comprobante N ",v.id]}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Detalle del comprobante ",v.docType.replace("_"," ").toUpperCase()]})]})]}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Je,{className:"w-6 h-6","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informacin General"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:v.clientName}),K&&a.jsx("p",{className:"text-xs text-slate-600",children:K.cuit})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(v.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tipo de Doc."}),a.jsx("p",{className:"font-bold text-slate-900",children:v.docType.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${v.status==="completado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:v.status})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems del Comprobante"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.items.map((fe,ve)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:fe.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[fe.sku,"  ",fe.brand]})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:fe.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",fe.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",fe.subtotal.toLocaleString()]})]},ve))})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remitos Vinculados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:J.length>0?J.map(fe=>a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["Remito N ",fe.id]}),a.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:new Date(fe.date).toLocaleDateString()})]}),a.jsxs("span",{className:"font-black text-blue-900",children:["$",fe.total.toLocaleString()]})]},fe.id)):a.jsx("div",{className:"col-span-full p-4 text-center text-slate-400 italic",children:"No hay remitos vinculados a este comprobante."})})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Total Comprobante"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",v.total.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Total Pagado"}),a.jsxs("span",{children:["$",v.paymentDetails.reduce((fe,ve)=>fe+ve.amount,0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cerrar"}),a.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(cN,{className:"w-5 h-5","aria-hidden":"true"})," Imprimir Comprobante"]})]})]})})};return a.jsxs("div",{className:"space-y-6 pb-24",children:[x&&ae()," ",a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]}),a.jsxs("button",{onClick:()=>alert("Aqu se abrira un modal para crear un nuevo remito."),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5","aria-hidden":"true"})," Nuevo Remito"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:s,onChange:J=>o(J.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado","facturado"].map(J=>a.jsx("button",{onClick:()=>c(J),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${l===J?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:J},J))}),u.length>0&&a.jsxs("button",{onClick:()=>Ae(null,!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 ml-4",children:[a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"})," Facturar Seleccionados (",u.length,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:V,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:u.length===z.filter(J=>J.status!=="facturado").length&&z.filter(J=>J.status!=="facturado").length>0?a.jsx(ad,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(jm,{className:"w-5 h-5 text-slate-300","aria-hidden":"true"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:z.map(J=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${u.includes(J.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>J.status!=="facturado"&&U(J.id),children:J.status==="facturado"?a.jsx("span",{title:"Remito ya facturado",children:a.jsx(ad,{className:"w-5 h-5 text-blue-600 opacity-50","aria-hidden":"true"})}):u.includes(J.id)?a.jsx(ad,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(jm,{className:"w-5 h-5 text-slate-200","aria-hidden":"true"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:J.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:J.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:J.itemsCount}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${q(J.status)}`,children:J.status}),J.invoiceId&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(bu,{className:"w-3 h-3 text-blue-600","aria-hidden":"true"}),a.jsxs("button",{onClick:K=>{K.stopPropagation(),de(J.invoiceId)},className:"text-[9px] font-black uppercase text-blue-600 hover:underline",children:["Factura ",J.invoiceId]})]})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",J.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:J.status==="facturado"?a.jsx("button",{onClick:K=>{K.stopPropagation(),de(J.invoiceId)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Ver Factura",children:a.jsx(Jf,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx("button",{onClick:K=>{K.stopPropagation(),Ae(J,!1)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"})})})]},J.id))})]})})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(w==null?void 0:w.client)||(X.length>0?X[0].client:"N/A")})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-3 text-slate-400",children:a.jsx(Je,{className:"w-7 h-7","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tipo de Comprobante"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_a",checked:S==="factura_a",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura A"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_b",checked:S==="factura_b",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura B"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"ticket",checked:S==="ticket",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Ticket / Venta Simple"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total a Facturar: $",Q.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:N.map(J=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:J.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",J.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(N.filter(K=>K.id!==J.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4","aria-hidden":"true"})})]})]},J.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:E.method,onChange:J=>T({...E,method:J.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:E.amount||"",onChange:J=>T({...E,amount:parseFloat(J.target.value)||0})})]}),a.jsx("button",{onClick:pe,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",G.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:F||Math.abs(W)>.01,onClick:Fe,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?a.jsx($e,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},VEe=({client:t,onLogout:e,companyInfo:n})=>{var h;const{sales:r}=Dt(),[i,s]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),d=D.useMemo(()=>r.filter(x=>x.clientId===t.id).sort((x,b)=>new Date(b.date).getTime()-new Date(x.date).getTime()),[r,t.id]),f=()=>{u(!0),setTimeout(()=>{u(!1),l(!1),alert("Gracias! El aviso de pago ha sido enviado. Un asesor lo validar a la brevedad.")},2e3)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white border-b border-slate-100 p-6 flex justify-between items-center sticky top-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-xl text-white rotate-2",children:a.jsx(qa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tighter italic uppercase",children:n.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Portal de Clientes"})]})]}),a.jsxs("button",{onClick:e,className:"flex items-center gap-2 p-3 bg-slate-50 text-slate-500 rounded-2xl hover:bg-red-50 hover:text-red-600 transition-all font-bold text-xs",children:[a.jsx(s5,{className:"w-4 h-4"})," ",a.jsx("span",{className:"hidden md:inline uppercase tracking-widest",children:"Salir"})]})]}),a.jsxs("main",{className:"flex-1 p-6 md:p-10 max-w-4xl mx-auto w-full space-y-8 pb-32",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-orange-500 font-black uppercase text-[10px] tracking-widest",children:"Bienvenido de nuevo"}),a.jsx("h2",{className:"text-3xl font-black",children:t.name}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:t.cuit})]}),a.jsxs("div",{className:"mt-8 flex gap-4",children:[a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Puntos Club"}),a.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[a.jsx(Hd,{className:"w-5 h-5 fill-orange-500"}),a.jsx("span",{className:"text-2xl font-black",children:t.accumulatedPoints||0})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm flex-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Lista de Precios"}),a.jsx("span",{className:"text-sm font-bold text-slate-200",children:"Preferencial Gremio"})]})]}),a.jsx(Yi,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsx("nav",{className:"flex bg-white p-2 rounded-[2rem] shadow-sm border border-slate-100 gap-2",children:[{id:"overview",label:"Resumen",icon:da},{id:"history",label:"Mis Compras",icon:Yl},{id:"payments",label:"Informar Pago",icon:Ud}].map(x=>a.jsxs("button",{onClick:()=>s(x.id),className:`flex-1 flex flex-col items-center gap-2 py-4 rounded-[1.5rem] transition-all ${i===x.id?"bg-orange-600 text-white shadow-xl shadow-orange-600/30":"text-slate-400 hover:bg-slate-50 hover:text-slate-600"}`,children:[a.jsx(x.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:x.label})]},x.id))}),a.jsxs("div",{className:"space-y-6",children:[i==="overview"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"text-center md:text-left space-y-2",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Saldo a Pagar"}),a.jsxs("h3",{className:`text-5xl font-black ${t.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(t.balance).toLocaleString()]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t.balance<0?"Tienes facturas pendientes de pago.":"Tu cuenta est al da o tienes saldo a favor."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-10 py-5 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 active:scale-95",children:[a.jsx(Qr,{className:"w-5 h-5 text-orange-500"})," Pagar Saldo Ahora"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-blue-600 shadow-sm",children:a.jsx(fn,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest leading-tight",children:"ltima Compra"}),a.jsx("h3",{className:"text-lg font-black text-blue-900",children:(h=d[0])!=null&&h.date?new Date(d[0].date).toLocaleDateString():"N/A"})]})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-green-600 shadow-sm",children:a.jsx(Hd,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-green-400 uppercase tracking-widest leading-tight",children:"Beneficio Club"}),a.jsx("h3",{className:"text-lg font-black text-green-900",children:"5% OFF Prxima Compra"})]})]})]})]}),i==="history"&&a.jsx("div",{className:"space-y-4 animate-in slide-in-from-right duration-500",children:d.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] text-center space-y-4",children:[a.jsx(Yl,{className:"w-12 h-12 text-slate-200 mx-auto"}),a.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Sin historial de compras"})]}):d.map(x=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row justify-between items-center gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-5 w-full md:w-auto",children:[a.jsx("div",{className:"p-3 bg-slate-50 text-slate-400 rounded-2xl group-hover:bg-orange-50 group-hover:text-orange-600 transition-all",children:a.jsx(u5,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:[x.docType.replace("_"," ").toUpperCase()," N ",x.id.slice(-6)]}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(T0,{className:"w-3 h-3"})," ",new Date(x.date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-10",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-black text-slate-900",children:["$",x.total.toLocaleString()]}),a.jsx("span",{className:"text-[9px] font-black text-green-600 uppercase tracking-widest",children:"Pagado"})]}),a.jsx("button",{className:"p-3 bg-slate-50 text-slate-400 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all",children:a.jsx(al,{className:"w-5 h-5"})})]})]},x.id))}),i==="payments"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 animate-in slide-in-from-left duration-500",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Informar un Pago"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ya realizaste una transferencia? Adjunta el comprobante aqu para que actualicemos tu saldo."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Pagado"}),a.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-2xl font-black outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 flex flex-col items-center justify-center text-center group hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer",children:[a.jsx(Yi,{className:"w-12 h-12 text-slate-200 mb-4 group-hover:text-orange-500"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Subir foto del comprobante"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Formatos: JPG, PNG, PDF"})]}),a.jsx("button",{onClick:f,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-700 transition-all flex items-center justify-center gap-3",children:"Enviar Notificacin"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Datos para Pago"}),a.jsx("button",{onClick:()=>l(!1),children:a.jsx(Je,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alias CBU"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"FERROGEST.PRO.PAGOS"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Banco / Billetera"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"Banco Galicia / Mercado Pago"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 flex items-start gap-4",children:[a.jsx(Zr,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:["Una vez realizada la transferencia, puedes informar el pago en la pestaa ",a.jsx("b",{children:'"Informar Pago"'})," para una acreditacin rpida."]})]}),a.jsxs("button",{onClick:f,disabled:c,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 disabled:opacity-50",children:[c?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Zl,{className:"w-5 h-5 text-orange-500"}),"Ya realic la transferencia"]})]})]})}),a.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-8 right-8 p-5 bg-green-500 text-white rounded-full shadow-2xl shadow-green-500/40 animate-bounce transition-all hover:scale-110 z-50",children:a.jsx(Yi,{className:"w-8 h-8"})})]})},UEe=({onLoginSuccess:t})=>{const[e,n]=D.useState("employee"),[r,i]=D.useState(""),[s,o]=D.useState(""),[l,c]=D.useState(""),[u,d]=D.useState(!1),[f,h]=D.useState(null),x="admin",b="admin123",w=async v=>{v.preventDefault(),d(!0),h(null);const _=r.trim(),N=s.trim();try{if(_.toLowerCase()===x&&N===b){t("admin","Administrador Maestro");return}if(!_.includes("@")||!_.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),d(!1);return}const C=it(Te,"users"),E=rd(C,by("email","==",_),by("password","==",N)),T=await id(E);if(T.empty)h("Credenciales de empleado incorrectas.");else{const S=T.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(C){h(`Error de conexin: ${C.message}`)}finally{d(!1)}},y=async v=>{v.preventDefault(),d(!0),h(null);const _=l.trim();if(!_){h("Por favor ingrese su CUIT o DNI."),d(!1);return}try{const N=it(Te,"clients"),C=rd(N,by("cuit","==",_)),E=await id(C);if(E.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const T={id:E.docs[0].id,...E.docs[0].data()};t("customer",T.name,T)}}catch{h("Error al validar cliente.")}finally{d(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:a.jsx(qa,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),a.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[a.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Zl,{className:"w-4 h-4"})," Personal"]}),a.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Yi,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[a.jsx(Je,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:r,onChange:v=>i(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(z7,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:s,onChange:v=>o(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(M7,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):a.jsxs("form",{onSubmit:y,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:v=>c(v.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx($e,{className:"w-5 h-5 animate-spin"}):a.jsx(Yi,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})},dp={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},BEe={name:"Sistems Nova Pro",cuit:"30-71122334-9",ivaCondition:"Responsable Inscripto",address:"Av. Rivadavia 1234, CABA",logo:null,showLogoInSidebar:!0,arca:{enabled:!0,puntoVenta:5,iibb:"901-123456-7",crtValidUntil:"2025-12-31"},printConfigs:{factura:{...dp},remito:{...dp},recibo:{...dp},etiqueta:{...dp,pageSize:"80mm"}},paymentCommissions:{efectivo:0,tarjeta_debito:1.5,tarjeta_credito:3.5,transferencia:0,cheque:0,cuenta_corriente:0,otro:0}},qEe={dashboard:{label:"Dashboard",icon:n5},inventory:{label:"Inventario",icon:Bd},sales:{label:"Ventas",icon:Sm},purchases:{label:"Compras",icon:Gd},clients:{label:"Clientes",icon:gs},suppliers:{label:"Proveedores",icon:Or},cashier:{label:"Cajas",icon:da},reports:{label:"Informes",icon:Q4},settings:{label:"Configuracin",icon:Ji},branches:{label:"Sucursales",icon:Uu},prices:{label:"Precios",icon:Za},"bulk-import":{label:"Importar",icon:Em},warehouse:{label:"Depsito",icon:Rm},"purchase-orders":{label:"Pedidos Compra",icon:r5},ecommerce:{label:"E-Commerce",icon:po},loyalty:{label:"Fidelizacin",icon:Tm},remitos:{label:"Remitos",icon:Z4},integrations:{label:"Integraciones",icon:od},quotes:{label:"Cotizaciones",icon:km},orders:{label:"Pedidos",icon:zd},installments:{label:"Cuotas",icon:Qr},balances:{label:"Saldos",icon:Ql},"missing-items":{label:"Faltantes",icon:oN},"stock-adjustment":{label:"Ajuste Stock",icon:ua},"bulk-modification":{label:"Modif. Masiva",icon:lN},users:{label:"Personal y Accesos",icon:dN}},zEe=()=>{const[t,e]=D.useState(["dashboard"]),[n,r]=D.useState("dashboard"),[i,s]=D.useState(!1),[o,l]=D.useState({name:"",role:"vendedor"}),[c,u]=D.useState("premium"),[d,f]=D.useState(BEe),h=(v,_,N)=>{l({name:_,role:v,data:N}),s(!0)},x=()=>{s(!1),l({name:"",role:"vendedor"}),e(["dashboard"]),r("dashboard")},b=v=>{t.includes(v)||e(_=>[..._,v]),r(v)},w=v=>{if(v==="dashboard")return;const _=t.filter(N=>N!==v);e(_),n===v&&r(_[_.length-1])};if(!i)return a.jsx(UEe,{onLoginSuccess:h});if(o.role==="customer")return a.jsx(VEe,{client:o.data,onLogout:x,companyInfo:d});const y=v=>{switch(v){case"dashboard":return a.jsx(Vye,{openTab:b});case"inventory":return a.jsx(Bye,{});case"missing-items":return a.jsx(REe,{});case"stock-adjustment":return a.jsx(OEe,{});case"bulk-modification":return a.jsx(LEe,{});case"sales":return a.jsx(qye,{companyInfo:d});case"purchases":return a.jsx(rEe,{});case"clients":return a.jsx(aEe,{onNavigate:b});case"suppliers":return a.jsx(oEe,{});case"cashier":return a.jsx(lEe,{});case"balances":return a.jsx(vEe,{});case"installments":return a.jsx(IEe,{});case"finance":return a.jsx(wEe,{});case"reports":return a.jsx(cEe,{});case"branches":return a.jsx(dEe,{});case"users":return a.jsx(fEe,{});case"prices":return a.jsx(pEe,{});case"bulk-import":return a.jsx(mEe,{});case"warehouse":return a.jsx(gEe,{});case"purchase-orders":return a.jsx(yEe,{});case"ecommerce":return a.jsx(SEe,{});case"loyalty":return a.jsx(EEe,{});case"remitos":return a.jsx(FEe,{});case"integrations":return a.jsx(TEe,{});case"quotes":return a.jsx(kEe,{});case"orders":return a.jsx(jEe,{});case"settings":return a.jsx(uEe,{plan:c,setPlan:u,isAdmin:o.role==="admin",companyInfo:d,setCompanyInfo:f});default:return null}};return a.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden",children:[a.jsx(aG,{activeTab:n,setActiveTab:b,companyInfo:d,currentUser:o,onLogout:x}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(oG,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:w}),a.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative bg-slate-50/50",children:a.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t.map(v=>a.jsx("div",{className:`h-full transition-all duration-300 ${v===n?"block animate-in fade-in zoom-in-95":"hidden"}`,children:y(v)},v))})})]})]})},GEe=()=>a.jsx(k7,{children:a.jsx(zEe,{})}),Q$=document.getElementById("root");if(!Q$)throw new Error("Could not find root element to mount to");const HEe=iv.createRoot(Q$);HEe.render(a.jsx(B.StrictMode,{children:a.jsx(GEe,{})}));
