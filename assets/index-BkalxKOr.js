(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TI={exports:{}},qg={},AI={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=Symbol.for("react.element"),_3=Symbol.for("react.portal"),N3=Symbol.for("react.fragment"),S3=Symbol.for("react.strict_mode"),E3=Symbol.for("react.profiler"),T3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),k3=Symbol.for("react.forward_ref"),C3=Symbol.for("react.suspense"),j3=Symbol.for("react.memo"),P3=Symbol.for("react.lazy"),wE=Symbol.iterator;function I3(t){return t===null||typeof t!="object"?null:(t=wE&&t[wE]||t["@@iterator"],typeof t=="function"?t:null)}var kI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CI=Object.assign,jI={};function Tc(t,e,n){this.props=t,this.context=e,this.refs=jI,this.updater=n||kI}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PI(){}PI.prototype=Tc.prototype;function m1(t,e,n){this.props=t,this.context=e,this.refs=jI,this.updater=n||kI}var g1=m1.prototype=new PI;g1.constructor=m1;CI(g1,Tc.prototype);g1.isPureReactComponent=!0;var _E=Array.isArray,II=Object.prototype.hasOwnProperty,x1={current:null},RI={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)II.call(e,r)&&!RI.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:If,type:t,key:i,ref:o,props:s,_owner:x1.current}}function R3(t,e){return{$$typeof:If,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y1(t){return typeof t=="object"&&t!==null&&t.$$typeof===If}function M3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NE=/\/+/g;function Fx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M3(""+t.key):e.toString(36)}function hp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case If:case _3:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fx(o,0):r,_E(s)?(n="",t!=null&&(n=t.replace(NE,"$&/")+"/"),hp(s,e,n,"",function(u){return u})):s!=null&&(y1(s)&&(s=R3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(NE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_E(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Fx(i,l);o+=hp(i,e,n,c,s)}else if(c=I3(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Fx(i,l++),o+=hp(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sh(t,e,n){if(t==null)return t;var r=[],s=0;return hp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function O3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},pp={transition:null},D3={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:pp,ReactCurrentOwner:x1};function OI(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Sh,forEach:function(t,e,n){Sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sh(t,function(){e++}),e},toArray:function(t){return Sh(t,function(e){return e})||[]},only:function(t){if(!y1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Tc;qe.Fragment=N3;qe.Profiler=E3;qe.PureComponent=m1;qe.StrictMode=S3;qe.Suspense=C3;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;qe.act=OI;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=x1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)II.call(e,c)&&!RI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:If,type:t.type,key:s,ref:i,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:A3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T3,_context:t},t.Consumer=t};qe.createElement=MI;qe.createFactory=function(t){var e=MI.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:k3,render:t}};qe.isValidElement=y1;qe.lazy=function(t){return{$$typeof:P3,_payload:{_status:-1,_result:t},_init:O3}};qe.memo=function(t,e){return{$$typeof:j3,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=pp.transition;pp.transition={};try{t()}finally{pp.transition=e}};qe.unstable_act=OI;qe.useCallback=function(t,e){return qn.current.useCallback(t,e)};qe.useContext=function(t){return qn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return qn.current.useEffect(t,e)};qe.useId=function(){return qn.current.useId()};qe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return qn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};qe.useRef=function(t){return qn.current.useRef(t)};qe.useState=function(t){return qn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return qn.current.useTransition()};qe.version="18.3.1";AI.exports=qe;var D=AI.exports;const q=ot(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=D,$3=Symbol.for("react.element"),F3=Symbol.for("react.fragment"),U3=Object.prototype.hasOwnProperty,V3=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B3={key:!0,ref:!0,__self:!0,__source:!0};function DI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)U3.call(e,r)&&!B3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$3,type:t,key:i,ref:o,props:s,_owner:V3.current}}qg.Fragment=F3;qg.jsx=DI;qg.jsxs=DI;TI.exports=qg;var a=TI.exports,sv={},LI={exports:{}},pr={},$I={exports:{}},FI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,V){var U=z.length;z.push(V);e:for(;0<U;){var X=U-1>>>1,Q=z[X];if(0<s(Q,V))z[X]=V,z[U]=Q,U=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var V=z[0],U=z.pop();if(U!==V){z[0]=U;e:for(var X=0,Q=z.length,G=Q>>>1;X<G;){var ie=2*(X+1)-1,W=z[ie],fe=ie+1,Ee=z[fe];if(0>s(W,U))fe<Q&&0>s(Ee,W)?(z[X]=Ee,z[fe]=U,X=fe):(z[X]=W,z[ie]=U,X=ie);else if(fe<Q&&0>s(Ee,U))z[X]=Ee,z[fe]=U,X=fe;else break e}}return V}function s(z,V){var U=z.sortIndex-V.sortIndex;return U!==0?U:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=z)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function C(z){if(w=!1,N(z),!b)if(n(c)!==null)b=!0,L(E);else{var V=n(u);V!==null&&B(C,V.startTime-z)}}function E(z,V){b=!1,w&&(w=!1,v(j),j=-1),x=!0;var U=h;try{for(N(V),f=n(c);f!==null&&(!(f.expirationTime>V)||z&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var Q=X(f.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),N(V)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var ie=n(u);ie!==null&&B(C,ie.startTime-V),G=!1}return G}finally{f=null,h=U,x=!1}}var A=!1,S=null,j=-1,T=5,R=-1;function P(){return!(t.unstable_now()-R<T)}function O(){if(S!==null){var z=t.unstable_now();R=z;var V=!0;try{V=S(!0,z)}finally{V?I():(A=!1,S=null)}}else A=!1}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=O,I=function(){F.postMessage(null)}}else I=function(){y(O,0)};function L(z){S=z,A||(A=!0,I())}function B(z,V){j=y(function(){z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,L(E))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var U=h;h=V;try{return z()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=h;h=z;try{return V()}finally{h=U}},t.unstable_scheduleCallback=function(z,V,U){var X=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,z={id:d++,callback:V,priorityLevel:z,startTime:U,expirationTime:Q,sortIndex:-1},U>X?(z.sortIndex=U,e(u,z),n(c)===null&&z===n(u)&&(w?(v(j),j=-1):w=!0,B(C,U-X))):(z.sortIndex=Q,e(c,z),b||x||(b=!0,L(E))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var V=h;return function(){var U=h;h=V;try{return z.apply(this,arguments)}finally{h=U}}}})(FI);$I.exports=FI;var q3=$I.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3=D,hr=q3;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UI=new Set,md={};function wo(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(md[t]=e,t=0;t<e.length;t++)UI.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iv=Object.prototype.hasOwnProperty,G3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SE={},EE={};function H3(t){return iv.call(EE,t)?!0:iv.call(SE,t)?!1:G3.test(t)?EE[t]=!0:(SE[t]=!0,!1)}function W3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K3(t,e,n,r){if(e===null||typeof e>"u"||W3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function b1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v1,b1);gn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function w1(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K3(e,n,s,r)&&(n=null),r||s===null?H3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),VI=Symbol.for("react.provider"),BI=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),S1=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),TE=Symbol.iterator;function du(t){return t===null||typeof t!="object"?null:(t=TE&&t[TE]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Ux;function Ru(t){if(Ux===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ux=e&&e[1]||""}return`
`+Ux+t}var Vx=!1;function Bx(t,e){if(!t||Vx)return"";Vx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ru(t):""}function J3(t){switch(t.tag){case 5:return Ru(t.type);case 16:return Ru("Lazy");case 13:return Ru("Suspense");case 19:return Ru("SuspenseList");case 0:case 2:case 15:return t=Bx(t.type,!1),t;case 11:return t=Bx(t.type.render,!1),t;case 1:return t=Bx(t.type,!0),t;default:return""}}function cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Wo:return"Portal";case av:return"Profiler";case _1:return"StrictMode";case ov:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BI:return(t.displayName||"Context")+".Consumer";case VI:return(t._context.displayName||"Context")+".Provider";case N1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S1:return e=t.displayName||null,e!==null?e:cv(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return cv(t(e))}catch{}}return null}function Y3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(e);case 8:return e===_1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X3(t){var e=zI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=X3(t))}function GI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $p(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uv(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function AE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HI(t,e){e=e.checked,e!=null&&w1(t,"checked",e,!1)}function dv(t,e){HI(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&fv(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fv(t,e,n){(e!=="number"||$p(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mu=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Mu(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function WI(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,JI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q3=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(t){Q3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gu[e]=Gu[t]})});function YI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gu.hasOwnProperty(t)&&Gu[t]?(""+e).trim():e+"px"}function XI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Z3=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(Z3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function gv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xv=null;function E1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yv=null,ml=null,gl=null;function PE(t){if(t=Of(t)){if(typeof yv!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Kg(e),yv(t.stateNode,t.type,e))}}function QI(t){ml?gl?gl.push(t):gl=[t]:ml=t}function ZI(){if(ml){var t=ml,e=gl;if(gl=ml=null,PE(t),e)for(t=0;t<e.length;t++)PE(e[t])}}function eR(t,e){return t(e)}function tR(){}var qx=!1;function nR(t,e,n){if(qx)return t(e,n);qx=!0;try{return eR(t,e,n)}finally{qx=!1,(ml!==null||gl!==null)&&(tR(),ZI())}}function xd(t,e){var n=t.stateNode;if(n===null)return null;var r=Kg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var vv=!1;if(ei)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){vv=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{vv=!1}function eF(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Hu=!1,Fp=null,Up=!1,bv=null,tF={onError:function(t){Hu=!0,Fp=t}};function nF(t,e,n,r,s,i,o,l,c){Hu=!1,Fp=null,eF.apply(tF,arguments)}function rF(t,e,n,r,s,i,o,l,c){if(nF.apply(this,arguments),Hu){if(Hu){var u=Fp;Hu=!1,Fp=null}else throw Error(de(198));Up||(Up=!0,bv=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IE(t){if(_o(t)!==t)throw Error(de(188))}function sF(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return IE(s),t;if(i===r)return IE(s),e;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function sR(t){return t=sF(t),t!==null?iR(t):null}function iR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iR(t);if(e!==null)return e;t=t.sibling}return null}var aR=hr.unstable_scheduleCallback,RE=hr.unstable_cancelCallback,iF=hr.unstable_shouldYield,aF=hr.unstable_requestPaint,Ft=hr.unstable_now,oF=hr.unstable_getCurrentPriorityLevel,T1=hr.unstable_ImmediatePriority,oR=hr.unstable_UserBlockingPriority,Vp=hr.unstable_NormalPriority,lF=hr.unstable_LowPriority,lR=hr.unstable_IdlePriority,zg=null,xs=null;function cF(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(zg,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:fF,uF=Math.log,dF=Math.LN2;function fF(t){return t>>>=0,t===0?32:31-(uF(t)/dF|0)|0}var kh=64,Ch=4194304;function Ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ou(l):(i&=o,i!==0&&(r=Ou(i)))}else o=n&~s,o!==0?r=Ou(o):i!==0&&(r=Ou(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),s=1<<n,r|=t[n],e&=~s;return r}function hF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=hF(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cR(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function zx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function mF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function A1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var it=0;function uR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dR,k1,fR,hR,pR,_v=!1,jh=[],zi=null,Gi=null,Hi=null,yd=new Map,vd=new Map,Ii=[],gF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ME(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function hu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Of(e),e!==null&&k1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xF(t,e,n,r,s){switch(e){case"focusin":return zi=hu(zi,t,e,n,r,s),!0;case"dragenter":return Gi=hu(Gi,t,e,n,r,s),!0;case"mouseover":return Hi=hu(Hi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yd.set(i,hu(yd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vd.set(i,hu(vd.get(i)||null,t,e,n,r,s)),!0}return!1}function mR(t){var e=Fa(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=rR(n),e!==null){t.blockedOn=e,pR(t.priority,function(){fR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xv=r,n.target.dispatchEvent(r),xv=null}else return e=Of(n),e!==null&&k1(e),t.blockedOn=n,!1;e.shift()}return!0}function OE(t,e,n){mp(t)&&n.delete(e)}function yF(){_v=!1,zi!==null&&mp(zi)&&(zi=null),Gi!==null&&mp(Gi)&&(Gi=null),Hi!==null&&mp(Hi)&&(Hi=null),yd.forEach(OE),vd.forEach(OE)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,_v||(_v=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,yF)))}function bd(t){function e(s){return pu(s,t)}if(0<jh.length){pu(jh[0],t);for(var n=1;n<jh.length;n++){var r=jh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zi!==null&&pu(zi,t),Gi!==null&&pu(Gi,t),Hi!==null&&pu(Hi,t),yd.forEach(e),vd.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)mR(n),n.blockedOn===null&&Ii.shift()}var xl=pi.ReactCurrentBatchConfig,qp=!0;function vF(t,e,n,r){var s=it,i=xl.transition;xl.transition=null;try{it=1,C1(t,e,n,r)}finally{it=s,xl.transition=i}}function bF(t,e,n,r){var s=it,i=xl.transition;xl.transition=null;try{it=4,C1(t,e,n,r)}finally{it=s,xl.transition=i}}function C1(t,e,n,r){if(qp){var s=Nv(t,e,n,r);if(s===null)ey(t,e,r,zp,n),ME(t,r);else if(xF(s,t,e,n,r))r.stopPropagation();else if(ME(t,r),e&4&&-1<gF.indexOf(t)){for(;s!==null;){var i=Of(s);if(i!==null&&dR(i),i=Nv(t,e,n,r),i===null&&ey(t,e,r,zp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ey(t,e,r,null,n)}}var zp=null;function Nv(t,e,n,r){if(zp=null,t=E1(r),t=Fa(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zp=t,null}function gR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oF()){case T1:return 1;case oR:return 4;case Vp:case lF:return 16;case lR:return 536870912;default:return 16}default:return 16}}var $i=null,j1=null,gp=null;function xR(){if(gp)return gp;var t,e=j1,n=e.length,r,s="value"in $i?$i.value:$i.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return gp=s.slice(t,1<r?1-r:void 0)}function xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function DE(){return!1}function mr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ph:DE,this.isPropagationStopped=DE,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P1=mr(Ac),Mf=jt({},Ac,{view:0,detail:0}),wF=mr(Mf),Gx,Hx,mu,Gg=jt({},Mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mu&&(mu&&t.type==="mousemove"?(Gx=t.screenX-mu.screenX,Hx=t.screenY-mu.screenY):Hx=Gx=0,mu=t),Gx)},movementY:function(t){return"movementY"in t?t.movementY:Hx}}),LE=mr(Gg),_F=jt({},Gg,{dataTransfer:0}),NF=mr(_F),SF=jt({},Mf,{relatedTarget:0}),Wx=mr(SF),EF=jt({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),TF=mr(EF),AF=jt({},Ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kF=mr(AF),CF=jt({},Ac,{data:0}),$E=mr(CF),jF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IF[t])?!!e[t]:!1}function I1(){return RF}var MF=jt({},Mf,{key:function(t){if(t.key){var e=jF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(t){return t.type==="keypress"?xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OF=mr(MF),DF=jt({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FE=mr(DF),LF=jt({},Mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),$F=mr(LF),FF=jt({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),UF=mr(FF),VF=jt({},Gg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BF=mr(VF),qF=[9,13,27,32],R1=ei&&"CompositionEvent"in window,Wu=null;ei&&"documentMode"in document&&(Wu=document.documentMode);var zF=ei&&"TextEvent"in window&&!Wu,yR=ei&&(!R1||Wu&&8<Wu&&11>=Wu),UE=" ",VE=!1;function vR(t,e){switch(t){case"keyup":return qF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function GF(t,e){switch(t){case"compositionend":return bR(e);case"keypress":return e.which!==32?null:(VE=!0,UE);case"textInput":return t=e.data,t===UE&&VE?null:t;default:return null}}function HF(t,e){if(Jo)return t==="compositionend"||!R1&&vR(t,e)?(t=xR(),gp=j1=$i=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yR&&e.locale!=="ko"?null:e.data;default:return null}}var WF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WF[t.type]:e==="textarea"}function wR(t,e,n,r){QI(r),e=Gp(e,"onChange"),0<e.length&&(n=new P1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ku=null,wd=null;function KF(t){IR(t,0)}function Hg(t){var e=Qo(t);if(GI(e))return t}function JF(t,e){if(t==="change")return e}var _R=!1;if(ei){var Kx;if(ei){var Jx="oninput"in document;if(!Jx){var qE=document.createElement("div");qE.setAttribute("oninput","return;"),Jx=typeof qE.oninput=="function"}Kx=Jx}else Kx=!1;_R=Kx&&(!document.documentMode||9<document.documentMode)}function zE(){Ku&&(Ku.detachEvent("onpropertychange",NR),wd=Ku=null)}function NR(t){if(t.propertyName==="value"&&Hg(wd)){var e=[];wR(e,wd,t,E1(t)),nR(KF,e)}}function YF(t,e,n){t==="focusin"?(zE(),Ku=e,wd=n,Ku.attachEvent("onpropertychange",NR)):t==="focusout"&&zE()}function XF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hg(wd)}function QF(t,e){if(t==="click")return Hg(e)}function ZF(t,e){if(t==="input"||t==="change")return Hg(e)}function eU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ss=typeof Object.is=="function"?Object.is:eU;function _d(t,e){if(ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iv.call(e,s)||!ss(t[s],e[s]))return!1}return!0}function GE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HE(t,e){var n=GE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GE(n)}}function SR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ER(){for(var t=window,e=$p();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$p(t.document)}return e}function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tU(t){var e=ER(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SR(n.ownerDocument.documentElement,n)){if(r!==null&&M1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=HE(n,i);var o=HE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nU=ei&&"documentMode"in document&&11>=document.documentMode,Yo=null,Sv=null,Ju=null,Ev=!1;function WE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ev||Yo==null||Yo!==$p(r)||(r=Yo,"selectionStart"in r&&M1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ju&&_d(Ju,r)||(Ju=r,r=Gp(Sv,"onSelect"),0<r.length&&(e=new P1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},Yx={},TR={};ei&&(TR=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Wg(t){if(Yx[t])return Yx[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TR)return Yx[t]=e[n];return t}var AR=Wg("animationend"),kR=Wg("animationiteration"),CR=Wg("animationstart"),jR=Wg("transitionend"),PR=new Map,KE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){PR.set(t,e),wo(e,[t])}for(var Xx=0;Xx<KE.length;Xx++){var Qx=KE[Xx],rU=Qx.toLowerCase(),sU=Qx[0].toUpperCase()+Qx.slice(1);pa(rU,"on"+sU)}pa(AR,"onAnimationEnd");pa(kR,"onAnimationIteration");pa(CR,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(jR,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function JE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rF(r,e,void 0,t),t.currentTarget=null}function IR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;JE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;JE(s,l,u),i=c}}}if(Up)throw t=bv,Up=!1,bv=null,t}function vt(t,e){var n=e[jv];n===void 0&&(n=e[jv]=new Set);var r=t+"__bubble";n.has(r)||(RR(e,t,2,!1),n.add(r))}function Zx(t,e,n){var r=0;e&&(r|=4),RR(n,t,r,e)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Rh]){t[Rh]=!0,UI.forEach(function(n){n!=="selectionchange"&&(iU.has(n)||Zx(n,!1,t),Zx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rh]||(e[Rh]=!0,Zx("selectionchange",!1,e))}}function RR(t,e,n,r){switch(gR(e)){case 1:var s=vF;break;case 4:s=bF;break;default:s=C1}n=s.bind(null,e,n,t),s=void 0,!vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ey(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fa(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}nR(function(){var u=i,d=E1(n),f=[];e:{var h=PR.get(t);if(h!==void 0){var x=P1,b=t;switch(t){case"keypress":if(xp(n)===0)break e;case"keydown":case"keyup":x=OF;break;case"focusin":b="focus",x=Wx;break;case"focusout":b="blur",x=Wx;break;case"beforeblur":case"afterblur":x=Wx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=LE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=NF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=$F;break;case AR:case kR:case CR:x=TF;break;case jR:x=UF;break;case"scroll":x=wF;break;case"wheel":x=BF;break;case"copy":case"cut":case"paste":x=kF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=FE}var w=(e&4)!==0,y=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var _=u,N;_!==null;){N=_;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,v!==null&&(C=xd(_,v),C!=null&&w.push(Sd(_,C,N)))),y)break;_=_.return}0<w.length&&(h=new x(h,b,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==xv&&(b=n.relatedTarget||n.fromElement)&&(Fa(b)||b[ti]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=u,b=b?Fa(b):null,b!==null&&(y=_o(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(w=LE,C="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=FE,C="onPointerLeave",v="onPointerEnter",_="pointer"),y=x==null?h:Qo(x),N=b==null?h:Qo(b),h=new w(C,_+"leave",x,n,d),h.target=y,h.relatedTarget=N,C=null,Fa(d)===u&&(w=new w(v,_+"enter",b,n,d),w.target=N,w.relatedTarget=y,C=w),y=C,x&&b)t:{for(w=x,v=b,_=0,N=w;N;N=Lo(N))_++;for(N=0,C=v;C;C=Lo(C))N++;for(;0<_-N;)w=Lo(w),_--;for(;0<N-_;)v=Lo(v),N--;for(;_--;){if(w===v||v!==null&&w===v.alternate)break t;w=Lo(w),v=Lo(v)}w=null}else w=null;x!==null&&YE(f,h,x,w,!1),b!==null&&y!==null&&YE(f,y,b,w,!0)}}e:{if(h=u?Qo(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var E=JF;else if(BE(h))if(_R)E=ZF;else{E=XF;var A=YF}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=QF);if(E&&(E=E(t,u))){wR(f,E,n,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&fv(h,"number",h.value)}switch(A=u?Qo(u):window,t){case"focusin":(BE(A)||A.contentEditable==="true")&&(Yo=A,Sv=u,Ju=null);break;case"focusout":Ju=Sv=Yo=null;break;case"mousedown":Ev=!0;break;case"contextmenu":case"mouseup":case"dragend":Ev=!1,WE(f,n,d);break;case"selectionchange":if(nU)break;case"keydown":case"keyup":WE(f,n,d)}var S;if(R1)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Jo?vR(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(yR&&n.locale!=="ko"&&(Jo||j!=="onCompositionStart"?j==="onCompositionEnd"&&Jo&&(S=xR()):($i=d,j1="value"in $i?$i.value:$i.textContent,Jo=!0)),A=Gp(u,j),0<A.length&&(j=new $E(j,t,null,n,d),f.push({event:j,listeners:A}),S?j.data=S:(S=bR(n),S!==null&&(j.data=S)))),(S=zF?GF(t,n):HF(t,n))&&(u=Gp(u,"onBeforeInput"),0<u.length&&(d=new $E("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}IR(f,e)})}function Sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xd(t,n),i!=null&&r.unshift(Sd(t,i,s)),i=xd(t,e),i!=null&&r.push(Sd(t,i,s))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xd(n,i),c!=null&&o.unshift(Sd(n,c,l))):s||(c=xd(n,i),c!=null&&o.push(Sd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aU=/\r\n?/g,oU=/\u0000|\uFFFD/g;function XE(t){return(typeof t=="string"?t:""+t).replace(aU,`
`).replace(oU,"")}function Mh(t,e,n){if(e=XE(e),XE(t)!==e&&n)throw Error(de(425))}function Hp(){}var Tv=null,Av=null;function kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,lU=typeof clearTimeout=="function"?clearTimeout:void 0,QE=typeof Promise=="function"?Promise:void 0,cU=typeof queueMicrotask=="function"?queueMicrotask:typeof QE<"u"?function(t){return QE.resolve(null).then(t).catch(uU)}:Cv;function uU(t){setTimeout(function(){throw t})}function ty(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),bd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bd(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kc=Math.random().toString(36).slice(2),ps="__reactFiber$"+kc,Ed="__reactProps$"+kc,ti="__reactContainer$"+kc,jv="__reactEvents$"+kc,dU="__reactListeners$"+kc,fU="__reactHandles$"+kc;function Fa(t){var e=t[ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZE(t);t!==null;){if(n=t[ps])return n;t=ZE(t)}return e}t=n,n=t.parentNode}return null}function Of(t){return t=t[ps]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Kg(t){return t[Ed]||null}var Pv=[],Zo=-1;function ma(t){return{current:t}}function _t(t){0>Zo||(t.current=Pv[Zo],Pv[Zo]=null,Zo--)}function gt(t,e){Zo++,Pv[Zo]=t.current,t.current=e}var ia={},Pn=ma(ia),er=ma(!1),ro=ia;function Rl(t,e){var n=t.type.contextTypes;if(!n)return ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tr(t){return t=t.childContextTypes,t!=null}function Wp(){_t(er),_t(Pn)}function eT(t,e,n){if(Pn.current!==ia)throw Error(de(168));gt(Pn,e),gt(er,n)}function MR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(de(108,Y3(t)||"Unknown",s));return jt({},n,r)}function Kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,ro=Pn.current,gt(Pn,t),gt(er,er.current),!0}function tT(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=MR(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,_t(er),_t(Pn),gt(Pn,t)):_t(er),gt(er,n)}var $s=null,Jg=!1,ny=!1;function OR(t){$s===null?$s=[t]:$s.push(t)}function hU(t){Jg=!0,OR(t)}function ga(){if(!ny&&$s!==null){ny=!0;var t=0,e=it;try{var n=$s;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$s=null,Jg=!1}catch(s){throw $s!==null&&($s=$s.slice(t+1)),aR(T1,ga),s}finally{it=e,ny=!1}}return null}var el=[],tl=0,Jp=null,Yp=0,_r=[],Nr=0,so=null,Us=1,Vs="";function Pa(t,e){el[tl++]=Yp,el[tl++]=Jp,Jp=t,Yp=e}function DR(t,e,n){_r[Nr++]=Us,_r[Nr++]=Vs,_r[Nr++]=so,so=t;var r=Us;t=Vs;var s=32-Xr(r)-1;r&=~(1<<s),n+=1;var i=32-Xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Us=1<<32-Xr(e)+s|n<<s|r,Vs=i+t}else Us=1<<i|n<<s|r,Vs=t}function O1(t){t.return!==null&&(Pa(t,1),DR(t,1,0))}function D1(t){for(;t===Jp;)Jp=el[--tl],el[tl]=null,Yp=el[--tl],el[tl]=null;for(;t===so;)so=_r[--Nr],_r[Nr]=null,Vs=_r[--Nr],_r[Nr]=null,Us=_r[--Nr],_r[Nr]=null}var dr=null,cr=null,Et=!1,Jr=null;function LR(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,cr=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=so!==null?{id:Us,overflow:Vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,cr=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rv(t){if(Et){var e=cr;if(e){var n=e;if(!nT(t,e)){if(Iv(t))throw Error(de(418));e=Wi(n.nextSibling);var r=dr;e&&nT(t,e)?LR(r,n):(t.flags=t.flags&-4097|2,Et=!1,dr=t)}}else{if(Iv(t))throw Error(de(418));t.flags=t.flags&-4097|2,Et=!1,dr=t}}}function rT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function Oh(t){if(t!==dr)return!1;if(!Et)return rT(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kv(t.type,t.memoizedProps)),e&&(e=cr)){if(Iv(t))throw $R(),Error(de(418));for(;e;)LR(t,e),e=Wi(e.nextSibling)}if(rT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=dr?Wi(t.stateNode.nextSibling):null;return!0}function $R(){for(var t=cr;t;)t=Wi(t.nextSibling)}function Ml(){cr=dr=null,Et=!1}function L1(t){Jr===null?Jr=[t]:Jr.push(t)}var pU=pi.ReactCurrentBatchConfig;function gu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sT(t){var e=t._init;return e(t._payload)}function FR(t){function e(v,_){if(t){var N=v.deletions;N===null?(v.deletions=[_],v.flags|=16):N.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Xi(v,_),v.index=0,v.sibling=null,v}function i(v,_,N){return v.index=N,t?(N=v.alternate,N!==null?(N=N.index,N<_?(v.flags|=2,_):N):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,N,C){return _===null||_.tag!==6?(_=cy(N,v.mode,C),_.return=v,_):(_=s(_,N),_.return=v,_)}function c(v,_,N,C){var E=N.type;return E===Ko?d(v,_,N.props.children,C,N.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ci&&sT(E)===_.type)?(C=s(_,N.props),C.ref=gu(v,_,N),C.return=v,C):(C=Sp(N.type,N.key,N.props,null,v.mode,C),C.ref=gu(v,_,N),C.return=v,C)}function u(v,_,N,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=uy(N,v.mode,C),_.return=v,_):(_=s(_,N.children||[]),_.return=v,_)}function d(v,_,N,C,E){return _===null||_.tag!==7?(_=Ya(N,v.mode,C,E),_.return=v,_):(_=s(_,N),_.return=v,_)}function f(v,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=cy(""+_,v.mode,N),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:return N=Sp(_.type,_.key,_.props,null,v.mode,N),N.ref=gu(v,null,_),N.return=v,N;case Wo:return _=uy(_,v.mode,N),_.return=v,_;case Ci:var C=_._init;return f(v,C(_._payload),N)}if(Mu(_)||du(_))return _=Ya(_,v.mode,N,null),_.return=v,_;Dh(v,_)}return null}function h(v,_,N,C){var E=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:l(v,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Eh:return N.key===E?c(v,_,N,C):null;case Wo:return N.key===E?u(v,_,N,C):null;case Ci:return E=N._init,h(v,_,E(N._payload),C)}if(Mu(N)||du(N))return E!==null?null:d(v,_,N,C,null);Dh(v,N)}return null}function x(v,_,N,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(N)||null,l(_,v,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Eh:return v=v.get(C.key===null?N:C.key)||null,c(_,v,C,E);case Wo:return v=v.get(C.key===null?N:C.key)||null,u(_,v,C,E);case Ci:var A=C._init;return x(v,_,N,A(C._payload),E)}if(Mu(C)||du(C))return v=v.get(N)||null,d(_,v,C,E,null);Dh(_,C)}return null}function b(v,_,N,C){for(var E=null,A=null,S=_,j=_=0,T=null;S!==null&&j<N.length;j++){S.index>j?(T=S,S=null):T=S.sibling;var R=h(v,S,N[j],C);if(R===null){S===null&&(S=T);break}t&&S&&R.alternate===null&&e(v,S),_=i(R,_,j),A===null?E=R:A.sibling=R,A=R,S=T}if(j===N.length)return n(v,S),Et&&Pa(v,j),E;if(S===null){for(;j<N.length;j++)S=f(v,N[j],C),S!==null&&(_=i(S,_,j),A===null?E=S:A.sibling=S,A=S);return Et&&Pa(v,j),E}for(S=r(v,S);j<N.length;j++)T=x(S,v,j,N[j],C),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?j:T.key),_=i(T,_,j),A===null?E=T:A.sibling=T,A=T);return t&&S.forEach(function(P){return e(v,P)}),Et&&Pa(v,j),E}function w(v,_,N,C){var E=du(N);if(typeof E!="function")throw Error(de(150));if(N=E.call(N),N==null)throw Error(de(151));for(var A=E=null,S=_,j=_=0,T=null,R=N.next();S!==null&&!R.done;j++,R=N.next()){S.index>j?(T=S,S=null):T=S.sibling;var P=h(v,S,R.value,C);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(v,S),_=i(P,_,j),A===null?E=P:A.sibling=P,A=P,S=T}if(R.done)return n(v,S),Et&&Pa(v,j),E;if(S===null){for(;!R.done;j++,R=N.next())R=f(v,R.value,C),R!==null&&(_=i(R,_,j),A===null?E=R:A.sibling=R,A=R);return Et&&Pa(v,j),E}for(S=r(v,S);!R.done;j++,R=N.next())R=x(S,v,j,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?j:R.key),_=i(R,_,j),A===null?E=R:A.sibling=R,A=R);return t&&S.forEach(function(O){return e(v,O)}),Et&&Pa(v,j),E}function y(v,_,N,C){if(typeof N=="object"&&N!==null&&N.type===Ko&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Eh:e:{for(var E=N.key,A=_;A!==null;){if(A.key===E){if(E=N.type,E===Ko){if(A.tag===7){n(v,A.sibling),_=s(A,N.props.children),_.return=v,v=_;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ci&&sT(E)===A.type){n(v,A.sibling),_=s(A,N.props),_.ref=gu(v,A,N),_.return=v,v=_;break e}n(v,A);break}else e(v,A);A=A.sibling}N.type===Ko?(_=Ya(N.props.children,v.mode,C,N.key),_.return=v,v=_):(C=Sp(N.type,N.key,N.props,null,v.mode,C),C.ref=gu(v,_,N),C.return=v,v=C)}return o(v);case Wo:e:{for(A=N.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(v,_.sibling),_=s(_,N.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=uy(N,v.mode,C),_.return=v,v=_}return o(v);case Ci:return A=N._init,y(v,_,A(N._payload),C)}if(Mu(N))return b(v,_,N,C);if(du(N))return w(v,_,N,C);Dh(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,N),_.return=v,v=_):(n(v,_),_=cy(N,v.mode,C),_.return=v,v=_),o(v)):n(v,_)}return y}var Ol=FR(!0),UR=FR(!1),Xp=ma(null),Qp=null,nl=null,$1=null;function F1(){$1=nl=Qp=null}function U1(t){var e=Xp.current;_t(Xp),t._currentValue=e}function Mv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){Qp=t,$1=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Rr(t){var e=t._currentValue;if($1!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Qp===null)throw Error(de(308));nl=t,Qp.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Ua=null;function V1(t){Ua===null?Ua=[t]:Ua.push(t)}function VR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,V1(e)):(n.next=s.next,s.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ni(t,n)}return s=r.interleaved,s===null?(e.next=e,V1(r)):(e.next=s.next,s.next=e),r.interleaved=e,ni(t,n)}function yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}function iT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zp(t,e,n,r){var s=t.updateQueue;ji=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,w=l;switch(h=e,x=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(x,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(x,f,h):b,h==null)break e;f=jt({},f,h);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ao|=o,t.lanes=o,t.memoizedState=f}}function aT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(de(191,s));s.call(r)}}}var Df={},ys=ma(Df),Td=ma(Df),Ad=ma(Df);function Va(t){if(t===Df)throw Error(de(174));return t}function q1(t,e){switch(gt(Ad,e),gt(Td,t),gt(ys,Df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}_t(ys),gt(ys,e)}function Dl(){_t(ys),_t(Td),_t(Ad)}function qR(t){Va(Ad.current);var e=Va(ys.current),n=pv(e,t.type);e!==n&&(gt(Td,t),gt(ys,n))}function z1(t){Td.current===t&&(_t(ys),_t(Td))}var kt=ma(0);function em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ry=[];function G1(){for(var t=0;t<ry.length;t++)ry[t]._workInProgressVersionPrimary=null;ry.length=0}var vp=pi.ReactCurrentDispatcher,sy=pi.ReactCurrentBatchConfig,io=0,Ct=null,Wt=null,nn=null,tm=!1,Yu=!1,kd=0,mU=0;function wn(){throw Error(de(321))}function H1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ss(t[n],e[n]))return!1;return!0}function W1(t,e,n,r,s,i){if(io=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=t===null||t.memoizedState===null?vU:bU,t=n(r,s),Yu){i=0;do{if(Yu=!1,kd=0,25<=i)throw Error(de(301));i+=1,nn=Wt=null,e.updateQueue=null,vp.current=wU,t=n(r,s)}while(Yu)}if(vp.current=nm,e=Wt!==null&&Wt.next!==null,io=0,nn=Wt=Ct=null,tm=!1,e)throw Error(de(300));return t}function K1(){var t=kd!==0;return kd=0,t}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ct.memoizedState=nn=t:nn=nn.next=t,nn}function Mr(){if(Wt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=nn===null?Ct.memoizedState:nn.next;if(e!==null)nn=e,Wt=t;else{if(t===null)throw Error(de(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},nn===null?Ct.memoizedState=nn=t:nn=nn.next=t}return nn}function Cd(t,e){return typeof e=="function"?e(t):e}function iy(t){var e=Mr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((io&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ct.lanes|=d,ao|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ss(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ct.lanes|=i,ao|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ay(t){var e=Mr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ss(i,e.memoizedState)||(Qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zR(){}function GR(t,e){var n=Ct,r=Mr(),s=e(),i=!ss(r.memoizedState,s);if(i&&(r.memoizedState=s,Qn=!0),r=r.queue,J1(KR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,jd(9,WR.bind(null,n,r,s,e),void 0,null),sn===null)throw Error(de(349));io&30||HR(n,e,s)}return s}function HR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WR(t,e,n,r){e.value=n,e.getSnapshot=r,JR(e)&&YR(t)}function KR(t,e,n){return n(function(){JR(e)&&YR(t)})}function JR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ss(t,n)}catch{return!0}}function YR(t){var e=ni(t,1);e!==null&&Qr(e,t,1,-1)}function oT(t){var e=hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},e.queue=t,t=t.dispatch=yU.bind(null,Ct,t),[e.memoizedState,t]}function jd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XR(){return Mr().memoizedState}function bp(t,e,n,r){var s=hs();Ct.flags|=t,s.memoizedState=jd(1|e,n,void 0,r===void 0?null:r)}function Yg(t,e,n,r){var s=Mr();r=r===void 0?null:r;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,r!==null&&H1(r,o.deps)){s.memoizedState=jd(e,n,i,r);return}}Ct.flags|=t,s.memoizedState=jd(1|e,n,i,r)}function lT(t,e){return bp(8390656,8,t,e)}function J1(t,e){return Yg(2048,8,t,e)}function QR(t,e){return Yg(4,2,t,e)}function ZR(t,e){return Yg(4,4,t,e)}function eM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tM(t,e,n){return n=n!=null?n.concat([t]):null,Yg(4,4,eM.bind(null,e,t),n)}function Y1(){}function nM(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rM(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sM(t,e,n){return io&21?(ss(n,e)||(n=cR(),Ct.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function gU(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=sy.transition;sy.transition={};try{t(!1),e()}finally{it=n,sy.transition=r}}function iM(){return Mr().memoizedState}function xU(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aM(t))oM(e,n);else if(n=VR(t,e,n,r),n!==null){var s=Un();Qr(n,t,r,s),lM(n,e,r)}}function yU(t,e,n){var r=Yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aM(t))oM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ss(l,o)){var c=e.interleaved;c===null?(s.next=s,V1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=VR(t,e,s,r),n!==null&&(s=Un(),Qr(n,t,r,s),lM(n,e,r))}}function aM(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function oM(t,e){Yu=tm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A1(t,n)}}var nm={readContext:Rr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},vU={readContext:Rr,useCallback:function(t,e){return hs().memoizedState=[t,e===void 0?null:e],t},useContext:Rr,useEffect:lT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bp(4194308,4,eM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bp(4194308,4,t,e)},useInsertionEffect:function(t,e){return bp(4,2,t,e)},useMemo:function(t,e){var n=hs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xU.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=hs();return t={current:t},e.memoizedState=t},useState:oT,useDebugValue:Y1,useDeferredValue:function(t){return hs().memoizedState=t},useTransition:function(){var t=oT(!1),e=t[0];return t=gU.bind(null,t[1]),hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,s=hs();if(Et){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),sn===null)throw Error(de(349));io&30||HR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lT(KR.bind(null,r,i,t),[t]),r.flags|=2048,jd(9,WR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hs(),e=sn.identifierPrefix;if(Et){var n=Vs,r=Us;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bU={readContext:Rr,useCallback:nM,useContext:Rr,useEffect:J1,useImperativeHandle:tM,useInsertionEffect:QR,useLayoutEffect:ZR,useMemo:rM,useReducer:iy,useRef:XR,useState:function(){return iy(Cd)},useDebugValue:Y1,useDeferredValue:function(t){var e=Mr();return sM(e,Wt.memoizedState,t)},useTransition:function(){var t=iy(Cd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:zR,useSyncExternalStore:GR,useId:iM,unstable_isNewReconciler:!1},wU={readContext:Rr,useCallback:nM,useContext:Rr,useEffect:J1,useImperativeHandle:tM,useInsertionEffect:QR,useLayoutEffect:ZR,useMemo:rM,useReducer:ay,useRef:XR,useState:function(){return ay(Cd)},useDebugValue:Y1,useDeferredValue:function(t){var e=Mr();return Wt===null?e.memoizedState=t:sM(e,Wt.memoizedState,t)},useTransition:function(){var t=ay(Cd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:zR,useSyncExternalStore:GR,useId:iM,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xg={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Yi(t),i=Ks(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(Qr(e,t,s,r),yp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Yi(t),i=Ks(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(Qr(e,t,s,r),yp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=Yi(t),s=Ks(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ki(t,s,r),e!==null&&(Qr(e,t,r,n),yp(e,t,r))}};function cT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(s,i):!0}function cM(t,e,n){var r=!1,s=ia,i=e.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(s=tr(e)?ro:Pn.current,r=e.contextTypes,i=(r=r!=null)?Rl(t,s):ia),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xg.enqueueReplaceState(e,e.state,null)}function Dv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},B1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rr(i):(i=tr(e)?ro:Pn.current,s.context=Rl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ov(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xg.enqueueReplaceState(s,s.state,null),Zp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ll(t,e){try{var n="",r=e;do n+=J3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _U=typeof WeakMap=="function"?WeakMap:Map;function uM(t,e,n){n=Ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sm||(sm=!0,Wv=r),Lv(t,e)},n}function dM(t,e,n){n=Ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lv(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _U;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DU.bind(null,t,e,n),e.then(t,t))}function fT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ks(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var NU=pi.ReactCurrentOwner,Qn=!1;function Dn(t,e,n,r){e.child=t===null?UR(e,null,n,r):Ol(e,t.child,n,r)}function pT(t,e,n,r,s){n=n.render;var i=e.ref;return yl(e,s),r=W1(t,e,n,r,i,s),n=K1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(Et&&n&&O1(e),e.flags|=1,Dn(t,e,r,s),e.child)}function mT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!s_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fM(t,e,i,r,s)):(t=Sp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(o,r)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=Xi(i,r),t.ref=e.ref,t.return=e,e.child=t}function fM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_d(i,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,ri(t,e,s)}return $v(t,e,n,r,s)}function hM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(sl,ar),ar|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(sl,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(sl,ar),ar|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gt(sl,ar),ar|=r;return Dn(t,e,s,n),e.child}function pM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $v(t,e,n,r,s){var i=tr(n)?ro:Pn.current;return i=Rl(e,i),yl(e,s),n=W1(t,e,n,r,i,s),r=K1(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(Et&&r&&O1(e),e.flags|=1,Dn(t,e,n,s),e.child)}function gT(t,e,n,r,s){if(tr(n)){var i=!0;Kp(e)}else i=!1;if(yl(e,s),e.stateNode===null)wp(t,e),cM(e,n,r),Dv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=tr(n)?ro:Pn.current,u=Rl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&uT(e,o,r,u),ji=!1;var h=e.memoizedState;o.state=h,Zp(e,r,o,s),c=e.memoizedState,l!==r||h!==c||er.current||ji?(typeof d=="function"&&(Ov(e,n,d,r),c=e.memoizedState),(l=ji||cT(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Hr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=tr(n)?ro:Pn.current,c=Rl(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&uT(e,o,r,c),ji=!1,h=e.memoizedState,o.state=h,Zp(e,r,o,s);var b=e.memoizedState;l!==f||h!==b||er.current||ji?(typeof x=="function"&&(Ov(e,n,x,r),b=e.memoizedState),(u=ji||cT(e,n,u,r,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fv(t,e,n,r,i,s)}function Fv(t,e,n,r,s,i){pM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tT(e,n,!1),ri(t,e,i);r=e.stateNode,NU.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ol(e,t.child,null,i),e.child=Ol(e,null,l,i)):Dn(t,e,l,i),e.memoizedState=r.state,s&&tT(e,n,!0),e.child}function mM(t){var e=t.stateNode;e.pendingContext?eT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eT(t,e.context,!1),q1(t,e.containerInfo)}function xT(t,e,n,r,s){return Ml(),L1(s),e.flags|=256,Dn(t,e,n,r),e.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function gM(t,e,n){var r=e.pendingProps,s=kt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(kt,s&1),t===null)return Rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=e0(o,r,0,null),t=Ya(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vv(n),e.memoizedState=Uv,t):X1(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return SU(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Xi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Xi(l,i):(i=Ya(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uv,r}return i=t.child,t=i.sibling,r=Xi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X1(t,e){return e=e0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lh(t,e,n,r){return r!==null&&L1(r),Ol(e,t.child,null,n),t=X1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=oy(Error(de(422))),Lh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=e0({mode:"visible",children:r.children},s,0,null),i=Ya(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ol(e,t.child,null,o),e.child.memoizedState=Vv(o),e.memoizedState=Uv,i);if(!(e.mode&1))return Lh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(de(419)),r=oy(i,r,void 0),Lh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Qn||l){if(r=sn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ni(t,s),Qr(r,t,s,-1))}return r_(),r=oy(Error(de(421))),Lh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cr=Wi(s.nextSibling),dr=e,Et=!0,Jr=null,t!==null&&(_r[Nr++]=Us,_r[Nr++]=Vs,_r[Nr++]=so,Us=t.id,Vs=t.overflow,so=e),e=X1(e,r.children),e.flags|=4096,e)}function yT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mv(t.return,e,n)}function ly(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Dn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yT(t,n,e);else if(t.tag===19)yT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&em(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ly(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&em(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ly(e,!0,n,null,i);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EU(t,e,n){switch(e.tag){case 3:mM(e),Ml();break;case 5:qR(e);break;case 1:tr(e.type)&&Kp(e);break;case 4:q1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gt(Xp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?gM(t,e,n):(gt(kt,kt.current&1),t=ri(t,e,n),t!==null?t.sibling:null);gt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,hM(t,e,n)}return ri(t,e,n)}var yM,Bv,vM,bM;yM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bv=function(){};vM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Va(ys.current);var i=null;switch(n){case"input":s=uv(t,s),r=uv(t,r),i=[];break;case"select":s=jt({},s,{value:void 0}),r=jt({},r,{value:void 0}),i=[];break;case"textarea":s=hv(t,s),r=hv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hp)}mv(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(md.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(md.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bM=function(t,e,n,r){n!==r&&(e.flags|=4)};function xu(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TU(t,e,n){var r=e.pendingProps;switch(D1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return tr(e.type)&&Wp(),_n(e),null;case 3:return r=e.stateNode,Dl(),_t(er),_t(Pn),G1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(Yv(Jr),Jr=null))),Bv(t,e),_n(e),null;case 5:z1(e);var s=Va(Ad.current);if(n=e.type,t!==null&&e.stateNode!=null)vM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return _n(e),null}if(t=Va(ys.current),Oh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ps]=e,r[Ed]=i,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(s=0;s<Du.length;s++)vt(Du[s],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":AE(r,i),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vt("invalid",r);break;case"textarea":CE(r,i),vt("invalid",r)}mv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mh(r.textContent,l,t),s=["children",""+l]):md.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",r)}switch(n){case"input":Th(r),kE(r,i,!0);break;case"textarea":Th(r),jE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ps]=e,t[Ed]=r,yM(t,e,!1,!1),e.stateNode=t;e:{switch(o=gv(n,r),n){case"dialog":vt("cancel",t),vt("close",t),s=r;break;case"iframe":case"object":case"embed":vt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Du.length;s++)vt(Du[s],t);s=r;break;case"source":vt("error",t),s=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),s=r;break;case"details":vt("toggle",t),s=r;break;case"input":AE(t,r),s=uv(t,r),vt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=jt({},r,{value:void 0}),vt("invalid",t);break;case"textarea":CE(t,r),s=hv(t,r),vt("invalid",t);break;default:s=r}mv(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?XI(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JI(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gd(t,c):typeof c=="number"&&gd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(md.hasOwnProperty(i)?c!=null&&i==="onScroll"&&vt("scroll",t):c!=null&&w1(t,i,c,o))}switch(n){case"input":Th(t),kE(t,r,!1);break;case"textarea":Th(t),jE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pl(t,!!r.multiple,i,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)bM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=Va(Ad.current),Va(ys.current),Oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ps]=e,(i=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Mh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=e,e.stateNode=r}return _n(e),null;case 13:if(_t(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&cr!==null&&e.mode&1&&!(e.flags&128))$R(),Ml(),e.flags|=98560,i=!1;else if(i=Oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[ps]=e}else Ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else Jr!==null&&(Yv(Jr),Jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?Jt===0&&(Jt=3):r_())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return Dl(),Bv(t,e),t===null&&Nd(e.stateNode.containerInfo),_n(e),null;case 10:return U1(e.type._context),_n(e),null;case 17:return tr(e.type)&&Wp(),_n(e),null;case 19:if(_t(kt),i=e.memoizedState,i===null)return _n(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)xu(i,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=em(t),o!==null){for(e.flags|=128,xu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(kt,kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ft()>$l&&(e.flags|=128,r=!0,xu(i,!1),e.lanes=4194304)}else{if(!r)if(t=em(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return _n(e),null}else 2*Ft()-i.renderingStartTime>$l&&n!==1073741824&&(e.flags|=128,r=!0,xu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ft(),e.sibling=null,n=kt.current,gt(kt,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return n_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function AU(t,e){switch(D1(e),e.tag){case 1:return tr(e.type)&&Wp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),_t(er),_t(Pn),G1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z1(e),null;case 13:if(_t(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(kt),null;case 4:return Dl(),null;case 10:return U1(e.type._context),null;case 22:case 23:return n_(),null;case 24:return null;default:return null}}var $h=!1,Tn=!1,kU=typeof WeakSet=="function"?WeakSet:Set,we=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function qv(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var vT=!1;function CU(t,e){if(Tv=qp,t=ER(),M1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Av={focusedElem:t,selectionRange:n},qp=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Hr(e.type,w),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(C){Rt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return b=vT,vT=!1,b}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qv(e,n,i)}s=s.next}while(s!==r)}}function Qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wM(t){var e=t.alternate;e!==null&&(t.alternate=null,wM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ps],delete e[Ed],delete e[jv],delete e[dU],delete e[fU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _M(t){return t.tag===5||t.tag===3||t.tag===4}function bT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_M(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hp));else if(r!==4&&(t=t.child,t!==null))for(Gv(t,e,n),t=t.sibling;t!==null;)Gv(t,e,n),t=t.sibling}function Hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hv(t,e,n),t=t.sibling;t!==null;)Hv(t,e,n),t=t.sibling}var un=null,Wr=!1;function Ti(t,e,n){for(n=n.child;n!==null;)NM(t,e,n),n=n.sibling}function NM(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(zg,n)}catch{}switch(n.tag){case 5:Tn||rl(n,e);case 6:var r=un,s=Wr;un=null,Ti(t,e,n),un=r,Wr=s,un!==null&&(Wr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(Wr?(t=un,n=n.stateNode,t.nodeType===8?ty(t.parentNode,n):t.nodeType===1&&ty(t,n),bd(t)):ty(un,n.stateNode));break;case 4:r=un,s=Wr,un=n.stateNode.containerInfo,Wr=!0,Ti(t,e,n),un=r,Wr=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qv(n,e,o),s=s.next}while(s!==r)}Ti(t,e,n);break;case 1:if(!Tn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Rt(n,e,l)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Ti(t,e,n),Tn=r):Ti(t,e,n);break;default:Ti(t,e,n)}}function wT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kU),e.forEach(function(r){var s=$U.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,Wr=!1;break e;case 3:un=l.stateNode.containerInfo,Wr=!0;break e;case 4:un=l.stateNode.containerInfo,Wr=!0;break e}l=l.return}if(un===null)throw Error(de(160));NM(i,o,s),un=null,Wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SM(e,t),e=e.sibling}function SM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qr(e,t),ds(t),r&4){try{Xu(3,t,t.return),Qg(3,t)}catch(w){Rt(t,t.return,w)}try{Xu(5,t,t.return)}catch(w){Rt(t,t.return,w)}}break;case 1:qr(e,t),ds(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(qr(e,t),ds(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{gd(s,"")}catch(w){Rt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HI(s,i),gv(l,o);var u=gv(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?XI(s,f):d==="dangerouslySetInnerHTML"?JI(s,f):d==="children"?gd(s,f):w1(s,d,f,u)}switch(l){case"input":dv(s,i);break;case"textarea":WI(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?pl(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?pl(s,!!i.multiple,i.defaultValue,!0):pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ed]=i}catch(w){Rt(t,t.return,w)}}break;case 6:if(qr(e,t),ds(t),r&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Rt(t,t.return,w)}}break;case 3:if(qr(e,t),ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(w){Rt(t,t.return,w)}break;case 4:qr(e,t),ds(t);break;case 13:qr(e,t),ds(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(e_=Ft())),r&4&&wT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(u=Tn)||d,qr(e,t),Tn=u):qr(e,t),ds(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,x=h.child,h.tag){case 0:case 11:case 14:case 15:Xu(4,h,h.return);break;case 1:rl(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){Rt(r,n,w)}}break;case 5:rl(h,h.return);break;case 22:if(h.memoizedState!==null){NT(f);continue}}x!==null?(x.return=h,we=x):NT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YI("display",o))}catch(w){Rt(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Rt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qr(e,t),ds(t),r&4&&wT(t);break;case 21:break;default:qr(e,t),ds(t)}}function ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_M(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gd(s,""),r.flags&=-33);var i=bT(t);Hv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bT(t);Gv(t,l,o);break;default:throw Error(de(161))}}catch(c){Rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jU(t,e,n){we=t,EM(t)}function EM(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var s=we,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$h;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=$h;var u=Tn;if($h=o,(Tn=c)&&!u)for(we=s;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?ST(s):c!==null?(c.return=o,we=c):ST(s);for(;i!==null;)we=i,EM(i),i=i.sibling;we=s,$h=l,Tn=u}_T(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,we=i):_T(t)}}function _T(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&aT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aT(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Tn||e.flags&512&&zv(e)}catch(h){Rt(e,e.return,h)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function NT(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function ST(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qg(4,e)}catch(c){Rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Rt(e,s,c)}}var i=e.return;try{zv(e)}catch(c){Rt(e,i,c)}break;case 5:var o=e.return;try{zv(e)}catch(c){Rt(e,o,c)}}}catch(c){Rt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var PU=Math.ceil,rm=pi.ReactCurrentDispatcher,Q1=pi.ReactCurrentOwner,Ar=pi.ReactCurrentBatchConfig,Ye=0,sn=null,Bt=null,pn=0,ar=0,sl=ma(0),Jt=0,Pd=null,ao=0,Zg=0,Z1=0,Qu=null,Jn=null,e_=0,$l=1/0,Ds=null,sm=!1,Wv=null,Ji=null,Fh=!1,Fi=null,im=0,Zu=0,Kv=null,_p=-1,Np=0;function Un(){return Ye&6?Ft():_p!==-1?_p:_p=Ft()}function Yi(t){return t.mode&1?Ye&2&&pn!==0?pn&-pn:pU.transition!==null?(Np===0&&(Np=cR()),Np):(t=it,t!==0||(t=window.event,t=t===void 0?16:gR(t.type)),t):1}function Qr(t,e,n,r){if(50<Zu)throw Zu=0,Kv=null,Error(de(185));Rf(t,n,r),(!(Ye&2)||t!==sn)&&(t===sn&&(!(Ye&2)&&(Zg|=n),Jt===4&&Ri(t,pn)),nr(t,r),n===1&&Ye===0&&!(e.mode&1)&&($l=Ft()+500,Jg&&ga()))}function nr(t,e){var n=t.callbackNode;pF(t,e);var r=Bp(t,t===sn?pn:0);if(r===0)n!==null&&RE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RE(n),e===1)t.tag===0?hU(ET.bind(null,t)):OR(ET.bind(null,t)),cU(function(){!(Ye&6)&&ga()}),n=null;else{switch(uR(r)){case 1:n=T1;break;case 4:n=oR;break;case 16:n=Vp;break;case 536870912:n=lR;break;default:n=Vp}n=RM(n,TM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TM(t,e){if(_p=-1,Np=0,Ye&6)throw Error(de(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=Bp(t,t===sn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=am(t,r);else{e=r;var s=Ye;Ye|=2;var i=kM();(sn!==t||pn!==e)&&(Ds=null,$l=Ft()+500,Ja(t,e));do try{MU();break}catch(l){AM(t,l)}while(!0);F1(),rm.current=i,Ye=s,Bt!==null?e=0:(sn=null,pn=0,e=Jt)}if(e!==0){if(e===2&&(s=wv(t),s!==0&&(r=s,e=Jv(t,s))),e===1)throw n=Pd,Ja(t,0),Ri(t,r),nr(t,Ft()),n;if(e===6)Ri(t,r);else{if(s=t.current.alternate,!(r&30)&&!IU(s)&&(e=am(t,r),e===2&&(i=wv(t),i!==0&&(r=i,e=Jv(t,i))),e===1))throw n=Pd,Ja(t,0),Ri(t,r),nr(t,Ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:Ia(t,Jn,Ds);break;case 3:if(Ri(t,r),(r&130023424)===r&&(e=e_+500-Ft(),10<e)){if(Bp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cv(Ia.bind(null,t,Jn,Ds),e);break}Ia(t,Jn,Ds);break;case 4:if(Ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PU(r/1960))-r,10<r){t.timeoutHandle=Cv(Ia.bind(null,t,Jn,Ds),r);break}Ia(t,Jn,Ds);break;case 5:Ia(t,Jn,Ds);break;default:throw Error(de(329))}}}return nr(t,Ft()),t.callbackNode===n?TM.bind(null,t):null}function Jv(t,e){var n=Qu;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=am(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&Yv(e)),t}function Yv(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function IU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ss(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~Z1,e&=~Zg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function ET(t){if(Ye&6)throw Error(de(327));vl();var e=Bp(t,0);if(!(e&1))return nr(t,Ft()),null;var n=am(t,e);if(t.tag!==0&&n===2){var r=wv(t);r!==0&&(e=r,n=Jv(t,r))}if(n===1)throw n=Pd,Ja(t,0),Ri(t,e),nr(t,Ft()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Jn,Ds),nr(t,Ft()),null}function t_(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&($l=Ft()+500,Jg&&ga())}}function oo(t){Fi!==null&&Fi.tag===0&&!(Ye&6)&&vl();var e=Ye;Ye|=1;var n=Ar.transition,r=it;try{if(Ar.transition=null,it=1,t)return t()}finally{it=r,Ar.transition=n,Ye=e,!(Ye&6)&&ga()}}function n_(){ar=sl.current,_t(sl)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lU(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(D1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wp();break;case 3:Dl(),_t(er),_t(Pn),G1();break;case 5:z1(r);break;case 4:Dl();break;case 13:_t(kt);break;case 19:_t(kt);break;case 10:U1(r.type._context);break;case 22:case 23:n_()}n=n.return}if(sn=t,Bt=t=Xi(t.current,null),pn=ar=e,Jt=0,Pd=null,Z1=Zg=ao=0,Jn=Qu=null,Ua!==null){for(e=0;e<Ua.length;e++)if(n=Ua[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ua=null}return t}function AM(t,e){do{var n=Bt;try{if(F1(),vp.current=nm,tm){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tm=!1}if(io=0,nn=Wt=Ct=null,Yu=!1,kd=0,Q1.current=null,n===null||n.return===null){Jt=1,Pd=e,Bt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=fT(o);if(x!==null){x.flags&=-257,hT(x,o,l,i,e),x.mode&1&&dT(i,u,e),e=x,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){dT(i,u,e),r_();break e}c=Error(de(426))}}else if(Et&&l.mode&1){var y=fT(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),hT(y,o,l,i,e),L1(Ll(c,l));break e}}i=c=Ll(c,l),Jt!==4&&(Jt=2),Qu===null?Qu=[i]:Qu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=uM(i,c,e);iT(i,v);break e;case 1:l=c;var _=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ji===null||!Ji.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=dM(i,l,e);iT(i,C);break e}}i=i.return}while(i!==null)}jM(n)}catch(E){e=E,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function kM(){var t=rm.current;return rm.current=nm,t===null?nm:t}function r_(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||!(ao&268435455)&&!(Zg&268435455)||Ri(sn,pn)}function am(t,e){var n=Ye;Ye|=2;var r=kM();(sn!==t||pn!==e)&&(Ds=null,Ja(t,e));do try{RU();break}catch(s){AM(t,s)}while(!0);if(F1(),Ye=n,rm.current=r,Bt!==null)throw Error(de(261));return sn=null,pn=0,Jt}function RU(){for(;Bt!==null;)CM(Bt)}function MU(){for(;Bt!==null&&!iF();)CM(Bt)}function CM(t){var e=IM(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?jM(t):Bt=e,Q1.current=null}function jM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AU(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jt=6,Bt=null;return}}else if(n=TU(n,e,ar),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Ia(t,e,n){var r=it,s=Ar.transition;try{Ar.transition=null,it=1,OU(t,e,n,r)}finally{Ar.transition=s,it=r}return null}function OU(t,e,n,r){do vl();while(Fi!==null);if(Ye&6)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mF(t,i),t===sn&&(Bt=sn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fh||(Fh=!0,RM(Vp,function(){return vl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ar.transition,Ar.transition=null;var o=it;it=1;var l=Ye;Ye|=4,Q1.current=null,CU(t,n),SM(n,t),tU(Av),qp=!!Tv,Av=Tv=null,t.current=n,jU(n),aF(),Ye=l,it=o,Ar.transition=i}else t.current=n;if(Fh&&(Fh=!1,Fi=t,im=s),i=t.pendingLanes,i===0&&(Ji=null),cF(n.stateNode),nr(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sm)throw sm=!1,t=Wv,Wv=null,t;return im&1&&t.tag!==0&&vl(),i=t.pendingLanes,i&1?t===Kv?Zu++:(Zu=0,Kv=t):Zu=0,ga(),null}function vl(){if(Fi!==null){var t=uR(im),e=Ar.transition,n=it;try{if(Ar.transition=null,it=16>t?16:t,Fi===null)var r=!1;else{if(t=Fi,Fi=null,im=0,Ye&6)throw Error(de(331));var s=Ye;for(Ye|=4,we=t.current;we!==null;){var i=we,o=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Xu(8,d,i)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,x=d.return;if(wM(d),d===u){we=null;break}if(h!==null){h.return=x,we=h;break}we=x}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}we=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,we=o;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,we=v;break e}we=i.return}}var _=t.current;for(we=_;we!==null;){o=we;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,we=N;else e:for(o=_;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qg(9,l)}}catch(E){Rt(l,l.return,E)}if(l===o){we=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,we=C;break e}we=l.return}}if(Ye=s,ga(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(zg,t)}catch{}r=!0}return r}finally{it=n,Ar.transition=e}}return!1}function TT(t,e,n){e=Ll(n,e),e=uM(t,e,1),t=Ki(t,e,1),e=Un(),t!==null&&(Rf(t,1,e),nr(t,e))}function Rt(t,e,n){if(t.tag===3)TT(t,t,n);else for(;e!==null;){if(e.tag===3){TT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=Ll(n,t),t=dM(e,t,1),e=Ki(e,t,1),t=Un(),e!==null&&(Rf(e,1,t),nr(e,t));break}}e=e.return}}function DU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(pn&n)===n&&(Jt===4||Jt===3&&(pn&130023424)===pn&&500>Ft()-e_?Ja(t,0):Z1|=n),nr(t,e)}function PM(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=Un();t=ni(t,e),t!==null&&(Rf(t,e,n),nr(t,n))}function LU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PM(t,n)}function $U(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),PM(t,n)}var IM;IM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,EU(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,Et&&e.flags&1048576&&DR(e,Yp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wp(t,e),t=e.pendingProps;var s=Rl(e,Pn.current);yl(e,n),s=W1(null,e,r,t,s,n);var i=K1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(i=!0,Kp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,B1(e),s.updater=Xg,e.stateNode=s,s._reactInternals=e,Dv(e,r,t,n),e=Fv(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&O1(e),Dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UU(r),t=Hr(r,t),s){case 0:e=$v(null,e,r,t,n);break e;case 1:e=gT(null,e,r,t,n);break e;case 11:e=pT(null,e,r,t,n);break e;case 14:e=mT(null,e,r,Hr(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),$v(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),gT(t,e,r,s,n);case 3:e:{if(mM(e),t===null)throw Error(de(387));r=e.pendingProps,i=e.memoizedState,s=i.element,BR(t,e),Zp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ll(Error(de(423)),e),e=xT(t,e,r,n,s);break e}else if(r!==s){s=Ll(Error(de(424)),e),e=xT(t,e,r,n,s);break e}else for(cr=Wi(e.stateNode.containerInfo.firstChild),dr=e,Et=!0,Jr=null,n=UR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ml(),r===s){e=ri(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return qR(e),t===null&&Rv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kv(r,s)?o=null:i!==null&&kv(r,i)&&(e.flags|=32),pM(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&Rv(e),null;case 13:return gM(t,e,n);case 4:return q1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ol(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),pT(t,e,r,s,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gt(Xp,r._currentValue),r._currentValue=o,i!==null)if(ss(i.value,o)){if(i.children===s.children&&!er.current){e=ri(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ks(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Mv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yl(e,n),s=Rr(s),r=r(s),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,s=Hr(r,e.pendingProps),s=Hr(r.type,s),mT(t,e,r,s,n);case 15:return fM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hr(r,s),wp(t,e),e.tag=1,tr(r)?(t=!0,Kp(e)):t=!1,yl(e,n),cM(e,r,s),Dv(e,r,s,n),Fv(null,e,r,!0,t,n);case 19:return xM(t,e,n);case 22:return hM(t,e,n)}throw Error(de(156,e.tag))};function RM(t,e){return aR(t,e)}function FU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new FU(t,e,n,r)}function s_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UU(t){if(typeof t=="function")return s_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N1)return 11;if(t===S1)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")s_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ko:return Ya(n.children,s,i,e);case _1:o=8,s|=8;break;case av:return t=Er(12,n,e,s|2),t.elementType=av,t.lanes=i,t;case ov:return t=Er(13,n,e,s),t.elementType=ov,t.lanes=i,t;case lv:return t=Er(19,n,e,s),t.elementType=lv,t.lanes=i,t;case qI:return e0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VI:o=10;break e;case BI:o=9;break e;case N1:o=11;break e;case S1:o=14;break e;case Ci:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ya(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function e0(t,e,n,r){return t=Er(22,t,r,e),t.elementType=qI,t.lanes=n,t.stateNode={isHidden:!1},t}function cy(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function uy(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VU(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zx(0),this.expirationTimes=zx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function i_(t,e,n,r,s,i,o,l,c){return t=new VU(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(i),t}function BU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MM(t){if(!t)return ia;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(tr(n))return MR(t,n,e)}return e}function OM(t,e,n,r,s,i,o,l,c){return t=i_(n,r,!0,t,s,i,o,l,c),t.context=MM(null),n=t.current,r=Un(),s=Yi(n),i=Ks(r,s),i.callback=e??null,Ki(n,i,s),t.current.lanes=s,Rf(t,s,r),nr(t,r),t}function t0(t,e,n,r){var s=e.current,i=Un(),o=Yi(s);return n=MM(n),e.context===null?e.context=n:e.pendingContext=n,e=Ks(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(s,e,o),t!==null&&(Qr(t,s,o,i),yp(t,s,o)),o}function om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a_(t,e){AT(t,e),(t=t.alternate)&&AT(t,e)}function qU(){return null}var DM=typeof reportError=="function"?reportError:function(t){console.error(t)};function o_(t){this._internalRoot=t}n0.prototype.render=o_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));t0(t,e,null,null)};n0.prototype.unmount=o_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){t0(null,t,null,null)}),e[ti]=null}};function n0(t){this._internalRoot=t}n0.prototype.unstable_scheduleHydration=function(t){if(t){var e=hR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&mR(t)}};function l_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kT(){}function zU(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=om(o);i.call(u)}}var o=OM(e,r,t,0,null,!1,!1,"",kT);return t._reactRootContainer=o,t[ti]=o.current,Nd(t.nodeType===8?t.parentNode:t),oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=om(c);l.call(u)}}var c=i_(t,0,!1,null,null,!1,!1,"",kT);return t._reactRootContainer=c,t[ti]=c.current,Nd(t.nodeType===8?t.parentNode:t),oo(function(){t0(e,c,n,r)}),c}function s0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=om(o);l.call(c)}}t0(e,o,t,s)}else o=zU(n,e,t,s,r);return om(o)}dR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ou(e.pendingLanes);n!==0&&(A1(e,n|1),nr(e,Ft()),!(Ye&6)&&($l=Ft()+500,ga()))}break;case 13:oo(function(){var r=ni(t,1);if(r!==null){var s=Un();Qr(r,t,1,s)}}),a_(t,1)}};k1=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=Un();Qr(e,t,134217728,n)}a_(t,134217728)}};fR=function(t){if(t.tag===13){var e=Yi(t),n=ni(t,e);if(n!==null){var r=Un();Qr(n,t,e,r)}a_(t,e)}};hR=function(){return it};pR=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};yv=function(t,e,n){switch(e){case"input":if(dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kg(r);if(!s)throw Error(de(90));GI(r),dv(r,s)}}}break;case"textarea":WI(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};eR=t_;tR=oo;var GU={usingClientEntryPoint:!1,Events:[Of,Qo,Kg,QI,ZI,t_]},yu={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HU={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sR(t),t===null?null:t.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||qU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{zg=Uh.inject(HU),xs=Uh}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l_(e))throw Error(de(200));return BU(t,e,null,n)};pr.createRoot=function(t,e){if(!l_(t))throw Error(de(299));var n=!1,r="",s=DM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=i_(t,1,!1,null,null,n,!1,r,s),t[ti]=e.current,Nd(t.nodeType===8?t.parentNode:t),new o_(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=sR(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return oo(t)};pr.hydrate=function(t,e,n){if(!r0(e))throw Error(de(200));return s0(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!l_(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DM;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=OM(e,null,t,1,n??null,s,!1,i,o),t[ti]=e.current,Nd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new n0(e)};pr.render=function(t,e,n){if(!r0(e))throw Error(de(200));return s0(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!r0(t))throw Error(de(40));return t._reactRootContainer?(oo(function(){s0(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};pr.unstable_batchedUpdates=t_;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!r0(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return s0(t,e,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function LM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LM)}catch(t){console.error(t)}}LM(),LI.exports=pr;var WU=LI.exports,CT=WU;sv.createRoot=CT.createRoot,sv.hydrateRoot=CT.hydrateRoot;var jT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},FM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new JU;const h=i<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YU=function(t){const e=$M(t);return FM.encodeByteArray(e,!0)},lm=function(t){return YU(t).replace(/\./g,"")},UM=function(t){try{return FM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=()=>XU().__FIREBASE_DEFAULTS__,ZU=()=>{if(typeof process>"u"||typeof jT>"u")return;const t=jT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UM(t[1]);return e&&JSON.parse(e)},i0=()=>{try{return QU()||ZU()||eV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VM=t=>{var e,n;return(n=(e=i0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tV=t=>{const e=VM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BM=()=>{var t;return(t=i0())===null||t===void 0?void 0:t.config},qM=t=>{var e;return(e=i0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lm(JSON.stringify(n)),lm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function iV(){var t;const e=(t=i0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!iV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dV(){try{return typeof indexedDB=="object"}catch{return!1}}function fV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hV,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lf.prototype.create)}}class Lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pV(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new mi(s,l,r)}}function pV(t,e){return t.replace(mV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mV=/\{\$([^}]+)}/g;function gV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(PT(i)&&PT(o)){if(!cm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xV(t,e){const n=new yV(t,e);return n.subscribe.bind(n)}class yV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dy),s.error===void 0&&(s.error=dy),s.complete===void 0&&(s.complete=dy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wV(t){return t===Ra?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const SV={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},EV=He.INFO,TV={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},AV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=AV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const kV=(t,e)=>e.some(n=>t instanceof n);let IT,RT;function CV(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zM=new WeakMap,Xv=new WeakMap,GM=new WeakMap,fy=new WeakMap,u_=new WeakMap;function PV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zM.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function IV(t){if(Xv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Xv.set(t,e)}let Qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RV(t){Qv=t(Qv)}function MV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return GM.set(r,e.sort?e.sort():[e]),Qi(r)}:jV().includes(t)?function(...e){return t.apply(hy(this),e),Qi(zM.get(this))}:function(...e){return Qi(t.apply(hy(this),e))}}function OV(t){return typeof t=="function"?MV(t):(t instanceof IDBTransaction&&IV(t),kV(t,CV())?new Proxy(t,Qv):t)}function Qi(t){if(t instanceof IDBRequest)return PV(t);if(fy.has(t))return fy.get(t);const e=OV(t);return e!==t&&(fy.set(t,e),u_.set(e,t)),e}const hy=t=>u_.get(t);function DV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Qi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qi(o.result),c.oldVersion,c.newVersion,Qi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const LV=["get","getKey","getAll","getAllKeys","count"],$V=["put","add","delete","clear"],py=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$V.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LV.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return py.set(e,i),i}RV(t=>({...t,get:(e,n,r)=>MT(e,n)||t.get(e,n,r),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",OT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new c_("@firebase/app"),VV="@firebase/app-compat",BV="@firebase/analytics-compat",qV="@firebase/analytics",zV="@firebase/app-check-compat",GV="@firebase/app-check",HV="@firebase/auth",WV="@firebase/auth-compat",KV="@firebase/database",JV="@firebase/data-connect",YV="@firebase/database-compat",XV="@firebase/functions",QV="@firebase/functions-compat",ZV="@firebase/installations",e8="@firebase/installations-compat",t8="@firebase/messaging",n8="@firebase/messaging-compat",r8="@firebase/performance",s8="@firebase/performance-compat",i8="@firebase/remote-config",a8="@firebase/remote-config-compat",o8="@firebase/storage",l8="@firebase/storage-compat",c8="@firebase/firestore",u8="@firebase/vertexai-preview",d8="@firebase/firestore-compat",f8="firebase",h8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",p8={[Zv]:"fire-core",[VV]:"fire-core-compat",[qV]:"fire-analytics",[BV]:"fire-analytics-compat",[GV]:"fire-app-check",[zV]:"fire-app-check-compat",[HV]:"fire-auth",[WV]:"fire-auth-compat",[KV]:"fire-rtdb",[JV]:"fire-data-connect",[YV]:"fire-rtdb-compat",[XV]:"fire-fn",[QV]:"fire-fn-compat",[ZV]:"fire-iid",[e8]:"fire-iid-compat",[t8]:"fire-fcm",[n8]:"fire-fcm-compat",[r8]:"fire-perf",[s8]:"fire-perf-compat",[i8]:"fire-rc",[a8]:"fire-rc-compat",[o8]:"fire-gcs",[l8]:"fire-gcs-compat",[c8]:"fire-fst",[d8]:"fire-fst-compat",[u8]:"fire-vertex","fire-js":"fire-js",[f8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map,m8=new Map,tb=new Map;function DT(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fl(t){const e=t.name;if(tb.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of um.values())DT(n,t);for(const n of m8.values())DT(n,t);return!0}function d_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Lf("app","Firebase",g8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=h8;function HM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eb,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zi.create("bad-app-name",{appName:String(s)});if(n||(n=BM()),!n)throw Zi.create("no-options");const i=um.get(s);if(i){if(cm(n,i.options)&&cm(r,i.config))return i;throw Zi.create("duplicate-app",{appName:s})}const o=new NV(s);for(const c of tb.values())o.addComponent(c);const l=new x8(n,r,o);return um.set(s,l),l}function WM(t=eb){const e=um.get(t);if(!e&&t===eb&&BM())return HM();if(!e)throw Zi.create("no-app",{appName:t});return e}function ea(t,e,n){var r;let s=(r=p8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}Fl(new lo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="firebase-heartbeat-database",v8=1,Id="firebase-heartbeat-store";let my=null;function KM(){return my||(my=DV(y8,v8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),my}async function b8(t){try{const n=(await KM()).transaction(Id),r=await n.objectStore(Id).get(JM(t));return await n.done,r}catch(e){if(e instanceof mi)si.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function LT(t,e){try{const r=(await KM()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,JM(t)),await r.done}catch(n){if(n instanceof mi)si.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function JM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1024,_8=30*24*60*60*1e3;class N8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$T();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=_8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$T(),{heartbeatsToSend:r,unsentEntries:s}=S8(this._heartbeatsCache.heartbeats),i=lm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return si.warn(n),""}}}function $T(){return new Date().toISOString().substring(0,10)}function S8(t,e=w8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),FT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),FT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dV()?fV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FT(t){return lm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){Fl(new lo("platform-logger",e=>new FV(e),"PRIVATE")),Fl(new lo("heartbeat",e=>new N8(e),"PRIVATE")),ea(Zv,OT,t),ea(Zv,OT,"esm2017"),ea("fire-js","")}T8("");var A8="firebase",k8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(A8,k8,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,YM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,j){function T(){}T.prototype=j.prototype,S.D=j.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(R,P,O){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return j.prototype[P].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,j,T){T||(T=0);var R=Array(16);if(typeof j=="string")for(var P=0;16>P;++P)R[P]=j.charCodeAt(T++)|j.charCodeAt(T++)<<8|j.charCodeAt(T++)<<16|j.charCodeAt(T++)<<24;else for(P=0;16>P;++P)R[P]=j[T++]|j[T++]<<8|j[T++]<<16|j[T++]<<24;j=S.g[0],T=S.g[1],P=S.g[2];var O=S.g[3],I=j+(O^T&(P^O))+R[0]+3614090360&4294967295;j=T+(I<<7&4294967295|I>>>25),I=O+(P^j&(T^P))+R[1]+3905402710&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(T^O&(j^T))+R[2]+606105819&4294967295,P=O+(I<<17&4294967295|I>>>15),I=T+(j^P&(O^j))+R[3]+3250441966&4294967295,T=P+(I<<22&4294967295|I>>>10),I=j+(O^T&(P^O))+R[4]+4118548399&4294967295,j=T+(I<<7&4294967295|I>>>25),I=O+(P^j&(T^P))+R[5]+1200080426&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(T^O&(j^T))+R[6]+2821735955&4294967295,P=O+(I<<17&4294967295|I>>>15),I=T+(j^P&(O^j))+R[7]+4249261313&4294967295,T=P+(I<<22&4294967295|I>>>10),I=j+(O^T&(P^O))+R[8]+1770035416&4294967295,j=T+(I<<7&4294967295|I>>>25),I=O+(P^j&(T^P))+R[9]+2336552879&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(T^O&(j^T))+R[10]+4294925233&4294967295,P=O+(I<<17&4294967295|I>>>15),I=T+(j^P&(O^j))+R[11]+2304563134&4294967295,T=P+(I<<22&4294967295|I>>>10),I=j+(O^T&(P^O))+R[12]+1804603682&4294967295,j=T+(I<<7&4294967295|I>>>25),I=O+(P^j&(T^P))+R[13]+4254626195&4294967295,O=j+(I<<12&4294967295|I>>>20),I=P+(T^O&(j^T))+R[14]+2792965006&4294967295,P=O+(I<<17&4294967295|I>>>15),I=T+(j^P&(O^j))+R[15]+1236535329&4294967295,T=P+(I<<22&4294967295|I>>>10),I=j+(P^O&(T^P))+R[1]+4129170786&4294967295,j=T+(I<<5&4294967295|I>>>27),I=O+(T^P&(j^T))+R[6]+3225465664&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^T&(O^j))+R[11]+643717713&4294967295,P=O+(I<<14&4294967295|I>>>18),I=T+(O^j&(P^O))+R[0]+3921069994&4294967295,T=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(T^P))+R[5]+3593408605&4294967295,j=T+(I<<5&4294967295|I>>>27),I=O+(T^P&(j^T))+R[10]+38016083&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^T&(O^j))+R[15]+3634488961&4294967295,P=O+(I<<14&4294967295|I>>>18),I=T+(O^j&(P^O))+R[4]+3889429448&4294967295,T=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(T^P))+R[9]+568446438&4294967295,j=T+(I<<5&4294967295|I>>>27),I=O+(T^P&(j^T))+R[14]+3275163606&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^T&(O^j))+R[3]+4107603335&4294967295,P=O+(I<<14&4294967295|I>>>18),I=T+(O^j&(P^O))+R[8]+1163531501&4294967295,T=P+(I<<20&4294967295|I>>>12),I=j+(P^O&(T^P))+R[13]+2850285829&4294967295,j=T+(I<<5&4294967295|I>>>27),I=O+(T^P&(j^T))+R[2]+4243563512&4294967295,O=j+(I<<9&4294967295|I>>>23),I=P+(j^T&(O^j))+R[7]+1735328473&4294967295,P=O+(I<<14&4294967295|I>>>18),I=T+(O^j&(P^O))+R[12]+2368359562&4294967295,T=P+(I<<20&4294967295|I>>>12),I=j+(T^P^O)+R[5]+4294588738&4294967295,j=T+(I<<4&4294967295|I>>>28),I=O+(j^T^P)+R[8]+2272392833&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^T)+R[11]+1839030562&4294967295,P=O+(I<<16&4294967295|I>>>16),I=T+(P^O^j)+R[14]+4259657740&4294967295,T=P+(I<<23&4294967295|I>>>9),I=j+(T^P^O)+R[1]+2763975236&4294967295,j=T+(I<<4&4294967295|I>>>28),I=O+(j^T^P)+R[4]+1272893353&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^T)+R[7]+4139469664&4294967295,P=O+(I<<16&4294967295|I>>>16),I=T+(P^O^j)+R[10]+3200236656&4294967295,T=P+(I<<23&4294967295|I>>>9),I=j+(T^P^O)+R[13]+681279174&4294967295,j=T+(I<<4&4294967295|I>>>28),I=O+(j^T^P)+R[0]+3936430074&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^T)+R[3]+3572445317&4294967295,P=O+(I<<16&4294967295|I>>>16),I=T+(P^O^j)+R[6]+76029189&4294967295,T=P+(I<<23&4294967295|I>>>9),I=j+(T^P^O)+R[9]+3654602809&4294967295,j=T+(I<<4&4294967295|I>>>28),I=O+(j^T^P)+R[12]+3873151461&4294967295,O=j+(I<<11&4294967295|I>>>21),I=P+(O^j^T)+R[15]+530742520&4294967295,P=O+(I<<16&4294967295|I>>>16),I=T+(P^O^j)+R[2]+3299628645&4294967295,T=P+(I<<23&4294967295|I>>>9),I=j+(P^(T|~O))+R[0]+4096336452&4294967295,j=T+(I<<6&4294967295|I>>>26),I=O+(T^(j|~P))+R[7]+1126891415&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~T))+R[14]+2878612391&4294967295,P=O+(I<<15&4294967295|I>>>17),I=T+(O^(P|~j))+R[5]+4237533241&4294967295,T=P+(I<<21&4294967295|I>>>11),I=j+(P^(T|~O))+R[12]+1700485571&4294967295,j=T+(I<<6&4294967295|I>>>26),I=O+(T^(j|~P))+R[3]+2399980690&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~T))+R[10]+4293915773&4294967295,P=O+(I<<15&4294967295|I>>>17),I=T+(O^(P|~j))+R[1]+2240044497&4294967295,T=P+(I<<21&4294967295|I>>>11),I=j+(P^(T|~O))+R[8]+1873313359&4294967295,j=T+(I<<6&4294967295|I>>>26),I=O+(T^(j|~P))+R[15]+4264355552&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~T))+R[6]+2734768916&4294967295,P=O+(I<<15&4294967295|I>>>17),I=T+(O^(P|~j))+R[13]+1309151649&4294967295,T=P+(I<<21&4294967295|I>>>11),I=j+(P^(T|~O))+R[4]+4149444226&4294967295,j=T+(I<<6&4294967295|I>>>26),I=O+(T^(j|~P))+R[11]+3174756917&4294967295,O=j+(I<<10&4294967295|I>>>22),I=P+(j^(O|~T))+R[2]+718787259&4294967295,P=O+(I<<15&4294967295|I>>>17),I=T+(O^(P|~j))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+j&4294967295,S.g[1]=S.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,j){j===void 0&&(j=S.length);for(var T=j-this.blockSize,R=this.B,P=this.h,O=0;O<j;){if(P==0)for(;O<=T;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<j;)if(R[P++]=S.charCodeAt(O++),P==this.blockSize){s(this,R),P=0;break}}else for(;O<j;)if(R[P++]=S[O++],P==this.blockSize){s(this,R),P=0;break}}this.h=P,this.o+=j},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var j=1;j<S.length-8;++j)S[j]=0;var T=8*this.o;for(j=S.length-8;j<S.length;++j)S[j]=T&255,T/=256;for(this.u(S),S=Array(16),j=T=0;4>j;++j)for(var R=0;32>R;R+=8)S[T++]=this.g[j]>>>R&255;return S};function i(S,j){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=j(S)}function o(S,j){this.h=j;for(var T=[],R=!0,P=S.length-1;0<=P;P--){var O=S[P]|0;R&&O==j||(T[P]=O,R=!1)}this.g=T}var l={};function c(S){return-128<=S&&128>S?i(S,function(j){return new o([j|0],0>j?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return y(u(-S));for(var j=[],T=1,R=0;S>=T;R++)j[R]=S/T|0,T*=4294967296;return new o(j,0)}function d(S,j){if(S.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S.charAt(0)=="-")return y(d(S.substring(1),j));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(j,8)),R=f,P=0;P<S.length;P+=8){var O=Math.min(8,S.length-P),I=parseInt(S.substring(P,P+O),j);8>O?(O=u(Math.pow(j,O)),R=R.j(O).add(u(I))):(R=R.j(T),R=R.add(u(I)))}return R}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-y(this).m();for(var S=0,j=1,T=0;T<this.g.length;T++){var R=this.i(T);S+=(0<=R?R:4294967296+R)*j,j*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+y(this).toString(S);for(var j=u(Math.pow(S,6)),T=this,R="";;){var P=C(T,j).g;T=v(T,P.j(j));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=P,b(T))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var j=0;j<S.g.length;j++)if(S.g[j]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=v(this,S),w(S)?-1:b(S)?0:1};function y(S){for(var j=S.g.length,T=[],R=0;R<j;R++)T[R]=~S.g[R];return new o(T,~S.h).add(h)}t.abs=function(){return w(this)?y(this):this},t.add=function(S){for(var j=Math.max(this.g.length,S.g.length),T=[],R=0,P=0;P<=j;P++){var O=R+(this.i(P)&65535)+(S.i(P)&65535),I=(O>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=I>>>16,O&=65535,I&=65535,T[P]=I<<16|O}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(S,j){return S.add(y(j))}t.j=function(S){if(b(this)||b(S))return f;if(w(this))return w(S)?y(this).j(y(S)):y(y(this).j(S));if(w(S))return y(this.j(y(S)));if(0>this.l(x)&&0>S.l(x))return u(this.m()*S.m());for(var j=this.g.length+S.g.length,T=[],R=0;R<2*j;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<S.g.length;P++){var O=this.i(R)>>>16,I=this.i(R)&65535,H=S.i(P)>>>16,F=S.i(P)&65535;T[2*R+2*P]+=I*F,_(T,2*R+2*P),T[2*R+2*P+1]+=O*F,_(T,2*R+2*P+1),T[2*R+2*P+1]+=I*H,_(T,2*R+2*P+1),T[2*R+2*P+2]+=O*H,_(T,2*R+2*P+2)}for(R=0;R<j;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=j;R<2*j;R++)T[R]=0;return new o(T,0)};function _(S,j){for(;(S[j]&65535)!=S[j];)S[j+1]+=S[j]>>>16,S[j]&=65535,j++}function N(S,j){this.g=S,this.h=j}function C(S,j){if(b(j))throw Error("division by zero");if(b(S))return new N(f,f);if(w(S))return j=C(y(S),j),new N(y(j.g),y(j.h));if(w(j))return j=C(S,y(j)),new N(y(j.g),j.h);if(30<S.g.length){if(w(S)||w(j))throw Error("slowDivide_ only works with positive integers.");for(var T=h,R=j;0>=R.l(S);)T=E(T),R=E(R);var P=A(T,1),O=A(R,1);for(R=A(R,2),T=A(T,2);!b(R);){var I=O.add(R);0>=I.l(S)&&(P=P.add(T),O=I),R=A(R,1),T=A(T,1)}return j=v(S,P.j(j)),new N(P,j)}for(P=f;0<=S.l(j);){for(T=Math.max(1,Math.floor(S.m()/j.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(T),I=O.j(j);w(I)||0<I.l(S);)T-=R,O=u(T),I=O.j(j);b(O)&&(O=h),P=P.add(O),S=v(S,I)}return new N(P,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var j=Math.max(this.g.length,S.g.length),T=[],R=0;R<j;R++)T[R]=this.i(R)&S.i(R);return new o(T,this.h&S.h)},t.or=function(S){for(var j=Math.max(this.g.length,S.g.length),T=[],R=0;R<j;R++)T[R]=this.i(R)|S.i(R);return new o(T,this.h|S.h)},t.xor=function(S){for(var j=Math.max(this.g.length,S.g.length),T=[],R=0;R<j;R++)T[R]=this.i(R)^S.i(R);return new o(T,this.h^S.h)};function E(S){for(var j=S.g.length+1,T=[],R=0;R<j;R++)T[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(T,S.h)}function A(S,j){var T=j>>5;j%=32;for(var R=S.g.length-T,P=[],O=0;O<R;O++)P[O]=0<j?S.i(O+T)>>>j|S.i(O+T+1)<<32-j:S.i(O+T);return new o(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Xa=o}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XM,Lu,QM,Ep,nb,ZM,e4,t4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,M){return m==Array.prototype||m==Object.prototype||(m[k]=M.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var k=0;k<m.length;++k){var M=m[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function s(m,k){if(k)e:{var M=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var Y=m[$];if(!(Y in M))break e;M=M[Y]}m=m[m.length-1],$=M[m],k=k($),k!=$&&k!=null&&e(M,m,{configurable:!0,writable:!0,value:k})}}function i(m,k){m instanceof String&&(m+="");var M=0,$=!1,Y={next:function(){if(!$&&M<m.length){var ee=M++;return{value:k(ee,m[ee]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return i(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,M){return m.call.apply(m.bind,arguments)}function f(m,k,M){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,$),m.apply(k,Y)}}return function(){return m.apply(k,arguments)}}function h(m,k,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,k){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),m.apply(this,$)}}function b(m,k){function M(){}M.prototype=k.prototype,m.aa=k.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function($,Y,ee){for(var pe=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)pe[ut-2]=arguments[ut];return k.prototype[Y].apply($,pe)}}function w(m){const k=m.length;if(0<k){const M=Array(k);for(let $=0;$<k;$++)M[$]=m[$];return M}return[]}function y(m,k){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(c($)){const Y=m.length||0,ee=$.length||0;m.length=Y+ee;for(let pe=0;pe<ee;pe++)m[Y+pe]=$[pe]}else m.push($)}}class v{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var E=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function A(m,k,M){for(const $ in m)k.call(M,m[$],$,m)}function S(m,k){for(const M in m)k.call(void 0,m[M],M,m)}function j(m){const k={};for(const M in m)k[M]=m[M];return k}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,k){let M,$;for(let Y=1;Y<arguments.length;Y++){$=arguments[Y];for(M in $)m[M]=$[M];for(let ee=0;ee<T.length;ee++)M=T[ee],Object.prototype.hasOwnProperty.call($,M)&&(m[M]=$[M])}}function P(m){var k=1;m=m.split(":");const M=[];for(;0<k&&m.length;)M.push(m.shift()),k--;return m.length&&M.push(m.join(":")),M}function O(m){l.setTimeout(()=>{throw m},0)}function I(){var m=V;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class H{constructor(){this.h=this.g=null}add(k,M){const $=F.get();$.set(k,M),this.h?this.h.next=$:this.g=$,this.h=$}}var F=new v(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,V=new H,U=()=>{const m=l.Promise.resolve(void 0);B=()=>{m.then(X)}};var X=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(M){O(M)}var k=F;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};l.addEventListener("test",M,k),l.removeEventListener("test",M,k)}catch{}return m}();function W(m,k){if(G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(E){e:{try{C(k.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(k=null)}}else M=="mouseover"?k=m.fromElement:M=="mouseout"&&(k=m.toElement);this.relatedTarget=k,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}b(W,G);var fe={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function ce(m,k,M,$,Y){this.listener=m,this.proxy=null,this.src=k,this.type=M,this.capture=!!$,this.ha=Y,this.key=++Ie,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,k,M,$,Y){var ee=m.toString();m=this.g[ee],m||(m=this.g[ee]=[],this.h++);var pe=he(m,k,$,Y);return-1<pe?(k=m[pe],M||(k.fa=!1)):(k=new ce(k,this.src,ee,!!$,Y),k.fa=M,m.push(k)),k};function K(m,k){var M=k.type;if(M in m.g){var $=m.g[M],Y=Array.prototype.indexOf.call($,k,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call($,Y,1),ee&&(ae(k),m.g[M].length==0&&(delete m.g[M],m.h--))}}function he(m,k,M,$){for(var Y=0;Y<m.length;++Y){var ee=m[Y];if(!ee.da&&ee.listener==k&&ee.capture==!!M&&ee.ha==$)return Y}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Le={};function Z(m,k,M,$,Y){if(Array.isArray(k)){for(var ee=0;ee<k.length;ee++)Z(m,k[ee],M,$,Y);return null}return M=ye(M),m&&m[Ee]?m.K(k,M,u($)?!!$.capture:!1,Y):me(m,k,M,!1,$,Y)}function me(m,k,M,$,Y,ee){if(!k)throw Error("Invalid event type");var pe=u(Y)?!!Y.capture:!!Y,ut=Gn(m);if(ut||(m[ve]=ut=new J(m)),M=ut.add(k,M,$,pe,ee),M.proxy)return M;if($=Xe(),M.proxy=$,$.src=m,$.listener=M,m.addEventListener)ie||(Y=pe),Y===void 0&&(Y=!1),m.addEventListener(k.toString(),$,Y);else if(m.attachEvent)m.attachEvent(We(k.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Xe(){function m(M){return k.call(m.src,m.listener,M)}const k=Lt;return m}function At(m,k,M,$,Y){if(Array.isArray(k))for(var ee=0;ee<k.length;ee++)At(m,k[ee],M,$,Y);else $=u($)?!!$.capture:!!$,M=ye(M),m&&m[Ee]?(m=m.i,k=String(k).toString(),k in m.g&&(ee=m.g[k],M=he(ee,M,$,Y),-1<M&&(ae(ee[M]),Array.prototype.splice.call(ee,M,1),ee.length==0&&(delete m.g[k],m.h--)))):m&&(m=Gn(m))&&(k=m.g[k.toString()],m=-1,k&&(m=he(k,M,$,Y)),(M=-1<m?k[m]:null)&&Nt(M))}function Nt(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[Ee])K(k.i,m);else{var M=m.type,$=m.proxy;k.removeEventListener?k.removeEventListener(M,$,m.capture):k.detachEvent?k.detachEvent(We(M),$):k.addListener&&k.removeListener&&k.removeListener($),(M=Gn(k))?(K(M,m),M.h==0&&(M.src=null,k[ve]=null)):ae(m)}}}function We(m){return m in Le?Le[m]:Le[m]="on"+m}function Lt(m,k){if(m.da)m=!0;else{k=new W(k,this);var M=m.listener,$=m.ha||m.src;m.fa&&Nt(m),m=M.call($,k)}return m}function Gn(m){return m=m[ve],m instanceof J?m:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(m){return typeof m=="function"?m:(m[te]||(m[te]=function(k){return m.handleEvent(k)}),m[te])}function Ue(){Q.call(this),this.i=new J(this),this.M=this,this.F=null}b(Ue,Q),Ue.prototype[Ee]=!0,Ue.prototype.removeEventListener=function(m,k,M,$){At(this,m,k,M,$)};function Be(m,k){var M,$=m.F;if($)for(M=[];$;$=$.F)M.push($);if(m=m.M,$=k.type||k,typeof k=="string")k=new G(k,m);else if(k instanceof G)k.target=k.target||m;else{var Y=k;k=new G($,m),R(k,Y)}if(Y=!0,M)for(var ee=M.length-1;0<=ee;ee--){var pe=k.g=M[ee];Y=Hn(pe,$,!0,k)&&Y}if(pe=k.g=m,Y=Hn(pe,$,!0,k)&&Y,Y=Hn(pe,$,!1,k)&&Y,M)for(ee=0;ee<M.length;ee++)pe=k.g=M[ee],Y=Hn(pe,$,!1,k)&&Y}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var M=m.g[k],$=0;$<M.length;$++)ae(M[$]);delete m.g[k],m.h--}}this.F=null},Ue.prototype.K=function(m,k,M,$){return this.i.add(String(m),k,!1,M,$)},Ue.prototype.L=function(m,k,M,$){return this.i.add(String(m),k,!0,M,$)};function Hn(m,k,M,$){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var Y=!0,ee=0;ee<k.length;++ee){var pe=k[ee];if(pe&&!pe.da&&pe.capture==M){var ut=pe.listener,ln=pe.ha||pe.src;pe.fa&&K(m.i,pe),Y=ut.call(ln,$)!==!1&&Y}}return Y&&!$.defaultPrevented}function gr(m,k,M){if(typeof m=="function")M&&(m=h(m,M));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(m,k||0)}function Vr(m){m.g=gr(()=>{m.g=null,m.i&&(m.i=!1,Vr(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class Qc extends Q{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(m){Q.call(this),this.h=m,this.g={}}b(Na,Q);var ih=[];function ah(m){A(m.g,function(k,M){this.g.hasOwnProperty(M)&&Nt(k)},m),m.g={}}Na.prototype.N=function(){Na.aa.N.call(this),ah(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=l.JSON.stringify,oh=l.JSON.parse,Tx=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function le(){}le.prototype.h=null;function be(m){return m.h||(m.h=m.i())}function Me(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){G.call(this,"d")}b(xr,G);function Io(){G.call(this,"c")}b(Io,G);var Sa={},IS=null;function lh(){return IS=IS||new Ue}Sa.La="serverreachability";function RS(m){G.call(this,Sa.La,m)}b(RS,G);function eu(m){const k=lh();Be(k,new RS(k))}Sa.STAT_EVENT="statevent";function MS(m,k){G.call(this,Sa.STAT_EVENT,m),this.stat=k}b(MS,G);function Mn(m){const k=lh();Be(k,new MS(k,m))}Sa.Ma="timingevent";function OS(m,k){G.call(this,Sa.Ma,m),this.size=k}b(OS,G);function tu(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function nu(){this.g=!0}nu.prototype.xa=function(){this.g=!1};function Z$(m,k,M,$,Y,ee){m.info(function(){if(m.g)if(ee)for(var pe="",ut=ee.split("&"),ln=0;ln<ut.length;ln++){var Qe=ut[ln].split("=");if(1<Qe.length){var vn=Qe[0];Qe=Qe[1];var bn=vn.split("_");pe=2<=bn.length&&bn[1]=="type"?pe+(vn+"="+Qe+"&"):pe+(vn+"=redacted&")}}else pe=null;else pe=ee;return"XMLHTTP REQ ("+$+") [attempt "+Y+"]: "+k+`
`+M+`
`+pe})}function e3(m,k,M,$,Y,ee,pe){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Y+"]: "+k+`
`+M+`
`+ee+" "+pe})}function Ro(m,k,M,$){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+n3(m,M)+($?" "+$:"")})}function t3(m,k){m.info(function(){return"TIMEOUT: "+k})}nu.prototype.info=function(){};function n3(m,k){if(!m.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var $=M[m];if(!(2>$.length)){var Y=$[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var pe=1;pe<Y.length;pe++)Y[pe]=""}}}}return Zc(M)}catch{return k}}var ch={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ax;function uh(){}b(uh,le),uh.prototype.g=function(){return new XMLHttpRequest},uh.prototype.i=function(){return{}},Ax=new uh;function Ni(m,k,M,$){this.j=m,this.i=k,this.l=M,this.R=$||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LS}function LS(){this.i=null,this.g="",this.h=!1}var $S={},kx={};function Cx(m,k,M){m.L=1,m.v=ph(Rs(k)),m.m=M,m.P=!0,FS(m,null)}function FS(m,k){m.F=Date.now(),dh(m),m.A=Rs(m.v);var M=m.A,$=m.R;Array.isArray($)||($=[String($)]),ZS(M.i,"t",$),m.C=0,M=m.j.J,m.h=new LS,m.g=xE(m.j,M?k:null,!m.m),0<m.O&&(m.M=new Qc(h(m.Y,m,m.g),m.O)),k=m.U,M=m.g,$=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ih[0]=Y.toString()),Y=ih);for(var ee=0;ee<Y.length;ee++){var pe=Z(M,Y[ee],$||k.handleEvent,!1,k.h||k);if(!pe)break;k.g[pe.key]=pe}k=m.H?j(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),eu(),Z$(m.i,m.u,m.A,m.l,m.R,m.m)}Ni.prototype.ca=function(m){m=m.target;const k=this.M;k&&Ms(m)==3?k.j():this.Y(m)},Ni.prototype.Y=function(m){try{if(m==this.g)e:{const bn=Ms(this.g);var k=this.g.Ba();const Do=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||aE(this.g)))){this.J||bn!=4||k==7||(k==8||0>=Do?eu(3):eu(2)),jx(this);var M=this.g.Z();this.X=M;t:if(US(this)){var $=aE(this.g);m="";var Y=$.length,ee=Ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),ru(this);var pe="";break t}this.h.i=new l.TextDecoder}for(k=0;k<Y;k++)this.h.h=!0,m+=this.h.i.decode($[k],{stream:!(ee&&k==Y-1)});$.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=M==200,e3(this.i,this.u,this.A,this.l,this.R,bn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,ln=this.g;if((ut=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ut)){var Qe=ut;break t}}Qe=null}if(M=Qe)Ro(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Px(this,M);else{this.o=!1,this.s=3,Mn(12),Ea(this),ru(this);break e}}if(this.P){M=!0;let Br;for(;!this.J&&this.C<pe.length;)if(Br=r3(this,pe),Br==kx){bn==4&&(this.s=4,Mn(14),M=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Br==$S){this.s=4,Mn(15),Ro(this.i,this.l,pe,"[Invalid Chunk]"),M=!1;break}else Ro(this.i,this.l,Br,null),Px(this,Br);if(US(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||pe.length!=0||this.h.h||(this.s=1,Mn(16),M=!1),this.o=this.o&&M,!M)Ro(this.i,this.l,pe,"[Invalid Chunked Response]"),Ea(this),ru(this);else if(0<pe.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Lx(vn),vn.M=!0,Mn(11))}}else Ro(this.i,this.l,pe,null),Px(this,pe);bn==4&&Ea(this),this.o&&!this.J&&(bn==4?hE(this.j,this):(this.o=!1,dh(this)))}else b3(this.g),M==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),Ea(this),ru(this)}}}catch{}finally{}};function US(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function r3(m,k){var M=m.C,$=k.indexOf(`
`,M);return $==-1?kx:(M=Number(k.substring(M,$)),isNaN(M)?$S:($+=1,$+M>k.length?kx:(k=k.slice($,$+M),m.C=$+M,k)))}Ni.prototype.cancel=function(){this.J=!0,Ea(this)};function dh(m){m.S=Date.now()+m.I,VS(m,m.I)}function VS(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=tu(h(m.ba,m),k)}function jx(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Ni.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(t3(this.i,this.A),this.L!=2&&(eu(),Mn(17)),Ea(this),this.s=2,ru(this)):VS(this,this.S-m)};function ru(m){m.j.G==0||m.J||hE(m.j,m)}function Ea(m){jx(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,ah(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function Px(m,k){try{var M=m.j;if(M.G!=0&&(M.g==m||Ix(M.h,m))){if(!m.K&&Ix(M.h,m)&&M.G==3){try{var $=M.Da.g.parse(k)}catch{$=null}if(Array.isArray($)&&$.length==3){var Y=$;if(Y[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)bh(M),yh(M);else break e;Dx(M),Mn(18)}}else M.za=Y[1],0<M.za-M.T&&37500>Y[2]&&M.F&&M.v==0&&!M.C&&(M.C=tu(h(M.Za,M),6e3));if(1>=zS(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Aa(M,11)}else if((m.K||M.g==m)&&bh(M),!_(k))for(Y=M.Da.g.parse(k),k=0;k<Y.length;k++){let Qe=Y[k];if(M.T=Qe[0],Qe=Qe[1],M.G==2)if(Qe[0]=="c"){M.K=Qe[1],M.ia=Qe[2];const vn=Qe[3];vn!=null&&(M.la=vn,M.j.info("VER="+M.la));const bn=Qe[4];bn!=null&&(M.Aa=bn,M.j.info("SVER="+M.Aa));const Do=Qe[5];Do!=null&&typeof Do=="number"&&0<Do&&($=1.5*Do,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const Br=m.g;if(Br){const _h=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_h){var ee=$.h;ee.g||_h.indexOf("spdy")==-1&&_h.indexOf("quic")==-1&&_h.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Rx(ee,ee.h),ee.h=null))}if($.D){const $x=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;$x&&($.ya=$x,yt($.I,$.D,$x))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var pe=m;if($.qa=gE($,$.J?$.ia:null,$.W),pe.K){GS($.h,pe);var ut=pe,ln=$.L;ln&&(ut.I=ln),ut.B&&(jx(ut),dh(ut)),$.g=pe}else dE($);0<M.i.length&&vh(M)}else Qe[0]!="stop"&&Qe[0]!="close"||Aa(M,7);else M.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Aa(M,7):Ox(M):Qe[0]!="noop"&&M.l&&M.l.ta(Qe),M.v=0)}}eu(4)}catch{}}var s3=class{constructor(m,k){this.g=m,this.map=k}};function BS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zS(m){return m.h?1:m.g?m.g.size:0}function Ix(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function Rx(m,k){m.g?m.g.add(k):m.h=k}function GS(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}BS.prototype.cancel=function(){if(this.i=HS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function HS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const M of m.g.values())k=k.concat(M.D);return k}return w(m.i)}function i3(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],M=m.length,$=0;$<M;$++)k.push(m[$]);return k}k=[],M=0;for($ in m)k[M++]=m[$];return k}function a3(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var M=0;M<m;M++)k.push(M);return k}k=[],M=0;for(const $ in m)k[M++]=$;return k}}}function WS(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var M=a3(m),$=i3(m),Y=$.length,ee=0;ee<Y;ee++)k.call(void 0,$[ee],M&&M[ee],m)}var KS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o3(m,k){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var $=m[M].indexOf("="),Y=null;if(0<=$){var ee=m[M].substring(0,$);Y=m[M].substring($+1)}else ee=m[M];k(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ta(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ta){this.h=m.h,fh(this,m.j),this.o=m.o,this.g=m.g,hh(this,m.s),this.l=m.l;var k=m.i,M=new au;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),JS(this,M),this.m=m.m}else m&&(k=String(m).match(KS))?(this.h=!1,fh(this,k[1]||"",!0),this.o=su(k[2]||""),this.g=su(k[3]||"",!0),hh(this,k[4]),this.l=su(k[5]||"",!0),JS(this,k[6]||"",!0),this.m=su(k[7]||"")):(this.h=!1,this.i=new au(null,this.h))}Ta.prototype.toString=function(){var m=[],k=this.j;k&&m.push(iu(k,YS,!0),":");var M=this.g;return(M||k=="file")&&(m.push("//"),(k=this.o)&&m.push(iu(k,YS,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(iu(M,M.charAt(0)=="/"?u3:c3,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",iu(M,f3)),m.join("")};function Rs(m){return new Ta(m)}function fh(m,k,M){m.j=M?su(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function hh(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function JS(m,k,M){k instanceof au?(m.i=k,h3(m.i,m.h)):(M||(k=iu(k,d3)),m.i=new au(k,m.h))}function yt(m,k,M){m.i.set(k,M)}function ph(m){return yt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function su(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function iu(m,k,M){return typeof m=="string"?(m=encodeURI(m).replace(k,l3),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function l3(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var YS=/[#\/\?@]/g,c3=/[#\?:]/g,u3=/[#\?]/g,d3=/[#\?@]/g,f3=/#/g;function au(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function Si(m){m.g||(m.g=new Map,m.h=0,m.i&&o3(m.i,function(k,M){m.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=au.prototype,t.add=function(m,k){Si(this),this.i=null,m=Mo(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(k),this.h+=1,this};function XS(m,k){Si(m),k=Mo(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function QS(m,k){return Si(m),k=Mo(m,k),m.g.has(k)}t.forEach=function(m,k){Si(this),this.g.forEach(function(M,$){M.forEach(function(Y){m.call(k,Y,$,this)},this)},this)},t.na=function(){Si(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let $=0;$<k.length;$++){const Y=m[$];for(let ee=0;ee<Y.length;ee++)M.push(k[$])}return M},t.V=function(m){Si(this);let k=[];if(typeof m=="string")QS(this,m)&&(k=k.concat(this.g.get(Mo(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)k=k.concat(m[M])}return k},t.set=function(m,k){return Si(this),this.i=null,m=Mo(this,m),QS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function ZS(m,k,M){XS(m,k),0<M.length&&(m.i=null,m.g.set(Mo(m,k),w(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var $=k[M];const ee=encodeURIComponent(String($)),pe=this.V($);for($=0;$<pe.length;$++){var Y=ee;pe[$]!==""&&(Y+="="+encodeURIComponent(String(pe[$]))),m.push(Y)}}return this.i=m.join("&")};function Mo(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function h3(m,k){k&&!m.j&&(Si(m),m.i=null,m.g.forEach(function(M,$){var Y=$.toLowerCase();$!=Y&&(XS(this,$),ZS(this,Y,M))},m)),m.j=k}function p3(m,k){const M=new nu;if(l.Image){const $=new Image;$.onload=x(Ei,M,"TestLoadImage: loaded",!0,k,$),$.onerror=x(Ei,M,"TestLoadImage: error",!1,k,$),$.onabort=x(Ei,M,"TestLoadImage: abort",!1,k,$),$.ontimeout=x(Ei,M,"TestLoadImage: timeout",!1,k,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else k(!1)}function m3(m,k){const M=new nu,$=new AbortController,Y=setTimeout(()=>{$.abort(),Ei(M,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:$.signal}).then(ee=>{clearTimeout(Y),ee.ok?Ei(M,"TestPingServer: ok",!0,k):Ei(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Y),Ei(M,"TestPingServer: error",!1,k)})}function Ei(m,k,M,$,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),$(M)}catch{}}function g3(){this.g=new Tx}function x3(m,k,M){const $=M||"";try{WS(m,function(Y,ee){let pe=Y;u(Y)&&(pe=Zc(Y)),k.push($+ee+"="+encodeURIComponent(pe))})}catch(Y){throw k.push($+"type="+encodeURIComponent("_badmap")),Y}}function mh(m){this.l=m.Ub||null,this.j=m.eb||!1}b(mh,le),mh.prototype.g=function(){return new gh(this.l,this.j)},mh.prototype.i=function(m){return function(){return m}}({});function gh(m,k){Ue.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(gh,Ue),t=gh.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,lu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ou(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,lu(this)),this.g&&(this.readyState=3,lu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eE(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function eE(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?ou(this):lu(this),this.readyState==3&&eE(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ou(this))},t.Qa=function(m){this.g&&(this.response=m,ou(this))},t.ga=function(){this.g&&ou(this)};function ou(m){m.readyState=4,m.l=null,m.j=null,m.v=null,lu(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=k.next();return m.join(`\r
`)};function lu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function tE(m){let k="";return A(m,function(M,$){k+=$,k+=":",k+=M,k+=`\r
`}),k}function Mx(m,k,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=tE(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):yt(m,k,M))}function It(m){Ue.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(It,Ue);var y3=/^https?$/i,v3=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ax.g(),this.v=this.o?be(this.o):be(Ax),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(ee){nE(this,ee);return}if(m=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Y in $)M.set(Y,$[Y]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ee of $.keys())M.set(ee,$.get(ee));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(v3,k,void 0))||$||Y||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,pe]of M)this.g.setRequestHeader(ee,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iE(this),this.u=!0,this.g.send(m),this.u=!1}catch(ee){nE(this,ee)}};function nE(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,rE(m),xh(m)}function rE(m){m.A||(m.A=!0,Be(m,"complete"),Be(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Be(this,"complete"),Be(this,"abort"),xh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xh(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ms(m)!=4||m.Z()!=2)){if(m.u&&Ms(m)==4)gr(m.Ea,0,m);else if(Be(m,"readystatechange"),Ms(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var $;if($=pe===0){var Y=String(m.D).match(KS)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),$=!y3.test(Y?Y.toLowerCase():"")}M=$}if(M)Be(m,"complete"),Be(m,"success");else{m.m=6;try{var ee=2<Ms(m)?m.g.statusText:""}catch{ee=""}m.l=ee+" ["+m.Z()+"]",rE(m)}}finally{xh(m)}}}}function xh(m,k){if(m.g){iE(m);const M=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||Be(m,"ready");try{M.onreadystatechange=$}catch{}}}function iE(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ms(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ms(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),oh(k)}};function aE(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function b3(m){const k={};m=(m.g&&2<=Ms(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(_(m[$]))continue;var M=P(m[$]);const Y=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ee=k[Y]||[];k[Y]=ee,ee.push(M)}S(k,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cu(m,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||k}function oE(m){this.Aa=0,this.i=[],this.j=new nu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cu("baseRetryDelayMs",5e3,m),this.cb=cu("retryDelaySeedMs",1e4,m),this.Wa=cu("forwardChannelMaxRetries",2,m),this.wa=cu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new BS(m&&m.concurrentRequestLimit),this.Da=new g3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oE.prototype,t.la=8,t.G=1,t.connect=function(m,k,M,$){Mn(0),this.W=m,this.H=k||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=gE(this,null,this.W),vh(this)};function Ox(m){if(lE(m),m.G==3){var k=m.U++,M=Rs(m.I);if(yt(M,"SID",m.K),yt(M,"RID",k),yt(M,"TYPE","terminate"),uu(m,M),k=new Ni(m,m.j,k),k.L=2,k.v=ph(Rs(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=k.v,M=!0),M||(k.g=xE(k.j,null),k.g.ea(k.v)),k.F=Date.now(),dh(k)}mE(m)}function yh(m){m.g&&(Lx(m),m.g.cancel(),m.g=null)}function lE(m){yh(m),m.u&&(l.clearTimeout(m.u),m.u=null),bh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function vh(m){if(!qS(m.h)&&!m.s){m.s=!0;var k=m.Ga;B||U(),z||(B(),z=!0),V.add(k,m),m.B=0}}function w3(m,k){return zS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=tu(h(m.Ga,m,k),pE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Ni(this,this.j,m);let ee=this.o;if(this.S&&(ee?(ee=j(ee),R(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(k+=$,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=uE(this,Y,k),M=Rs(this.I),yt(M,"RID",m),yt(M,"CVER",22),this.D&&yt(M,"X-HTTP-Session-Id",this.D),uu(this,M),ee&&(this.O?k="headers="+encodeURIComponent(String(tE(ee)))+"&"+k:this.m&&Mx(M,this.m,ee)),Rx(this.h,Y),this.Ua&&yt(M,"TYPE","init"),this.P?(yt(M,"$req",k),yt(M,"SID","null"),Y.T=!0,Cx(Y,M,null)):Cx(Y,M,k),this.G=2}}else this.G==3&&(m?cE(this,m):this.i.length==0||qS(this.h)||cE(this))};function cE(m,k){var M;k?M=k.l:M=m.U++;const $=Rs(m.I);yt($,"SID",m.K),yt($,"RID",M),yt($,"AID",m.T),uu(m,$),m.m&&m.o&&Mx($,m.m,m.o),M=new Ni(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),k&&(m.i=k.D.concat(m.i)),k=uE(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Rx(m.h,M),Cx(M,$,k)}function uu(m,k){m.H&&A(m.H,function(M,$){yt(k,$,M)}),m.l&&WS({},function(M,$){yt(k,$,M)})}function uE(m,k,M){M=Math.min(m.i.length,M);var $=m.l?h(m.l.Na,m.l,m):null;e:{var Y=m.i;let ee=-1;for(;;){const pe=["count="+M];ee==-1?0<M?(ee=Y[0].g,pe.push("ofs="+ee)):ee=0:pe.push("ofs="+ee);let ut=!0;for(let ln=0;ln<M;ln++){let Qe=Y[ln].g;const vn=Y[ln].map;if(Qe-=ee,0>Qe)ee=Math.max(0,Y[ln].g-100),ut=!1;else try{x3(vn,pe,"req"+Qe+"_")}catch{$&&$(vn)}}if(ut){$=pe.join("&");break e}}}return m=m.i.splice(0,M),k.D=m,$}function dE(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;B||U(),z||(B(),z=!0),V.add(k,m),m.v=0}}function Dx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=tu(h(m.Fa,m),pE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,fE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=tu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mn(10),yh(this),fE(this))};function Lx(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function fE(m){m.g=new Ni(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Rs(m.qa);yt(k,"RID","rpc"),yt(k,"SID",m.K),yt(k,"AID",m.T),yt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&yt(k,"TO",m.ja),yt(k,"TYPE","xmlhttp"),uu(m,k),m.m&&m.o&&Mx(k,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=ph(Rs(k)),M.m=null,M.P=!0,FS(M,m)}t.Za=function(){this.C!=null&&(this.C=null,yh(this),Dx(this),Mn(19))};function bh(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function hE(m,k){var M=null;if(m.g==k){bh(m),Lx(m),m.g=null;var $=2}else if(Ix(m.h,k))M=k.D,GS(m.h,k),$=1;else return;if(m.G!=0){if(k.o)if($==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var Y=m.B;$=lh(),Be($,new OS($,M)),vh(m)}else dE(m);else if(Y=k.s,Y==3||Y==0&&0<k.X||!($==1&&w3(m,k)||$==2&&Dx(m)))switch(M&&0<M.length&&(k=m.h,k.i=k.i.concat(M)),Y){case 1:Aa(m,5);break;case 4:Aa(m,10);break;case 3:Aa(m,6);break;default:Aa(m,2)}}}function pE(m,k){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*k}function Aa(m,k){if(m.j.info("Error code "+k),k==2){var M=h(m.fb,m),$=m.Xa;const Y=!$;$=new Ta($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fh($,"https"),ph($),Y?p3($.toString(),M):m3($.toString(),M)}else Mn(2);m.G=0,m.l&&m.l.sa(k),mE(m),lE(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function mE(m){if(m.G=0,m.ka=[],m.l){const k=HS(m.h);(k.length!=0||m.i.length!=0)&&(y(m.ka,k),y(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function gE(m,k,M){var $=M instanceof Ta?Rs(M):new Ta(M);if($.g!="")k&&($.g=k+"."+$.g),hh($,$.s);else{var Y=l.location;$=Y.protocol,k=k?k+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ta(null);$&&fh(ee,$),k&&(ee.g=k),Y&&hh(ee,Y),M&&(ee.l=M),$=ee}return M=m.D,k=m.ya,M&&k&&yt($,M,k),yt($,"VER",m.la),uu(m,$),$}function xE(m,k,M){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new It(new mh({eb:M})):new It(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yE(){}t=yE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wh(){}wh.prototype.g=function(m,k){return new sr(m,k)};function sr(m,k){Ue.call(this),this.g=new oE(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!_(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Oo(this)}b(sr,Ue),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Ox(this.g)},sr.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=Zc(m),m=M);k.i.push(new s3(k.Ya++,m)),k.G==3&&vh(k)},sr.prototype.N=function(){this.g.l=null,delete this.j,Ox(this.g),delete this.g,sr.aa.N.call(this)};function vE(m){xr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const M in k){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}b(vE,xr);function bE(){Io.call(this),this.status=1}b(bE,Io);function Oo(m){this.g=m}b(Oo,yE),Oo.prototype.ua=function(){Be(this.g,"a")},Oo.prototype.ta=function(m){Be(this.g,new vE(m))},Oo.prototype.sa=function(m){Be(this.g,new bE)},Oo.prototype.ra=function(){Be(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,t4=function(){return new wh},e4=function(){return lh()},ZM=Sa,nb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ch.NO_ERROR=0,ch.TIMEOUT=8,ch.HTTP_ERROR=6,Ep=ch,DS.COMPLETE="complete",QM=DS,Me.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Lu=Me,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,XM=It}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const VT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new c_("@firebase/firestore");function vu(){return co.logLevel}function Ne(t,...e){if(co.logLevel<=He.DEBUG){const n=e.map(f_);co.debug(`Firestore (${jc}): ${t}`,...n)}}function ii(t,...e){if(co.logLevel<=He.ERROR){const n=e.map(f_);co.error(`Firestore (${jc}): ${t}`,...n)}}function Ul(t,...e){if(co.logLevel<=He.WARN){const n=e.map(f_);co.warn(`Firestore (${jc}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function at(t,e){t||Pe()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class j8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P8{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ta,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ta)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new n4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new En(e)}}class I8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){at(this.o===void 0);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new M8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=D8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Xt(0,0))}static max(){return new Oe(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Rd{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const L8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Rd{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return L8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}function $8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new aa(s,Se.empty(),e)}function F8(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(Oe.min(),Se.empty(),-1)}static max(){return new aa(Oe.max(),Se.empty(),-1)}}function U8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==V8)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(s=>s?oe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new oe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function q8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}h_.oe=-1;function a0(t){return t==null}function dm(t){return t===0&&1/t==-1/0}function z8(t){return typeof t=="number"&&Number.isInteger(t)&&!dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=i??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new mn(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new i4("Invalid base64 string: "+i):i}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const G8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(at(!!t),typeof t=="string"){let e=0;const n=G8.exec(t);if(at(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function p_(t){const e=t.mapValue.fields.__previous_value__;return o0(e)?p_(e):e}function Md(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Od("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={mapValue:{}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o0(t)?4:K8(t)?9007199254740991:W8(t)?10:11:Pe()}function Ts(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oa(s.timestampValue),l=oa(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return uo(s.bytesValue).isEqual(uo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $t(s.geoPointValue.latitude)===$t(i.geoPointValue.latitude)&&$t(s.geoPointValue.longitude)===$t(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $t(s.integerValue)===$t(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$t(s.doubleValue),l=$t(i.doubleValue);return o===l?dm(o)===dm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(BT(o)!==BT(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ts(o[c],l[c])))return!1;return!0}(t,e);default:return Pe()}}function Dd(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=$t(i.integerValue||i.doubleValue),c=$t(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return zT(t.timestampValue,e.timestampValue);case 4:return zT(Md(t),Md(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(i,o){const l=uo(i),c=uo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ze(l[u],c[u]);if(d!==0)return d}return Ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ze($t(i.latitude),$t(o.latitude));return l!==0?l:Ze($t(i.longitude),$t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const f=i.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=h.value)===null||c===void 0?void 0:c.arrayValue,w=Ze(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:GT(x,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qh.mapValue&&o===qh.mapValue)return 0;if(i===qh.mapValue)return 1;if(o===qh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Ze(c[f],d[f]);if(h!==0)return h;const x=Bl(l[c[f]],u[d[f]]);if(x!==0)return x}return Ze(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function zT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=oa(t),r=oa(e),s=Ze(n.seconds,r.seconds);return s!==0?s:Ze(n.nanos,r.nanos)}function GT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bl(n[s],r[s]);if(i)return i}return Ze(n.length,r.length)}function ql(t){return rb(t)}function rb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=rb(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rb(n.fields[o])}`;return s+"}"}(t.mapValue):Pe()}function fm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sb(t){return!!t&&"integerValue"in t}function m_(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function W8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=hn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=ed(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){No(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xn(ed(this.value))}}function a4(t){const e=[];return No(t.fields,(n,r)=>{const s=new hn([n]);if(Tp(r)){const i=a4(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new An(e,0,Oe.min(),Oe.min(),Oe.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,s){return new An(e,1,n,Oe.min(),r,s,0)}static newNoDocument(e,n){return new An(e,2,n,Oe.min(),Oe.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Oe.min(),Oe.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.position=e,this.inclusive=n}}function KT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=Bl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function JT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function J8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o4=class{};class qt extends o4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X8(e,n,r):n==="array-contains"?new eB(e,r):n==="in"?new tB(e,r):n==="not-in"?new nB(e,r):n==="array-contains-any"?new rB(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q8(e,r):new Z8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends o4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new is(e,n)}matches(e){return l4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function l4(t){return t.op==="and"}function c4(t){return Y8(t)&&l4(t)}function Y8(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function ib(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(c4(t))return t.filters.map(e=>ib(e)).join(",");{const e=t.filters.map(n=>ib(n)).join(",");return`${t.op}(${e})`}}function u4(t,e){return t instanceof qt?function(r,s){return s instanceof qt&&r.op===s.op&&r.field.isEqual(s.field)&&Ts(r.value,s.value)}(t,e):t instanceof is?function(r,s){return s instanceof is&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&u4(o,s.filters[l]),!0):!1}(t,e):void Pe()}function d4(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof is?function(n){return n.op.toString()+" {"+n.getFilters().map(d4).join(" ,")+"}"}(t):"Filter"}class X8 extends qt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q8 extends qt{constructor(e,n){super(e,"in",n),this.keys=f4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z8 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=f4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class eB extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m_(n)&&Dd(n.arrayValue,this.value)}}class tB extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class nB extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class rB extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function YT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new sB(t,e,n,r,s,i,o)}function g_(t){const e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ib(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),a0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.ue=n}return e.ue}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JT(t.startAt,e.startAt)&&JT(t.endAt,e.endAt)}function ab(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iB(t,e,n,r,s,i,o,l){return new So(t,e,n,r,s,i,o,l)}function y_(t){return new So(t)}function XT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v_(t){return t.collectionGroup!==null}function bl(t){const e=De(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mn(hn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ld(i,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new Ld(hn.keyField(),r))}return e.ce}function vs(t){const e=De(t);return e.le||(e.le=aB(e,bl(t))),e.le}function aB(t,e){if(t.limitType==="F")return YT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ld(s.field,i)});const n=t.endAt?new zl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zl(t.startAt.position,t.startAt.inclusive):null;return YT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ob(t,e){const n=t.filters.concat([e]);return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hm(t,e,n){return new So(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function l0(t,e){return x_(vs(t),vs(e))&&t.limitType===e.limitType}function h4(t){return`${g_(vs(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>d4(s)).join(", ")}]`),a0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ql(s)).join(",")),`Target(${r})`}(vs(t))}; limitType=${t.limitType})`}function c0(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=KT(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,bl(r),s)||r.endAt&&!function(o,l,c){const u=KT(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,bl(r),s))}(t,e)}function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p4(t){return(e,n)=>{let r=!1;for(const s of bl(t)){const i=lB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function lB(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Bl(c,u):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return s4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new Pt(Se.comparator);function ai(){return cB}const m4=new Pt(Se.comparator);function $u(...t){let e=m4;for(const n of t)e=e.insert(n.key,n);return e}function g4(t){let e=m4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ba(){return td()}function x4(){return td()}function td(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const uB=new Pt(Se.comparator),dB=new mn(Se.comparator);function ze(...t){let e=dB;for(const n of t)e=e.add(n);return e}const fB=new mn(Ze);function hB(){return fB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function y4(t){return{integerValue:""+t}}function pB(t,e){return z8(e)?y4(e):b_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this._=void 0}}function mB(t,e,n){return t instanceof pm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&o0(i)&&(i=p_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof $d?b4(t,e):t instanceof Fd?w4(t,e):function(s,i){const o=v4(s,i),l=QT(o)+QT(s.Pe);return sb(o)&&sb(s.Pe)?y4(l):b_(s.serializer,l)}(t,e)}function gB(t,e,n){return t instanceof $d?b4(t,e):t instanceof Fd?w4(t,e):n}function v4(t,e){return t instanceof mm?function(r){return sb(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class pm extends u0{}class $d extends u0{constructor(e){super(),this.elements=e}}function b4(t,e){const n=_4(e);for(const r of t.elements)n.some(s=>Ts(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends u0{constructor(e){super(),this.elements=e}}function w4(t,e){let n=_4(e);for(const r of t.elements)n=n.filter(s=>!Ts(s,r));return{arrayValue:{values:n}}}class mm extends u0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function QT(t){return $t(t.integerValue||t.doubleValue)}function _4(t){return m_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof $d&&s instanceof $d||r instanceof Fd&&s instanceof Fd?Vl(r.elements,s.elements,Ts):r instanceof mm&&s instanceof mm?Ts(r.Pe,s.Pe):r instanceof pm&&s instanceof pm}(t.transform,e.transform)}class yB{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class d0{}function N4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w_(t.key,kr.none()):new Vf(t.key,t.data,kr.none());{const n=t.data,r=Xn.empty();let s=new mn(hn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new xa(t.key,r,new ur(s.toArray()),kr.none())}}function vB(t,e,n){t instanceof Vf?function(s,i,o){const l=s.value.clone(),c=e2(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof xa?function(s,i,o){if(!Ap(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=e2(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(S4(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof Vf?function(i,o,l,c){if(!Ap(i.precondition,o))return l;const u=i.value.clone(),d=t2(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xa?function(i,o,l,c){if(!Ap(i.precondition,o))return l;const u=t2(i.fieldTransforms,c,o),d=o.data;return d.setAll(S4(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Ap(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function bB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=v4(r.transform,s||null);i!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,i))}return n||null}function ZT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(i,o)=>xB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends d0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xa extends d0{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function S4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function e2(t,e,n){const r=new Map;at(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,gB(o,l,n[s]))}return r}function t2(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,mB(i,o,e))}return r}class w_ extends d0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wB extends d0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x4();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=N4(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>ZT(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>ZT(n,r))}}class __{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length);let s=function(){return uB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new __(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ke;function EB(t){switch(t){default:return Pe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function E4(t){if(t===void 0)return ii("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Pe()}}(Ke=Ut||(Ut={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new Xa([4294967295,4294967295],0);function n2(t){const e=TB().encode(t),n=new YM;return n.update(e),new Uint8Array(n.digest())}function r2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([s,i],0)]}class N_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Xa.fromNumber(r)));return s.compare(AB)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=n2(e),[r,s]=r2(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new N_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=n2(e),[r,s]=r2(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new f0(Oe.min(),s,new Pt(Ze),ai(),ze())}}class Bf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bf(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class T4{constructor(e,n){this.targetId=e,this.me=n}}class A4{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class s2{constructor(){this.fe=0,this.ge=a2(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe()}}),new Bf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kB{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=i2(),this.Qe=new Pt(Ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(ab(i))if(r===0){const o=new Se(i.path);this.Ue(n,o,An.newNoDocument(o,Oe.min()))}else at(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=uo(r).toUint8Array()}catch(c){if(c instanceof i4)return Ul("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new N_(o,s,i)}catch(c){return Ul(c instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&ab(l.target)){const c=new Se(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,An.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ze();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new f0(e,n,this.Qe,this.ke,r);return this.ke=ai(),this.qe=i2(),this.Qe=new Pt(Ze),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new s2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mn(Ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new s2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function i2(){return new Pt(Se.comparator)}function a2(){return new Pt(Se.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},jB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PB={and:"AND",or:"OR"};class IB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lb(t,e){return t.useProto3Json||a0(e)?e:{value:e}}function gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RB(t,e){return gm(t,e.toTimestamp())}function bs(t){return at(!!t),Oe.fromTimestamp(function(n){const r=oa(n);return new Xt(r.seconds,r.nanos)}(t))}function S_(t,e){return cb(t,e).canonicalString()}function cb(t,e){const n=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C4(t){const e=mt.fromString(t);return at(M4(e)),e}function ub(t,e){return S_(t.databaseId,e.path)}function gy(t,e){const n=C4(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(P4(n))}function j4(t,e){return S_(t.databaseId,e)}function MB(t){const e=C4(t);return e.length===4?mt.emptyPath():P4(e)}function db(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P4(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o2(t,e,n){return{name:ub(t,e),fields:n.value.mapValue.fields}}function OB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(at(d===void 0||typeof d=="string"),yn.fromBase64String(d||"")):(at(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?se.UNKNOWN:E4(u.code);return new ge(d,u.message||"")}(o);n=new A4(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gy(t,r.document.name),i=bs(r.document.updateTime),o=r.document.createTime?bs(r.document.createTime):Oe.min(),l=new Xn({mapValue:{fields:r.document.fields}}),c=An.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new kp(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gy(t,r.document),i=r.readTime?bs(r.readTime):Oe.min(),o=An.newNoDocument(s,i),l=r.removedTargetIds||[];n=new kp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gy(t,r.document),i=r.removedTargetIds||[];n=new kp([],i,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new SB(s,i),l=r.targetId;n=new T4(l,o)}}return n}function DB(t,e){let n;if(e instanceof Vf)n={update:o2(t,e.key,e.value)};else if(e instanceof w_)n={delete:ub(t,e.key)};else if(e instanceof xa)n={update:o2(t,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof wB))return Pe();n={verify:ub(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof pm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $d)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof mm)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:RB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Pe()}(t,e.precondition)),n}function LB(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?bs(s.updateTime):bs(i);return o.isEqual(Oe.min())&&(o=bs(i)),new yB(o,s.transformResults||[])}(n,e))):[]}function $B(t,e){return{documents:[j4(t,e.path)]}}function FB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j4(t,s);const i=function(u){if(u.length!==0)return R4(is.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:zo(h.field),direction:BB(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=lb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function UB(t){let e=MB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=I4(f);return h instanceof is&&c4(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new Ld(Go(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,a0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new zl(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new zl(x,h)}(n.endAt)),iB(e,s,o,i,l,"F",c,u)}function VB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function I4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Go(n.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Go(n.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Go(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return is.create(n.compositeFilter.filters.map(r=>I4(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function BB(t){return CB[t]}function qB(t){return jB[t]}function zB(t){return PB[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Go(t){return hn.fromServerFormat(t.fieldPath)}function R4(t){return t instanceof qt?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:qB(n.op),value:n.value}}}(t):t instanceof is?function(n){const r=n.getFilters().map(s=>R4(s));return r.length===1?r[0]:{compositeFilter:{op:zB(n.op),filters:r}}}(t):Pe()}function GB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r,s,i=Oe.min(),o=Oe.min(),l=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.ct=e}}function WB(t){const e=UB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.un=new JB}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(aa.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class JB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mn(mt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gl(0)}static kn(){return new Gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nd(r.mutation,s,ur.empty(),Xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const s=Ba();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$u();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ai();const o=td(),l=function(){return td()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof xa)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nd(d.mutation,u,d.mutation.getFieldMask(),Xt.now())):o.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new XB(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=td();let s=new Pt((o,l)=>o-l),i=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ur.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||ze()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=x4();d.forEach(h=>{if(!i.has(h)){const x=N4(n.get(h),r.get(h));x!==null&&f.set(h,x),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):oe.resolve(Ba());let l=-1,c=i;return o.next(u=>oe.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ze())).next(d=>({batchId:l,changes:g4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=$u();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$u();return this.indexManager.getCollectionParents(e,i).next(l=>oe.forEach(l,c=>{const u=function(f,h){return new So(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,An.newInvalidDocument(d)))});let l=$u();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&nd(d.mutation,u,ur.empty(),Xt.now()),c0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:bs(s.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:WB(s.bundledQuery),readTime:bs(s.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.overlays=new Pt(Se.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return oe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const s=Ba(),i=n.length+1,o=new Se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ba(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ba(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return oe.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NB(n,r));let i=this.Ir.get(n);i===void 0&&(i=ze(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Tr=new mn(en.Er),this.dr=new mn(en.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new en(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Se(new mt([])),r=new en(n,e),s=new en(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new mt([])),r=new en(n,e),s=new en(n,e+1);let i=ze();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new en(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||Ze(e.wr,n.wr)}static Ar(e,n){return Ze(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mn(en.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _B(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new en(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return oe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),oe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ze);return n.forEach(s=>{const i=new en(s,0),o=new en(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const o=new en(new Se(i),0);let l=new mn(Ze);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},o),oe.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,s=>{const i=new en(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new en(n,0),s=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.Mr=e,this.docs=function(){return new Pt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ai();const o=n.path,l=new Se(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U8(F8(d),r)<=0||(s.has(d.key)||c0(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return oe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Pe()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s9(this)}getSize(e){return oe.resolve(this.size)}}class s9 extends YB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.persistence=e,this.Nr=new Pc(n=>g_(n),x_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new E_,this.targetCount=0,this.kr=Gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),oe.waitFor(i).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),oe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new h_(0),this.Kr=!1,this.Kr=!0,this.$r=new t9,this.referenceDelegate=e(this),this.Ur=new i9(this),this.indexManager=new KB,this.remoteDocumentCache=function(s){return new r9(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new HB(n),this.Gr=new ZB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new n9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new o9(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class o9 extends B8{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Jr=new E_,this.Yr=null}static Zr(e){return new T_(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const s=Se.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ze(),s=ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new A_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uV()?8:q8(In())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new l9;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(vu()<=He.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(vu()<=He.DEBUG&&Ne("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(vu()<=He.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):oe.resolve())}Yi(e,n){if(XT(n))return oe.resolve(null);let r=vs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hm(n,null,"F"),r=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ze(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,hm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return XT(n)||s.isEqual(Oe.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?oe.resolve(null):(vu()<=He.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qo(n)),this.rs(e,o,n,$8(s,-1)).next(l=>l))})}ts(e,n){let r=new mn(p4(e));return n.forEach((s,i)=>{c0(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return vu()<=He.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",qo(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Pt(Ze),this._s=new Pc(i=>g_(i),x_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function d9(t,e,n,r){return new u9(t,e,n,r)}async function O4(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ze();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function f9(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let x=oe.resolve();return h.forEach(b=>{x=x.next(()=>d.getEntry(c,b)).next(w=>{const y=u.docVersions.get(b);at(y!==null),w.version.compareTo(y)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ze();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function D4(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h9(t,e){const n=De(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let x=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),s=s.insert(f,x),function(w,y,v){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(i,x))});let c=ai(),u=ze();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(p9(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Oe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return oe.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function p9(t,e,n){let r=ze(),s=ze();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ai();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ne("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function m9(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g9(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,oe.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function fb(t,e,n){const r=De(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Uf(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function l2(t,e,n){const r=De(t);let s=Oe.min(),i=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=De(c),h=f._s.get(d);return h!==void 0?oe.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,vs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Oe.min(),n?i:ze())).next(l=>(x9(r,oB(e),l),{documents:l,Ts:i})))}function x9(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class c2{constructor(){this.activeTargetIds=hB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y9{constructor(){this.so=new c2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new c2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function xy(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class _9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=xy(),c=this.xo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(d=>(Ne("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ul("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=b9[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=xy();return new Promise((o,l)=>{const c=new XM;c.setWithCredentials(!0),c.listenOnce(QM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ep.NO_ERROR:const d=c.getResponseJson();Ne(Nn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Ep.TIMEOUT:Ne(Nn,`RPC '${e}' ${i} timed out`),l(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const f=c.getStatus();if(Ne(Nn,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const b=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(v)>=0?v:se.UNKNOWN}(x.status);l(new ge(b,x.message))}else l(new ge(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{Ne(Nn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ne(Nn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=xy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=t4(),l=e4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ne(Nn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const b=new w9({Io:y=>{x?Ne(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(h||(Ne(Nn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),Ne(Nn,`RPC '${e}' stream ${s} sending:`,y),f.send(y))},To:()=>f.close()}),w=(y,v,_)=>{y.listen(v,N=>{try{_(N)}catch(C){setTimeout(()=>{throw C},0)}})};return w(f,Lu.EventType.OPEN,()=>{x||(Ne(Nn,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),w(f,Lu.EventType.CLOSE,()=>{x||(x=!0,Ne(Nn,`RPC '${e}' stream ${s} transport closed`),b.So())}),w(f,Lu.EventType.ERROR,y=>{x||(x=!0,Ul(Nn,`RPC '${e}' stream ${s} transport errored:`,y),b.So(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),w(f,Lu.EventType.MESSAGE,y=>{var v;if(!x){const _=y.data[0];at(!!_);const N=_,C=N.error||((v=N[0])===null||v===void 0?void 0:v.error);if(C){Ne(Nn,`RPC '${e}' stream ${s} received error:`,C);const E=C.status;let A=function(T){const R=Ut[T];if(R!==void 0)return E4(R)}(E),S=C.message;A===void 0&&(A=se.INTERNAL,S="Unknown error status: "+E+" with message "+C.message),x=!0,b.So(new ge(A,S)),f.close()}else Ne(Nn,`RPC '${e}' stream ${s} received:`,_),b.bo(_)}}),w(l,ZM.STAT_EVENT,y=>{y.stat===nb.PROXY?Ne(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===nb.NOPROXY&&Ne(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return new IB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new L4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ge(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N9 extends $4{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?bs(o.readTime):Oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=db(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=ab(c)?{documents:$B(i,c)}:{query:FB(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=k4(i,o.resumeToken);const u=lb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=gm(i,o.snapshotVersion.toTimestamp());const u=lb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=VB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=db(this.serializer),n.removeTarget=e,this.a_(n)}}class S9 extends $4{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=LB(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=db(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,cb(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(se.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,cb(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class T9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(n),this.D_=!1):Ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Eo(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=De(c);u.L_.add(4),await qf(u),u.q_.set("Unknown"),u.L_.delete(4),await p0(u)}(this))})}),this.q_=new T9(r,s)}}async function p0(t){if(Eo(t))for(const e of t.B_)await e(!0)}async function qf(t){for(const e of t.B_)await e(!1)}function F4(t,e){const n=De(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P_(n)?j_(n):Ic(n).r_()&&C_(n,e))}function k_(t,e){const n=De(t),r=Ic(n);n.N_.delete(e),r.r_()&&U4(n,e),n.N_.size===0&&(r.r_()?r.o_():Eo(n)&&n.q_.set("Unknown"))}function C_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).A_(e)}function U4(t,e){t.Q_.xe(e),Ic(t).R_(e)}function j_(t){t.Q_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.q_.v_()}function P_(t){return Eo(t)&&!Ic(t).n_()&&t.N_.size>0}function Eo(t){return De(t).L_.size===0}function V4(t){t.Q_=void 0}async function k9(t){t.q_.set("Online")}async function C9(t){t.N_.forEach((e,n)=>{C_(t,e)})}async function j9(t,e){V4(t),P_(t)?(t.q_.M_(e),j_(t)):t.q_.set("Unknown")}async function P9(t,e,n){if(t.q_.set("Online"),e instanceof A4&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(t,r)}else if(e instanceof kp?t.Q_.Ke(e):e instanceof T4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await D4(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),U4(i,c);const f=new Vi(d.target,c,u,d.sequenceNumber);C_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await xm(t,r)}}async function xm(t,e,n){if(!Uf(e))throw e;t.L_.add(1),await qf(t),t.q_.set("Offline"),n||(n=()=>D4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await p0(t)})}function B4(t,e){return e().catch(n=>xm(t,n,e))}async function m0(t){const e=De(t),n=la(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I9(e);)try{const s=await m9(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,R9(e,s)}catch(s){await xm(e,s)}q4(e)&&z4(e)}function I9(t){return Eo(t)&&t.O_.length<10}function R9(t,e){t.O_.push(e);const n=la(t);n.r_()&&n.V_&&n.m_(e.mutations)}function q4(t){return Eo(t)&&!la(t).n_()&&t.O_.length>0}function z4(t){la(t).start()}async function M9(t){la(t).p_()}async function O9(t){const e=la(t);for(const n of t.O_)e.m_(n.mutations)}async function D9(t,e,n){const r=t.O_.shift(),s=__.from(r,e,n);await B4(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await m0(t)}async function L9(t,e){e&&la(t).V_&&await async function(r,s){if(function(o){return EB(o)&&o!==se.ABORTED}(s.code)){const i=r.O_.shift();la(r).s_(),await B4(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await m0(r)}}(t,e),q4(t)&&z4(t)}async function d2(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Eo(n);n.L_.add(3),await qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await p0(n)}async function $9(t,e){const n=De(t);e?(n.L_.delete(2),await p0(n)):e||(n.L_.add(2),await qf(n),n.q_.set("Unknown"))}function Ic(t){return t.K_||(t.K_=function(n,r,s){const i=De(n);return i.w_(),new N9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:k9.bind(null,t),Ro:C9.bind(null,t),mo:j9.bind(null,t),d_:P9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),P_(t)?j_(t):t.q_.set("Unknown")):(await t.K_.stop(),V4(t))})),t.K_}function la(t){return t.U_||(t.U_=function(n,r,s){const i=De(n);return i.w_(),new S9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:M9.bind(null,t),mo:L9.bind(null,t),f_:O9.bind(null,t),g_:D9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await m0(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new I_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Uf(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=$u(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.W_=new Pt(Se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Hl(e,n,wl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class U9{constructor(){this.queries=h2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=De(n),i=s.queries;s.queries=h2(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function h2(){return new Pc(t=>h4(t),l0)}async function G4(t,e){const n=De(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new F9,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=R_(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&M_(n)}async function H4(t,e){const n=De(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V9(t,e){const n=De(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&M_(n)}function B9(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function M_(t){t.Y_.forEach(e=>{e.next()})}var hb,p2;(p2=hb||(hb={})).ea="default",p2.Cache="cache";class W4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.key=e}}class J4{constructor(e){this.key=e}}class q9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=p4(e),this.Ra=new wl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new f2,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),x=c0(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let y=!1;h&&x?h.data.isEqual(x.data)?b!==w&&(r.track({type:3,doc:x}),y=!0):this.ga(h,x)||(r.track({type:2,doc:x}),y=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),y=!0):h&&!x&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(l=!0)),y&&(x?(o=o.add(x),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,b){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return w(x)-w(b)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Hl(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new J4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new K4(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G9{constructor(e){this.key=e,this.va=!1}}class H9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Pc(l=>h4(l),l0),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(Se.comparator),this.Na=new Map,this.La=new E_,this.Ba={},this.ka=new Map,this.qa=Gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W9(t,e,n=!0){const r=tO(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Y4(r,e,n,!0),s}async function K9(t,e){const n=tO(t);await Y4(n,e,!0,!1)}async function Y4(t,e,n,r){const s=await g9(t.localStore,vs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await J9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&F4(t.remoteStore,s),l}async function J9(t,e,n,r,s){t.Ka=(f,h,x)=>async function(w,y,v,_){let N=y.view.ma(v);N.ns&&(N=await l2(w.localStore,y.query,!1).then(({documents:S})=>y.view.ma(S,N)));const C=_&&_.targetChanges.get(y.targetId),E=_&&_.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(N,w.isPrimaryClient,C,E);return g2(w,y.targetId,A.wa),A.snapshot}(t,f,h,x);const i=await l2(t.localStore,e,!0),o=new q9(e,i.Ts),l=o.ma(i.documents),c=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);g2(t,n,u.wa);const d=new z9(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Y9(t,e,n){const r=De(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!l0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fb(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&k_(r.remoteStore,s.targetId),pb(r,s.targetId)}).catch(Ff)):(pb(r,s.targetId),await fb(r.localStore,s.targetId,!0))}async function X9(t,e){const n=De(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k_(n.remoteStore,r.targetId))}async function Q9(t,e,n){const r=iq(t);try{const s=await function(o,l){const c=De(o),u=Xt.now(),d=l.reduce((x,b)=>x.add(b.key),ze());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=ai(),w=ze();return c.cs.getEntries(x,d).next(y=>{b=y,b.forEach((v,_)=>{_.isValidDocument()||(w=w.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(y=>{f=y;const v=[];for(const _ of l){const N=bB(_,f.get(_.key).overlayedDocument);N!=null&&v.push(new xa(_.key,N,a4(N.value.mapValue),kr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,v,l)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(x,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:g4(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Pt(Ze)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await zf(r,s.changes),await m0(r.remoteStore)}catch(s){const i=R_(s,"Failed to persist write");n.reject(i)}}async function X4(t,e){const n=De(t);try{const r=await h9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?at(o.va):s.removedDocuments.size>0&&(at(o.va),o.va=!1))}),await zf(n,r,e)}catch(r){await Ff(r)}}function m2(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=De(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&M_(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z9(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Pt(Se.comparator);o=o.insert(i,An.newNoDocument(i,Oe.min()));const l=ze().add(i),c=new f0(Oe.min(),new Map,new Pt(Ze),o,l);await X4(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),O_(r)}else await fb(r.localStore,e,!1).then(()=>pb(r,e,n)).catch(Ff)}async function eq(t,e){const n=De(t),r=e.batch.batchId;try{const s=await f9(n.localStore,e);Z4(n,r,null),Q4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zf(n,s)}catch(s){await Ff(s)}}async function tq(t,e,n){const r=De(t);try{const s=await function(o,l){const c=De(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(at(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);Z4(r,e,n),Q4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zf(r,s)}catch(s){await Ff(s)}}function Q4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Z4(t,e,n){const r=De(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function pb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eO(t,r)})}function eO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(k_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),O_(t))}function g2(t,e,n){for(const r of n)r instanceof K4?(t.La.addReference(r.key,e),nq(t,r)):r instanceof J4?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eO(t,r.key)):Pe()}function nq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),O_(t))}function O_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(mt.fromString(e)),r=t.qa.next();t.Na.set(r,new G9(n)),t.Oa=t.Oa.insert(n,r),F4(t.remoteStore,new Vi(vs(y_(n.path)),r,"TargetPurposeLimboResolution",h_.oe))}}async function zf(t,e,n){const r=De(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=A_.Wi(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const d=De(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(u,h=>oe.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>oe.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!Uf(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),b=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(h,w)}}}(r.localStore,i))}async function rq(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await O4(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new ge(se.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zf(n,r.hs)}}function sq(t,e){const n=De(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let s=ze();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function tO(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z9.bind(null,e),e.Ca.d_=V9.bind(null,e.eventManager),e.Ca.$a=B9.bind(null,e.eventManager),e}function iq(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tq.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return d9(this.persistence,new c9,e.initialUser,this.serializer)}Ga(e){return new a9(T_.Zr,this.serializer)}Wa(e){return new y9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class mb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rq.bind(null,this.syncEngine),await $9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U9}()}createDatastore(e){const n=h0(e.databaseInfo.databaseId),r=function(i){return new _9(i)}(e.databaseInfo);return function(i,o,l,c){return new E9(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new A9(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>m2(this.syncEngine,n,0),function(){return u2.D()?new u2:new v9}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new H9(s,i,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=De(s);Ne("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await qf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mb.provider={build:()=>new mb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=r4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=R_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await O4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oq(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d2(e.remoteStore,s)),t._onlineComponents=e}async function oq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new ym)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await vy(t,new ym);return t._offlineComponents}async function rO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await x2(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await x2(t,new mb))),t._onlineComponents}function lq(t){return rO(t).then(e=>e.syncEngine)}async function gb(t){const e=await rO(t),n=e.eventManager;return n.onListen=W9.bind(null,e.syncEngine),n.onUnlisten=Y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X9.bind(null,e.syncEngine),n}function cq(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new nO({next:h=>{d.Za(),o.enqueueAndForget(()=>H4(i,f)),h.fromCache&&c.source==="server"?u.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new W4(l,d,{includeMetadataChanges:!0,_a:!0});return G4(i,f)}(await gb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uq(t,e,n,r){if(e===!0&&r===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v2(t){if(!Se.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b2(t){if(Se.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g0(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dq(t,e){if(e<=0)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C8;switch(r.type){case"firstParty":return new R8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y2.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),y2.delete(n),r.terminate())}(this),Promise.resolve()}}function fq(t,e,n,r={}){var s;const i=(t=Cr(t,x0))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=En.MOCK_USER;else{l=rV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new En(u)}t._authCredentials=new j8(new n4(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class na extends js{constructor(e,n,r){super(e,n,y_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Se(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function st(t,e,...n){if(t=xn(t),iO("collection","path",e),t instanceof x0){const r=mt.fromString(e,...n);return b2(r),new na(t,null,r)}{if(!(t instanceof Vn||t instanceof na))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return b2(r),new na(t.firestore,null,r)}}function St(t,e,...n){if(t=xn(t),arguments.length===1&&(e=r4.newId()),iO("doc","path",e),t instanceof x0){const r=mt.fromString(e,...n);return v2(r),new Vn(t,null,new Se(r))}{if(!(t instanceof Vn||t instanceof na))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return v2(r),new Vn(t.firestore,t instanceof na?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new L4(this,"async_queue_retry"),this.Vu=()=>{const r=yy();r&&Ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Uf(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ii("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=I_.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function N2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ca extends x0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _2(e),this._firestoreClient=void 0,await e}}}function hq(t,e){const n=typeof t=="object"?t:WM(),r=typeof t=="string"?t:"(default)",s=d_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=tV("firestore");i&&fq(s,...i)}return s}function D_(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pq(t),t._firestoreClient}function pq(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new H8(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new aq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(yn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=/^__.*__$/;class gq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}class aO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class U_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(oO(this.Cu)&&mq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||h0(e)}Qu(e,n,r,s=!1){return new U_({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=h0(t._databaseId);return new xq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lO(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);V_("Data must be an object, but it was:",o,r);const l=uO(r,o);let c,u;if(i.merge)c=new ur(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=xb(e,f,n);if(!o.contains(h))throw new ge(se.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fO(d,h)||d.push(h)}c=new ur(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new gq(new Xn(l),c,u)}class v0 extends L_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v0}}function yq(t,e,n,r){const s=t.Qu(1,e,n);V_("Data must be an object, but it was:",s,r);const i=[],o=Xn.empty();No(r,(c,u)=>{const d=B_(e,c,n);u=xn(u);const f=s.Nu(d);if(u instanceof v0)i.push(d);else{const h=Hf(u,f);h!=null&&(i.push(d),o.set(d,h))}});const l=new ur(i);return new aO(o,l,s.fieldTransforms)}function vq(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[xb(e,r,n)],c=[s];if(i.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(xb(e,i[h])),c.push(i[h+1]);const u=[],d=Xn.empty();for(let h=l.length-1;h>=0;--h)if(!fO(u,l[h])){const x=l[h];let b=c[h];b=xn(b);const w=o.Nu(x);if(b instanceof v0)u.push(x);else{const y=Hf(b,w);y!=null&&(u.push(x),d.set(x,y))}}const f=new ur(u);return new aO(d,f,o.fieldTransforms)}function cO(t,e,n,r=!1){return Hf(n,t.Qu(r?4:3,e))}function Hf(t,e){if(dO(t=xn(t)))return V_("Unsupported field value:",e,t),uO(t,e);if(t instanceof L_)return function(r,s){if(!oO(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Hf(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xt.fromDate(r);return{timestampValue:gm(s.serializer,i)}}if(r instanceof Xt){const i=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gm(s.serializer,i)}}if(r instanceof $_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:k4(s.serializer,r._byteString)};if(r instanceof Vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:S_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof F_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return b_(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${g0(r)}`)}(t,e)}function uO(t,e){const n={};return s4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,s)=>{const i=Hf(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof $_||t instanceof Wl||t instanceof Vn||t instanceof L_||t instanceof F_)}function V_(t,e,n){if(!dO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=g0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xb(t,e,n){if((e=xn(e))instanceof y0)return e._internalPath;if(typeof e=="string")return B_(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const bq=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(bq)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new y0(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ge(se.INVALID_ARGUMENT,l+t+c)}function fO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wq extends q_{data(){return super.data()}}function b0(t,e){return typeof e=="string"?B_(t,e):e instanceof y0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z_{}class w0 extends z_{}function rd(t,e,...n){let r=[];e instanceof z_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof G_).length,l=i.filter(c=>c instanceof _0).length;if(o>1||o>0&&l>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _0 extends w0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _0(e,n,r)}_apply(e){const n=this._parse(e);return pO(e._query,n),new js(e.firestore,e.converter,ob(e._query,n))}_parse(e){const n=Gf(e.firestore);return function(i,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){E2(f,d);const x=[];for(const b of f)x.push(S2(c,i,b));h={arrayValue:{values:x}}}else h=S2(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||E2(f,d),h=cO(l,o,f,d==="in"||d==="not-in");return qt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function by(t,e,n){const r=e,s=b0("where",t);return _0._create(s,r,n)}class G_ extends z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)pO(o,c),o=ob(o,c)}(e._query,n),new js(e.firestore,e.converter,ob(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H_ extends w0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ld(i,o)}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new So(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function _q(t,e="asc"){const n=e,r=b0("orderBy",t);return H_._create(r,n)}class W_ extends w0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new W_(e,n,r)}_apply(e){return new js(e.firestore,e.converter,hm(e._query,this._limit,this._limitType))}}function Nq(t){return dq("limit",t),W_._create("limit",t,"F")}class K_ extends w0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new K_(e,n,r)}_apply(e){const n=Eq(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,function(s,i){return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function Sq(...t){return K_._create("startAfter",t,!1)}function Eq(t,e,n,r){if(n[0]=xn(n[0]),n[0]instanceof q_)return function(i,o,l,c,u){if(!c)throw new ge(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of bl(i))if(f.field.isKeyField())d.push(fm(o,c.key));else{const h=c.data.field(f.field);if(o0(h))throw new ge(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const x=f.field.canonicalString();throw new ge(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(h)}return new zl(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Gf(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new ge(se.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let b=0;b<d.length;b++){const w=d[b];if(h[b].field.isKeyField()){if(typeof w!="string")throw new ge(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!v_(o)&&w.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const y=o.path.child(mt.fromString(w));if(!Se.isDocumentKey(y))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new Se(y);x.push(fm(l,v))}else{const y=cO(c,u,w);x.push(y)}}return new zl(x,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function S2(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v_(e)&&n.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!Se.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fm(t,new Se(r))}if(n instanceof Vn)return fm(t,n._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g0(n)}.`)}function E2(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pO(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tq{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$t(o.doubleValue));return new F_(i)}convertGeoPoint(e){return new $_($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=p_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);at(M4(r));const s=new Od(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||ii(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gO extends q_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cp extends gO{data(e={}){return super.data(e)}}class xO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cp(this._firestore,this._userDataWriter,r.key,r,new Uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Cp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Uu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Cp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Uu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Aq(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Aq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class J_ extends Tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function sd(t){t=Cr(t,js);const e=Cr(t.firestore,ca),n=D_(e),r=new J_(e);return hO(t._query),cq(n,t._query).then(s=>new xO(e,r,t,s))}function kq(t,e,n){t=Cr(t,Vn);const r=Cr(t.firestore,ca),s=mO(t.converter,e);return N0(r,[lO(Gf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kr.none())])}function zr(t,e,n,...r){t=Cr(t,Vn);const s=Cr(t.firestore,ca),i=Gf(s);let o;return o=typeof(e=xn(e))=="string"||e instanceof y0?vq(i,"updateDoc",t._key,e,n,r):yq(i,"updateDoc",t._key,e),N0(s,[o.toMutation(t._key,kr.exists(!0))])}function yr(t){return N0(Cr(t.firestore,ca),[new w_(t._key,kr.none())])}function Wn(t,e){const n=Cr(t.firestore,ca),r=St(t),s=mO(t.converter,e);return N0(n,[lO(Gf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function fs(t,...e){var n,r,s;t=xn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||N2(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N2(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof Vn)u=Cr(t.firestore,ca),d=y_(t._key.path),c={next:f=>{e[o]&&e[o](Cq(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Cr(t,js);u=Cr(f.firestore,ca),d=f._query;const h=new J_(u);c={next:x=>{e[o]&&e[o](new xO(u,h,f,x))},error:e[o+1],complete:e[o+2]},hO(t._query)}return function(h,x,b,w){const y=new nO(w),v=new W4(x,y,b);return h.asyncQueue.enqueueAndForget(async()=>G4(await gb(h),v)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>H4(await gb(h),v))}}(D_(u),d,l,c)}function N0(t,e){return function(r,s){const i=new ta;return r.asyncQueue.enqueueAndForget(async()=>Q9(await lq(r),s,i)),i.promise}(D_(t),e)}function Cq(t,e,n){const r=n.docs.get(e._key),s=new J_(t);return new gO(t,s,e._key,r,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){jc=s})(Cc),Fl(new lo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ca(new P8(r.getProvider("auth-internal")),new O8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ea(VT,"4.7.3",e),ea(VT,"4.7.3","esm2017")})();function Y_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jq=yO,vO=new Lf("auth","Firebase",yO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new c_("@firebase/auth");function Pq(t,...e){bm.logLevel<=He.WARN&&bm.warn(`Auth (${Cc}): ${t}`,...e)}function jp(t,...e){bm.logLevel<=He.ERROR&&bm.error(`Auth (${Cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw X_(t,...e)}function ws(t,...e){return X_(t,...e)}function bO(t,e,n){const r=Object.assign(Object.assign({},jq()),{[e]:n});return new Lf("auth","Firebase",r).create(e,{appName:t.name})}function Qa(t){return bO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vO.create(t,...e)}function je(t,e,...n){if(!t)throw X_(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jp(e),new Error(e)}function li(t,e){t||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Iq(){return T2()==="http:"||T2()==="https:"}function T2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iq()||oV()||"connection"in navigator)?navigator.onLine:!0}function Mq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=sV()||lV()}get(){return Rq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=new Wf(3e4,6e4);function Z_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rc(t,e,n,r,s={}){return _O(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=$f(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return aV()||(u.referrerPolicy="no-referrer"),wO.fetch()(NO(t,t.config.apiHost,n,l),u)})}async function _O(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oq),e);try{const s=new $q(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Gh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Gh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bO(t,d,u);oi(t,d)}}catch(s){if(s instanceof mi)throw s;oi(t,"network-request-failed",{message:String(s)})}}async function Lq(t,e,n,r,s={}){const i=await Rc(t,e,n,r,s);return"mfaPendingCredential"in i&&oi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function NO(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Q_(t.config,s):`${t.config.apiScheme}://${s}`}class $q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),Dq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ws(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e){return Rc(t,"POST","/v1/accounts:delete",e)}async function SO(t,e){return Rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uq(t,e=!1){const n=xn(t),r=await n.getIdToken(e),s=eN(r);je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:id(wy(s.auth_time)),issuedAtTime:id(wy(s.iat)),expirationTime:id(wy(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wy(t){return Number(t)*1e3}function eN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const s=UM(n);return s?JSON.parse(s):(jp("Failed to decode base64 JWT payload"),null)}catch(s){return jp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function A2(t){const e=eN(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&Vq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ud(t,SO(n,{idToken:r}));je(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?EO(i.providerUserInfo):[],l=zq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new vb(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function qq(t){const e=xn(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function EO(t){return t.map(e=>{var{providerId:n}=e,r=Y_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e){const n=await _O(t,{},async()=>{const r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=NO(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",wO.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hq(t,e){return Rc(t,"POST","/v2/accounts:revokeToken",Z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=A2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Gq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _l;return r&&(je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(je(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(je(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Y_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ud(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uq(this,e)}reload(){return qq(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Ud(this,Fq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:C,isAnonymous:E,providerData:A,stsTokenManager:S}=n;je(N&&S,e,"internal-error");const j=_l.fromJSON(this.name,S);je(typeof N=="string",e,"internal-error"),Ai(f,e.name),Ai(h,e.name),je(typeof C=="boolean",e,"internal-error"),je(typeof E=="boolean",e,"internal-error"),Ai(x,e.name),Ai(b,e.name),Ai(w,e.name),Ai(y,e.name),Ai(v,e.name),Ai(_,e.name);const T=new qs({uid:N,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:E,photoURL:b,phoneNumber:x,tenantId:w,stsTokenManager:j,createdAt:v,lastLoginAt:_});return A&&Array.isArray(A)&&(T.providerData=A.map(R=>Object.assign({},R))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new _l;s.updateFromServerResponse(n);const i=new qs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?EO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new _l;l.updateFromIdToken(r);const c=new qs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new vb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;function zs(t){li(t instanceof Function,"Expected a class definition");let e=k2.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TO.type="NONE";const C2=TO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(zs(C2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||zs(C2);const o=Pp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=qs._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Nl(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Nl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IO(e))return"Blackberry";if(RO(e))return"Webos";if(kO(e))return"Safari";if((e.includes("chrome/")||CO(e))&&!e.includes("edge/"))return"Chrome";if(PO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AO(t=In()){return/firefox\//i.test(t)}function kO(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CO(t=In()){return/crios\//i.test(t)}function jO(t=In()){return/iemobile/i.test(t)}function PO(t=In()){return/android/i.test(t)}function IO(t=In()){return/blackberry/i.test(t)}function RO(t=In()){return/webos/i.test(t)}function tN(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wq(t=In()){var e;return tN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kq(){return cV()&&document.documentMode===10}function MO(t=In()){return tN(t)||PO(t)||RO(t)||IO(t)||/windows phone/i.test(t)||jO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e=[]){let n;switch(t){case"Browser":n=j2(In());break;case"Worker":n=`${j2(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e={}){return Rc(t,"GET","/v2/passwordPolicy",Z_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=6;class Qq{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Xq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P2(this),this.idTokenSubscription=new P2(this),this.beforeStateQueue=new Jq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await SO(this,{idToken:e}),r=await qs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ui(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(Qa(this));const n=e?xn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yq(this),n=new Qq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nN(t){return xn(t)}class P2{constructor(e){this.auth=e,this.observer=null,this.addObserver=xV(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ez(t){rN=t}function tz(t){return rN.loadJS(t)}function nz(){return rN.gapiScript}function rz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e){const n=d_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(cm(i,e??{}))return s;oi(s,"already-initialized")}return n.initialize({options:e})}function iz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function az(t,e,n){const r=nN(t);je(r._canInitEmulator,r,"emulator-config-failed"),je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=DO(e),{host:o,port:l}=oz(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),lz()}function DO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oz(t){const e=DO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:I2(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:I2(o)}}}function I2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return Lq(t,"POST","/v1/accounts:signInWithIdp",Z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="http://localhost";class ho extends LO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Y_(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ho(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:cz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends $O{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Kf{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Kf{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Kf{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qs._fromIdTokenResponse(e,r,s),o=R2(r);return new Kl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=R2(r);return new Kl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function R2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends mi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _m(e,n,r,s)}}function FO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,i,e,r):i})}async function uz(t,e,n=!1){const r=await Ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e,n=!1){const{auth:r}=t;if(Ui(r.app))return Promise.reject(Qa(r));const s="reauthenticate";try{const i=await Ud(t,FO(r,s,e,t),n);je(i.idToken,r,"internal-error");const o=eN(i.idToken);je(o,r,"internal-error");const{sub:l}=o;return je(t.uid===l,r,"user-mismatch"),Kl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e,n=!1){if(Ui(t.app))return Promise.reject(Qa(t));const r="signIn",s=await FO(t,r,e),i=await Kl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function hz(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function pz(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1e3,gz=10;class VO extends UO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Kq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VO.type="LOCAL";const xz=VO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends UO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BO.type="SESSION";const qO=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new S0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await yz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}S0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=sN("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function bz(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function wz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Nz(){return zO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebaseLocalStorageDb",Sz=1,Sm="firebaseLocalStorage",HO="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function E0(t,e){return t.transaction([Sm],e?"readwrite":"readonly").objectStore(Sm)}function Ez(){const t=indexedDB.deleteDatabase(GO);return new Jf(t).toPromise()}function bb(){const t=indexedDB.open(GO,Sz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sm,{keyPath:HO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sm)?e(r):(r.close(),await Ez(),e(await bb()))})})}async function M2(t,e,n){const r=E0(t,!0).put({[HO]:e,value:n});return new Jf(r).toPromise()}async function Tz(t,e){const n=E0(t,!1).get(e),r=await new Jf(n).toPromise();return r===void 0?null:r.value}function O2(t,e){const n=E0(t,!0).delete(e);return new Jf(n).toPromise()}const Az=800,kz=3;class WO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=S0._getInstance(Nz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wz(),!this.activeServiceWorker)return;this.sender=new vz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bb();return await M2(e,Nm,"1"),await O2(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Tz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=E0(s,!1).getAll();return new Jf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WO.type="LOCAL";const Cz=WO;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return e?zs(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends LO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pz(t){return fz(t.auth,new iN(t),t.bypassAuthState)}function Iz(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),dz(n,new iN(t),t.bypassAuthState)}async function Rz(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),uz(n,new iN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pz;case"linkViaPopup":case"linkViaRedirect":return Rz;case"reauthViaPopup":case"reauthViaRedirect":return Iz;default:oi(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Wf(2e3,1e4);class il extends KO{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=sN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="pendingRedirect",Ip=new Map;class Dz extends KO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ip.get(this.auth._key());if(!e){try{const r=await Lz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ip.set(this.auth._key(),e)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lz(t,e){const n=Uz(e),r=Fz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $z(t,e){Ip.set(t._key(),e)}function Fz(t){return zs(t._redirectPersistence)}function Uz(t){return Pp(Oz,t.config.apiKey,t.name)}async function Vz(t,e,n=!1){if(Ui(t.app))return Promise.reject(Qa(t));const r=nN(t),s=jz(r,e),o=await new Dz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=10*60*1e3;class qz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JO(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bz&&this.cachedEventUids.clear(),this.cachedEventUids.has(D2(e))}saveEventToCache(e){this.cachedEventUids.add(D2(e)),this.lastProcessedEventTime=Date.now()}}function D2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e={}){return Rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wz=/^https?/;async function Kz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gz(t);for(const n of e)try{if(Jz(n))return}catch{}oi(t,"unauthorized-domain")}function Jz(t){const e=yb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Wz.test(n))return!1;if(Hz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new Wf(3e4,6e4);function L2(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xz(t){return new Promise((e,n)=>{var r,s,i;function o(){L2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L2(),n(ws(t,"network-request-failed"))},timeout:Yz.get()})}if(!((s=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=_s().gapi)===null||i===void 0)&&i.load)o();else{const l=rz("iframefcb");return _s()[l]=()=>{gapi.load?o():n(ws(t,"network-request-failed"))},tz(`${nz()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Rp=null,e})}let Rp=null;function Qz(t){return Rp=Rp||Xz(t),Rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Wf(5e3,15e3),e7="__/auth/iframe",t7="emulator/auth/iframe",n7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s7(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q_(e,t7):`https://${t.config.authDomain}/${e7}`,r={apiKey:e.apiKey,appName:t.name,v:Cc},s=r7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$f(r).slice(1)}`}async function i7(t){const e=await Qz(t),n=_s().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:s7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ws(t,"network-request-failed"),l=_s().setTimeout(()=>{i(o)},Zz.get());function c(){_s().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o7=500,l7=600,c7="_blank",u7="http://localhost";class $2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d7(t,e,n,r=o7,s=l7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},a7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=In().toLowerCase();n&&(l=CO(u)?c7:n),AO(u)&&(e=e||u7,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,b])=>`${h}${x}=${b},`,"");if(Wq(u)&&l!=="_self")return f7(e||"",l),new $2(null);const f=window.open(e||"",l,d);je(f,t,"popup-blocked");try{f.focus()}catch{}return new $2(f)}function f7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="__/auth/handler",p7="emulator/auth/handler",m7=encodeURIComponent("fac");async function F2(t,e,n,r,s,i){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cc,eventId:s};if(e instanceof $O){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Kf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${m7}=${encodeURIComponent(c)}`:"";return`${g7(t)}?${$f(l).slice(1)}${u}`}function g7({config:t}){return t.emulator?Q_(t,p7):`https://${t.authDomain}/${h7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class x7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qO,this._completeRedirectFn=Vz,this._overrideRedirectResult=$z}async _openPopup(e,n,r,s){var i;li((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await F2(e,n,r,yb(),s);return d7(e,o,sN())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await F2(e,n,r,yb(),s);return bz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(li(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i7(e),r=new qz(e);return n.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_y,{type:_y},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[_y];o!==void 0&&n(!!o),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MO()||kO()||tN()}}const y7=x7;var U2="@firebase/auth",V2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w7(t){Fl(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OO(t)},u=new Zq(r,s,i,c);return iz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fl(new lo("auth-internal",e=>{const n=nN(e.getProvider("auth").getImmediate());return(r=>new v7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(U2,V2,b7(t)),ea(U2,V2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=5*60,N7=qM("authIdTokenMaxAge")||_7;let B2=null;const S7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N7)return;const s=n==null?void 0:n.token;B2!==s&&(B2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function E7(t=WM()){const e=d_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sz(t,{popupRedirectResolver:y7,persistence:[Cz,xz,qO]}),r=qM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=S7(i.toString());pz(n,o,()=>o(n.currentUser)),hz(n,l=>o(l))}}const s=VM("auth");return s&&az(n,`http://${s}`),n}function T7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ez({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ws("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",T7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w7("Browser");var $o={};const A7={apiKey:$o.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:$o.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:$o.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:$o.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:$o.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:$o.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},YO=HM(A7),Ae=hq(YO);E7(YO);new Fs;const XO=D.createContext(void 0),k7=({children:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState([]),[i,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[x,b]=D.useState([]),[w,y]=D.useState([]),[v,_]=D.useState([]),[N,C]=D.useState([]),[E,A]=D.useState([]),[S,j]=D.useState([]),[T,R]=D.useState([]),[P,O]=D.useState(!0),[I,H]=D.useState(null);D.useEffect(()=>{const le=[fs(st(Ae,"products"),be=>n(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"clients"),be=>s(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"suppliers"),be=>o(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"priceLists"),be=>d(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"branches"),be=>h(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"users"),be=>C(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"salesZones"),be=>_(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"sales"),be=>A(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"remitos"),be=>j(be.docs.map(Me=>({id:Me.id,...Me.data()})))),fs(st(Ae,"boxes"),be=>R(be.docs.map(Me=>({id:Me.id,...Me.data()}))))];return O(!1),()=>le.forEach(be=>be())},[]);const F=D.useCallback(async le=>{let be=rd(st(Ae,"products"),_q(le.orderByField||"name",le.orderDirection||"asc"));le.startAfterDoc&&(be=rd(be,Sq(le.startAfterDoc))),be=rd(be,Nq(le.limit));const Me=await sd(be);return{products:Me.docs.map(xr=>({id:xr.id,...xr.data()})),lastVisible:Me.docs[Me.docs.length-1],hasMore:Me.docs.length===le.limit}},[]),L=async le=>e.find(be=>be.id===le)||null,B=async le=>{await Wn(st(Ae,"products"),le)},z=async(le,be)=>{await zr(St(Ae,"products",le),be)},V=async le=>{await yr(St(Ae,"products",le))},U=async le=>(await Wn(st(Ae,"sales"),le)).id,X=async le=>E.find(be=>be.id===le)||null,Q=async le=>{await Wn(st(Ae,"clients"),le)},G=async(le,be)=>{await zr(St(Ae,"clients",le),be)},ie=async le=>{await yr(St(Ae,"clients",le))},W=async le=>{await Wn(st(Ae,"suppliers"),le)},fe=async(le,be)=>{await zr(St(Ae,"suppliers",le),be)},Ee=async le=>{await yr(St(Ae,"suppliers",le))},Ie=async le=>{await Wn(st(Ae,"priceLists"),le)},ce=async(le,be)=>{await zr(St(Ae,"priceLists",le),be)},ae=async le=>{await yr(St(Ae,"priceLists",le))},J=async le=>{await Wn(st(Ae,"branches"),le)},K=async(le,be)=>{await zr(St(Ae,"branches",le),be)},he=async le=>{await yr(St(Ae,"branches",le))},ve=async le=>{await Wn(st(Ae,"orders"),le)},Le=async(le,be)=>{await zr(St(Ae,"orders",le),be)},Z=async le=>{await yr(St(Ae,"orders",le))},me=async le=>{await Wn(st(Ae,"installmentPlans"),le)},Xe=async(le,be)=>{await zr(St(Ae,"installmentPlans",le),be)},At=async le=>{await yr(St(Ae,"installmentPlans",le))},Nt=async le=>{await Wn(st(Ae,"transactions"),le)},We=async le=>{await Wn(st(Ae,"users"),le)},Lt=async(le,be)=>{await zr(St(Ae,"users",le),be)},Gn=async le=>{await yr(St(Ae,"users",le))},te=async le=>{await Wn(st(Ae,"salesZones"),le)},ye=async(le,be)=>{await zr(St(Ae,"salesZones",le),be)},Ue=async le=>{await yr(St(Ae,"salesZones",le))},Be=async le=>(await Wn(st(Ae,"remitos"),le)).id,Hn=async(le,be)=>{await zr(St(Ae,"remitos",le),be)},gr=async le=>{await yr(St(Ae,"remitos",le))},Vr=async le=>S.find(be=>be.id===le)||null,Qc=async le=>{await Wn(st(Ae,"boxes"),le)},Na=async(le,be)=>{await zr(St(Ae,"boxes",le),be)},ih=async le=>{await yr(St(Ae,"boxes",le))},ah=async le=>{const be={};for(const Me of le){const us=await sd(st(Ae,Me));be[Me]=us.docs.map(xr=>({id:xr.id,...xr.data()}))}return be},Zc=async le=>{for(const[be,Me]of Object.entries(le)){await oh(be);for(const us of Me){const{id:xr,...Io}=us;xr?await kq(St(Ae,be,xr),Io):await Wn(st(Ae,be),Io)}}},oh=async le=>{const be=await sd(st(Ae,le));for(const Me of be.docs)await yr(Me.ref)},Tx=D.useMemo(()=>({products:e,clients:r,suppliers:i,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:w,users:N,loading:P,error:I,salesZones:v,sales:E,remitos:S,boxes:T,fetchProductsPaginatedAndFiltered:F,getProductById:L,addProduct:B,updateProduct:z,deleteProduct:V,addSale:U,getSaleById:X,addClient:Q,updateClient:G,deleteClient:ie,addSupplier:W,updateSupplier:fe,deleteSupplier:Ee,addPriceList:Ie,updatePriceList:ce,deletePriceList:ae,addBranch:J,updateBranch:K,deleteBranch:he,addOrder:ve,updateOrder:Le,deleteOrder:Z,addInstallmentPlan:me,updateInstallmentPlan:Xe,deleteInstallmentPlan:At,addTransaction:Nt,exportAllData:ah,importAllData:Zc,deleteAllDocumentsInCollection:oh,addUser:We,updateUser:Lt,deleteUser:Gn,addSalesZone:te,updateSalesZone:ye,deleteSalesZone:Ue,addRemito:Be,updateRemito:Hn,deleteRemito:gr,getRemitoById:Vr,addBox:Qc,updateBox:Na,deleteBox:ih}),[e,r,i,l,u,f,x,w,N,P,I,v,E,S,T]);return a.jsx(XO.Provider,{value:Tx,children:t})},Dt=()=>{const t=D.useContext(XO);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...C7,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${j7(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ne("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ne("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ne("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ne("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ne("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ne("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ne("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=ne("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ne("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=ne("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ne("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ne("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=ne("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ne("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ne("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ne("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ne("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=ne("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=ne("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=ne("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ne("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ne("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=ne("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ne("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ne("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),aG=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:s})=>{const[i,o]=D.useState(["Principal","Comercial","Administracin & Finanzas"]),[l,c]=D.useState(!1),[u,d]=D.useState(["sales","inventory","cashier"]);D.useEffect(()=>{const y=localStorage.getItem("ferrogest_shortcuts");if(y)try{d(JSON.parse(y))}catch(v){console.error("Error loading shortcuts",v)}},[]);const f=y=>{const v=u.includes(y)?u.filter(_=>_!==y):[...u,y];d(v),localStorage.setItem("ferrogest_shortcuts",JSON.stringify(v))},h=[{name:"Principal",icon:r5,items:[{id:"dashboard",label:"Dashboard",icon:s5}]},{name:"Comercial",icon:Em,items:[{id:"sales",label:"Ventas",icon:Em,color:"bg-orange-500"},{id:"remitos",label:"Remitos",icon:t5,color:"bg-blue-500"},{id:"quotes",label:"Cotizaciones",icon:Cm,color:"bg-purple-500"},{id:"orders",label:"Pedidos",icon:zd,color:"bg-indigo-500"},{id:"clients",label:"Clientes",icon:gi,color:"bg-emerald-500"},{id:"loyalty",label:"Fidelizacin",icon:Am,color:"bg-pink-500"},{id:"ecommerce",label:"E-Commerce",icon:po,color:"bg-sky-500"}]},{name:"Productos & Abastecimiento",icon:Bd,items:[{id:"inventory",label:"Inventario",icon:Bd,color:"bg-amber-600"},{id:"missing-items",label:"Faltantes",icon:oN,color:"bg-red-500"},{id:"stock-adjustment",label:"Ajuste de Stock",icon:ua,color:"bg-teal-500"},{id:"bulk-modification",label:"Modificacin Masiva",icon:lN,color:"bg-violet-500"},{id:"warehouse",label:"Depsito",icon:Mm,color:"bg-stone-500"},{id:"purchase-orders",label:"Pedidos Compra",icon:i5,color:"bg-cyan-600"},{id:"suppliers",label:"Proveedores",icon:Dr,color:"bg-orange-400"},{id:"prices",label:"Lista Precios",icon:Za,color:"bg-lime-600"},{id:"bulk-import",label:"Importar Datos",icon:Tm,color:"bg-slate-400"}]},{name:"Administracin & Finanzas",icon:da,items:[{id:"cashier",label:"Cajas y Pagos",icon:da,color:"bg-green-600"},{id:"purchases",label:"Compras & IA",icon:Gd,color:"bg-yellow-600"},{id:"balances",label:"Saldos y Deudas",icon:Ql,color:"bg-rose-500"},{id:"installments",label:"Cuotas Internas",icon:Zr,color:"bg-fuchsia-600"},{id:"finance",label:"Finanzas",icon:as,color:"bg-emerald-600"},{id:"reports",label:"Informes e IVA",icon:e5,color:"bg-blue-400"},{id:"users",label:"Personal y Accesos",icon:hN,color:"bg-indigo-400"}]}],x=h.flatMap(y=>y.items),b=x.filter(y=>u.includes(y.id)),w=y=>{o(v=>v.includes(y)?v.filter(_=>_!==y):[...v,y])};return!n||typeof n!="object"||!("name"in n)?a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 justify-center items-center",children:[a.jsx(Fe,{className:"w-8 h-8 animate-spin text-orange-500 mb-2"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Iniciando..."})]}):a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800 shrink-0 overflow-hidden",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n!=null&&n.logo&&(n!=null&&n.showLogoInSidebar)?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Bu,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:(n==null?void 0:n.name)||"FerroGest"})]})}),a.jsxs("div",{className:"px-4 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Accesos Rpidos"}),a.jsx("button",{onClick:()=>c(!0),className:"p-1 hover:bg-slate-800 rounded-md text-slate-500 hover:text-orange-500 transition-colors",children:a.jsx(sG,{className:"w-3.5 h-3.5"})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 px-2",children:[b.map(y=>a.jsx("button",{onClick:()=>e(y.id),className:`aspect-square flex items-center justify-center rounded-xl transition-all ${t===y.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/40 scale-105":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:y.label,children:a.jsx(y.icon,{className:"w-5 h-5"})},y.id)),a.jsx("button",{onClick:()=>c(!0),className:"aspect-square flex items-center justify-center rounded-xl bg-slate-800/20 border border-dashed border-slate-700 text-slate-600 hover:border-slate-500 hover:text-slate-400 transition-all",children:a.jsx(nt,{className:"w-4 h-4"})})]})]}),a.jsxs("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar overscroll-contain pb-10",children:[h.map(y=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>w(y.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(y.icon,{className:"w-4 h-4"}),y.name]}),a.jsx(qd,{className:`w-4 h-4 transition-transform ${i.includes(y.name)?"rotate-0":"-rotate-90"}`})]}),i.includes(y.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:y.items.map(v=>a.jsxs("button",{onClick:()=>e(v.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===v.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(v.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:v.label})]},v.id))})]},y.name)),a.jsxs("div",{className:"pt-4 border-t border-slate-800/50 mt-4 space-y-1",children:[a.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="settings"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(Js,{className:"w-5 h-5"}),a.jsx("span",{children:"Configuracin"})]}),a.jsxs("button",{onClick:()=>e("integrations"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t==="integrations"?"bg-slate-700 text-white":"text-slate-500 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(od,{className:"w-5 h-5"}),a.jsx("span",{children:"Integraciones"})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,className:"w-10 h-10 rounded-full border border-slate-700 bg-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(a5,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(eG,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Personalizar Accesos"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Selecciona tus herramientas favoritas"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(y=>a.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left ${u.includes(y.id)?"border-orange-500 bg-orange-50":"border-slate-100 bg-white hover:border-slate-200"}`,children:[a.jsx("div",{className:`p-3 rounded-xl ${u.includes(y.id)?"bg-orange-600 text-white":"bg-slate-100 text-slate-400"}`,children:a.jsx(y.icon,{className:"w-6 h-6"})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("p",{className:`font-black text-xs uppercase tracking-tight truncate ${u.includes(y.id)?"text-orange-900":"text-slate-600"}`,children:y.label})}),a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 ${u.includes(y.id)?"bg-orange-600 border-orange-600 text-white":"border-slate-200 text-transparent"}`,children:a.jsx(F7,{className:"w-3 h-3 stroke-[4px]"})})]},y.id))})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 italic",children:"Mximo recomendado: 8 accesos."}),a.jsx("button",{onClick:()=>c(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Listo"})]})]})})]})},oG=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>a.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center gap-2 overflow-x-auto no-scrollbar shadow-sm z-30",children:t.map(s=>{const i=qEe[s]||{label:s,icon:null},o=e===s,l=i.icon;return a.jsxs("div",{className:`group relative flex items-center gap-2 px-5 py-2.5 rounded-2xl cursor-pointer transition-all border-2 ${o?"bg-orange-50 border-orange-500 text-orange-600 shadow-md shadow-orange-500/10":"bg-slate-50 border-transparent text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,onClick:()=>n(s),children:[l&&a.jsx(l,{className:`w-4 h-4 ${o?"text-orange-600":"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-colors",children:i.label}),s!=="dashboard"&&a.jsx("button",{onClick:c=>{c.stopPropagation(),r(s)},className:`ml-1 p-0.5 rounded-md hover:bg-orange-200 hover:text-orange-800 transition-all ${o?"opacity-100 text-orange-400":"opacity-0 group-hover:opacity-100 text-slate-400"}`,children:a.jsx(Ge,{className:"w-3 h-3"})})]},s)})});function p5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=p5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=p5(t))&&(r&&(r+=" "),r+=e);return r}var lG=Array.isArray,rr=lG,cG=typeof Nh=="object"&&Nh&&Nh.Object===Object&&Nh,m5=cG,uG=m5,dG=typeof self=="object"&&self&&self.Object===Object&&self,fG=uG||dG||Function("return this")(),Ps=fG,hG=Ps,pG=hG.Symbol,Zf=pG,K2=Zf,g5=Object.prototype,mG=g5.hasOwnProperty,gG=g5.toString,wu=K2?K2.toStringTag:void 0;function xG(t){var e=mG.call(t,wu),n=t[wu];try{t[wu]=void 0;var r=!0}catch{}var s=gG.call(t);return r&&(e?t[wu]=n:delete t[wu]),s}var yG=xG,vG=Object.prototype,bG=vG.toString;function wG(t){return bG.call(t)}var _G=wG,J2=Zf,NG=yG,SG=_G,EG="[object Null]",TG="[object Undefined]",Y2=J2?J2.toStringTag:void 0;function AG(t){return t==null?t===void 0?TG:EG:Y2&&Y2 in Object(t)?NG(t):SG(t)}var xi=AG;function kG(t){return t!=null&&typeof t=="object"}var yi=kG,CG=xi,jG=yi,PG="[object Symbol]";function IG(t){return typeof t=="symbol"||jG(t)&&CG(t)==PG}var Oc=IG,RG=rr,MG=Oc,OG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DG=/^\w*$/;function LG(t,e){if(RG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||MG(t)?!0:DG.test(t)||!OG.test(t)||e!=null&&t in Object(e)}var pN=LG;function $G(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ya=$G;const Dc=ot(ya);var FG=xi,UG=ya,VG="[object AsyncFunction]",BG="[object Function]",qG="[object GeneratorFunction]",zG="[object Proxy]";function GG(t){if(!UG(t))return!1;var e=FG(t);return e==BG||e==qG||e==VG||e==zG}var mN=GG;const Ce=ot(mN);var HG=Ps,WG=HG["__core-js_shared__"],KG=WG,Ty=KG,X2=function(){var t=/[^.]+$/.exec(Ty&&Ty.keys&&Ty.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JG(t){return!!X2&&X2 in t}var YG=JG,XG=Function.prototype,QG=XG.toString;function ZG(t){if(t!=null){try{return QG.call(t)}catch{}try{return t+""}catch{}}return""}var x5=ZG,eH=mN,tH=YG,nH=ya,rH=x5,sH=/[\\^$.*+?()[\]{}|]/g,iH=/^\[object .+?Constructor\]$/,aH=Function.prototype,oH=Object.prototype,lH=aH.toString,cH=oH.hasOwnProperty,uH=RegExp("^"+lH.call(cH).replace(sH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dH(t){if(!nH(t)||tH(t))return!1;var e=eH(t)?uH:iH;return e.test(rH(t))}var fH=dH;function hH(t,e){return t==null?void 0:t[e]}var pH=hH,mH=fH,gH=pH;function xH(t,e){var n=gH(t,e);return mH(n)?n:void 0}var To=xH,yH=To,vH=yH(Object,"create"),A0=vH,Q2=A0;function bH(){this.__data__=Q2?Q2(null):{},this.size=0}var wH=bH;function _H(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NH=_H,SH=A0,EH="__lodash_hash_undefined__",TH=Object.prototype,AH=TH.hasOwnProperty;function kH(t){var e=this.__data__;if(SH){var n=e[t];return n===EH?void 0:n}return AH.call(e,t)?e[t]:void 0}var CH=kH,jH=A0,PH=Object.prototype,IH=PH.hasOwnProperty;function RH(t){var e=this.__data__;return jH?e[t]!==void 0:IH.call(e,t)}var MH=RH,OH=A0,DH="__lodash_hash_undefined__";function LH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OH&&e===void 0?DH:e,this}var $H=LH,FH=wH,UH=NH,VH=CH,BH=MH,qH=$H;function Lc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lc.prototype.clear=FH;Lc.prototype.delete=UH;Lc.prototype.get=VH;Lc.prototype.has=BH;Lc.prototype.set=qH;var zH=Lc;function GH(){this.__data__=[],this.size=0}var HH=GH;function WH(t,e){return t===e||t!==t&&e!==e}var gN=WH,KH=gN;function JH(t,e){for(var n=t.length;n--;)if(KH(t[n][0],e))return n;return-1}var k0=JH,YH=k0,XH=Array.prototype,QH=XH.splice;function ZH(t){var e=this.__data__,n=YH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():QH.call(e,n,1),--this.size,!0}var eW=ZH,tW=k0;function nW(t){var e=this.__data__,n=tW(e,t);return n<0?void 0:e[n][1]}var rW=nW,sW=k0;function iW(t){return sW(this.__data__,t)>-1}var aW=iW,oW=k0;function lW(t,e){var n=this.__data__,r=oW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cW=lW,uW=HH,dW=eW,fW=rW,hW=aW,pW=cW;function $c(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$c.prototype.clear=uW;$c.prototype.delete=dW;$c.prototype.get=fW;$c.prototype.has=hW;$c.prototype.set=pW;var C0=$c,mW=To,gW=Ps,xW=mW(gW,"Map"),xN=xW,Z2=zH,yW=C0,vW=xN;function bW(){this.size=0,this.__data__={hash:new Z2,map:new(vW||yW),string:new Z2}}var wW=bW;function _W(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var NW=_W,SW=NW;function EW(t,e){var n=t.__data__;return SW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var j0=EW,TW=j0;function AW(t){var e=TW(this,t).delete(t);return this.size-=e?1:0,e}var kW=AW,CW=j0;function jW(t){return CW(this,t).get(t)}var PW=jW,IW=j0;function RW(t){return IW(this,t).has(t)}var MW=RW,OW=j0;function DW(t,e){var n=OW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var LW=DW,$W=wW,FW=kW,UW=PW,VW=MW,BW=LW;function Fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fc.prototype.clear=$W;Fc.prototype.delete=FW;Fc.prototype.get=UW;Fc.prototype.has=VW;Fc.prototype.set=BW;var yN=Fc,y5=yN,qW="Expected a function";function vN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qW);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(vN.Cache||y5),n}vN.Cache=y5;var v5=vN;const zW=ot(v5);var GW=v5,HW=500;function WW(t){var e=GW(t,function(r){return n.size===HW&&n.clear(),r}),n=e.cache;return e}var KW=WW,JW=KW,YW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XW=/\\(\\)?/g,QW=JW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YW,function(n,r,s,i){e.push(s?i.replace(XW,"$1"):r||n)}),e}),ZW=QW;function eK(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var bN=eK,eA=Zf,tK=bN,nK=rr,rK=Oc,tA=eA?eA.prototype:void 0,nA=tA?tA.toString:void 0;function b5(t){if(typeof t=="string")return t;if(nK(t))return tK(t,b5)+"";if(rK(t))return nA?nA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sK=b5,iK=sK;function aK(t){return t==null?"":iK(t)}var w5=aK,oK=rr,lK=pN,cK=ZW,uK=w5;function dK(t,e){return oK(t)?t:lK(t,e)?[t]:cK(uK(t))}var _5=dK,fK=Oc;function hK(t){if(typeof t=="string"||fK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var P0=hK,pK=_5,mK=P0;function gK(t,e){e=pK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mK(e[n++])];return n&&n==r?t:void 0}var wN=gK,xK=wN;function yK(t,e,n){var r=t==null?void 0:xK(t,e);return r===void 0?n:r}var N5=yK;const fr=ot(N5);function vK(t){return t==null}var bK=vK;const $e=ot(bK);var wK=xi,_K=rr,NK=yi,SK="[object String]";function EK(t){return typeof t=="string"||!_K(t)&&NK(t)&&wK(t)==SK}var TK=EK;const mo=ot(TK);var S5={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N=Symbol.for("react.element"),NN=Symbol.for("react.portal"),I0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),AK=Symbol.for("react.server_context"),L0=Symbol.for("react.forward_ref"),$0=Symbol.for("react.suspense"),F0=Symbol.for("react.suspense_list"),U0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),kK=Symbol.for("react.offscreen"),E5;E5=Symbol.for("react.module.reference");function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _N:switch(t=t.type,t){case I0:case M0:case R0:case $0:case F0:return t;default:switch(t=t&&t.$$typeof,t){case AK:case D0:case L0:case V0:case U0:case O0:return t;default:return e}}case NN:return e}}}lt.ContextConsumer=D0;lt.ContextProvider=O0;lt.Element=_N;lt.ForwardRef=L0;lt.Fragment=I0;lt.Lazy=V0;lt.Memo=U0;lt.Portal=NN;lt.Profiler=M0;lt.StrictMode=R0;lt.Suspense=$0;lt.SuspenseList=F0;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(t){return Fr(t)===D0};lt.isContextProvider=function(t){return Fr(t)===O0};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_N};lt.isForwardRef=function(t){return Fr(t)===L0};lt.isFragment=function(t){return Fr(t)===I0};lt.isLazy=function(t){return Fr(t)===V0};lt.isMemo=function(t){return Fr(t)===U0};lt.isPortal=function(t){return Fr(t)===NN};lt.isProfiler=function(t){return Fr(t)===M0};lt.isStrictMode=function(t){return Fr(t)===R0};lt.isSuspense=function(t){return Fr(t)===$0};lt.isSuspenseList=function(t){return Fr(t)===F0};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===I0||t===M0||t===R0||t===$0||t===F0||t===kK||typeof t=="object"&&t!==null&&(t.$$typeof===V0||t.$$typeof===U0||t.$$typeof===O0||t.$$typeof===D0||t.$$typeof===L0||t.$$typeof===E5||t.getModuleId!==void 0)};lt.typeOf=Fr;S5.exports=lt;var CK=S5.exports,jK=xi,PK=yi,IK="[object Number]";function RK(t){return typeof t=="number"||PK(t)&&jK(t)==IK}var T5=RK;const MK=ot(T5);var OK=T5;function DK(t){return OK(t)&&t!=+t}var LK=DK;const Uc=ot(LK);var Ln=function(e){return e===0?0:e>0?1:-1},za=function(e){return mo(e)&&e.indexOf("%")===e.length-1},ue=function(e){return MK(e)&&!Uc(e)},$K=function(e){return $e(e)},Yt=function(e){return ue(e)||mo(e)},FK=0,Vc=function(e){var n=++FK;return"".concat(e||"").concat(n)},$n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!mo(e))return r;var i;if(za(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Uc(i)&&(i=r),s&&i>n&&(i=n),i},Li=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},UK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},Yn=function(e,n){return ue(e)&&ue(n)?function(r){return e+r*(n-e)}:function(){return n}};function Om(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var VK=function(e,n){return ue(e)&&ue(n)?e-n:mo(e)&&mo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var BK=["viewBox","children"],qK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rA=["points","pathLength"],Ay={svg:BK,polygon:rA,polyline:rA},SN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Dc(r))return null;var s={};return Object.keys(r).forEach(function(i){SN.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},zK=function(e,n,r){return function(s){return e(n,r,s),null}},go=function(e,n,r){if(!Dc(e)||Ab(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];SN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=zK(o,n,r))}),s},GK=["children"],HK=["children"];function sA(t,e){if(t==null)return{};var n=WK(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}var iA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},aA=null,ky=null,EN=function t(e){if(e===aA&&Array.isArray(ky))return ky;var n=[];return D.Children.forEach(e,function(r){$e(r)||(CK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ky=n,aA=e,n};function Pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return Xs(s)}):r=[Xs(e)],EN(t).forEach(function(s){var i=fr(s,"type.displayName")||fr(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function or(t,e){var n=Pr(t,e);return n&&n[0]}var oA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!ue(r)||r<=0||!ue(s)||s<=0)},KK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JK=function(e){return e&&e.type&&mo(e.type)&&KK.indexOf(e.type)>=0},YK=function(e){return e&&kb(e)==="object"&&"clipDot"in e},XK=function(e,n,r,s){var i,o=(i=Ay==null?void 0:Ay[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ce(e)&&(s&&o.includes(n)||qK.includes(n))||r&&SN.includes(n)},Te=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(D.isValidElement(e)&&(s=e.props),!Dc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;XK((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},Cb=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return lA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!lA(i,o))return!1}return!0},lA=function(e,n){if($e(e)&&$e(n))return!0;if(!$e(e)&&!$e(n)){var r=e.props||{},s=r.children,i=sA(r,GK),o=n.props||{},l=o.children,c=sA(o,HK);return s&&l?Tl(i,c)&&Cb(s,l):!s&&!l?Tl(i,c):!1}return!1},cA=function(e,n){var r=[],s={};return EN(e).forEach(function(i,o){if(JK(i))r.push(i);else if(i){var l=Xs(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);r.push(f),s[l]=!0}}}),r},QK=function(e){var n=e&&e.type;return n&&iA[n]?iA[n]:null},ZK=function(e,n){return EN(n).indexOf(e)},eJ=["children","width","height","viewBox","className","style","title","desc"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function tJ(t,e){if(t==null)return{};var n=nJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pb(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=tJ(t,eJ),d=s||{width:n,height:r,x:0,y:0},f=Ve("recharts-surface",i);return q.createElement("svg",jb({},Te(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var rJ=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function sJ(t,e){if(t==null)return{};var n=iJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Je=q.forwardRef(function(t,e){var n=t.children,r=t.className,s=sJ(t,rJ),i=Ve("recharts-layer",r);return q.createElement("g",Ib({className:i},Te(s,!0),{ref:e}),n)}),es=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function aJ(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var oJ=aJ,lJ=oJ;function cJ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lJ(t,e,n)}var uJ=cJ,dJ="\\ud800-\\udfff",fJ="\\u0300-\\u036f",hJ="\\ufe20-\\ufe2f",pJ="\\u20d0-\\u20ff",mJ=fJ+hJ+pJ,gJ="\\ufe0e\\ufe0f",xJ="\\u200d",yJ=RegExp("["+xJ+dJ+mJ+gJ+"]");function vJ(t){return yJ.test(t)}var A5=vJ;function bJ(t){return t.split("")}var wJ=bJ,k5="\\ud800-\\udfff",_J="\\u0300-\\u036f",NJ="\\ufe20-\\ufe2f",SJ="\\u20d0-\\u20ff",EJ=_J+NJ+SJ,TJ="\\ufe0e\\ufe0f",AJ="["+k5+"]",Rb="["+EJ+"]",Mb="\\ud83c[\\udffb-\\udfff]",kJ="(?:"+Rb+"|"+Mb+")",C5="[^"+k5+"]",j5="(?:\\ud83c[\\udde6-\\uddff]){2}",P5="[\\ud800-\\udbff][\\udc00-\\udfff]",CJ="\\u200d",I5=kJ+"?",R5="["+TJ+"]?",jJ="(?:"+CJ+"(?:"+[C5,j5,P5].join("|")+")"+R5+I5+")*",PJ=R5+I5+jJ,IJ="(?:"+[C5+Rb+"?",Rb,j5,P5,AJ].join("|")+")",RJ=RegExp(Mb+"(?="+Mb+")|"+IJ+PJ,"g");function MJ(t){return t.match(RJ)||[]}var OJ=MJ,DJ=wJ,LJ=A5,$J=OJ;function FJ(t){return LJ(t)?$J(t):DJ(t)}var UJ=FJ,VJ=uJ,BJ=A5,qJ=UJ,zJ=w5;function GJ(t){return function(e){e=zJ(e);var n=BJ(e)?qJ(e):void 0,r=n?n[0]:e.charAt(0),s=n?VJ(n,1).join(""):e.slice(1);return r[t]()+s}}var HJ=GJ,WJ=HJ,KJ=WJ("toUpperCase"),JJ=KJ;const B0=ot(JJ);function pt(t){return function(){return t}}const M5=Math.cos,Lm=Math.sin,ls=Math.sqrt,$m=Math.PI,q0=2*$m,Ob=Math.PI,Db=2*Ob,Ma=1e-6,YJ=Db-Ma;function O5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O5;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class QJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O5:XJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,u=s-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ma)if(!(Math.abs(f*c-u*d)>Ma)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,b=s-l,w=c*c+u*u,y=x*x+b*b,v=Math.sqrt(w),_=Math.sqrt(h),N=i*Math.tan((Ob-Math.acos((w+h-y)/(2*v*_)))/2),C=N/_,E=N/v;Math.abs(C-1)>Ma&&this._append`L${e+C*d},${n+C*f}`,this._append`A${i},${i},0,0,${+(f*x>d*b)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,s,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-d)>Ma)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Db+Db),h>YJ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ma&&this._append`A${r},${r},0,${+(h>=Ob)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function TN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new QJ(e)}function AN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function z0(t){return new D5(t)}function L5(t){return t[0]}function $5(t){return t[1]}function F5(t,e){var n=pt(!0),r=null,s=z0,i=null,o=TN(l);t=typeof t=="function"?t:t===void 0?L5:pt(t),e=typeof e=="function"?e:e===void 0?$5:pt(e);function l(c){var u,d=(c=AN(c)).length,f,h=!1,x;for(r==null&&(i=s(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:pt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:pt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:pt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function Hh(t,e,n){var r=null,s=pt(!0),i=null,o=z0,l=null,c=TN(u);t=typeof t=="function"?t:t===void 0?L5:pt(+t),e=typeof e=="function"?e:pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$5:pt(+n);function u(f){var h,x,b,w=(f=AN(f)).length,y,v=!1,_,N=new Array(w),C=new Array(w);for(i==null&&(l=o(_=c())),h=0;h<=w;++h){if(!(h<w&&s(y=f[h],h,f))===v)if(v=!v)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=x;--b)l.point(N[b],C[b]);l.lineEnd(),l.areaEnd()}v&&(N[h]=+t(y,h,f),C[h]=+e(y,h,f),l.point(r?+r(y,h,f):N[h],n?+n(y,h,f):C[h]))}if(_)return l=null,_+""||null}function d(){return F5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:pt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class U5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZJ(t){return new U5(t,!0)}function eY(t){return new U5(t,!1)}const kN={draw(t,e){const n=ls(e/$m);t.moveTo(n,0),t.arc(0,0,n,0,q0)}},tY={draw(t,e){const n=ls(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},V5=ls(1/3),nY=V5*2,rY={draw(t,e){const n=ls(e/nY),r=n*V5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sY={draw(t,e){const n=ls(e),r=-n/2;t.rect(r,r,n,n)}},iY=.8908130915292852,B5=Lm($m/10)/Lm(7*$m/10),aY=Lm(q0/10)*B5,oY=-M5(q0/10)*B5,lY={draw(t,e){const n=ls(e*iY),r=aY*n,s=oY*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const o=q0*i/5,l=M5(o),c=Lm(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},Cy=ls(3),cY={draw(t,e){const n=-ls(e/(Cy*3));t.moveTo(0,n*2),t.lineTo(-Cy*n,-n),t.lineTo(Cy*n,-n),t.closePath()}},vr=-.5,br=ls(3)/2,Lb=1/ls(12),uY=(Lb/2+1)*3,dY={draw(t,e){const n=ls(e/uY),r=n/2,s=n*Lb,i=r,o=n*Lb+n,l=-i,c=o;t.moveTo(r,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(vr*r-br*s,br*r+vr*s),t.lineTo(vr*i-br*o,br*i+vr*o),t.lineTo(vr*l-br*c,br*l+vr*c),t.lineTo(vr*r+br*s,vr*s-br*r),t.lineTo(vr*i+br*o,vr*o-br*i),t.lineTo(vr*l+br*c,vr*c-br*l),t.closePath()}};function fY(t,e){let n=null,r=TN(s);t=typeof t=="function"?t:pt(t||kN),e=typeof e=="function"?e:pt(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:pt(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:pt(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Fm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q5(t){this._context=t}q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hY(t){return new q5(t)}function z5(t){this._context=t}z5.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pY(t){return new z5(t)}function G5(t){this._context=t}G5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mY(t){return new G5(t)}function H5(t){this._context=t}H5.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gY(t){return new H5(t)}function uA(t){return t<0?-1:1}function dA(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(uA(i)+uA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jy(t,e,n){var r=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,o-l*n,i,o)}function Vm(t){this._context=t}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jy(this,this._t0,fA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jy(this,fA(this,n=dA(this,t,e)),n);break;default:jy(this,this._t0,n=dA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function W5(t){this._context=new K5(t)}(W5.prototype=Object.create(Vm.prototype)).point=function(t,e){Vm.prototype.point.call(this,e,t)};function K5(t){this._context=t}K5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function xY(t){return new Vm(t)}function yY(t){return new W5(t)}function J5(t){this._context=t}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hA(t),s=hA(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hA(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function vY(t){return new J5(t)}function G0(t,e){this._context=t,this._t=e}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bY(t){return new G0(t,.5)}function wY(t){return new G0(t,0)}function _Y(t){return new G0(t,1)}function ec(t,e){if((o=t.length)>1)for(var n=1,r,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function $b(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function NY(t,e){return t[e]}function SY(t){const e=[];return e.key=t,e}function EY(){var t=pt([]),e=$b,n=ec,r=NY;function s(i){var o=Array.from(t.apply(this,arguments),SY),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=AN(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:pt(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:pt(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?$b:typeof i=="function"?i:pt(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??ec,s):n},s}function TY(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}ec(t,e)}}function AY(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}ec(t,e)}}function kY(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,b=0;b<l;++b){var w=t[e[b]],y=w[r][1]||0,v=w[r-1][1]||0;x+=y-v}c+=f,u+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,ec(t,e)}}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}var CY=["type","size","sizeType"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){jY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jY(t,e,n){return e=PY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=IY(t,"string");return Kd(e)=="symbol"?e:e+""}function IY(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n=MY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y5={symbolCircle:kN,symbolCross:tY,symbolDiamond:rY,symbolSquare:sY,symbolStar:lY,symbolTriangle:cY,symbolWye:dY},OY=Math.PI/180,DY=function(e){var n="symbol".concat(B0(e));return Y5[n]||kN},LY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*OY;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$Y=function(e,n){Y5["symbol".concat(B0(e))]=n},CN=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=RY(e,CY),u=mA(mA({},c),{},{type:r,size:i,sizeType:l}),d=function(){var y=DY(r),v=fY().type(y).size(LY(i,l,r));return v()},f=u.className,h=u.cx,x=u.cy,b=Te(u,!0);return h===+h&&x===+x&&i===+i?q.createElement("path",Fb({},b,{className:Ve("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};CN.registerSymbol=$Y;function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){Jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q5(r.key),r)}}function BY(t,e,n){return e&&VY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t,e,n){return e=Bm(e),zY(t,X5()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function zY(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(t)}function GY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Vb(t,e)}function Jd(t,e,n){return e=Q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t){var e=WY(t,"string");return tc(e)=="symbol"?e:e+""}function WY(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wr=32,jN=function(t){function e(){return UY(this,e),qY(this,e,arguments)}return HY(e,t),BY(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=wr/2,o=wr/6,l=wr/3,c=r.inactive?s:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:wr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(wr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=FY({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(CN,{fill:c,cx:i,cy:i,size:wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:wr,height:wr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,b){var w=x.formatter||c,y=Ve(Jd(Jd({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var v=Ce(x.value)?null:x.value;es(!Ce(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return q.createElement("li",Ub({className:y,style:f,key:"legend-item-".concat(b)},go(r.props,x,b)),q.createElement(Pb,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(v,x,b):v))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);Jd(jN,"displayName","Legend");Jd(jN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KY=C0;function JY(){this.__data__=new KY,this.size=0}var YY=JY;function XY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var QY=XY;function ZY(t){return this.__data__.get(t)}var eX=ZY;function tX(t){return this.__data__.has(t)}var nX=tX,rX=C0,sX=xN,iX=yN,aX=200;function oX(t,e){var n=this.__data__;if(n instanceof rX){var r=n.__data__;if(!sX||r.length<aX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new iX(r)}return n.set(t,e),this.size=n.size,this}var lX=oX,cX=C0,uX=YY,dX=QY,fX=eX,hX=nX,pX=lX;function Bc(t){var e=this.__data__=new cX(t);this.size=e.size}Bc.prototype.clear=uX;Bc.prototype.delete=dX;Bc.prototype.get=fX;Bc.prototype.has=hX;Bc.prototype.set=pX;var Z5=Bc,mX="__lodash_hash_undefined__";function gX(t){return this.__data__.set(t,mX),this}var xX=gX;function yX(t){return this.__data__.has(t)}var vX=yX,bX=yN,wX=xX,_X=vX;function qm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bX;++e<n;)this.add(t[e])}qm.prototype.add=qm.prototype.push=wX;qm.prototype.has=_X;var eD=qm;function NX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var tD=NX;function SX(t,e){return t.has(e)}var nD=SX,EX=eD,TX=tD,AX=nD,kX=1,CX=2;function jX(t,e,n,r,s,i){var o=n&kX,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&CX?new EX:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var b=t[f],w=e[f];if(r)var y=o?r(w,b,f,e,t,i):r(b,w,f,t,e,i);if(y!==void 0){if(y)continue;h=!1;break}if(x){if(!TX(e,function(v,_){if(!AX(x,_)&&(b===v||s(b,v,n,r,i)))return x.push(_)})){h=!1;break}}else if(!(b===w||s(b,w,n,r,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var rD=jX,PX=Ps,IX=PX.Uint8Array,RX=IX;function MX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var OX=MX;function DX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var PN=DX,xA=Zf,yA=RX,LX=gN,$X=rD,FX=OX,UX=PN,VX=1,BX=2,qX="[object Boolean]",zX="[object Date]",GX="[object Error]",HX="[object Map]",WX="[object Number]",KX="[object RegExp]",JX="[object Set]",YX="[object String]",XX="[object Symbol]",QX="[object ArrayBuffer]",ZX="[object DataView]",vA=xA?xA.prototype:void 0,Py=vA?vA.valueOf:void 0;function eQ(t,e,n,r,s,i,o){switch(n){case ZX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case QX:return!(t.byteLength!=e.byteLength||!i(new yA(t),new yA(e)));case qX:case zX:case WX:return LX(+t,+e);case GX:return t.name==e.name&&t.message==e.message;case KX:case YX:return t==e+"";case HX:var l=FX;case JX:var c=r&VX;if(l||(l=UX),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=BX,o.set(t,e);var d=$X(l(t),l(e),r,s,i,o);return o.delete(t),d;case XX:if(Py)return Py.call(t)==Py.call(e)}return!1}var tQ=eQ;function nQ(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var sD=nQ,rQ=sD,sQ=rr;function iQ(t,e,n){var r=e(t);return sQ(t)?r:rQ(r,n(t))}var aQ=iQ;function oQ(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var lQ=oQ;function cQ(){return[]}var uQ=cQ,dQ=lQ,fQ=uQ,hQ=Object.prototype,pQ=hQ.propertyIsEnumerable,bA=Object.getOwnPropertySymbols,mQ=bA?function(t){return t==null?[]:(t=Object(t),dQ(bA(t),function(e){return pQ.call(t,e)}))}:fQ,gQ=mQ;function xQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yQ=xQ,vQ=xi,bQ=yi,wQ="[object Arguments]";function _Q(t){return bQ(t)&&vQ(t)==wQ}var NQ=_Q,wA=NQ,SQ=yi,iD=Object.prototype,EQ=iD.hasOwnProperty,TQ=iD.propertyIsEnumerable,AQ=wA(function(){return arguments}())?wA:function(t){return SQ(t)&&EQ.call(t,"callee")&&!TQ.call(t,"callee")},IN=AQ,zm={exports:{}};function kQ(){return!1}var CQ=kQ;zm.exports;(function(t,e){var n=Ps,r=CQ,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(zm,zm.exports);var aD=zm.exports,jQ=9007199254740991,PQ=/^(?:0|[1-9]\d*)$/;function IQ(t,e){var n=typeof t;return e=e??jQ,!!e&&(n=="number"||n!="symbol"&&PQ.test(t))&&t>-1&&t%1==0&&t<e}var RN=IQ,RQ=9007199254740991;function MQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RQ}var MN=MQ,OQ=xi,DQ=MN,LQ=yi,$Q="[object Arguments]",FQ="[object Array]",UQ="[object Boolean]",VQ="[object Date]",BQ="[object Error]",qQ="[object Function]",zQ="[object Map]",GQ="[object Number]",HQ="[object Object]",WQ="[object RegExp]",KQ="[object Set]",JQ="[object String]",YQ="[object WeakMap]",XQ="[object ArrayBuffer]",QQ="[object DataView]",ZQ="[object Float32Array]",eZ="[object Float64Array]",tZ="[object Int8Array]",nZ="[object Int16Array]",rZ="[object Int32Array]",sZ="[object Uint8Array]",iZ="[object Uint8ClampedArray]",aZ="[object Uint16Array]",oZ="[object Uint32Array]",bt={};bt[ZQ]=bt[eZ]=bt[tZ]=bt[nZ]=bt[rZ]=bt[sZ]=bt[iZ]=bt[aZ]=bt[oZ]=!0;bt[$Q]=bt[FQ]=bt[XQ]=bt[UQ]=bt[QQ]=bt[VQ]=bt[BQ]=bt[qQ]=bt[zQ]=bt[GQ]=bt[HQ]=bt[WQ]=bt[KQ]=bt[JQ]=bt[YQ]=!1;function lZ(t){return LQ(t)&&DQ(t.length)&&!!bt[OQ(t)]}var cZ=lZ;function uZ(t){return function(e){return t(e)}}var oD=uZ,Gm={exports:{}};Gm.exports;(function(t,e){var n=m5,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Gm,Gm.exports);var dZ=Gm.exports,fZ=cZ,hZ=oD,_A=dZ,NA=_A&&_A.isTypedArray,pZ=NA?hZ(NA):fZ,lD=pZ,mZ=yQ,gZ=IN,xZ=rr,yZ=aD,vZ=RN,bZ=lD,wZ=Object.prototype,_Z=wZ.hasOwnProperty;function NZ(t,e){var n=xZ(t),r=!n&&gZ(t),s=!n&&!r&&yZ(t),i=!n&&!r&&!s&&bZ(t),o=n||r||s||i,l=o?mZ(t.length,String):[],c=l.length;for(var u in t)(e||_Z.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vZ(u,c)))&&l.push(u);return l}var SZ=NZ,EZ=Object.prototype;function TZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||EZ;return t===n}var AZ=TZ;function kZ(t,e){return function(n){return t(e(n))}}var cD=kZ,CZ=cD,jZ=CZ(Object.keys,Object),PZ=jZ,IZ=AZ,RZ=PZ,MZ=Object.prototype,OZ=MZ.hasOwnProperty;function DZ(t){if(!IZ(t))return RZ(t);var e=[];for(var n in Object(t))OZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var LZ=DZ,$Z=mN,FZ=MN;function UZ(t){return t!=null&&FZ(t.length)&&!$Z(t)}var eh=UZ,VZ=SZ,BZ=LZ,qZ=eh;function zZ(t){return qZ(t)?VZ(t):BZ(t)}var H0=zZ,GZ=aQ,HZ=gQ,WZ=H0;function KZ(t){return GZ(t,WZ,HZ)}var JZ=KZ,SA=JZ,YZ=1,XZ=Object.prototype,QZ=XZ.hasOwnProperty;function ZZ(t,e,n,r,s,i){var o=n&YZ,l=SA(t),c=l.length,u=SA(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:QZ.call(e,h)))return!1}var x=i.get(t),b=i.get(e);if(x&&b)return x==e&&b==t;var w=!0;i.set(t,e),i.set(e,t);for(var y=o;++f<c;){h=l[f];var v=t[h],_=e[h];if(r)var N=o?r(_,v,h,e,t,i):r(v,_,h,t,e,i);if(!(N===void 0?v===_||s(v,_,n,r,i):N)){w=!1;break}y||(y=h=="constructor")}if(w&&!y){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(w=!1)}return i.delete(t),i.delete(e),w}var eee=ZZ,tee=To,nee=Ps,ree=tee(nee,"DataView"),see=ree,iee=To,aee=Ps,oee=iee(aee,"Promise"),lee=oee,cee=To,uee=Ps,dee=cee(uee,"Set"),uD=dee,fee=To,hee=Ps,pee=fee(hee,"WeakMap"),mee=pee,Bb=see,qb=xN,zb=lee,Gb=uD,Hb=mee,dD=xi,qc=x5,EA="[object Map]",gee="[object Object]",TA="[object Promise]",AA="[object Set]",kA="[object WeakMap]",CA="[object DataView]",xee=qc(Bb),yee=qc(qb),vee=qc(zb),bee=qc(Gb),wee=qc(Hb),Oa=dD;(Bb&&Oa(new Bb(new ArrayBuffer(1)))!=CA||qb&&Oa(new qb)!=EA||zb&&Oa(zb.resolve())!=TA||Gb&&Oa(new Gb)!=AA||Hb&&Oa(new Hb)!=kA)&&(Oa=function(t){var e=dD(t),n=e==gee?t.constructor:void 0,r=n?qc(n):"";if(r)switch(r){case xee:return CA;case yee:return EA;case vee:return TA;case bee:return AA;case wee:return kA}return e});var _ee=Oa,Iy=Z5,Nee=rD,See=tQ,Eee=eee,jA=_ee,PA=rr,IA=aD,Tee=lD,Aee=1,RA="[object Arguments]",MA="[object Array]",Wh="[object Object]",kee=Object.prototype,OA=kee.hasOwnProperty;function Cee(t,e,n,r,s,i){var o=PA(t),l=PA(e),c=o?MA:jA(t),u=l?MA:jA(e);c=c==RA?Wh:c,u=u==RA?Wh:u;var d=c==Wh,f=u==Wh,h=c==u;if(h&&IA(t)){if(!IA(e))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Iy),o||Tee(t)?Nee(t,e,n,r,s,i):See(t,e,c,n,r,s,i);if(!(n&Aee)){var x=d&&OA.call(t,"__wrapped__"),b=f&&OA.call(e,"__wrapped__");if(x||b){var w=x?t.value():t,y=b?e.value():e;return i||(i=new Iy),s(w,y,n,r,i)}}return h?(i||(i=new Iy),Eee(t,e,n,r,s,i)):!1}var jee=Cee,Pee=jee,DA=yi;function fD(t,e,n,r,s){return t===e?!0:t==null||e==null||!DA(t)&&!DA(e)?t!==t&&e!==e:Pee(t,e,n,r,fD,s)}var ON=fD,Iee=Z5,Ree=ON,Mee=1,Oee=2;function Dee(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Iee;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Ree(d,u,Mee|Oee,r,f):h))return!1}}return!0}var Lee=Dee,$ee=ya;function Fee(t){return t===t&&!$ee(t)}var hD=Fee,Uee=hD,Vee=H0;function Bee(t){for(var e=Vee(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Uee(s)]}return e}var qee=Bee;function zee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var pD=zee,Gee=Lee,Hee=qee,Wee=pD;function Kee(t){var e=Hee(t);return e.length==1&&e[0][2]?Wee(e[0][0],e[0][1]):function(n){return n===t||Gee(n,t,e)}}var Jee=Kee;function Yee(t,e){return t!=null&&e in Object(t)}var Xee=Yee,Qee=_5,Zee=IN,ete=rr,tte=RN,nte=MN,rte=P0;function ste(t,e,n){e=Qee(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=rte(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&nte(s)&&tte(o,s)&&(ete(t)||Zee(t)))}var ite=ste,ate=Xee,ote=ite;function lte(t,e){return t!=null&&ote(t,e,ate)}var cte=lte,ute=ON,dte=N5,fte=cte,hte=pN,pte=hD,mte=pD,gte=P0,xte=1,yte=2;function vte(t,e){return hte(t)&&pte(e)?mte(gte(t),e):function(n){var r=dte(n,t);return r===void 0&&r===e?fte(n,t):ute(e,r,xte|yte)}}var bte=vte;function wte(t){return t}var zc=wte;function _te(t){return function(e){return e==null?void 0:e[t]}}var Nte=_te,Ste=wN;function Ete(t){return function(e){return Ste(e,t)}}var Tte=Ete,Ate=Nte,kte=Tte,Cte=pN,jte=P0;function Pte(t){return Cte(t)?Ate(jte(t)):kte(t)}var Ite=Pte,Rte=Jee,Mte=bte,Ote=zc,Dte=rr,Lte=Ite;function $te(t){return typeof t=="function"?t:t==null?Ote:typeof t=="object"?Dte(t)?Mte(t[0],t[1]):Rte(t):Lte(t)}var Is=$te;function Fte(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var mD=Fte;function Ute(t){return t!==t}var Vte=Ute;function Bte(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var qte=Bte,zte=mD,Gte=Vte,Hte=qte;function Wte(t,e,n){return e===e?Hte(t,e,n):zte(t,Gte,n)}var Kte=Wte,Jte=Kte;function Yte(t,e){var n=t==null?0:t.length;return!!n&&Jte(t,e,0)>-1}var Xte=Yte;function Qte(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var Zte=Qte;function ene(){}var tne=ene,Ry=uD,nne=tne,rne=PN,sne=1/0,ine=Ry&&1/rne(new Ry([,-0]))[1]==sne?function(t){return new Ry(t)}:nne,ane=ine,one=eD,lne=Xte,cne=Zte,une=nD,dne=ane,fne=PN,hne=200;function pne(t,e,n){var r=-1,s=lne,i=t.length,o=!0,l=[],c=l;if(n)o=!1,s=cne;else if(i>=hne){var u=e?null:dne(t);if(u)return fne(u);o=!1,s=une,c=new one}else c=e?[]:l;e:for(;++r<i;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var mne=pne,gne=Is,xne=mne;function yne(t,e){return t&&t.length?xne(t,gne(e)):[]}var vne=yne;const LA=ot(vne);function gD(t,e,n){return e===!0?LA(t,n):Ce(e)?LA(t,e):t}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}var bne=["ref"];function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){W0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function _ne(t,e,n){return e&&FA(t.prototype,e),n&&FA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,n){return e=Hm(e),Sne(t,xD()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Sne(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function Tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Wb(t,e)}function W0(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=Ane(t,"string");return nc(e)=="symbol"?e:e+""}function Ane(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kne(t,e){if(t==null)return{};var n=Cne(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jne(t){return t.value}function Pne(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=kne(e,bne);return q.createElement(jN,n)}var UA=1,eo=function(t){function e(){var n;wne(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=Nne(this,e,[].concat(s)),W0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tne(e,t),_ne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>UA||Math.abs(s.height-this.lastBoundingBox.height)>UA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Os({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Os(Os({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Os(Os({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},Pne(i,Os(Os({},this.props),{},{payload:gD(d,u,jne)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Os(Os({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ue(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(D.PureComponent);W0(eo,"displayName","Legend");W0(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VA=Zf,Ine=IN,Rne=rr,BA=VA?VA.isConcatSpreadable:void 0;function Mne(t){return Rne(t)||Ine(t)||!!(BA&&t&&t[BA])}var One=Mne,Dne=sD,Lne=One;function vD(t,e,n,r,s){var i=-1,o=t.length;for(n||(n=Lne),s||(s=[]);++i<o;){var l=t[i];e>0&&n(l)?e>1?vD(l,e-1,n,r,s):Dne(s,l):r||(s[s.length]=l)}return s}var bD=vD;function $ne(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++s];if(n(i[c],c,i)===!1)break}return e}}var Fne=$ne,Une=Fne,Vne=Une(),Bne=Vne,qne=Bne,zne=H0;function Gne(t,e){return t&&qne(t,e,zne)}var wD=Gne,Hne=eh;function Wne(t,e){return function(n,r){if(n==null)return n;if(!Hne(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var Kne=Wne,Jne=wD,Yne=Kne,Xne=Yne(Jne),DN=Xne,Qne=DN,Zne=eh;function ere(t,e){var n=-1,r=Zne(t)?Array(t.length):[];return Qne(t,function(s,i,o){r[++n]=e(s,i,o)}),r}var _D=ere;function tre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nre=tre,qA=Oc;function rre(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=qA(t),o=e!==void 0,l=e===null,c=e===e,u=qA(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&t<e||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var sre=rre,ire=sre;function are(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,o=s.length,l=n.length;++r<o;){var c=ire(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var ore=are,My=bN,lre=wN,cre=Is,ure=_D,dre=nre,fre=oD,hre=ore,pre=zc,mre=rr;function gre(t,e,n){e.length?e=My(e,function(i){return mre(i)?function(o){return lre(o,i.length===1?i[0]:i)}:i}):e=[pre];var r=-1;e=My(e,fre(cre));var s=ure(t,function(i,o,l){var c=My(e,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return dre(s,function(i,o){return hre(i,o,n)})}var xre=gre;function yre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vre=yre,bre=vre,zA=Math.max;function wre(t,e,n){return e=zA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=zA(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),bre(t,this,l)}}var _re=wre;function Nre(t){return function(){return t}}var Sre=Nre,Ere=To,Tre=function(){try{var t=Ere(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ND=Tre,Are=Sre,GA=ND,kre=zc,Cre=GA?function(t,e){return GA(t,"toString",{configurable:!0,enumerable:!1,value:Are(e),writable:!0})}:kre,jre=Cre,Pre=800,Ire=16,Rre=Date.now;function Mre(t){var e=0,n=0;return function(){var r=Rre(),s=Ire-(r-n);if(n=r,s>0){if(++e>=Pre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ore=Mre,Dre=jre,Lre=Ore,$re=Lre(Dre),Fre=$re,Ure=zc,Vre=_re,Bre=Fre;function qre(t,e){return Bre(Vre(t,e,Ure),t+"")}var zre=qre,Gre=gN,Hre=eh,Wre=RN,Kre=ya;function Jre(t,e,n){if(!Kre(n))return!1;var r=typeof e;return(r=="number"?Hre(n)&&Wre(e,n.length):r=="string"&&e in n)?Gre(n[e],t):!1}var K0=Jre,Yre=bD,Xre=xre,Qre=zre,HA=K0,Zre=Qre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&HA(t,e[0],e[1])?e=[]:n>2&&HA(e[0],e[1],e[2])&&(e=[e[0]]),Xre(t,Yre(e,1),[])}),ese=Zre;const LN=ot(ese);function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function tse(t,e){return ise(t)||sse(t,e)||rse(t,e)||nse()}function nse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t,e){if(t){if(typeof t=="string")return WA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(t,e)}}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ise(t){if(Array.isArray(t))return t}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return Yd(e)=="symbol"?e:e+""}function lse(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cse(t){return Array.isArray(t)&&Yt(t[0])&&Yt(t[1])?t.join(" ~ "):t}var use=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,b=e.labelClassName,w=e.label,y=e.labelFormatter,v=e.accessibilityLayer,_=v===void 0?!1:v,N=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?LN(d,h):d).map(function(H,F){if(H.type==="none")return null;var L=Oy({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),B=H.formatter||f||cse,z=H.value,V=H.name,U=z,X=V;if(B&&U!=null&&X!=null){var Q=B(z,V,H,F,d);if(Array.isArray(Q)){var G=tse(Q,2);U=G[0],X=G[1]}else U=Q}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:L},Yt(X)?q.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Yt(X)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},U),q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},C=Oy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=Oy({margin:0},u),A=!$e(w),S=A?w:"",j=Ve("recharts-default-tooltip",x),T=Ve("recharts-tooltip-label",b);A&&y&&d!==void 0&&d!==null&&(S=y(w,d));var R=_?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",Kb({className:j,style:C},R),q.createElement("p",{className:T,style:E},q.isValidElement(S)?S:"".concat(S)),N())};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Kh(t,e,n){return e=dse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dse(t){var e=fse(t,"string");return Xd(e)=="symbol"?e:e+""}function fse(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u="recharts-tooltip-wrapper",hse={visibility:"hidden"};function pse(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ve(_u,Kh(Kh(Kh(Kh({},"".concat(_u,"-right"),ue(n)&&e&&ue(e.x)&&n>=e.x),"".concat(_u,"-left"),ue(n)&&e&&ue(e.x)&&n<e.x),"".concat(_u,"-bottom"),ue(r)&&e&&ue(e.y)&&r>=e.y),"".concat(_u,"-top"),ue(r)&&e&&ue(e.y)&&r<e.y))}function JA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&ue(i[r]))return i[r];var d=n[r]-l-s,f=n[r]+s;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var b=f+l,w=c[r]+u;return b>w?Math.max(d,c[r]):Math.max(f,c[r])}function mse(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gse(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=JA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=JA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=mse({translateX:d,translateY:f,useTranslate3d:l})):u=hse,{cssProperties:u,cssClasses:pse({translateX:d,translateY:f,coordinate:n})}}function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function vse(t,e,n){return e&&yse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bse(t,e,n){return e=Wm(e),wse(t,SD()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function wse(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _se(t)}function _se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function Nse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Jb(t,e)}function Yb(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=Sse(t,"string");return rc(e)=="symbol"?e:e+""}function Sse(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QA=1,Ese=function(t){function e(){var n;xse(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=bse(this,e,[].concat(s)),Yb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Nse(e,t),vse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QA||Math.abs(r.height-this.state.lastBoundingBox.height)>QA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,x=s.offset,b=s.position,w=s.reverseDirection,y=s.useTranslate3d,v=s.viewBox,_=s.wrapperStyle,N=gse({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),C=N.cssClasses,E=N.cssProperties,A=XA(XA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return q.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(j){r.wrapperNode=j}},u)}}])}(D.PureComponent),Tse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ao={isSsr:Tse()};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){$N(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AD(r.key),r)}}function Cse(t,e,n){return e&&kse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jse(t,e,n){return e=Km(e),Pse(t,TD()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function Pse(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(t)}function Ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xb(t,e)}function $N(t,e,n){return e=AD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AD(t){var e=Mse(t,"string");return sc(e)=="symbol"?e:e+""}function Mse(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ose(t){return t.dataKey}function Dse(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(use,e)}var Kn=function(t){function e(){return Ase(this,e),jse(this,e,arguments)}return Rse(e,t),Cse(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,x=s.offset,b=s.payload,w=s.payloadUniqBy,y=s.position,v=s.reverseDirection,_=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,E=b??[];f&&E.length&&(E=gD(b.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Ose));var A=E.length>0;return q.createElement(Ese,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:A,offset:x,position:y,reverseDirection:v,useTranslate3d:_,viewBox:N,wrapperStyle:C},Dse(u,ek(ek({},this.props),{},{payload:E})))}}])}(D.PureComponent);$N(Kn,"displayName","Tooltip");$N(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ao.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lse=Ps,$se=function(){return Lse.Date.now()},Fse=$se,Use=/\s/;function Vse(t){for(var e=t.length;e--&&Use.test(t.charAt(e)););return e}var Bse=Vse,qse=Bse,zse=/^\s+/;function Gse(t){return t&&t.slice(0,qse(t)+1).replace(zse,"")}var Hse=Gse,Wse=Hse,tk=ya,Kse=Oc,nk=NaN,Jse=/^[-+]0x[0-9a-f]+$/i,Yse=/^0b[01]+$/i,Xse=/^0o[0-7]+$/i,Qse=parseInt;function Zse(t){if(typeof t=="number")return t;if(Kse(t))return nk;if(tk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wse(t);var n=Yse.test(t);return n||Xse.test(t)?Qse(t.slice(2),n?2:8):Jse.test(t)?nk:+t}var kD=Zse,eie=ya,Dy=Fse,rk=kD,tie="Expected a function",nie=Math.max,rie=Math.min;function sie(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(tie);e=rk(e)||0,eie(n)&&(d=!!n.leading,f="maxWait"in n,i=f?nie(rk(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function x(A){var S=r,j=s;return r=s=void 0,u=A,o=t.apply(j,S),o}function b(A){return u=A,l=setTimeout(v,e),d?x(A):o}function w(A){var S=A-c,j=A-u,T=e-S;return f?rie(T,i-j):T}function y(A){var S=A-c,j=A-u;return c===void 0||S>=e||S<0||f&&j>=i}function v(){var A=Dy();if(y(A))return _(A);l=setTimeout(v,w(A))}function _(A){return l=void 0,h&&r?x(A):(r=s=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function C(){return l===void 0?o:_(Dy())}function E(){var A=Dy(),S=y(A);if(r=arguments,s=this,c=A,S){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(v,e),x(c)}return l===void 0&&(l=setTimeout(v,e)),o}return E.cancel=N,E.flush=C,E}var iie=sie,aie=iie,oie=ya,lie="Expected a function";function cie(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(lie);return oie(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),aie(t,e,{leading:r,maxWait:e,trailing:s})}var uie=cie;const CD=ot(uie);function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function die(t,e,n){return e=fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return Qd(e)=="symbol"?e:e+""}function hie(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pie(t,e){return yie(t)||xie(t,e)||gie(t,e)||mie()}function mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yie(t){if(Array.isArray(t))return t}var ld=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,b=t.debounce,w=b===void 0?0:b,y=t.id,v=t.className,_=t.onResize,N=t.style,C=N===void 0?{}:N,E=D.useRef(null),A=D.useRef();A.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=D.useState({containerWidth:s.width,containerHeight:s.height}),j=pie(S,2),T=j[0],R=j[1],P=D.useCallback(function(I,H){R(function(F){var L=Math.round(I),B=Math.round(H);return F.containerWidth===L&&F.containerHeight===B?F:{containerWidth:L,containerHeight:B}})},[]);D.useEffect(function(){var I=function(V){var U,X=V[0].contentRect,Q=X.width,G=X.height;P(Q,G),(U=A.current)===null||U===void 0||U.call(A,Q,G)};w>0&&(I=CD(I,w,{trailing:!0,leading:!1}));var H=new ResizeObserver(I),F=E.current.getBoundingClientRect(),L=F.width,B=F.height;return P(L,B),H.observe(E.current),function(){H.disconnect()}},[P,w]);var O=D.useMemo(function(){var I=T.containerWidth,H=T.containerHeight;if(I<0||H<0)return null;es(za(o)||za(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),es(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=za(o)?I:o,L=za(c)?H:c;n&&n>0&&(F?L=F/n:L&&(F=L*n),h&&L>h&&(L=h)),es(F>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,L,o,c,d,f,n);var B=!Array.isArray(x)&&Xs(x.type).endsWith("Chart");return q.Children.map(x,function(z){return q.isValidElement(z)?D.cloneElement(z,Jh({width:F,height:L},B?{style:Jh({height:"100%",width:"100%",maxHeight:L,maxWidth:F},z.props.style)}:{})):z})},[n,x,c,h,f,d,T,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:Ve("recharts-responsive-container",v),style:Jh(Jh({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),J0=function(e){return null};J0.displayName="Cell";function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return e=bie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=wie(t,"string");return Zd(e)=="symbol"?e:e+""}function wie(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},_ie=2e3,Nie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ok="recharts_measurement_span";function Sie(t){var e=Qb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ao.isSsr)return{width:0,height:0};var r=Sie(n),s=JSON.stringify({text:e,copyStyle:r});if(Fo.widthCache[s])return Fo.widthCache[s];try{var i=document.getElementById(ok);i||(i=document.createElement("span"),i.setAttribute("id",ok),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Qb(Qb({},Nie),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Fo.widthCache[s]=c,++Fo.cacheCount>_ie&&(Fo.cacheCount=0,Fo.widthCache={}),c}catch{return{width:0,height:0}}},Eie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Jm(t,e){return Cie(t)||kie(t,e)||Aie(t,e)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Cie(t){if(Array.isArray(t))return t}function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iie(r.key),r)}}function Pie(t,e,n){return e&&ck(t.prototype,e),n&&ck(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iie(t){var e=Rie(t,"string");return ef(e)=="symbol"?e:e+""}function Rie(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Die=Object.keys(jD),ol="NaN";function Lie(t,e){return t*jD[e]}var Yh=function(){function t(e,n){jie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mie.test(n)&&(this.num=NaN,this.unit=""),Die.includes(n)&&(this.num=Lie(e,n),this.unit="px")}return Pie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=Oie.exec(n))!==null&&r!==void 0?r:[],i=Jm(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function PD(t){if(t.includes(ol))return ol;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=uk.exec(e))!==null&&n!==void 0?n:[],s=Jm(r,4),i=s[1],o=s[2],l=s[3],c=Yh.parse(i??""),u=Yh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ol;e=e.replace(uk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=dk.exec(e))!==null&&f!==void 0?f:[],x=Jm(h,4),b=x[1],w=x[2],y=x[3],v=Yh.parse(b??""),_=Yh.parse(y??""),N=w==="+"?v.add(_):v.subtract(_);if(N.isNaN())return ol;e=e.replace(dk,N.toString())}return e}var fk=/\(([^()]*)\)/;function $ie(t){for(var e=t;e.includes("(");){var n=fk.exec(e),r=Jm(n,2),s=r[1];e=e.replace(fk,PD(s))}return e}function Fie(t){var e=t.replace(/\s+/g,"");return e=$ie(e),e=PD(e),e}function Uie(t){try{return Fie(t)}catch{return ol}}function Ly(t){var e=Uie(t.slice(5,-1));return e===ol?"":e}var Vie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bie=["dx","dy","angle","className","breakAll"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function hk(t,e){if(t==null)return{};var n=qie(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pk(t,e){return Wie(t)||Hie(t,e)||Gie(t,e)||zie()}function zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(t,e){if(t){if(typeof t=="string")return mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wie(t){if(Array.isArray(t))return t}var ID=/[ \f\n\r\t\v\u2028\u2029]+/,RD=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var i=[];$e(n)||(r?i=n.toString().split(""):i=n.toString().split(ID));var o=i.map(function(c){return{word:c,width:cd(c,s).width}}),l=r?0:cd("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Kie=function(e,n,r,s,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ue(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(L,B){var z=B.word,V=B.width,U=L[L.length-1];if(U&&(s==null||i||U.width+V+r<Number(s)))U.words.push(z),U.width+=V+r;else{var X={words:[z],width:V};L.push(X)}return L},[])},x=h(n),b=function(F){return F.reduce(function(L,B){return L.width>B.width?L:B})};if(!d)return x;for(var w="",y=function(F){var L=f.slice(0,F),B=RD({breakAll:u,style:c,children:L+w}).wordsWithComputedWidth,z=h(B),V=z.length>o||b(z).width>Number(s);return[V,z]},v=0,_=f.length-1,N=0,C;v<=_&&N<=f.length-1;){var E=Math.floor((v+_)/2),A=E-1,S=y(A),j=pk(S,2),T=j[0],R=j[1],P=y(E),O=pk(P,1),I=O[0];if(!T&&!I&&(v=E+1),T&&I&&(_=E-1),!T&&I){C=R;break}N++}return C||x},gk=function(e){var n=$e(e)?[]:e.toString().split(ID);return[{words:n}]},Jie=function(e){var n=e.width,r=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Ao.isSsr){var c,u,d=RD({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return gk(s);return Kie({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return gk(s)},xk="#808080",xo=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,b=e.verticalAnchor,w=b===void 0?"end":b,y=e.fill,v=y===void 0?xk:y,_=hk(e,Vie),N=D.useMemo(function(){return Jie({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,E=_.dy,A=_.angle,S=_.className,j=_.breakAll,T=hk(_,Bie);if(!Yt(r)||!Yt(i))return null;var R=r+(ue(C)?C:0),P=i+(ue(E)?E:0),O;switch(w){case"start":O=Ly("calc(".concat(u,")"));break;case"middle":O=Ly("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Ly("calc(".concat(N.length-1," * -").concat(l,")"));break}var I=[];if(f){var H=N[0].width,F=_.width;I.push("scale(".concat((ue(F)?F/H:1)/H,")"))}return A&&I.push("rotate(".concat(A,", ").concat(R,", ").concat(P,")")),I.length&&(T.transform=I.join(" ")),q.createElement("text",Zb({},Te(T,!0),{x:R,y:P,className:Ve("recharts-text",S),textAnchor:x,fill:v.includes("url")?xk:v}),N.map(function(L,B){var z=L.words.join(j?"":" ");return q.createElement("tspan",{x:R,dy:B===0?O:l,key:"".concat(z,"-").concat(B)},z)}))};function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FN(t){let e,n,r;t.length!==2?(e=ra,n=(l,c)=>ra(t(l),c),r=(l,c)=>t(l)-c):(e=t===ra||t===Yie?t:Xie,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Xie(){return 0}function MD(t){return t===null?NaN:+t}function*Qie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Zie=FN(ra),th=Zie.right;FN(MD).center;class yk extends Map{constructor(e,n=nae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(vk(this,e))}has(e){return super.has(vk(this,e))}set(e,n){return super.set(eae(this,e),n)}delete(e){return super.delete(tae(this,e))}}function vk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rae(t=ra){if(t===ra)return OD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function OD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sae=Math.sqrt(50),iae=Math.sqrt(10),aae=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=sae?10:i>=iae?5:i>=aae?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Ym(t,e,n*2):[l,c,u]}function ew(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?Ym(e,t,n):Ym(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function tw(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function nw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?tw(e,t,n):tw(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function bk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DD(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?OD:rae(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),b=Math.min(r,Math.floor(e+(c-u)*f/c+h));DD(t,e,x,b,s)}const i=t[e];let o=n,l=r;for(Nu(t,n,e),s(t[r],i)>0&&Nu(t,n,r);o<l;){for(Nu(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?Nu(t,n,l):(++l,Nu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oae(t,e,n){if(t=Float64Array.from(Qie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wk(t);if(e>=1)return bk(t);var r,s=(r-1)*e,i=Math.floor(s),o=bk(DD(t,i).subarray(0,i+1)),l=wk(t.subarray(i+1));return o+(l-o)*(s-i)}}function lae(t,e,n=MD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function cae(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rw=Symbol("implicit");function UN(){var t=new yk,e=[],n=[],r=rw;function s(i){let o=t.get(i);if(o===void 0){if(r!==rw)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new yk;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return UN(e,n).unknown(r)},Ur.apply(s,arguments),s}function tf(){var t=UN().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=s<r,b=x?s:r,w=x?r:s;i=(w-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(w-b-i*(h-c))*d,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var y=cae(h).map(function(v){return b+i*v});return n(x?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return tf(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ur.apply(f(),arguments)}function LD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LD(e())},t}function ud(){return LD(tf.apply(null,arguments).paddingInner(1))}function VN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $D(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nh(){}var nf=.7,Xm=1/nf,Al="\\s*([+-]?\\d+)\\s*",rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uae=/^#([0-9a-f]{3,8})$/,dae=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),fae=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),hae=new RegExp(`^rgba\\(${Al},${Al},${Al},${rf}\\)$`),pae=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${rf}\\)$`),mae=new RegExp(`^hsl\\(${rf},${Ss},${Ss}\\)$`),gae=new RegExp(`^hsla\\(${rf},${Ss},${Ss},${rf}\\)$`),_k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VN(nh,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nk,formatHex:Nk,formatHex8:xae,formatHsl:yae,formatRgb:Sk,toString:Sk});function Nk(){return this.rgb().formatHex()}function xae(){return this.rgb().formatHex8()}function yae(){return FD(this).formatHsl()}function Sk(){return this.rgb().formatRgb()}function sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ek(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dae.exec(t))?new Zn(e[1],e[2],e[3],1):(e=fae.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hae.exec(t))?Xh(e[1],e[2],e[3],e[4]):(e=pae.exec(t))?Xh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mae.exec(t))?kk(e[1],e[2]/100,e[3]/100,1):(e=gae.exec(t))?kk(e[1],e[2]/100,e[3]/100,e[4]):_k.hasOwnProperty(t)?Ek(_k[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Ek(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Xh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function vae(t){return t instanceof nh||(t=sf(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function sw(t,e,n,r){return arguments.length===1?vae(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VN(Zn,sw,$D(nh,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nf:Math.pow(nf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(to(this.r),to(this.g),to(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tk,formatHex:Tk,formatHex8:bae,formatRgb:Ak,toString:Ak}));function Tk(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function bae(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ak(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ga(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function kk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yr(t,e,n,r)}function FD(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);if(t instanceof nh||(t=sf(t)),!t)return new Yr;if(t instanceof Yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Yr(o,l,c,t.opacity)}function wae(t,e,n,r){return arguments.length===1?FD(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VN(Yr,wae,$D(nh,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nf:Math.pow(nf,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Zn($y(t>=240?t-240:t+120,s,r),$y(t,s,r),$y(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Yr(Ck(this.h),Qh(this.s),Qh(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${Ck(this.h)}, ${Qh(this.s)*100}%, ${Qh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ck(t){return t=(t||0)%360,t<0?t+360:t}function Qh(t){return Math.max(0,Math.min(1,t||0))}function $y(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const BN=t=>()=>t;function _ae(t,e){return function(n){return t+n*e}}function Nae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sae(t){return(t=+t)==1?UD:function(e,n){return n-e?Nae(e,n,t):BN(isNaN(e)?n:e)}}function UD(t,e){var n=e-t;return n?_ae(t,n):BN(isNaN(t)?e:t)}const jk=function t(e){var n=Sae(e);function r(s,i){var o=n((s=sw(s)).r,(i=sw(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=UD(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function Eae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function Tae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Gc(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function kae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cae(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Gc(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fy=new RegExp(iw.source,"g");function jae(t){return function(){return t}}function Pae(t){return function(e){return t(e)+""}}function Iae(t,e){var n=iw.lastIndex=Fy.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=iw.exec(t))&&(s=Fy.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Zm(r,s)})),n=Fy.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Pae(c[0].x):jae(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Gc(t,e){var n=typeof e,r;return e==null||n==="boolean"?BN(e):(n==="number"?Zm:n==="string"?(r=sf(e))?(e=r,jk):Iae:e instanceof sf?jk:e instanceof Date?kae:Tae(e)?Eae:Array.isArray(e)?Aae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cae:Zm)(t,e)}function qN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rae(t,e){e===void 0&&(e=t,t=Gc);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function Mae(t){return function(){return t}}function eg(t){return+t}var Pk=[0,1];function Fn(t){return t}function aw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mae(isNaN(e)?NaN:.5)}function Oae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dae(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=aw(s,r),i=n(o,i)):(r=aw(r,s),i=n(i,o)),function(l){return i(r(l))}}function Lae(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=aw(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=th(t,l,1,r)-1;return i[c](s[c](l))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Y0(){var t=Pk,e=Pk,n=Gc,r,s,i,o=Fn,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Fn&&(o=Oae(t[0],t[h-1])),l=h>2?Lae:Dae,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(e,t.map(r),Zm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,eg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=qN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Fn,d()):o!==Fn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,x){return r=h,s=x,d()}}function zN(){return Y0()(Fn,Fn)}function $ae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ic(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function Fae(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Uae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(t){if(!(e=Vae.exec(t)))throw new Error("invalid format: "+t);var e;return new GN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}af.prototype=GN.prototype;function GN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bae(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var ng;function qae(t,e){var n=tg(t,e);if(!n)return ng=void 0,t.toPrecision(e);var r=n[0],s=n[1],i=s-(ng=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+tg(t,Math.max(0,e+i-1))[0]}function Ik(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Rk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$ae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ik(t*100,e),r:Ik,s:qae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mk(t){return t}var Ok=Array.prototype.map,Dk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zae(t){var e=t.grouping===void 0||t.thousands===void 0?Mk:Fae(Ok.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Mk:Uae(Ok.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=af(f);var x=f.fill,b=f.align,w=f.sign,y=f.symbol,v=f.zero,_=f.width,N=f.comma,C=f.precision,E=f.trim,A=f.type;A==="n"?(N=!0,A="g"):Rk[A]||(C===void 0&&(C=12),E=!0,A="g"),(v||x==="0"&&b==="=")&&(v=!0,x="0",b="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),j=(y==="$"?r:/[%p]/.test(A)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),T=Rk[A],R=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(O){var I=S,H=j,F,L,B;if(A==="c")H=T(O)+H,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),C),E&&(O=Bae(O)),z&&+O==0&&w!=="+"&&(z=!1),I=(z?w==="("?w:l:w==="-"||w==="("?"":w)+I,H=(A==="s"&&!isNaN(O)&&ng!==void 0?Dk[8+ng/3]:"")+H+(z&&w==="("?")":""),R){for(F=-1,L=O.length;++F<L;)if(B=O.charCodeAt(F),48>B||B>57){H=(B===46?s+O.slice(F+1):O.slice(F))+H,O=O.slice(0,F);break}}}N&&!v&&(O=e(O,1/0));var V=I.length+O.length+H.length,U=V<_?new Array(_-V+1).join(x):"";switch(N&&v&&(O=e(U+O,U.length?_-H.length:1/0),U=""),b){case"<":O=I+O+H+U;break;case"=":O=I+U+O+H;break;case"^":O=U.slice(0,V=U.length>>1)+I+O+H+U.slice(V);break;default:O=U+I+O+H;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(ic(h)/3)))*3,b=Math.pow(10,-x),w=u((f=af(f),f.type="f",f),{suffix:Dk[8+x/3]});return function(y){return w(b*y)}}return{format:u,formatPrefix:d}}var Zh,HN,VD;Gae({thousands:",",grouping:[3],currency:["$",""]});function Gae(t){return Zh=zae(t),HN=Zh.format,VD=Zh.formatPrefix,Zh}function Hae(t){return Math.max(0,-ic(Math.abs(t)))}function Wae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ic(e)/3)))*3-ic(Math.abs(t)))}function Kae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ic(e)-ic(t))+1}function BD(t,e,n,r){var s=nw(t,e,n),i;switch(r=af(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Wae(s,o))&&(r.precision=i),VD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Kae(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Hae(s))&&(r.precision=i-(r.type==="%")*2);break}}return HN(r)}function va(t){var e=t.domain;return t.ticks=function(n){var r=e();return ew(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return BD(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=tw(o,l,n),u===c)return r[s]=o,r[i]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function rg(){var t=zN();return t.copy=function(){return rh(t,rg())},Ur.apply(t,arguments),va(t)}function qD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qD(t).unknown(e)},t=arguments.length?Array.from(t,eg):[0,1],va(n)}function zD(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),t[n]=e.floor(s),t[r]=e.ceil(i),t}function Lk(t){return Math.log(t)}function $k(t){return Math.exp(t)}function Jae(t){return-Math.log(-t)}function Yae(t){return-Math.exp(-t)}function Xae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qae(t){return t===10?Xae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Fk(t){return(e,n)=>-t(-e,n)}function WN(t){const e=t(Lk,$k),n=e.domain;let r=10,s,i;function o(){return s=Zae(r),i=Qae(r),n()[0]<0?(s=Fk(s),i=Fk(i),t(Jae,Yae)):t(Lk,$k),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),x=s(d),b,w;const y=l==null?10:+l;let v=[];if(!(r%1)&&x-h<y){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(b=1;b<r;++b)if(w=h<0?b/i(-h):b*i(h),!(w<u)){if(w>d)break;v.push(w)}}else for(;h<=x;++h)for(b=r-1;b>=1;--b)if(w=h>0?b/i(-h):b*i(h),!(w<u)){if(w>d)break;v.push(w)}v.length*2<y&&(v=ew(u,d,y))}else v=ew(h,x,Math.min(x-h,y)).map(i);return f?v.reverse():v},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=af(c)).precision==null&&(c.trim=!0),c=HN(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(zD(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function GD(){const t=WN(Y0()).domain([1,10]);return t.copy=()=>rh(t,GD()).base(t.base()),Ur.apply(t,arguments),t}function Uk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Vk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KN(t){var e=1,n=t(Uk(e),Vk(e));return n.constant=function(r){return arguments.length?t(Uk(e=+r),Vk(e)):e},va(n)}function HD(){var t=KN(Y0());return t.copy=function(){return rh(t,HD()).constant(t.constant())},Ur.apply(t,arguments)}function Bk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function eoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function toe(t){return t<0?-t*t:t*t}function JN(t){var e=t(Fn,Fn),n=1;function r(){return n===1?t(Fn,Fn):n===.5?t(eoe,toe):t(Bk(n),Bk(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},va(e)}function YN(){var t=JN(Y0());return t.copy=function(){return rh(t,YN()).exponent(t.exponent())},Ur.apply(t,arguments),t}function noe(){return YN.apply(null,arguments).exponent(.5)}function qk(t){return Math.sign(t)*t*t}function roe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WD(){var t=zN(),e=[0,1],n=!1,r;function s(i){var o=roe(t(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return t.invert(qk(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,eg)).map(qk)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return WD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ur.apply(s,arguments),va(s)}function KD(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=lae(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[th(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ra),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return KD().domain(t).range(e).unknown(r)},Ur.apply(i,arguments)}function JD(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[th(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return JD().domain([t,e]).range(s).unknown(i)},Ur.apply(va(o),arguments)}function YD(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[th(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return YD().domain(t).range(e).unknown(n)},Ur.apply(s,arguments)}const Uy=new Date,Vy=new Date;function Zt(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},s.filter=i=>Zt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(Uy.setTime(+i),Vy.setTime(+o),t(Uy),t(Vy),Math.floor(n(Uy,Vy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const sg=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sg);sg.range;const Gs=1e3,Tr=Gs*60,Hs=Tr*60,ui=Hs*24,XN=ui*7,zk=ui*30,By=ui*365,Ha=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCSeconds());Ha.range;const QN=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gs)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getMinutes());QN.range;const ZN=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCMinutes());ZN.range;const eS=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gs-t.getMinutes()*Tr)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getHours());eS.range;const tS=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCHours());tS.range;const sh=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/ui,t=>t.getDate()-1);sh.range;const X0=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);X0.range;const XD=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));XD.range;function ko(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/XN)}const Q0=ko(0),ig=ko(1),soe=ko(2),ioe=ko(3),ac=ko(4),aoe=ko(5),ooe=ko(6);Q0.range;ig.range;soe.range;ioe.range;ac.range;aoe.range;ooe.range;function Co(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XN)}const Z0=Co(0),ag=Co(1),loe=Co(2),coe=Co(3),oc=Co(4),uoe=Co(5),doe=Co(6);Z0.range;ag.range;loe.range;coe.range;oc.range;uoe.range;doe.range;const nS=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nS.range;const rS=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rS.range;const di=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});di.range;const fi=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fi.range;function QD(t,e,n,r,s,i){const o=[[Ha,1,Gs],[Ha,5,5*Gs],[Ha,15,15*Gs],[Ha,30,30*Gs],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[s,1,Hs],[s,3,3*Hs],[s,6,6*Hs],[s,12,12*Hs],[r,1,ui],[r,2,2*ui],[n,1,XN],[e,1,zk],[e,3,3*zk],[t,1,By]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),b=x?x.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,x=FN(([,,y])=>y).right(o,h);if(x===o.length)return t.every(nw(u/By,d/By,f));if(x===0)return sg.every(Math.max(nw(u,d,f),1));const[b,w]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return b.every(w)}return[l,c]}const[foe,hoe]=QD(fi,rS,Z0,XD,tS,ZN),[poe,moe]=QD(di,nS,Q0,sh,eS,QN);function qy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Su(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function goe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Eu(s),d=Tu(s),f=Eu(i),h=Tu(i),x=Eu(o),b=Tu(o),w=Eu(l),y=Tu(l),v=Eu(c),_=Tu(c),N={a:B,A:z,b:V,B:U,c:null,d:Yk,e:Yk,f:Foe,g:Joe,G:Xoe,H:Doe,I:Loe,j:$oe,L:ZD,m:Uoe,M:Voe,p:X,q:Q,Q:Zk,s:eC,S:Boe,u:qoe,U:zoe,V:Goe,w:Hoe,W:Woe,x:null,X:null,y:Koe,Y:Yoe,Z:Qoe,"%":Qk},C={a:G,A:ie,b:W,B:fe,c:null,d:Xk,e:Xk,f:nle,g:fle,G:ple,H:Zoe,I:ele,j:tle,L:tL,m:rle,M:sle,p:Ee,q:Ie,Q:Zk,s:eC,S:ile,u:ale,U:ole,V:lle,w:cle,W:ule,x:null,X:null,y:dle,Y:hle,Z:mle,"%":Qk},E={a:R,A:P,b:O,B:I,c:H,d:Kk,e:Kk,f:Ioe,g:Wk,G:Hk,H:Jk,I:Jk,j:koe,L:Poe,m:Aoe,M:Coe,p:T,q:Toe,Q:Moe,s:Ooe,S:joe,u:woe,U:_oe,V:Noe,w:boe,W:Soe,x:F,X:L,y:Wk,Y:Hk,Z:Eoe,"%":Roe};N.x=A(n,N),N.X=A(r,N),N.c=A(e,N),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(ce,ae){return function(J){var K=[],he=-1,ve=0,Le=ce.length,Z,me,Xe;for(J instanceof Date||(J=new Date(+J));++he<Le;)ce.charCodeAt(he)===37&&(K.push(ce.slice(ve,he)),(me=Gk[Z=ce.charAt(++he)])!=null?Z=ce.charAt(++he):me=Z==="e"?" ":"0",(Xe=ae[Z])&&(Z=Xe(J,me)),K.push(Z),ve=he+1);return K.push(ce.slice(ve,he)),K.join("")}}function S(ce,ae){return function(J){var K=Su(1900,void 0,1),he=j(K,ce,J+="",0),ve,Le;if(he!=J.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ae&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ve=zy(Su(K.y,0,1)),Le=ve.getUTCDay(),ve=Le>4||Le===0?ag.ceil(ve):ag(ve),ve=X0.offset(ve,(K.V-1)*7),K.y=ve.getUTCFullYear(),K.m=ve.getUTCMonth(),K.d=ve.getUTCDate()+(K.w+6)%7):(ve=qy(Su(K.y,0,1)),Le=ve.getDay(),ve=Le>4||Le===0?ig.ceil(ve):ig(ve),ve=sh.offset(ve,(K.V-1)*7),K.y=ve.getFullYear(),K.m=ve.getMonth(),K.d=ve.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Le="Z"in K?zy(Su(K.y,0,1)).getUTCDay():qy(Su(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Le+5)%7:K.w+K.U*7-(Le+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,zy(K)):qy(K)}}function j(ce,ae,J,K){for(var he=0,ve=ae.length,Le=J.length,Z,me;he<ve;){if(K>=Le)return-1;if(Z=ae.charCodeAt(he++),Z===37){if(Z=ae.charAt(he++),me=E[Z in Gk?ae.charAt(he++):Z],!me||(K=me(ce,J,K))<0)return-1}else if(Z!=J.charCodeAt(K++))return-1}return K}function T(ce,ae,J){var K=u.exec(ae.slice(J));return K?(ce.p=d.get(K[0].toLowerCase()),J+K[0].length):-1}function R(ce,ae,J){var K=x.exec(ae.slice(J));return K?(ce.w=b.get(K[0].toLowerCase()),J+K[0].length):-1}function P(ce,ae,J){var K=f.exec(ae.slice(J));return K?(ce.w=h.get(K[0].toLowerCase()),J+K[0].length):-1}function O(ce,ae,J){var K=v.exec(ae.slice(J));return K?(ce.m=_.get(K[0].toLowerCase()),J+K[0].length):-1}function I(ce,ae,J){var K=w.exec(ae.slice(J));return K?(ce.m=y.get(K[0].toLowerCase()),J+K[0].length):-1}function H(ce,ae,J){return j(ce,e,ae,J)}function F(ce,ae,J){return j(ce,n,ae,J)}function L(ce,ae,J){return j(ce,r,ae,J)}function B(ce){return o[ce.getDay()]}function z(ce){return i[ce.getDay()]}function V(ce){return c[ce.getMonth()]}function U(ce){return l[ce.getMonth()]}function X(ce){return s[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function G(ce){return o[ce.getUTCDay()]}function ie(ce){return i[ce.getUTCDay()]}function W(ce){return c[ce.getUTCMonth()]}function fe(ce){return l[ce.getUTCMonth()]}function Ee(ce){return s[+(ce.getUTCHours()>=12)]}function Ie(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ae=A(ce+="",N);return ae.toString=function(){return ce},ae},parse:function(ce){var ae=S(ce+="",!1);return ae.toString=function(){return ce},ae},utcFormat:function(ce){var ae=A(ce+="",C);return ae.toString=function(){return ce},ae},utcParse:function(ce){var ae=S(ce+="",!0);return ae.toString=function(){return ce},ae}}}var Gk={"-":"",_:" ",0:"0"},an=/^\s*\d+/,xoe=/^%/,yoe=/[\\^$*+?|[\]().{}]/g;function et(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function voe(t){return t.replace(yoe,"\\$&")}function Eu(t){return new RegExp("^(?:"+t.map(voe).join("|")+")","i")}function Tu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function boe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hk(t,e,n){var r=an.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Toe(t,e,n){var r=an.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aoe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function joe(t,e,n){var r=an.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=an.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=an.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Roe(t,e,n){var r=xoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Moe(t,e,n){var r=an.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ooe(t,e,n){var r=an.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Yk(t,e){return et(t.getDate(),e,2)}function Doe(t,e){return et(t.getHours(),e,2)}function Loe(t,e){return et(t.getHours()%12||12,e,2)}function $oe(t,e){return et(1+sh.count(di(t),t),e,3)}function ZD(t,e){return et(t.getMilliseconds(),e,3)}function Foe(t,e){return ZD(t,e)+"000"}function Uoe(t,e){return et(t.getMonth()+1,e,2)}function Voe(t,e){return et(t.getMinutes(),e,2)}function Boe(t,e){return et(t.getSeconds(),e,2)}function qoe(t){var e=t.getDay();return e===0?7:e}function zoe(t,e){return et(Q0.count(di(t)-1,t),e,2)}function eL(t){var e=t.getDay();return e>=4||e===0?ac(t):ac.ceil(t)}function Goe(t,e){return t=eL(t),et(ac.count(di(t),t)+(di(t).getDay()===4),e,2)}function Hoe(t){return t.getDay()}function Woe(t,e){return et(ig.count(di(t)-1,t),e,2)}function Koe(t,e){return et(t.getFullYear()%100,e,2)}function Joe(t,e){return t=eL(t),et(t.getFullYear()%100,e,2)}function Yoe(t,e){return et(t.getFullYear()%1e4,e,4)}function Xoe(t,e){var n=t.getDay();return t=n>=4||n===0?ac(t):ac.ceil(t),et(t.getFullYear()%1e4,e,4)}function Qoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+et(e/60|0,"0",2)+et(e%60,"0",2)}function Xk(t,e){return et(t.getUTCDate(),e,2)}function Zoe(t,e){return et(t.getUTCHours(),e,2)}function ele(t,e){return et(t.getUTCHours()%12||12,e,2)}function tle(t,e){return et(1+X0.count(fi(t),t),e,3)}function tL(t,e){return et(t.getUTCMilliseconds(),e,3)}function nle(t,e){return tL(t,e)+"000"}function rle(t,e){return et(t.getUTCMonth()+1,e,2)}function sle(t,e){return et(t.getUTCMinutes(),e,2)}function ile(t,e){return et(t.getUTCSeconds(),e,2)}function ale(t){var e=t.getUTCDay();return e===0?7:e}function ole(t,e){return et(Z0.count(fi(t)-1,t),e,2)}function nL(t){var e=t.getUTCDay();return e>=4||e===0?oc(t):oc.ceil(t)}function lle(t,e){return t=nL(t),et(oc.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function cle(t){return t.getUTCDay()}function ule(t,e){return et(ag.count(fi(t)-1,t),e,2)}function dle(t,e){return et(t.getUTCFullYear()%100,e,2)}function fle(t,e){return t=nL(t),et(t.getUTCFullYear()%100,e,2)}function hle(t,e){return et(t.getUTCFullYear()%1e4,e,4)}function ple(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oc(t):oc.ceil(t),et(t.getUTCFullYear()%1e4,e,4)}function mle(){return"+0000"}function Qk(){return"%"}function Zk(t){return+t}function eC(t){return Math.floor(+t/1e3)}var Uo,rL,sL;gle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gle(t){return Uo=goe(t),rL=Uo.format,Uo.parse,sL=Uo.utcFormat,Uo.utcParse,Uo}function xle(t){return new Date(t)}function yle(t){return t instanceof Date?+t:+new Date(+t)}function sS(t,e,n,r,s,i,o,l,c,u){var d=zN(),f=d.invert,h=d.domain,x=u(".%L"),b=u(":%S"),w=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),_=u("%b %d"),N=u("%B"),C=u("%Y");function E(A){return(c(A)<A?x:l(A)<A?b:o(A)<A?w:i(A)<A?y:r(A)<A?s(A)<A?v:_:n(A)<A?N:C)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,yle)):h().map(xle)},d.ticks=function(A){var S=h();return t(S[0],S[S.length-1],A??10)},d.tickFormat=function(A,S){return S==null?E:u(S)},d.nice=function(A){var S=h();return(!A||typeof A.range!="function")&&(A=e(S[0],S[S.length-1],A??10)),A?h(zD(S,A)):d},d.copy=function(){return rh(d,sS(t,e,n,r,s,i,o,l,c,u))},d}function vle(){return Ur.apply(sS(poe,moe,di,nS,Q0,sh,eS,QN,Ha,rL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ble(){return Ur.apply(sS(foe,hoe,fi,rS,Z0,X0,tS,ZN,Ha,sL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var t=0,e=1,n,r,s,i,o=Fn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,b;return arguments.length?([x,b]=h,o=f(x,b),u):[o(0),o(1)]}}return u.range=d(Gc),u.rangeRound=d(qN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iL(){var t=va(ex()(Fn));return t.copy=function(){return ba(t,iL())},vi.apply(t,arguments)}function aL(){var t=WN(ex()).domain([1,10]);return t.copy=function(){return ba(t,aL()).base(t.base())},vi.apply(t,arguments)}function oL(){var t=KN(ex());return t.copy=function(){return ba(t,oL()).constant(t.constant())},vi.apply(t,arguments)}function iS(){var t=JN(ex());return t.copy=function(){return ba(t,iS()).exponent(t.exponent())},vi.apply(t,arguments)}function wle(){return iS.apply(null,arguments).exponent(.5)}function lL(){var t=[],e=Fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((th(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ra),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>oae(t,i/r))},n.copy=function(){return lL(e).domain(t)},vi.apply(n,arguments)}function tx(){var t=0,e=.5,n=1,r=1,s,i,o,l,c,u=Fn,d,f=!1,h;function x(w){return isNaN(w=+w)?h:(w=.5+((w=+d(w))-i)*(r*w<r*i?l:c),u(f?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,s=d(t=+t),i=d(e=+e),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(f=!!w,x):f},x.interpolator=function(w){return arguments.length?(u=w,x):u};function b(w){return function(y){var v,_,N;return arguments.length?([v,_,N]=y,u=Rae(w,[v,_,N]),x):[u(0),u(.5),u(1)]}}return x.range=b(Gc),x.rangeRound=b(qN),x.unknown=function(w){return arguments.length?(h=w,x):h},function(w){return d=w,s=w(t),i=w(e),o=w(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x}}function cL(){var t=va(tx()(Fn));return t.copy=function(){return ba(t,cL())},vi.apply(t,arguments)}function uL(){var t=WN(tx()).domain([.1,1,10]);return t.copy=function(){return ba(t,uL()).base(t.base())},vi.apply(t,arguments)}function dL(){var t=KN(tx());return t.copy=function(){return ba(t,dL()).constant(t.constant())},vi.apply(t,arguments)}function aS(){var t=JN(tx());return t.copy=function(){return ba(t,aS()).exponent(t.exponent())},vi.apply(t,arguments)}function _le(){return aS.apply(null,arguments).exponent(.5)}const tC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tf,scaleDiverging:cL,scaleDivergingLog:uL,scaleDivergingPow:aS,scaleDivergingSqrt:_le,scaleDivergingSymlog:dL,scaleIdentity:qD,scaleImplicit:rw,scaleLinear:rg,scaleLog:GD,scaleOrdinal:UN,scalePoint:ud,scalePow:YN,scaleQuantile:KD,scaleQuantize:JD,scaleRadial:WD,scaleSequential:iL,scaleSequentialLog:aL,scaleSequentialPow:iS,scaleSequentialQuantile:lL,scaleSequentialSqrt:wle,scaleSequentialSymlog:oL,scaleSqrt:noe,scaleSymlog:HD,scaleThreshold:YD,scaleTime:vle,scaleUtc:ble,tickFormat:BD},Symbol.toStringTag,{value:"Module"}));var Nle=Oc;function Sle(t,e,n){for(var r=-1,s=t.length;++r<s;){var i=t[r],o=e(i);if(o!=null&&(l===void 0?o===o&&!Nle(o):n(o,l)))var l=o,c=i}return c}var nx=Sle;function Ele(t,e){return t>e}var fL=Ele,Tle=nx,Ale=fL,kle=zc;function Cle(t){return t&&t.length?Tle(t,kle,Ale):void 0}var jle=Cle;const Bi=ot(jle);function Ple(t,e){return t<e}var hL=Ple,Ile=nx,Rle=hL,Mle=zc;function Ole(t){return t&&t.length?Ile(t,Mle,Rle):void 0}var Dle=Ole;const rx=ot(Dle);var Lle=bN,$le=Is,Fle=_D,Ule=rr;function Vle(t,e){var n=Ule(t)?Lle:Fle;return n(t,$le(e))}var Ble=Vle,qle=bD,zle=Ble;function Gle(t,e){return qle(zle(t,e),1)}var Hle=Gle;const Wle=ot(Hle);var Kle=ON;function Jle(t,e){return Kle(t,e)}var Yle=Jle;const lc=ot(Yle);var Hc=1e9,Xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lS,Tt=!0,Lr="[DecimalError] ",no=Lr+"Invalid argument: ",oS=Lr+"Exponent out of range: ",Wc=Math.floor,Da=Math.pow,Qle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,tn=1e7,wt=7,pL=9007199254740991,og=Wc(pL/wt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return Qs(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return ft(Qs(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return zt(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(lr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Tt=!1,e=Qs(of(n,i),of(t,i),i),Tt=!0,ft(e,s))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xL(e,t):mL(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Lr+"NaN");return n.s?(Tt=!1,e=Qs(n,t,0,1).times(t),Tt=!0,n.minus(e)):ft(new r(n),s)};_e.naturalExponential=_e.exp=function(){return gL(this)};_e.naturalLogarithm=_e.ln=function(){return of(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):xL(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(no+t);if(e=zt(s)+1,r=s.d.length-1,n=r*wt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Lr+"NaN")}for(t=zt(l),Tt=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=ms(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Wc((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(Qs(l,i,o+2)).times(.5),ms(i.d).slice(0,o)===(e=ms(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(ft(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return Tt=!0,ft(r,n)};_e.times=_e.mul=function(t){var e,n,r,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(i=h,h=x,x=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+x[r]*h[s-r-1]+e,i[s--]=l%tn|0,e=l/tn|0;i[s]=(i[s]+e)%tn|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Tt?ft(t,f.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ks(t,0,Hc),e===void 0?e=r.rounding:ks(e,0,8),ft(n,t+zt(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=yo(r,!0):(ks(t,0,Hc),e===void 0?e=s.rounding:ks(e,0,8),r=ft(new s(r),t+1,e),n=yo(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?yo(s):(ks(t,0,Hc),e===void 0?e=i.rounding:ks(e,0,8),r=ft(new i(s),t+zt(s)+1,e),n=yo(r.abs(),!1,t+zt(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return ft(new e(t),zt(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(lr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Lr+"Infinity");return l}if(l.eq(lr))return l;if(r=c.precision,t.eq(lr))return ft(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=d<0?-d:d)<=pL){for(s=new c(lr),e=Math.ceil(r/wt+4),Tt=!1;n%2&&(s=s.times(l),rC(s.d,e)),n=Wc(n/2),n!==0;)l=l.times(l),rC(l.d,e);return Tt=!0,t.s<0?new c(lr).div(s):ft(s,r)}}else if(i<0)throw Error(Lr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Tt=!1,s=t.times(of(l,r+u)),Tt=!0,s=gL(s),s.s=i,s};_e.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=zt(s),r=yo(s,n<=i.toExpNeg||n>=i.toExpPos)):(ks(t,1,Hc),e===void 0?e=i.rounding:ks(e,0,8),s=ft(new i(s),t,e),n=zt(s),r=yo(s,t<=n||n<=i.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ks(t,1,Hc),e===void 0?e=r.rounding:ks(e,0,8)),ft(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zt(t),n=t.constructor;return yo(t,e<=n.toExpNeg||e>=n.toExpPos)};function mL(t,e){var n,r,s,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Tt?ft(e,f):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/wt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/tn|0,c[i]%=tn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Tt?ft(e,f):e}function ks(t,e,n){if(t!==~~t||t<e||t>n)throw Error(no+t)}function ms(t){var e,n,r,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)r=t[e]+"",n=wt-r.length,n&&(i+=Pi(n)),i+=r;o=t[e],r=o+"",n=wt-r.length,n&&(i+=Pi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Qs=function(){function t(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%tn|0,o=i/tn|0;return o&&r.unshift(o),r}function e(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*tn+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,f,h,x,b,w,y,v,_,N,C,E,A,S,j,T=r.constructor,R=r.s==s.s?1:-1,P=r.d,O=s.d;if(!r.s)return new T(r);if(!s.s)throw Error(Lr+"Division by zero");for(c=r.e-s.e,S=O.length,E=P.length,x=new T(R),b=x.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,i==null?_=i=T.precision:o?_=i+(zt(r)-zt(s))+1:_=i,_<0)return new T(0);if(_=_/wt+2|0,u=0,S==1)for(d=0,O=O[0],_++;(u<E||d)&&_--;u++)N=d*tn+(P[u]||0),b[u]=N/O|0,d=N%O|0;else{for(d=tn/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),S=O.length,E=P.length),C=S,w=P.slice(0,S),y=w.length;y<S;)w[y++]=0;j=O.slice(),j.unshift(0),A=O[0],O[1]>=tn/2&&++A;do d=0,l=e(O,w,S,y),l<0?(v=w[0],S!=y&&(v=v*tn+(w[1]||0)),d=v/A|0,d>1?(d>=tn&&(d=tn-1),f=t(O,d),h=f.length,y=w.length,l=e(f,w,h,y),l==1&&(d--,n(f,S<h?j:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(w,f,y),l==-1&&(y=w.length,l=e(O,w,S,y),l<1&&(d++,n(w,S<y?j:O,y))),y=w.length):l===0&&(d++,w=[0]),b[u++]=d,l&&w[0]?w[y++]=P[C]||0:(w=[P[C]],y=1);while((C++<E||w[0]!==void 0)&&_--)}return b[0]||b.shift(),x.e=c,ft(x,o?i+zt(x)+1:i)}}();function gL(t,e){var n,r,s,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(zt(t)>16)throw Error(oS+zt(t));if(!t.s)return new d(lr);for(Tt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Da(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(lr),d.precision=l;;){if(s=ft(s.times(t),l),n=n.times(++c),o=i.plus(Qs(s,n,l)),ms(o.d).slice(0,l)===ms(i.d).slice(0,l)){for(;u--;)i=ft(i.times(i),l);return d.precision=f,e==null?(Tt=!0,ft(i,f)):i}i=o}}function zt(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function Gy(t,e,n){if(e>t.LN10.sd())throw Tt=!0,n&&(t.precision=n),Error(Lr+"LN10 precision limit exceeded");return ft(new t(t.LN10),e)}function Pi(t){for(var e="";t--;)e+="0";return e}function of(t,e){var n,r,s,i,o,l,c,u,d,f=1,h=10,x=t,b=x.d,w=x.constructor,y=w.precision;if(x.s<1)throw Error(Lr+(x.s?"NaN":"-Infinity"));if(x.eq(lr))return new w(0);if(e==null?(Tt=!1,u=y):u=e,x.eq(10))return e==null&&(Tt=!0),Gy(w,u);if(u+=h,w.precision=u,n=ms(b),r=n.charAt(0),i=zt(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=ms(x.d),r=n.charAt(0),f++;i=zt(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return c=Gy(w,u+2,y).times(i+""),x=of(new w(r+"."+n.slice(1)),u-h).plus(c),w.precision=y,e==null?(Tt=!0,ft(x,y)):x;for(l=o=x=Qs(x.minus(lr),x.plus(lr),u),d=ft(x.times(x),u),s=3;;){if(o=ft(o.times(d),u),c=l.plus(Qs(o,new w(s),u)),ms(c.d).slice(0,u)===ms(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Gy(w,u+2,y).times(i+""))),l=Qs(l,new w(f),u),w.precision=y,e==null?(Tt=!0,ft(l,y)):l;l=c,s+=2}}function nC(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=Wc(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=wt;r<s;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),Tt&&(t.e>og||t.e<-og))throw Error(oS+n)}else t.s=0,t.e=0,t.d=[0];return t}function ft(t,e,n){var r,s,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=wt,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/wt),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=wt,s=r-wt+o}if(n!==void 0&&(i=Da(10,o-s-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Da(10,o-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(i=zt(t),f.length=1,e=e-i-1,f[0]=Da(10,(wt-e%wt)%wt),t.e=Wc(-e/wt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Da(10,wt-r),f[d]=s>0?(u/Da(10,o-s)%Da(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==tn&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=tn)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Tt&&(t.e>og||t.e<-og))throw Error(oS+zt(t));return t}function xL(t,e){var n,r,s,i,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tt?ft(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(x/wt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=tn-1;--c[i],c[s]+=tn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Tt?ft(e,x):e):new h(0)}function yo(t,e,n){var r,s=zt(t),i=ms(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Pi(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Pi(-s-1)+i,n&&(r=n-o)>0&&(i+=Pi(r))):s>=o?(i+=Pi(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Pi(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Pi(r))),t.s<0?"-"+i:i}function rC(t,e){if(t.length>e)return t.length=e,!0}function yL(t){var e,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(no+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return nC(o,i.toString())}else if(typeof i!="string")throw Error(no+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Qle.test(i))nC(o,i);else throw Error(no+i)}if(s.prototype=_e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=yL,s.config=s.set=Zle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function Zle(t){if(!t||typeof t!="object")throw Error(Lr+"Object expected");var e,n,r,s=["precision",1,Hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(Wc(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(no+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(no+n+": "+r);return this}var lS=yL(Xle);lr=new lS(1);const ct=lS;function ece(t){return sce(t)||rce(t)||nce(t)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function rce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sce(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ice=function(e){return e},vL={},bL=function(e){return e===vL},sC=function(e){return function n(){return arguments.length===0||arguments.length===1&&bL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ace=function t(e,n){return e===1?n:sC(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==vL}).length;return o>=e?n.apply(void 0,s):t(e-o,sC(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return bL(f)?c.shift():f});return n.apply(void 0,ece(d).concat(c))}))})},sx=function(e){return ace(e.length,e)},lw=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},oce=sx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ice;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wL=function(e){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function cce(t){var e;return t===0?e=1:e=Math.floor(new ct(t).abs().log(10).toNumber())+1,e}function uce(t,e,n){for(var r=new ct(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var dce=sx(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),fce=sx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hce=sx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ix={rangeStep:uce,getDigitCount:cce,interpolateNumber:dce,uninterpolateNumber:fce,uninterpolateTruncation:hce};function uw(t){return gce(t)||mce(t)||_L(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gce(t){if(Array.isArray(t))return dw(t)}function lf(t,e){return vce(t)||yce(t,e)||_L(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _L(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function vce(t){if(Array.isArray(t))return t}function NL(t){var e=lf(t,2),n=e[0],r=e[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function SL(t,e,n){if(t.lte(0))return new ct(0);var r=ix.getDigitCount(t.toNumber()),s=new ct(10).pow(r),i=t.div(s),o=r!==1?.05:.1,l=new ct(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new ct(Math.ceil(c))}function bce(t,e,n){var r=1,s=new ct(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new ct(10).pow(ix.getDigitCount(t)-1),s=new ct(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new ct(Math.floor(t)))}else t===0?s=new ct(Math.floor((e-1)/2)):n||(s=new ct(Math.floor(t)));var o=Math.floor((e-1)/2),l=lce(oce(function(c){return s.add(new ct(c-o).mul(r)).toNumber()}),lw);return l(0,e)}function EL(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var i=SL(new ct(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new ct(0):(o=new ct(t).add(e).div(2),o=o.sub(new ct(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new ct(e).sub(o).div(i).toNumber()),u=l+c+1;return u>n?EL(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:i,tickMin:o.sub(new ct(l).mul(i)),tickMax:o.add(new ct(c).mul(i))})}function wce(t){var e=lf(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=NL([n,r]),c=lf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(uw(lw(0,s-1).map(function(){return 1/0}))):[].concat(uw(lw(0,s-1).map(function(){return-1/0})),[d]);return n>r?cw(f):f}if(u===d)return bce(u,s,i);var h=EL(u,d,o,i),x=h.step,b=h.tickMin,w=h.tickMax,y=ix.rangeStep(b,w.add(new ct(.1).mul(x)),x);return n>r?cw(y):y}function _ce(t,e){var n=lf(t,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NL([r,s]),l=lf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),f=SL(new ct(u).sub(c).div(d-1),i,0),h=[].concat(uw(ix.rangeStep(new ct(c),new ct(u).sub(new ct(.99).mul(f)),f)),[u]);return r>s?cw(h):h}var Nce=wL(wce),Sce=wL(_ce),Ece="Invariant failed";function vo(t,e){throw new Error(Ece)}var Tce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Ace(t,e){return Pce(t)||jce(t,e)||Cce(t,e)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return iC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iC(t,e)}}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Pce(t){if(Array.isArray(t))return t}function Ice(t,e){if(t==null)return{};var n=Rce(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function Dce(t,e,n){return e&&Oce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lce(t,e,n){return e=cg(e),$ce(t,TL()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function $ce(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function Uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fw(t,e)}function AL(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t){var e=Vce(t,"string");return cc(e)=="symbol"?e:e+""}function Vce(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ax=function(t){function e(){return Mce(this,e),Lce(this,e,arguments)}return Uce(e,t),Dce(e,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Ice(r,Tce),x=Te(h,!1);this.props.direction==="x"&&d.type!=="number"&&vo();var b=c.map(function(w){var y=u(w,l),v=y.x,_=y.y,N=y.value,C=y.errorVal;if(!C)return null;var E=[],A,S;if(Array.isArray(C)){var j=Ace(C,2);A=j[0],S=j[1]}else A=S=C;if(i==="vertical"){var T=d.scale,R=_+s,P=R+o,O=R-o,I=T(N-A),H=T(N+S);E.push({x1:H,y1:P,x2:H,y2:O}),E.push({x1:I,y1:R,x2:H,y2:R}),E.push({x1:I,y1:P,x2:I,y2:O})}else if(i==="horizontal"){var F=f.scale,L=v+s,B=L-o,z=L+o,V=F(N-A),U=F(N+S);E.push({x1:B,y1:U,x2:z,y2:U}),E.push({x1:L,y1:V,x2:L,y2:U}),E.push({x1:B,y1:V,x2:z,y2:V})}return q.createElement(Je,lg({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},x),E.map(function(X){return q.createElement("line",lg({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return q.createElement(Je,{className:"recharts-errorBars"},b)}}])}(q.Component);AL(ax,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AL(ax,"displayName","ErrorBar");function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return e=qce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=zce(t,"string");return cf(e)=="symbol"?e:e+""}function zce(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CL=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=or(n,eo);if(!o)return null;var l=eo.defaultProps,c=l!==void 0?ka(ka({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,b=x.sectors||x.data||[];return d.concat(b.map(function(w){return{type:o.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?ka(ka({},h),f.props):{},b=x.dataKey,w=x.name,y=x.legendType,v=x.hide;return{inactive:v,dataKey:b,type:c.iconType||y||"square",color:cS(f),value:w||b,payload:x}}),ka(ka(ka({},c),eo.getWithHeight(o,s)),{},{payload:u,item:o})};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function oC(t){return Kce(t)||Wce(t)||Hce(t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kl(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Yce(t,"string");return uf(e)=="symbol"?e:e+""}function Yce(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kt(t,e,n){return $e(t)||$e(e)?n:Yt(e)?fr(t,e,n):Ce(e)?e(t):n}function dd(t,e,n,r){var s=Wle(t,function(l){return Kt(l,e)});if(n==="number"){var i=s.filter(function(l){return ue(l)||parseFloat(l)});return i.length?[rx(i),Bi(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!$e(l)}):s;return o.map(function(l){return Yt(l)||l instanceof Date?l:""})}var Xce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,x=void 0;if(Ln(f-d)!==Ln(h-f)){var b=[];if(Ln(h-f)===Ln(c[1]-c[0])){x=h;var w=f+c[1]-c[0];b[0]=Math.min(w,(w+d)/2),b[1]=Math.max(w,(w+d)/2)}else{x=d;var y=h+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>v[0]&&e<=v[1]||e>=b[0]&&e<=b[1]){o=s[u].index;break}}else{var _=Math.min(d,h),N=Math.max(d,h);if(e>(_+f)/2&&e<=(N+f)/2){o=s[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},cS=function(e){var n,r=e,s=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Qce=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var b=d[f[h]],w=b.items,y=b.cateAxisId,v=w.filter(function(S){return Xs(S.type).indexOf("Bar")>=0});if(v&&v.length){var _=v[0].type.defaultProps,N=_!==void 0?Mt(Mt({},_),v[0].props):v[0].props,C=N.barSize,E=N[y];o[E]||(o[E]=[]);var A=$e(C)?n:C;o[E].push({item:v[0],stackList:v.slice(1),barSize:$e(A)?void 0:$n(A,r,0)})}}return o},Zce=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=$n(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=s/c,b=o.reduce(function(C,E){return C+E.barSize||0},0);b+=(c-1)*u,b>=s&&(b-=(c-1)*u,u=0),b>=s&&x>0&&(h=!0,x*=.9,b=c*x);var w=(s-b)/2>>0,y={offset:w-u,size:0};d=o.reduce(function(C,E){var A={item:E.item,position:{offset:y.offset+y.size+u,size:h?x:E.barSize}},S=[].concat(oC(C),[A]);return y=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){S.push({item:j,position:y})}),S},f)}else{var v=$n(r,s,0,!0);s-2*v-(c-1)*u<=0&&(u=0);var _=(s-2*v-(c-1)*u)/c;_>1&&(_>>=0);var N=l===+l?Math.min(_,l):_;d=o.reduce(function(C,E,A){var S=[].concat(oC(C),[{item:E.item,position:{offset:v+(_+u)*A+(_-N)/2,size:N}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){S.push({item:j,position:S[S.length-1].position})}),S},f)}return d},eue=function(e,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=CL({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,x=u.align,b=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&x!=="center"&&ue(e[x]))return Mt(Mt({},e),{},kl({},x,e[x]+(f||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&b!=="middle"&&ue(e[b]))return Mt(Mt({},e),{},kl({},b,e[b]+(h||0)))}return e},tue=function(e,n,r){return $e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},jL=function(e,n,r,s,i){var o=n.props.children,l=Pr(o,ax).filter(function(u){return tue(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Kt(d,r);if($e(f))return u;var h=Array.isArray(f)?[rx(f),Bi(f)]:[f,f],x=c.reduce(function(b,w){var y=Kt(d,w,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},nue=function(e,n,r,s,i){var o=n.map(function(l){return jL(e,l,r,i,s)}).filter(function(l){return!$e(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PL=function(e,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&jL(e,c,u,s)||dd(e,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},IL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},RL=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},Ws=function(e,n,r){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ln(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Uc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Hy=new WeakMap,ep=function(e,n){if(typeof n!="function")return e;Hy.has(e)||Hy.set(e,new WeakMap);var r=Hy.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},ML=function(e,n,r){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:tf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:rg(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ud(),realScaleType:"point"}:i==="category"?{scale:tf(),realScaleType:"band"}:{scale:rg(),realScaleType:"linear"};if(mo(s)){var c="scale".concat(B0(s));return{scale:(tC[c]||ud)(),realScaleType:tC[c]?c:"point"}}return Ce(s)?{scale:s}:{scale:ud(),realScaleType:"point"}},cC=1e-4,OL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),i=Math.min(s[0],s[1])-cC,o=Math.max(s[0],s[1])+cC,l=e(n[0]),c=e(n[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},rue=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},sue=function(e,n){if(!n||n.length!==2||!ue(n[0])||!ue(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(i[0]=r),(!ue(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},iue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Uc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},aue=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=Uc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},oue={sign:iue,expand:TY,none:ec,silhouette:AY,wiggle:kY,positive:aue},lue=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),i=oue[r],o=EY().keys(s).value(function(l,c){return+Kt(l,c,0)}).order($b).offset(i);return o(e)},cue=function(e,n,r,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,b=(x=h.type)!==null&&x!==void 0&&x.defaultProps?Mt(Mt({},h.type.defaultProps),h.props):h.props,w=b.stackId,y=b.hide;if(y)return f;var v=b[r],_=f[v]||{hasStack:!1,stackGroups:{}};if(Yt(w)){var N=_.stackGroups[w]||{numericAxisId:r,cateAxisId:s,items:[]};N.items.push(h),_.hasStack=!0,_.stackGroups[w]=N}else _.stackGroups[Vc("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Mt(Mt({},f),{},kl({},v,_))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,y){var v=x.stackGroups[y];return Mt(Mt({},w),{},kl({},y,{numericAxisId:r,cateAxisId:s,items:v.items,stackedData:lue(e,v.items,i)}))},b)}return Mt(Mt({},f),{},kl({},h,x))},d)},DL=function(e,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Nce(u,i,l);return e.domain([rx(d),Bi(d)]),{niceTicks:d}}if(i&&s==="number"){var f=e.domain(),h=Sce(f,i,l);return{niceTicks:h}}return null};function uC(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$e(s[e.dataKey])){var l=Om(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Kt(s,$e(o)?e.dataKey:o);return $e(c)?null:e.scale(c)}var dC=function(e){var n=e.axis,r=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=Kt(o,n.dataKey,n.domain[l]);return $e(c)?null:n.scale(c)-i/2+s},uue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},due=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(Yt(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},fue=function(e){return e.reduce(function(n,r){return[rx(r.concat([n[0]]).filter(ue)),Bi(r.concat([n[1]]).filter(ue))]},[1/0,-1/0])},LL=function(e,n,r){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=fue(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},fC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=function(e,n,r){if(Ce(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(ue(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(fC.test(e[0])){var i=+fC.exec(e[0])[1];s[0]=n[0]-i}else Ce(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(ue(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(hC.test(e[1])){var o=+hC.exec(e[1])[1];s[1]=n[1]+o}else Ce(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},ug=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var i=LN(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},pC=function(e,n,r){return!e||!e.length||lc(e,fr(r,"type.defaultProps.domain"))?n:e},$L=function(e,n){var r=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Mt(Mt({},Te(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:cS(e),value:Kt(n,s),type:c,payload:n,chartType:u,hide:d})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){FL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FL(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=pue(t,"string");return df(e)=="symbol"?e:e+""}function pue(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t,e){return vue(t)||yue(t,e)||xue(t,e)||gue()}function gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vue(t){if(Array.isArray(t))return t}var dg=Math.PI/180,bue=function(e){return e*180/Math.PI},xt=function(e,n,r,s){return{x:e+Math.cos(-dg*s)*r,y:n+Math.sin(-dg*s)*r}},UL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wue=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=$n(e.cx,o,o/2),f=$n(e.cy,l,l/2),h=UL(o,l,r),x=$n(e.innerRadius,h,0),b=$n(e.outerRadius,h,h*.8),w=Object.keys(n);return w.reduce(function(y,v){var _=n[v],N=_.domain,C=_.reversed,E;if($e(_.range))s==="angleAxis"?E=[c,u]:s==="radiusAxis"&&(E=[x,b]),C&&(E=[E[1],E[0]]);else{E=_.range;var A=E,S=mue(A,2);c=S[0],u=S[1]}var j=ML(_,i),T=j.realScaleType,R=j.scale;R.domain(N).range(E),OL(R);var P=DL(R,Ls(Ls({},_),{},{realScaleType:T})),O=Ls(Ls(Ls({},_),P),{},{range:E,radius:b,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:x,outerRadius:b,startAngle:c,endAngle:u});return Ls(Ls({},y),{},FL({},v,O))},{})},_ue=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},Nue=function(e,n){var r=e.x,s=e.y,i=n.cx,o=n.cy,l=_ue({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:bue(u),angleInRadian:u}},Sue=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},Eue=function(e,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},xC=function(e,n){var r=e.x,s=e.y,i=Nue({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Sue(n),f=d.startAngle,h=d.endAngle,x=l,b;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;b=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;b=x>=h&&x<=f}return b?Ls(Ls({},n),{},{radius:o,angle:Eue(x,n)}):null},VL=function(e){return!D.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}var Tue=["offset"];function Aue(t){return Pue(t)||jue(t)||Cue(t)||kue()}function kue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pue(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iue(t,e){if(t==null)return{};var n=Rue(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return e=Oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Due(t,"string");return ff(e)=="symbol"?e:e+""}function Due(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}var Lue=function(e){var n=e.value,r=e.formatter,s=$e(e.children)?n:e.children;return Ce(r)?r(s):s},$ue=function(e,n){var r=Ln(n-e),s=Math.min(Math.abs(n-e),360);return r*s},Fue=function(e,n,r){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,b=c.endAngle,w=c.clockWise,y=(f+h)/2,v=$ue(x,b),_=v>=0?1:-1,N,C;s==="insideStart"?(N=x+_*o,C=w):s==="insideEnd"?(N=b-_*o,C=!w):s==="end"&&(N=b+_*o,C=w),C=v<=0?C:!C;var E=xt(u,d,y,N),A=xt(u,d,y,N+(C?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),j=$e(e.id)?Vc("recharts-radial-line-"):e.id;return q.createElement("text",hf({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:j,d:S})),q.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Uue=function(e){var n=e.viewBox,r=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var x=xt(o,l,u+r,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,v=xt(o,l,y,h),_=v.x,N=v.y;return{x:_,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Vue=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,x=f>0?"end":"start",b=f>0?"start":"end",w=u>=0?1:-1,y=w*s,v=w>0?"end":"start",_=w>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return Ht(Ht({},N),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return Ht(Ht({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var E={x:l-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ht(Ht({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Ht(Ht({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return i==="insideLeft"?Ht({x:l+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},S):i==="insideRight"?Ht({x:l+u-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideTop"?Ht({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},S):i==="insideBottom"?Ht({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},S):i==="insideTopLeft"?Ht({x:l+y,y:c+h,textAnchor:_,verticalAnchor:b},S):i==="insideTopRight"?Ht({x:l+u-y,y:c+h,textAnchor:v,verticalAnchor:b},S):i==="insideBottomLeft"?Ht({x:l+y,y:c+d-h,textAnchor:_,verticalAnchor:x},S):i==="insideBottomRight"?Ht({x:l+u-y,y:c+d-h,textAnchor:v,verticalAnchor:x},S):Dc(i)&&(ue(i.x)||za(i.x))&&(ue(i.y)||za(i.y))?Ht({x:l+$n(i.x,u),y:c+$n(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):Ht({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Bue=function(e){return"cx"in e&&ue(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=Iue(t,Tue),s=Ht({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||$e(l)&&$e(c)&&!D.isValidElement(u)&&!Ce(u))return null;if(D.isValidElement(u))return D.cloneElement(u,s);var x;if(Ce(u)){if(x=D.createElement(u,s),D.isValidElement(x))return x}else x=Lue(s);var b=Bue(i),w=Te(s,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fue(s,x,w);var y=b?Uue(s):Vue(s);return q.createElement(xo,hf({className:Ve("recharts-label",f)},w,y,{breakAll:h}),x)}rn.displayName="Label";var BL=function(e){var n=e.cx,r=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,b=e.left,w=e.width,y=e.height,v=e.clockWise,_=e.labelViewBox;if(_)return _;if(ue(w)&&ue(y)){if(ue(f)&&ue(h))return{x:f,y:h,width:w,height:y};if(ue(x)&&ue(b))return{x,y:b,width:w,height:y}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(n)&&ue(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:e.viewBox?e.viewBox:{}},que=function(e,n){return e?e===!0?q.createElement(rn,{key:"label-implicit",viewBox:n}):Yt(e)?q.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===rn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Ce(e)?q.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Dc(e)?q.createElement(rn,hf({viewBox:n},e,{key:"label-implicit"})):null:null},zue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,i=BL(e),o=Pr(s,rn).map(function(c,u){return D.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=que(e.label,n||i);return[l].concat(Aue(o))};rn.parseViewBox=BL;rn.renderCallByParent=zue;function Gue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Hue=Gue;const Wue=ot(Hue);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var Kue=["valueAccessor"],Jue=["data","dataKey","clockWise","id","textBreakAll"];function Yue(t){return ede(t)||Zue(t)||Que(t)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function Zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ede(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return e=nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return pf(e)=="symbol"?e:e+""}function rde(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wC(t,e){if(t==null)return{};var n=sde(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ide=function(e){return Array.isArray(e.value)?Wue(e.value):e.value};function Zs(t){var e=t.valueAccessor,n=e===void 0?ide:e,r=wC(t,Kue),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=wC(r,Jue);return!s||!s.length?null:q.createElement(Je,{className:"recharts-label-list"},s.map(function(d,f){var h=$e(i)?n(d,f):Kt(d&&d.payload,i),x=$e(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(rn,fg({},Te(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:rn.parseViewBox($e(o)?d:bC(bC({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Zs.displayName="LabelList";function ade(t,e){return t?t===!0?q.createElement(Zs,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Ce(t)?q.createElement(Zs,{key:"labelList-implicit",data:e,content:t}):Dc(t)?q.createElement(Zs,fg({data:e},t,{key:"labelList-implicit"})):null:null}function ode(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=Pr(r,Zs).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=ade(t.label,e);return[i].concat(Yue(s))}Zs.renderCallByParent=ode;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return e=cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return mf(e)=="symbol"?e:e+""}function ude(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dde=function(e,n){var r=Ln(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},tp=function(e){var n=e.cx,r=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/dg,h=u?i:i+o*f,x=xt(n,r,d,h),b=xt(n,r,s,h),w=u?i-o*f:i,y=xt(n,r,d*Math.cos(f*dg),w);return{center:x,circleTangency:b,lineTangency:y,theta:f}},qL=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=dde(o,l),u=o+c,d=xt(n,r,i,o),f=xt(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=xt(n,r,s,o),b=xt(n,r,s,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fde=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ln(d-u),h=tp({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,b=h.lineTangency,w=h.theta,y=tp({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,_=y.lineTangency,N=y.theta,C=c?Math.abs(u-d):Math.abs(u-d)-w-N;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qL({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var A=tp({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=A.circleTangency,j=A.lineTangency,T=A.theta,R=tp({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=R.circleTangency,O=R.lineTangency,I=R.theta,H=c?Math.abs(u-d):Math.abs(u-d)-T-I;if(H<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},hde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=function(e){var n=NC(NC({},hde),e),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var x=Ve("recharts-sector",h),b=o-i,w=$n(l,b,0,!0),y;return w>0&&Math.abs(d-f)<360?y=fde({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=qL({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",xw({},Te(n,!0),{className:x,d:y,role:"img"}))};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return gf(e)=="symbol"?e:e+""}function gde(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC={curveBasisClosed:pY,curveBasisOpen:mY,curveBasis:hY,curveBumpX:ZJ,curveBumpY:eY,curveLinearClosed:gY,curveLinear:z0,curveMonotoneX:xY,curveMonotoneY:yY,curveNatural:vY,curveStep:bY,curveStepAfter:_Y,curveStepBefore:wY},np=function(e){return e.x===+e.x&&e.y===+e.y},Au=function(e){return e.x},ku=function(e){return e.y},xde=function(e,n){if(Ce(e))return e;var r="curve".concat(B0(e));return(r==="curveMonotone"||r==="curveBump")&&n?TC["".concat(r).concat(n==="vertical"?"Y":"X")]:TC[r]||z0},yde=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=xde(r,l),f=u?i.filter(function(w){return np(w)}):i,h;if(Array.isArray(o)){var x=u?o.filter(function(w){return np(w)}):o,b=f.map(function(w,y){return EC(EC({},w),{},{base:x[y]})});return l==="vertical"?h=Hh().y(ku).x1(Au).x0(function(w){return w.base.x}):h=Hh().x(Au).y1(ku).y0(function(w){return w.base.y}),h.defined(np).curve(d),h(b)}return l==="vertical"&&ue(o)?h=Hh().y(ku).x1(Au).x0(o):ue(o)?h=Hh().x(Au).y1(ku).y0(o):h=F5().x(Au).y(ku),h.defined(np).curve(d),h(f)},Cl=function(e){var n=e.className,r=e.points,s=e.path,i=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?yde(e):s;return D.createElement("path",yw({},Te(e,!1),Dm(e),{className:Ve("recharts-curve",n),d:o,ref:i}))},GL={exports:{}},vde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bde=vde,wde=bde;function HL(){}function WL(){}WL.resetWarningCache=HL;var _de=function(){function t(r,s,i,o,l,c){if(c!==wde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WL,resetWarningCache:HL};return n.PropTypes=n,n};GL.exports=_de();var Nde=GL.exports;const rt=ot(Nde),{getOwnPropertyNames:Sde,getOwnPropertySymbols:Ede}=Object,{hasOwnProperty:Tde}=Object.prototype;function Wy(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function rp(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function Ade(t){return t!=null?t[Symbol.toStringTag]:void 0}function AC(t){return Sde(t).concat(Ede(t))}const kde=Object.hasOwn||((t,e)=>Tde.call(t,e));function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cde="__v",jde="__o",Pde="_owner",{getOwnPropertyDescriptor:kC,keys:CC}=Object;function Ide(t,e){return t.byteLength===e.byteLength&&hg(new Uint8Array(t),new Uint8Array(e))}function Rde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mde(t,e){return t.byteLength===e.byteLength&&hg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ode(t,e){return jo(t.getTime(),e.getTime())}function Dde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lde(t,e){return t===e}function jC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const $de=jo;function Fde(t,e,n){const r=CC(t);let s=r.length;if(CC(e).length!==s)return!1;for(;s-- >0;)if(!KL(t,e,n,r[s]))return!1;return!0}function Cu(t,e,n){const r=AC(t);let s=r.length;if(AC(e).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=r[s],!KL(t,e,n,i)||(o=kC(t,i),l=kC(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Ude(t,e){return jo(t.valueOf(),e.valueOf())}function Vde(t,e){return t.source===e.source&&t.flags===e.flags}function PC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function hg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KL(t,e,n,r){return(r===Pde||r===jde||r===Cde)&&(t.$$typeof||e.$$typeof)?!0:kde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const qde="[object ArrayBuffer]",zde="[object Arguments]",Gde="[object Boolean]",Hde="[object DataView]",Wde="[object Date]",Kde="[object Error]",Jde="[object Map]",Yde="[object Number]",Xde="[object Object]",Qde="[object RegExp]",Zde="[object Set]",efe="[object String]",tfe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},nfe="[object URL]",rfe=Object.prototype.toString;function sfe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:b}){return function(y,v,_){if(y===v)return!0;if(y==null||v==null)return!1;const N=typeof y;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?l(y,v,_):N==="function"?i(y,v,_):!1;const C=y.constructor;if(C!==v.constructor)return!1;if(C===Object)return c(y,v,_);if(Array.isArray(y))return e(y,v,_);if(C===Date)return r(y,v,_);if(C===RegExp)return d(y,v,_);if(C===Map)return o(y,v,_);if(C===Set)return f(y,v,_);const E=rfe.call(y);if(E===Wde)return r(y,v,_);if(E===Qde)return d(y,v,_);if(E===Jde)return o(y,v,_);if(E===Zde)return f(y,v,_);if(E===Xde)return typeof y.then!="function"&&typeof v.then!="function"&&c(y,v,_);if(E===nfe)return x(y,v,_);if(E===Kde)return s(y,v,_);if(E===zde)return c(y,v,_);if(tfe[E])return h(y,v,_);if(E===qde)return t(y,v,_);if(E===Hde)return n(y,v,_);if(E===Gde||E===Yde||E===efe)return u(y,v,_);if(b){let A=b[E];if(!A){const S=Ade(y);S&&(A=b[S])}if(A)return A(y,v,_)}return!1}}function ife({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Ide,areArraysEqual:n?Cu:Rde,areDataViewsEqual:Mde,areDatesEqual:Ode,areErrorsEqual:Dde,areFunctionsEqual:Lde,areMapsEqual:n?Wy(jC,Cu):jC,areNumbersEqual:$de,areObjectsEqual:n?Cu:Fde,arePrimitiveWrappersEqual:Ude,areRegExpsEqual:Vde,areSetsEqual:n?Wy(PC,Cu):PC,areTypedArraysEqual:n?Wy(hg,Cu):hg,areUrlsEqual:Bde,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=rp(r.areArraysEqual),i=rp(r.areMapsEqual),o=rp(r.areObjectsEqual),l=rp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function afe(t){return function(e,n,r,s,i,o,l){return t(e,n,l)}}function ofe({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const lfe=wa();wa({strict:!0});wa({circular:!0});wa({circular:!0,strict:!0});wa({createInternalComparator:()=>jo});wa({strict:!0,createInternalComparator:()=>jo});wa({circular:!0,createInternalComparator:()=>jo});wa({circular:!0,createInternalComparator:()=>jo,strict:!0});function wa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=ife(t),o=sfe(i),l=n?n(o):afe(o);return ofe({circular:e,comparator:o,createState:r,equals:l,strict:s})}function cfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):cfe(s)};requestAnimationFrame(r)}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function ufe(t){return pfe(t)||hfe(t)||ffe(t)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(t,e){if(t){if(typeof t=="string")return RC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(t,e)}}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pfe(t){if(Array.isArray(t))return t}function mfe(){var t={},e=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=ufe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IC(s.bind(null,u),c);return}s(c),IC(s.bind(null,u));return}vw(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){JL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JL(t,e,n){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=xfe(t,"string");return xf(e)==="symbol"?e:String(e)}function xfe(t,e){if(xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},vfe=function(e){return e},bfe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fd=function(e,n){return Object.keys(n).reduce(function(r,s){return OC(OC({},r),{},JL({},s,e(s,n[s])))},{})},DC=function(e,n,r){return e.map(function(s){return"".concat(bfe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function wfe(t,e){return Sfe(t)||Nfe(t,e)||YL(t,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Sfe(t){if(Array.isArray(t))return t}function Efe(t){return kfe(t)||Afe(t)||YL(t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function Afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pg=1e-4,XL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},QL=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},LC=function(e,n){return function(r){var s=XL(e,n);return QL(s,r)}},Cfe=function(e,n){return function(r){var s=XL(e,n),i=[].concat(Efe(s.map(function(o,l){return o*l}).slice(1)),[0]);return QL(i,r)}},$C=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=wfe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=LC(s,o),h=LC(i,l),x=Cfe(s,o),b=function(v){return v>1?1:v<0?0:v},w=function(v){for(var _=v>1?1:v,N=_,C=0;C<8;++C){var E=f(N)-_,A=x(N);if(Math.abs(E-_)<pg||A<pg)return h(N);N=b(N-E/A)}return h(N)};return w.isStepper=!1,w},jfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,b=h*i,w=h+(x-b)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<pg&&Math.abs(w)<pg?[f,0]:[y,w]};return c.isStepper=!0,c.dt=l,c},Pfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $C(s);case"spring":return jfe();default:if(s.split("(")[0]==="cubic-bezier")return $C(s)}return typeof s=="function"?s:null};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function FC(t){return Mfe(t)||Rfe(t)||ZL(t)||Ife()}function Ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mfe(t){if(Array.isArray(t))return _w(t)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ww(t,e,n){return e=Ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ofe(t){var e=Dfe(t,"string");return yf(e)==="symbol"?e:String(e)}function Dfe(t,e){if(yf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lfe(t,e){return Ufe(t)||Ffe(t,e)||ZL(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ffe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ufe(t){if(Array.isArray(t))return t}var mg=function(e,n,r){return e+(n-e)*r},Nw=function(e){var n=e.from,r=e.to;return n!==r},Vfe=function t(e,n,r){var s=fd(function(i,o){if(Nw(o)){var l=e(o.from,o.to,o.velocity),c=Lfe(l,2),u=c[0],d=c[1];return cn(cn({},o),{},{from:u,velocity:d})}return o},n);return r<1?fd(function(i,o){return Nw(o)?cn(cn({},o),{},{velocity:mg(o.velocity,s[i].velocity,r),from:mg(o.from,s[i].from,r)}):o},n):t(e,s,r-1)};const Bfe=function(t,e,n,r,s){var i=yfe(t,e),o=i.reduce(function(y,v){return cn(cn({},y),{},ww({},v,[t[v],e[v]]))},{}),l=i.reduce(function(y,v){return cn(cn({},y),{},ww({},v,{from:t[v],velocity:0,to:e[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fd(function(v,_){return _.from},l)},x=function(){return!Object.values(l).filter(Nw).length},b=function(v){u||(u=v);var _=v-u,N=_/n.dt;l=Vfe(n,l,N),s(cn(cn(cn({},t),e),h())),u=v,x()||(c=requestAnimationFrame(f))},w=function(v){d||(d=v);var _=(v-d)/r,N=fd(function(E,A){return mg.apply(void 0,FC(A).concat([n(_)]))},o);if(s(cn(cn(cn({},t),e),N)),_<1)c=requestAnimationFrame(f);else{var C=fd(function(E,A){return mg.apply(void 0,FC(A).concat([n(1)]))},o);s(cn(cn(cn({},t),e),C))}};return f=n.isStepper?b:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var qfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zfe(t,e){if(t==null)return{};var n=Gfe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ky(t){return Jfe(t)||Kfe(t)||Wfe(t)||Hfe()}function Hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function Kfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jfe(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t,e,n){return e=e6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e6(r.key),r)}}function Qfe(t,e,n){return e&&Xfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e6(t){var e=Zfe(t,"string");return uc(e)==="symbol"?e:String(e)}function Zfe(t,e){if(uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ew(t,e)}function the(t){var e=nhe();return function(){var r=gg(t),s;if(e){var i=gg(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Tw(this,s)}}function Tw(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aw(t)}function Aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}var Cs=function(t){ehe(n,t);var e=the(n);function n(r,s){var i;Yfe(this,n),i=e.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Aw(i)),i.changeStyle=i.changeStyle.bind(Aw(i)),!l||x<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Tw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Tw(i);i.state={style:c?qu({},c,u):u}}else i.state={style:{}};return i}return Qfe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var x={style:c?qu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(lfe(s.to,d)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||u?f:s.to;if(this.state&&h){var y={style:c?qu({},c,w):w};(c&&h[c]!==w||!c&&h!==w)&&this.setState(y)}this.runAnimation(Gr(Gr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,x=Bfe(o,l,Pfe(u),c,this.changeStyle),b=function(){i.stopJSAnimation=x()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(w,y,v){if(v===0)return w;var _=y.duration,N=y.easing,C=N===void 0?"ease":N,E=y.style,A=y.properties,S=y.onAnimationEnd,j=v>0?o[v-1]:y,T=A||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Ky(w),[i.runJSAnimation.bind(i,{from:j.style,to:E,duration:_,easing:C}),_]);var R=DC(T,_,C),P=Gr(Gr(Gr({},j.style),E),{},{transition:R});return[].concat(Ky(w),[P,_,S]).filter(vfe)};return this.manager.start([c].concat(Ky(o.reduce(x,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=mfe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,x=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var w=l?qu({},l,c):c,y=DC(Object.keys(w),o,u);b.start([d,i,Gr(Gr({},w),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=zfe(s,qfe),u=D.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(x){var b=x.props,w=b.style,y=w===void 0?{}:w,v=b.className,_=D.cloneElement(x,Gr(Gr({},c),{},{style:Gr(Gr({},y),d),className:v}));return _};return u===1?f(D.Children.only(i)):q.createElement("div",null,D.Children.map(i,function(h){return f(h)}))}}]),n}(D.PureComponent);Cs.displayName="Animate";Cs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cs.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function rhe(t,e){return ohe(t)||ahe(t,e)||ihe(t,e)||she()}function she(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ahe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ohe(t){if(Array.isArray(t))return t}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return e=che(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=uhe(t,"string");return vf(e)=="symbol"?e:e+""}function uhe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GC=function(e,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=i[h]>o?o:i[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+s)),d+="L ".concat(e+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+s-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-c*b,",").concat(n+s,`
            L `).concat(e+c*b,",").concat(n+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*b," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},dhe=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},fhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uS=function(e){var n=zC(zC({},fhe),e),r=D.useRef(),s=D.useState(-1),i=rhe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,b=n.animationEasing,w=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=Ve("recharts-rectangle",x);return _?q.createElement(Cs,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:w,animationEasing:b,isActive:_},function(C){var E=C.width,A=C.height,S=C.x,j=C.y;return q.createElement(Cs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:v,easing:b},q.createElement("path",xg({},Te(n,!0),{className:N,d:GC(S,j,E,A,h),ref:r})))}):q.createElement("path",xg({},Te(n,!0),{className:N,d:GC(c,u,d,f,h)}))},hhe=["points","className","baseLinePoints","connectNulls"];function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function phe(t,e){if(t==null)return{};var n=mhe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HC(t){return vhe(t)||yhe(t)||xhe(t)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function yhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vhe(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WC=function(e){return e&&e.x===+e.x&&e.y===+e.y},bhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){WC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),WC(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},hd=function(e,n){var r=bhe(e);n&&(r=[r.reduce(function(i,o){return[].concat(HC(i),HC(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},whe=function(e,n,r){var s=hd(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(hd(n.reverse(),r).slice(1))},_he=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,i=e.connectNulls,o=phe(e,hhe);if(!n||!n.length)return null;var l=Ve("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=whe(n,s,i);return q.createElement("g",{className:l},q.createElement("path",ll({},Te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?q.createElement("path",ll({},Te(o,!0),{fill:"none",d:hd(n,i)})):null,c?q.createElement("path",ll({},Te(o,!0),{fill:"none",d:hd(s,i)})):null)}var d=hd(n,i);return q.createElement("path",ll({},Te(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}var ox=function(e){var n=e.cx,r=e.cy,s=e.r,i=e.className,o=Ve("recharts-dot",i);return n===+n&&r===+r&&s===+s?D.createElement("circle",Cw({},Te(e,!1),Dm(e),{className:o,cx:n,cy:r,r:s})):null};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var Nhe=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function She(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=The(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Ahe(t,"string");return bf(e)=="symbol"?e:e+""}function Ahe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){if(t==null)return{};var n=Che(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jhe=function(e,n,r,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},Phe=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,b=e.className,w=khe(e,Nhe),y=She({x:r,y:i,top:l,left:u,width:f,height:x},w);return!ue(r)||!ue(i)||!ue(f)||!ue(x)||!ue(l)||!ue(u)?null:q.createElement("path",jw({},Te(y,!0),{className:Ve("recharts-cross",b),d:jhe(r,i,f,x,l,u)}))},Ihe=nx,Rhe=fL,Mhe=Is;function Ohe(t,e){return t&&t.length?Ihe(t,Mhe(e),Rhe):void 0}var Dhe=Ohe;const Lhe=ot(Dhe);var $he=nx,Fhe=Is,Uhe=hL;function Vhe(t,e){return t&&t.length?$he(t,Fhe(e),Uhe):void 0}var Bhe=Vhe;const qhe=ot(Bhe);var zhe=["cx","cy","angle","ticks","axisLine"],Ghe=["ticks","tick","angle","tickFormatter","stroke"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YC(t,e){if(t==null)return{};var n=Hhe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n6(r.key),r)}}function Khe(t,e,n){return e&&XC(t.prototype,e),n&&XC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=yg(e),Yhe(t,t6()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function Yhe(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(t)}function Xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function Qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Pw(t,e)}function lx(t,e,n){return e=n6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n6(t){var e=Zhe(t,"string");return dc(e)=="symbol"?e:e+""}function Zhe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cx=function(t){function e(){return Whe(this,e),Jhe(this,e,arguments)}return Qhe(e,t),Khe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return xt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=Lhe(l,function(d){return d.coordinate||0}),u=qhe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=YC(r,zhe),d=l.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),f=xt(s,i,d[0],o),h=xt(s,i,d[1],o),x=Ca(Ca(Ca({},Te(u,!1)),{},{fill:"none"},Te(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return q.createElement("line",pd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=YC(s,Ghe),f=this.getTickTextAnchor(),h=Te(d,!1),x=Te(o,!1),b=i.map(function(w,y){var v=r.getTickValueCoord(w),_=Ca(Ca(Ca(Ca({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:y},v),{},{payload:w});return q.createElement(Je,pd({className:Ve("recharts-polar-radius-axis-tick",VL(o)),key:"tick-".concat(w.coordinate)},go(r.props,w,y)),e.renderTickItem(o,_,c?c(w.value,y):w.value))});return q.createElement(Je,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:q.createElement(Je,{className:Ve("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):Ce(r)?o=r(s):o=q.createElement(xo,pd({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(D.PureComponent);lx(cx,"displayName","PolarRadiusAxis");lx(cx,"axisType","radiusAxis");lx(cx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s6(r.key),r)}}function tpe(t,e,n){return e&&ZC(t.prototype,e),n&&ZC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function npe(t,e,n){return e=vg(e),rpe(t,r6()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function rpe(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function ipe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Iw(t,e)}function ux(t,e,n){return e=s6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=ape(t,"string");return fc(e)=="symbol"?e:e+""}function ape(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ope=Math.PI/180,ej=1e-5,dx=function(t){function e(){return epe(this,e),npe(this,e,arguments)}return ipe(e,t),tpe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=xt(i,o,l,r.coordinate),h=xt(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*ope),o;return i>ej?o=s==="outer"?"start":"end":i<-ej?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=ja(ja({},Te(this.props,!1)),{},{fill:"none"},Te(l,!1));if(c==="circle")return q.createElement(ox,$a({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return xt(s,i,o,h.coordinate)});return q.createElement(_he,$a({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Te(this.props,!1),f=Te(o,!1),h=ja(ja({},d),{},{fill:"none"},Te(l,!1)),x=i.map(function(b,w){var y=r.getTickLineCoord(b),v=r.getTickTextAnchor(b),_=ja(ja(ja({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:w,payload:b,x:y.x2,y:y.y2});return q.createElement(Je,$a({className:Ve("recharts-polar-angle-axis-tick",VL(o)),key:"tick-".concat(b.coordinate)},go(r.props,b,w)),l&&q.createElement("line",$a({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,_,c?c(b.value,w):b.value))});return q.createElement(Je,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:q.createElement(Je,{className:Ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,s):Ce(r)?o=r(s):o=q.createElement(xo,$a({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(D.PureComponent);ux(dx,"displayName","PolarAngleAxis");ux(dx,"axisType","angleAxis");ux(dx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lpe=cD,cpe=lpe(Object.getPrototypeOf,Object),upe=cpe,dpe=xi,fpe=upe,hpe=yi,ppe="[object Object]",mpe=Function.prototype,gpe=Object.prototype,i6=mpe.toString,xpe=gpe.hasOwnProperty,ype=i6.call(Object);function vpe(t){if(!hpe(t)||dpe(t)!=ppe)return!1;var e=fpe(t);if(e===null)return!0;var n=xpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&i6.call(n)==ype}var bpe=vpe;const wpe=ot(bpe);var _pe=xi,Npe=yi,Spe="[object Boolean]";function Epe(t){return t===!0||t===!1||Npe(t)&&_pe(t)==Spe}var Tpe=Epe;const Ape=ot(Tpe);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function kpe(t,e){return Ipe(t)||Ppe(t,e)||jpe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ipe(t){if(Array.isArray(t))return t}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e,n){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mpe(t){var e=Ope(t,"string");return wf(e)=="symbol"?e:e+""}function Ope(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sj=function(e,n,r,s,i){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+i),l+="L ".concat(e+r-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},Dpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lpe=function(e){var n=rj(rj({},Dpe),e),r=D.useRef(),s=D.useState(-1),i=kpe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,b=n.animationEasing,w=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Ve("recharts-trapezoid",x);return v?q.createElement(Cs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:w,animationEasing:b,isActive:v},function(N){var C=N.upperWidth,E=N.lowerWidth,A=N.height,S=N.x,j=N.y;return q.createElement(Cs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:b},q.createElement("path",bg({},Te(n,!0),{className:_,d:sj(S,j,C,E,A),ref:r})))}):q.createElement("g",null,q.createElement("path",bg({},Te(n,!0),{className:_,d:sj(c,u,d,f,h)})))},$pe=["option","shapeType","propTransformer","activeClassName","isActive"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Fpe(t,e){if(t==null)return{};var n=Upe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e,n){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=qpe(t,"string");return _f(e)=="symbol"?e:e+""}function qpe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){return wg(wg({},e),t)}function Gpe(t,e){return t==="symbols"}function aj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(uS,n);case"trapezoid":return q.createElement(Lpe,n);case"sector":return q.createElement(zL,n);case"symbols":if(Gpe(e))return q.createElement(CN,n);break;default:return null}}function Hpe(t){return D.isValidElement(t)?t.props:t}function a6(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?zpe:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Fpe(t,$pe),u;if(D.isValidElement(e))u=D.cloneElement(e,wg(wg({},c),Hpe(e)));else if(Ce(e))u=e(c);else if(wpe(e)&&!Ape(e)){var d=s(e,c);u=q.createElement(aj,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(aj,{shapeType:n,elementProps:f})}return l?q.createElement(Je,{className:o},u):u}function fx(t,e){return e!=null&&"trapezoids"in t.props}function hx(t,e){return e!=null&&"sectors"in t.props}function Nf(t,e){return e!=null&&"points"in t.props}function Wpe(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&i}function Kpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Jpe(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function Ype(t,e){var n;return fx(t,e)?n=Wpe:hx(t,e)?n=Kpe:Nf(t,e)&&(n=Jpe),n}function Xpe(t,e){var n;return fx(t,e)?n="trapezoids":hx(t,e)?n="sectors":Nf(t,e)&&(n="points"),n}function Qpe(t,e){if(fx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(hx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Nf(t,e)?e.payload:{}}function Zpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=Xpe(n,e),i=Qpe(n,e),o=r.filter(function(c,u){var d=lc(i,c),f=n.props[s].filter(function(b){var w=Ype(n,e);return w(b,e)}),h=n.props[s].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var Op;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l6(r.key),r)}}function tme(t,e,n){return e&&lj(t.prototype,e),n&&lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,n){return e=_g(e),rme(t,o6()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function rme(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sme(t)}function sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Rw(t,e)}function Sr(t,e,n){return e=l6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=ame(t,"string");return hc(e)=="symbol"?e:e+""}function ame(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=function(t){function e(n){var r;return eme(this,e),r=nme(this,e,[n]),Sr(r,"pieRef",null),Sr(r,"sectorRefs",[]),Sr(r,"id",Vc("recharts-pie-")),Sr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ce(s)&&s()}),Sr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ce(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ime(e,t),tme(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Te(this.props,!1),f=Te(o,!1),h=Te(l,!1),x=o&&o.offsetRadius||20,b=r.map(function(w,y){var v=(w.startAngle+w.endAngle)/2,_=xt(w.cx,w.cy,w.outerRadius+x,v),N=ht(ht(ht(ht({},d),w),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(_.x,w.cx)},_),C=ht(ht(ht(ht({},d),w),{},{fill:"none",stroke:w.fill},h),{},{index:y,points:[xt(w.cx,w.cy,w.outerRadius,v),_]}),E=c;return $e(c)&&$e(u)?E="value":$e(c)&&(E=u),q.createElement(Je,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,N,Kt(w,E)))});return q.createElement(Je,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,x=f?o:h,b=ht(ht({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Je,cl({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},go(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(a6,cl({option:x,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return q.createElement(Cs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,y=[],v=i&&i[0],_=v.startAngle;return i.forEach(function(N,C){var E=h&&h[C],A=C>0?fr(N,"paddingAngle",0):0;if(E){var S=Yn(E.endAngle-E.startAngle,N.endAngle-N.startAngle),j=ht(ht({},N),{},{startAngle:_+A,endAngle:_+S(w)+A});y.push(j),_=j.endAngle}else{var T=N.endAngle,R=N.startAngle,P=Yn(0,T-R),O=P(w),I=ht(ht({},N),{},{startAngle:_+A,endAngle:_+O+A});y.push(I),_=I.endAngle}}),q.createElement(Je,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!lc(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,x=s.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!ue(u)||!ue(d)||!ue(f)||!ue(h))return null;var w=Ve("recharts-pie",l);return q.createElement(Je,{tabIndex:this.props.rootTabIndex,className:w,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),rn.renderCallByParent(this.props,null,!1),(!x||b)&&Zs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);if(Ce(r))return r(s);var o=Ve("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return q.createElement(Cl,cl({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(q.isValidElement(r))return q.cloneElement(r,s);var o=i;if(Ce(r)&&(o=r(s),q.isValidElement(o)))return o;var l=Ve("recharts-pie-label-text",typeof r!="boolean"&&!Ce(r)?r.className:"");return q.createElement(xo,cl({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Op=bi;Sr(bi,"displayName","Pie");Sr(bi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ao.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Sr(bi,"parseDeltaAngle",function(t,e){var n=Ln(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Sr(bi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Te(t,!1),s=Pr(n,J0);return e&&e.length?e.map(function(i,o){return ht(ht(ht({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return ht(ht({},r),i.props)}):[]});Sr(bi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,i=e.height,o=UL(s,i),l=r+$n(t.cx,s,s/2),c=n+$n(t.cy,i,i/2),u=$n(t.innerRadius,o,0),d=$n(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Sr(bi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ht(ht({},e.type.defaultProps),e.props):e.props,s=Op.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),b=Op.parseCoordinateOfPie(r,n),w=Op.parseDeltaAngle(o,l),y=Math.abs(w),v=u;$e(u)&&$e(f)?(es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):$e(u)&&(es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var _=s.filter(function(j){return Kt(j,v,0)!==0}).length,N=(y>=360?_:_-1)*c,C=y-_*x-N,E=s.reduce(function(j,T){var R=Kt(T,v,0);return j+(ue(R)?R:0)},0),A;if(E>0){var S;A=s.map(function(j,T){var R=Kt(j,v,0),P=Kt(j,d,T),O=(ue(R)?R:0)/E,I;T?I=S.endAngle+Ln(w)*c*(R!==0?1:0):I=o;var H=I+Ln(w)*((R!==0?x:0)+O*C),F=(I+H)/2,L=(b.innerRadius+b.outerRadius)/2,B=[{name:P,value:R,payload:j,dataKey:v,type:h}],z=xt(b.cx,b.cy,L,F);return S=ht(ht(ht({percent:O,cornerRadius:i,name:P,tooltipPayload:B,midAngle:F,middleRadius:L,tooltipPosition:z},j),b),{},{value:Kt(j,v),startAngle:I,endAngle:H,payload:j,paddingAngle:Ln(w)*c}),S})}return ht(ht({},b),{},{sectors:A,data:s})});var ome=Math.ceil,lme=Math.max;function cme(t,e,n,r){for(var s=-1,i=lme(ome((e-t)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=t,t+=n;return o}var ume=cme,dme=kD,cj=1/0,fme=17976931348623157e292;function hme(t){if(!t)return t===0?t:0;if(t=dme(t),t===cj||t===-cj){var e=t<0?-1:1;return e*fme}return t===t?t:0}var c6=hme,pme=ume,mme=K0,Jy=c6;function gme(t){return function(e,n,r){return r&&typeof r!="number"&&mme(e,n,r)&&(n=r=void 0),e=Jy(e),n===void 0?(n=e,e=0):n=Jy(n),r=r===void 0?e<n?1:-1:Jy(r),pme(e,n,r,t)}}var xme=gme,yme=xme,vme=yme(),bme=vme;const Ng=ot(bme);function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=_me(t,"string");return Sf(e)=="symbol"?e:e+""}function _me(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nme=["Webkit","Moz","O","ms"],Sme=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Nme.reduce(function(i,o){return dj(dj({},i),{},u6({},o+r,n))},{});return s[e]=n,s};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f6(r.key),r)}}function Tme(t,e,n){return e&&hj(t.prototype,e),n&&hj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,n){return e=Eg(e),kme(t,d6()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function kme(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(t)}function Cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Mw(t,e)}function ir(t,e,n){return e=f6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f6(t){var e=Pme(t,"string");return pc(e)=="symbol"?e:e+""}function Pme(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ime=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ud().domain(Ng(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},pj=function(e){return e.changedTouches&&!!e.changedTouches.length},mc=function(t){function e(n){var r;return Eme(this,e),r=Ame(this,e,[n]),ir(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),ir(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(s){var i=pj(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return jme(e,t),Tme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),x=e.getIndexInRange(o,f),b=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Kt(i[r],l,r);return Ce(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,b=c.onChange,w=r.pageX-i;w>0?w=Math.min(w,u+d-f-l,u+d-f-o):w<0&&(w=Math.max(w,u-o,u-l));var y=this.getIndex({startX:o+w,endX:l+w});(y.startIndex!==h||y.endIndex!==x)&&b&&b(y),this.setState({startX:o+w,endX:l+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=pj(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,b=d.onChange,w=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},_=r.pageX-i;_>0?_=Math.min(_,f+h-x-u):_<0&&(_=Math.max(_,f-u)),v[o]=u+_;var N=this.getIndex(v),C=N.startIndex,E=N.endIndex,A=function(){var j=y.length-1;return o==="startX"&&(l>c?C%w===0:E%w===0)||l<c&&E===j||o==="endX"&&(l>c?E%w===0:C%w===0)||l>c&&E===j};this.setState(ir(ir({},o,u+_),"brushMoveStartX",r.pageX),function(){b&&A()&&b(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];s==="startX"&&x>=u||s==="endX"&&x<=c||this.setState(ir({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?q.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,b=c.data,w=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),_=Yy(Yy({},Te(this.props,!1)),{},{x:v,y:u,width:d,height:f}),N=x||"Min value: ".concat((i=b[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return q.createElement(Je,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,b={pointerEvents:"none",fill:u};return q.createElement(Je,{className:"recharts-brush-texts"},q.createElement(xo,Sg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},b),this.getTextOfTick(s)),q.createElement(xo,Sg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,b=h.endX,w=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,_=h.isTravellerFocused;if(!s||!s.length||!ue(l)||!ue(c)||!ue(u)||!ue(d)||u<=0||d<=0)return null;var N=Ve("recharts-brush",i),C=q.Children.count(o)===1,E=Sme("userSelect","none");return q.createElement(Je,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(w||y||v||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return q.isValidElement(r)?i=q.cloneElement(r,s):Ce(r)?i=r(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Yy({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Ime({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(D.PureComponent);ir(mc,"displayName","Brush");ir(mc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rme=DN;function Mme(t,e){var n;return Rme(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var Ome=Mme,Dme=tD,Lme=Is,$me=Ome,Fme=rr,Ume=K0;function Vme(t,e,n){var r=Fme(t)?Dme:$me;return n&&Ume(t,e,n)&&(e=void 0),r(t,Lme(e))}var Bme=Vme;const qme=ot(Bme);var Es=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},mj=ND;function zme(t,e,n){e=="__proto__"&&mj?mj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Gme=zme,Hme=Gme,Wme=wD,Kme=Is;function Jme(t,e){var n={};return e=Kme(e),Wme(t,function(r,s,i){Hme(n,s,e(r,s,i))}),n}var Yme=Jme;const Xme=ot(Yme);function Qme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Zme=Qme,ege=DN;function tge(t,e){var n=!0;return ege(t,function(r,s,i){return n=!!e(r,s,i),n}),n}var nge=tge,rge=Zme,sge=nge,ige=Is,age=rr,oge=K0;function lge(t,e,n){var r=age(t)?rge:sge;return n&&oge(t,e,n)&&(e=void 0),r(t,ige(e))}var cge=lge;const h6=ot(cge);var uge=["x","y"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=hge(t,"string");return Ef(e)=="symbol"?e:e+""}function hge(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pge(t,e){if(t==null)return{};var n=mge(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gge(t,e){var n=t.x,r=t.y,s=pge(t,uge),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),h=parseInt(f,10);return ju(ju(ju(ju(ju({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function xj(t){return q.createElement(a6,Ow({shapeType:"rectangle",propTransformer:gge,activeClassName:"recharts-active-bar"},t))}var xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var i=ue(r)||$K(r);return i?e(r,s):(i||vo(),n)}},yge=["value","background"],p6;function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function vge(t,e){if(t==null)return{};var n=bge(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g6(r.key),r)}}function _ge(t,e,n){return e&&vj(t.prototype,e),n&&vj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,n){return e=Ag(e),Sge(t,m6()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function Sge(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ege(t)}function Ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dw(t,e)}function qi(t,e,n){return e=g6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g6(t){var e=Age(t,"string");return gc(e)=="symbol"?e:e+""}function Age(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(){var n;wge(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=Nge(this,e,[].concat(s)),qi(n,"state",{isAnimationFinished:!1}),qi(n,"id",Vc("recharts-bar-")),qi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),qi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Tge(e,t),_ge(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Te(this.props,!1);return r&&r.map(function(f,h){var x=h===c,b=x?u:o,w=Vt(Vt(Vt({},d),f),{},{isActive:x,option:b,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(Je,Tg({className:"recharts-bar-rectangle"},go(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(xj,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return q.createElement(Cs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,w=i.map(function(y,v){var _=h&&h[v];if(_){var N=Yn(_.x,y.x),C=Yn(_.y,y.y),E=Yn(_.width,y.width),A=Yn(_.height,y.height);return Vt(Vt({},y),{},{x:N(b),y:C(b),width:E(b),height:A(b)})}if(o==="horizontal"){var S=Yn(0,y.height),j=S(b);return Vt(Vt({},y),{},{y:y.y+y.height-j,height:j})}var T=Yn(0,y.width),R=T(b);return Vt(Vt({},y),{},{width:R})});return q.createElement(Je,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!lc(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Te(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=vge(u,yge);if(!f)return null;var x=Vt(Vt(Vt(Vt(Vt({},h),{},{fill:"#eee"},f),c),go(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(xj,Tg({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Pr(d,ax);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(y,v){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Kt(y,v)}},b={clipPath:r?"url(#clipPath-".concat(s,")"):null};return q.createElement(Je,b,f.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,b=r.background,w=r.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=Ve("recharts-bar",o),_=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=_||N,E=$e(w)?this.id:w;return q.createElement(Je,{className:v},_||N?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:_?u:u-f/2,y:N?d:d-h/2,width:_?f:f*2,height:N?h:h*2}))):null,q.createElement(Je,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!x||y)&&Zs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(D.PureComponent);p6=ts;qi(ts,"displayName","Bar");qi(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ao.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qi(ts,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=rue(r,n);if(!x)return null;var b=e.layout,w=n.type.defaultProps,y=w!==void 0?Vt(Vt({},w),n.props):n.props,v=y.dataKey,_=y.children,N=y.minPointSize,C=b==="horizontal"?o:i,E=u?C.scale.domain():null,A=uue({numericAxis:C}),S=Pr(_,J0),j=f.map(function(T,R){var P,O,I,H,F,L;u?P=sue(u[d+R],E):(P=Kt(T,v),Array.isArray(P)||(P=[A,P]));var B=xge(N,p6.defaultProps.minPointSize)(P[1],R);if(b==="horizontal"){var z,V=[o.scale(P[0]),o.scale(P[1])],U=V[0],X=V[1];O=dC({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:T,index:R}),I=(z=X??U)!==null&&z!==void 0?z:void 0,H=x.size;var Q=U-X;if(F=Number.isNaN(Q)?0:Q,L={x:O,y:o.y,width:H,height:o.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var G=Ln(F||B)*(Math.abs(B)-Math.abs(F));I-=G,F+=G}}else{var ie=[i.scale(P[0]),i.scale(P[1])],W=ie[0],fe=ie[1];if(O=W,I=dC({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:T,index:R}),H=fe-W,F=x.size,L={x:i.x,y:I,width:i.width,height:F},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var Ee=Ln(H||B)*(Math.abs(B)-Math.abs(H));H+=Ee}}return Vt(Vt(Vt({},T),{},{x:O,y:I,width:H,height:F,value:u?P:P[1],payload:T,background:L},S&&S[R]&&S[R].props),{},{tooltipPayload:[$L(n,T)],tooltipPosition:{x:O+H/2,y:I+F/2}})});return Vt({data:j,layout:b},h)});function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x6(r.key),r)}}function Cge(t,e,n){return e&&bj(t.prototype,e),n&&bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function px(t,e,n){return e=x6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t){var e=jge(t,"string");return Tf(e)=="symbol"?e:e+""}function jge(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!or(u,ts);return d.reduce(function(x,b){var w=n[b],y=w.orientation,v=w.domain,_=w.padding,N=_===void 0?{}:_,C=w.mirror,E=w.reversed,A="".concat(y).concat(C?"Mirror":""),S,j,T,R,P;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var O=v[1]-v[0],I=1/0,H=w.categoricalDomain.sort(VK);if(H.forEach(function(ie,W){W>0&&(I=Math.min((ie||0)-(H[W-1]||0),I))}),Number.isFinite(I)){var F=I/O,L=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=F*L/2),w.padding==="no-gap"){var B=$n(e.barCategoryGap,F*L),z=F*L/2;S=z-B-(z-B)/L*B}}}s==="xAxis"?j=[r.left+(N.left||0)+(S||0),r.left+r.width-(N.right||0)-(S||0)]:s==="yAxis"?j=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(S||0),r.top+r.height-(N.bottom||0)-(S||0)]:j=w.range,E&&(j=[j[1],j[0]]);var V=ML(w,i,h),U=V.scale,X=V.realScaleType;U.domain(v).range(j),OL(U);var Q=DL(U,Kr(Kr({},w),{},{realScaleType:X}));s==="xAxis"?(P=y==="top"&&!C||y==="bottom"&&C,T=r.left,R=f[A]-P*w.height):s==="yAxis"&&(P=y==="left"&&!C||y==="right"&&C,T=f[A]-P*w.width,R=r.top);var G=Kr(Kr(Kr({},w),Q),{},{realScaleType:X,x:T,y:R,scale:U,width:s==="xAxis"?r.width:w.width,height:s==="yAxis"?r.height:w.height});return G.bandSize=ug(G,Q),!w.hide&&s==="xAxis"?f[A]+=(P?-1:1)*G.height:w.hide||(f[A]+=(P?-1:1)*G.width),Kr(Kr({},x),{},px({},b,G))},{})},v6=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},Pge=function(e){var n=e.x1,r=e.y1,s=e.x2,i=e.y2;return v6({x:n,y:r},{x:s,y:i})},b6=function(){function t(e){kge(this,t),this.scale=e}return Cge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();px(b6,"EPS",1e-4);var dS=function(e){var n=Object.keys(e).reduce(function(r,s){return Kr(Kr({},r),{},px({},s,b6.create(e[s])))},{});return Kr(Kr({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Xme(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return h6(s,function(i,o){return n[o].isInRange(i)})}})};function Ige(t){return(t%180+180)%180}var Rge=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ige(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Mge=Is,Oge=eh,Dge=H0;function Lge(t){return function(e,n,r){var s=Object(e);if(!Oge(e)){var i=Mge(n);e=Dge(e),n=function(l){return i(s[l],l,s)}}var o=t(e,n,r);return o>-1?s[i?e[o]:o]:void 0}}var $ge=Lge,Fge=c6;function Uge(t){var e=Fge(t),n=e%1;return e===e?n?e-n:e:0}var Vge=Uge,Bge=mD,qge=Is,zge=Vge,Gge=Math.max;function Hge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:zge(n);return s<0&&(s=Gge(r+s,0)),Bge(t,qge(e),s)}var Wge=Hge,Kge=$ge,Jge=Wge,Yge=Kge(Jge),Xge=Yge;const Qge=ot(Xge);var Zge=zW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fS=D.createContext(void 0),hS=D.createContext(void 0),w6=D.createContext(void 0),_6=D.createContext({}),N6=D.createContext(void 0),S6=D.createContext(0),E6=D.createContext(0),_j=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Zge(i);return q.createElement(fS.Provider,{value:r},q.createElement(hS.Provider,{value:s},q.createElement(_6.Provider,{value:i},q.createElement(w6.Provider,{value:d},q.createElement(N6.Provider,{value:o},q.createElement(S6.Provider,{value:u},q.createElement(E6.Provider,{value:c},l)))))))},e0e=function(){return D.useContext(N6)},T6=function(e){var n=D.useContext(fS);n==null&&vo();var r=n[e];return r==null&&vo(),r},t0e=function(){var e=D.useContext(fS);return Li(e)},n0e=function(){var e=D.useContext(hS),n=Qge(e,function(r){return h6(r.domain,Number.isFinite)});return n||Li(e)},A6=function(e){var n=D.useContext(hS);n==null&&vo();var r=n[e];return r==null&&vo(),r},r0e=function(){var e=D.useContext(w6);return e},s0e=function(){return D.useContext(_6)},pS=function(){return D.useContext(E6)},mS=function(){return D.useContext(S6)};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function o0e(t,e,n){return e&&a0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,n){return e=kg(e),c0e(t,k6()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Lw(t,e)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){gS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gS(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=f0e(t,"string");return xc(e)=="symbol"?e:e+""}function f0e(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h0e(t,e){return x0e(t)||g0e(t,e)||m0e(t,e)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,e){if(t){if(typeof t=="string")return Ej(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ej(t,e)}}function Ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function x0e(t){if(Array.isArray(t))return t}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}var y0e=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):Ce(e)?r=e(n):r=q.createElement("line",$w({},n,{className:"recharts-reference-line-line"})),r},v0e=function(e,n,r,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,x=i.height;if(r){var b=u.y,w=e.y.apply(b,{position:o});if(Es(u,"discard")&&!e.y.isInRange(w))return null;var y=[{x:d+h,y:w},{x:d,y:w}];return c==="left"?y.reverse():y}if(n){var v=u.x,_=e.x.apply(v,{position:o});if(Es(u,"discard")&&!e.x.isInRange(_))return null;var N=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?N.reverse():N}if(s){var C=u.segment,E=C.map(function(A){return e.apply(A,{position:o})});return Es(u,"discard")&&qme(E,function(A){return!e.isInRange(A)})?null:E}return null};function b0e(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=e0e(),d=T6(s),f=A6(i),h=r0e();if(!u||!h)return null;es(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=dS({x:d.scale,y:f.scale}),b=Yt(e),w=Yt(n),y=r&&r.length===2,v=v0e(x,b,w,y,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var _=h0e(v,2),N=_[0],C=N.x,E=N.y,A=_[1],S=A.x,j=A.y,T=Es(t,"hidden")?"url(#".concat(u,")"):void 0,R=Sj(Sj({clipPath:T},Te(t,!0)),{},{x1:C,y1:E,x2:S,y2:j});return q.createElement(Je,{className:Ve("recharts-reference-line",l)},y0e(o,R),rn.renderCallByParent(t,Pge({x1:C,y1:E,x2:S,y2:j})))}var xS=function(t){function e(){return i0e(this,e),l0e(this,e,arguments)}return d0e(e,t),o0e(e,[{key:"render",value:function(){return q.createElement(b0e,this.props)}}])}(q.Component);gS(xS,"displayName","ReferenceLine");gS(xS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function N0e(t,e,n){return e&&_0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=Cg(e),E0e(t,j6()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Uw(t,e)}function mx(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=k0e(t,"string");return yc(e)=="symbol"?e:e+""}function k0e(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C0e=function(e){var n=e.x,r=e.y,s=e.xAxis,i=e.yAxis,o=dS({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Es(e,"discard")&&!o.isInRange(l)?null:l},gx=function(t){function e(){return w0e(this,e),S0e(this,e,arguments)}return A0e(e,t),N0e(e,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Yt(s),d=Yt(i);if(es(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=C0e(this.props);if(!f)return null;var h=f.x,x=f.y,b=this.props,w=b.shape,y=b.className,v=Es(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Aj(Aj({clipPath:v},Te(this.props,!0)),{},{cx:h,cy:x});return q.createElement(Je,{className:Ve("recharts-reference-dot",y)},e.renderDot(w,_),rn.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(q.Component);mx(gx,"displayName","ReferenceDot");mx(gx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mx(gx,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Ce(t)?n=t(e):n=q.createElement(ox,Fw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function I0e(t,e,n){return e&&P0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R0e(t,e,n){return e=jg(e),M0e(t,I6()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function M0e(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0e(t)}function O0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function D0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bw(t,e)}function xx(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=L0e(t,"string");return vc(e)=="symbol"?e:e+""}function L0e(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $0e=function(e,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=dS({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Es(i,"discard")&&(!h.isInRange(x)||!h.isInRange(b))?null:v6(x,b)},yx=function(t){function e(){return j0e(this,e),R0e(this,e,arguments)}return D0e(e,t),I0e(e,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;es(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yt(s),h=Yt(i),x=Yt(o),b=Yt(l),w=this.props.shape;if(!f&&!h&&!x&&!b&&!w)return null;var y=$0e(f,h,x,b,this.props);if(!y&&!w)return null;var v=Es(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Je,{className:Ve("recharts-reference-area",c)},e.renderRect(w,Cj(Cj({clipPath:v},Te(this.props,!0)),y)),rn.renderCallByParent(this.props,y))}}])}(q.Component);xx(yx,"displayName","ReferenceArea");xx(yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xx(yx,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Ce(t)?n=t(e):n=q.createElement(uS,Vw({},e,{className:"recharts-reference-area-rect"})),n});function M6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function F0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rge(r,n)}function U0e(t,e,n){var r=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function Pg(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function V0e(t,e){return M6(t,e+1)}function B0e(t,e,n,r,s){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:M6(r,u)};var w=c,y,v=function(){return y===void 0&&(y=n(b,w)),y},_=b.coordinate,N=c===0||Pg(t,_,v,d,l);N||(c=0,d=o,u+=1),N&&(d=_+t*(v()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q0e(t,e,n){return e=z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z0e(t){var e=G0e(t,"string");return Af(e)=="symbol"?e:e+""}function G0e(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t,e,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(h){var x=i[h],b,w=function(){return b===void 0&&(b=n(x,h)),b};if(h===o-1){var y=t*(x.coordinate+t*w()/2-c);i[h]=x=Sn(Sn({},x),{},{tickCoord:y>0?x.coordinate-y*t:x.coordinate})}else i[h]=x=Sn(Sn({},x),{},{tickCoord:x.coordinate});var v=Pg(t,x.tickCoord,w,l,c);v&&(c=x.tickCoord-t*(w()/2+s),i[h]=Sn(Sn({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function W0e(t,e,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=Sn(Sn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=Pg(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+s),o[l-1]=Sn(Sn({},d),{},{isShow:!0}))}for(var b=i?l-1:l,w=function(_){var N=o[_],C,E=function(){return C===void 0&&(C=n(N,_)),C};if(_===0){var A=t*(N.coordinate-t*E()/2-c);o[_]=N=Sn(Sn({},N),{},{tickCoord:A<0?N.coordinate-A*t:N.coordinate})}else o[_]=N=Sn(Sn({},N),{},{tickCoord:N.coordinate});var S=Pg(t,N.tickCoord,E,c,u);S&&(c=N.tickCoord+t*(E()/2+s),o[_]=Sn(Sn({},N),{},{isShow:!0}))},y=0;y<b;y++)w(y);return o}function yS(t,e,n){var r=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!r)return[];if(ue(c)||Ao.isSsr)return V0e(s,typeof c=="number"&&ue(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",b=d&&x==="width"?cd(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(N,C){var E=Ce(u)?u(N.value,C):N.value;return x==="width"?F0e(cd(E,{fontSize:e,letterSpacing:n}),b,f):cd(E,{fontSize:e,letterSpacing:n})[x]},y=s.length>=2?Ln(s[1].coordinate-s[0].coordinate):1,v=U0e(i,y,x);return c==="equidistantPreserveStart"?B0e(y,v,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=W0e(y,v,w,s,o,c==="preserveStartEnd"):h=H0e(y,v,w,s,o),h.filter(function(_){return _.isShow}))}var K0e=["viewBox"],J0e=["viewBox"],Y0e=["ticks"];function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xy(t,e){if(t==null)return{};var n=X0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D6(r.key),r)}}function Z0e(t,e,n){return e&&Ij(t.prototype,e),n&&Ij(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function exe(t,e,n){return e=Ig(e),txe(t,O6()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function txe(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(t)}function nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},qw(t,e)}function vS(t,e,n){return e=D6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t){var e=sxe(t,"string");return bc(e)=="symbol"?e:e+""}function sxe(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=function(t){function e(n){var r;return Q0e(this,e),r=exe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return rxe(e,t),Z0e(e,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=Xy(r,K0e),l=this.props,c=l.viewBox,u=Xy(l,J0e);return!Tl(i,c)||!Tl(o,u)||!Tl(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,x,b,w,y,v,_,N=f?-1:1,C=r.tickSize||d,E=ue(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=b=r.coordinate,y=o+ +!f*c,w=y-N*C,_=w-N*h,v=E;break;case"left":w=y=r.coordinate,b=i+ +!f*l,x=b-N*C,v=x-N*h,_=E;break;case"right":w=y=r.coordinate,b=i+ +f*l,x=b+N*C,v=x+N*h,_=E;break;default:x=b=r.coordinate,y=o+ +f*c,w=y+N*C,_=w+N*h,v=E;break}return{line:{x1:x,y1:w,x2:b,y2:y},tick:{x:v,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Gt(Gt(Gt({},Te(this.props,!1)),Te(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Gt(Gt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=Gt(Gt({},f),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return q.createElement("line",ul({},f,{className:Ve("recharts-cartesian-axis-line",fr(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=yS(Gt(Gt({},this.props),{},{ticks:r}),s,i),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Te(this.props,!1),v=Te(d,!1),_=Gt(Gt({},y),{},{fill:"none"},Te(c,!1)),N=x.map(function(C,E){var A=o.getTickLineCoord(C),S=A.line,j=A.tick,T=Gt(Gt(Gt(Gt({textAnchor:b,verticalAnchor:w},y),{},{stroke:"none",fill:u},v),j),{},{index:E,payload:C,visibleTicksCount:x.length,tickFormatter:f});return q.createElement(Je,ul({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},go(o.props,C,E)),c&&q.createElement("line",ul({},_,S,{className:Ve("recharts-cartesian-axis-tick-line",fr(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ce(f)?f(C.value,E):C.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,x=Xy(f,Y0e),b=h;return Ce(c)&&(b=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:q.createElement(Je,{className:Ve("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=Ve(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,Gt(Gt({},s),{},{className:l})):Ce(r)?o=r(Gt(Gt({},s),{},{className:l})):o=q.createElement(xo,ul({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(D.Component);vS(Kc,"displayName","CartesianAxis");vS(Kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ixe=["x1","y1","x2","y2","key"],axe=["offset"];function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oxe(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=cxe(t,"string");return bo(e)=="symbol"?e:e+""}function cxe(t,e){if(bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}function Mj(t,e){if(t==null)return{};var n=uxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function L6(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=Mj(e,ixe),u=Te(c,!1);u.offset;var d=Mj(u,axe);n=q.createElement("line",Wa({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function fxe(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return L6(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function hxe(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=kn(kn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return L6(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?s+o-h:d[x+1]-h;if(w<=0)return null;var y=x%e.length;return q.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:w,width:i,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function mxe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var b=!d[x+1],w=b?i+l-h:d[x+1]-h;if(w<=0)return null;var y=x%r.length;return q.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:w,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gxe=function(e,n){var r=e.xAxis,s=e.width,i=e.height,o=e.offset;return RL(yS(kn(kn(kn({},Kc.defaultProps),r),{},{ticks:Ws(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},xxe=function(e,n){var r=e.yAxis,s=e.width,i=e.height,o=e.offset;return RL(yS(kn(kn(kn({},Kc.defaultProps),r),{},{ticks:Ws(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},Vo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kf(t){var e,n,r,s,i,o,l=pS(),c=mS(),u=s0e(),d=kn(kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Vo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Vo.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Vo.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Vo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Vo.verticalFill,x:ue(t.x)?t.x:u.left,y:ue(t.y)?t.y:u.top,width:ue(t.width)?t.width:u.width,height:ue(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,b=d.height,w=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,_=t0e(),N=n0e();if(!ue(x)||x<=0||!ue(b)||b<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||gxe,E=d.horizontalCoordinatesGenerator||xxe,A=d.horizontalPoints,S=d.verticalPoints;if((!A||!A.length)&&Ce(E)){var j=y&&y.length,T=E({yAxis:N?kn(kn({},N),{},{ticks:j?y:N.ticks}):void 0,width:l,height:c,offset:u},j?!0:w);es(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bo(T),"]")),Array.isArray(T)&&(A=T)}if((!S||!S.length)&&Ce(C)){var R=v&&v.length,P=C({xAxis:_?kn(kn({},_),{},{ticks:R?v:_.ticks}):void 0,width:l,height:c,offset:u},R?!0:w);es(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bo(P),"]")),Array.isArray(P)&&(S=P)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(dxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),q.createElement(fxe,Wa({},d,{offset:u,horizontalPoints:A,xAxis:_,yAxis:N})),q.createElement(hxe,Wa({},d,{offset:u,verticalPoints:S,xAxis:_,yAxis:N})),q.createElement(pxe,Wa({},d,{horizontalPoints:A})),q.createElement(mxe,Wa({},d,{verticalPoints:S})))}kf.displayName="CartesianGrid";var yxe=["layout","type","stroke","connectNulls","isRange","ref"],vxe=["key"],$6;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function F6(t,e){if(t==null)return{};var n=bxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V6(r.key),r)}}function _xe(t,e,n){return e&&Dj(t.prototype,e),n&&Dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t,e,n){return e=Rg(e),Sxe(t,U6()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function Sxe(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(t)}function Exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U6=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function Txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zw(t,e)}function gs(t,e,n){return e=V6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6(t){var e=Axe(t,"string");return wc(e)=="symbol"?e:e+""}function Axe(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=function(t){function e(){var n;wxe(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=Nxe(this,e,[].concat(s)),gs(n,"state",{isAnimationFinished:!0}),gs(n,"id",Vc("recharts-area-")),gs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(o)&&o()}),gs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(o)&&o()}),n}return Txe(e,t),_xe(e,[{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Te(this.props,!1),x=Te(u,!0),b=d.map(function(y,v){var _=ki(ki(ki({key:"dot-".concat(v),r:3},h),x),{},{index:v,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,_)}),w={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(Je,Ka({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Bi(o.map(function(h){return h.y||0}));return ue(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Bi(i.map(function(h){return h.y||0})),f)),ue(f)?q.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Bi(o.map(function(h){return h.x||0}));return ue(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Bi(i.map(function(h){return h.x||0})),f)),ue(f)?q.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=F6(l,yxe);return q.createElement(Je,{clipPath:i?"url(#clipPath-".concat(o,")"):null},q.createElement(Cl,Ka({},Te(x,!0),{points:r,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&q.createElement(Cl,Ka({},Te(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&q.createElement(Cl,Ka({},Te(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,b=this.state,w=b.prevPoints,y=b.prevBaseLine;return q.createElement(Cs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t;if(w){var N=w.length/l.length,C=l.map(function(j,T){var R=Math.floor(T*N);if(w[R]){var P=w[R],O=Yn(P.x,j.x),I=Yn(P.y,j.y);return ki(ki({},j),{},{x:O(_),y:I(_)})}return j}),E;if(ue(c)&&typeof c=="number"){var A=Yn(y,c);E=A(_)}else if($e(c)||Uc(c)){var S=Yn(y,0);E=S(_)}else E=c.map(function(j,T){var R=Math.floor(T*N);if(y[R]){var P=y[R],O=Yn(P.x,j.x),I=Yn(P.y,j.y);return ki(ki({},j),{},{x:O(_),y:I(_)})}return j});return i.renderAreaStatically(C,E,r,s)}return q.createElement(Je,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(_))),q.createElement(Je,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,r,s)))})}},{key:"renderArea",value:function(r,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!lc(d,o)||!lc(f,l))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(o,l,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,x=s.width,b=s.height,w=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,_=l.length===1,N=Ve("recharts-area",c),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,A=C||E,S=$e(y)?this.id:y,j=(r=Te(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=j.r,R=T===void 0?3:T,P=j.strokeWidth,O=P===void 0?2:P,I=YK(o)?o:{},H=I.clipDot,F=H===void 0?!0:H,L=R*2+O;return q.createElement(Je,{className:N},C||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(S)},q.createElement("rect",{x:C?d:d-x/2,y:E?u:u-b/2,width:C?x:x*2,height:E?b:b*2})),!F&&q.createElement("clipPath",{id:"clipPath-dots-".concat(S)},q.createElement("rect",{x:d-L/2,y:u-L/2,width:x+L,height:b+L}))):null,_?null:this.renderArea(A,S),(o||_)&&this.renderDots(A,F,S),(!w||v)&&Zs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);$6=os;gs(os,"displayName","Area");gs(os,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ao.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});gs(os,"getBaseValue",function(t,e,n,r){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(ue(l)&&typeof l=="number")return l;var c=s==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});gs(os,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,b=u&&u.length,w=$6.getBaseValue(e,n,r,s),y=x==="horizontal",v=!1,_=f.map(function(C,E){var A;b?A=u[d+E]:(A=Kt(C,c),Array.isArray(A)?v=!0:A=[w,A]);var S=A[1]==null||b&&Kt(C,c)==null;return y?{x:uC({axis:r,ticks:i,bandSize:l,entry:C,index:E}),y:S?null:s.scale(A[1]),value:A,payload:C}:{x:S?null:r.scale(A[1]),y:uC({axis:s,ticks:o,bandSize:l,entry:C,index:E}),value:A,payload:C}}),N;return b||v?N=_.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:E!=null&&C.y!=null?s.scale(E):null}:{x:E!=null?r.scale(E):null,y:C.y}}):N=y?s.scale(w):r.scale(w),ki({points:_,baseLine:N,layout:x,isRange:v},h)});gs(os,"renderDotItem",function(t,e){var n;if(q.isValidElement(t))n=q.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=Ve("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=F6(e,vxe);n=q.createElement(ox,Ka({},i,{key:s,className:r}))}return n});function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function jxe(t,e,n){return e&&Cxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=Mg(e),Ixe(t,B6()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function Ixe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rxe(t)}function Rxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function Mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Gw(t,e)}function q6(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=Oxe(t,"string");return _c(e)=="symbol"?e:e+""}function Oxe(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function Dxe(t){var e=t.xAxisId,n=pS(),r=mS(),s=T6(e);return s==null?null:D.createElement(Kc,Hw({},s,{className:Ve("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ws(o,!0)}}))}var fa=function(t){function e(){return kxe(this,e),Pxe(this,e,arguments)}return Mxe(e,t),jxe(e,[{key:"render",value:function(){return D.createElement(Dxe,this.props)}}])}(D.Component);q6(fa,"displayName","XAxis");q6(fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6(r.key),r)}}function Fxe(t,e,n){return e&&$xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uxe(t,e,n){return e=Og(e),Vxe(t,G6()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function Vxe(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(t)}function Bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ww(t,e)}function H6(t,e,n){return e=W6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6(t){var e=zxe(t,"string");return Nc(e)=="symbol"?e:e+""}function zxe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var Gxe=function(e){var n=e.yAxisId,r=pS(),s=mS(),i=A6(n);return i==null?null:D.createElement(Kc,Kw({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ws(l,!0)}}))},ha=function(t){function e(){return Lxe(this,e),Uxe(this,e,arguments)}return qxe(e,t),Fxe(e,[{key:"render",value:function(){return D.createElement(Gxe,this.props)}}])}(D.Component);H6(ha,"displayName","YAxis");H6(ha,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Lj(t){return Jxe(t)||Kxe(t)||Wxe(t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function Kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jxe(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yw=function(e,n,r,s,i){var o=Pr(e,xS),l=Pr(e,gx),c=[].concat(Lj(o),Lj(l)),u=Pr(e,yx),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(w,y){if(y.props[d]===r&&Es(y.props,"extendDomain")&&ue(y.props[f])){var v=y.props[f];return[Math.min(w[0],v),Math.max(w[1],v)]}return w},h)),u.length){var x="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(w,y){if(y.props[d]===r&&Es(y.props,"extendDomain")&&ue(y.props[x])&&ue(y.props[b])){var v=y.props[x],_=y.props[b];return[Math.min(w[0],v,_),Math.max(w[1],v,_)]}return w},h)}return i&&i.length&&(h=i.reduce(function(w,y){return ue(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},h)),h},K6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new s(d,f||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,b=new Array(x);h<x;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,b){var w=n?n+u:u;if(!this._events[w])return!1;var y=this._events[w],v=arguments.length,_,N;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,x),!0;case 6:return y.fn.call(y.context,d,f,h,x,b),!0}for(N=1,_=new Array(v-1);N<v;N++)_[N-1]=arguments[N];y.fn.apply(y.context,_)}else{var C=y.length,E;for(N=0;N<C;N++)switch(y[N].once&&this.removeListener(u,y[N].fn,void 0,!0),v){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,d);break;case 3:y[N].fn.call(y[N].context,d,f);break;case 4:y[N].fn.call(y[N].context,d,f,h);break;default:if(!_)for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];y[N].fn.apply(y[N].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,x);else{for(var w=0,y=[],v=b.length;w<v;w++)(b[w].fn!==d||h&&!b[w].once||f&&b[w].context!==f)&&y.push(b[w]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(K6);var Yxe=K6.exports;const Xxe=ot(Yxe);var Qy=new Xxe,Zy="recharts.syncMouseEvents";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J6(r.key),r)}}function eye(t,e,n){return e&&Zxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ev(t,e,n){return e=J6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J6(t){var e=tye(t,"string");return Cf(e)=="symbol"?e:e+""}function tye(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nye=function(){function t(){Qxe(this,t),ev(this,"activeIndex",0),ev(this,"coordinateList",[]),ev(this,"layout","horizontal")}return eye(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&ue(r)&&ue(s))return!0}return!1}function sye(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Y6(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,i=t.endAngle,o=xt(e,n,r,s),l=xt(e,n,r,i);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function iye(t,e,n){var r,s,i,o;if(t==="horizontal")r=e.x,i=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=xt(l,c,u,f),x=xt(l,c,d,f);r=h.x,s=h.y,i=x.x,o=x.y}else return Y6(e);return[{x:r,y:s},{x:i,y:o}]}function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e,n){return e=oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=lye(t,"string");return jf(e)=="symbol"?e:e+""}function lye(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t){var e,n,r=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var b,w=Cl;if(h==="ScatterChart")b=o,w=Phe;else if(h==="BarChart")b=sye(f,o,c,d),w=uS;else if(f==="radial"){var y=Y6(o),v=y.cx,_=y.cy,N=y.radius,C=y.startAngle,E=y.endAngle;b={cx:v,cy:_,startAngle:C,endAngle:E,innerRadius:N,outerRadius:N},w=zL}else b={points:iye(f,o,c)},w=Cl;var A=sp(sp(sp(sp({stroke:"#ccc",pointerEvents:"none"},c),b),Te(x,!1)),{},{payload:l,payloadIndex:u,className:Ve("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,A):D.createElement(w,A)}var uye=["item"],dye=["children","className","width","height","style","compact","title","desc"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function Fj(t,e){return pye(t)||hye(t,e)||Q6(t,e)||fye()}function fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pye(t){if(Array.isArray(t))return t}function Uj(t,e){if(t==null)return{};var n=mye(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z6(r.key),r)}}function yye(t,e,n){return e&&xye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=Dg(e),bye(t,X6()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function _ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xw(t,e)}function Ec(t){return Eye(t)||Sye(t)||Q6(t)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function Sye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eye(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(n),!0).forEach(function(r){ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ke(t,e,n){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t){var e=Tye(t,"string");return Sc(e)=="symbol"?e:e+""}function Tye(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aye={xAxis:["bottom","top"],yAxis:["left","right"]},kye={width:"100%",height:"100%"},e$={x:0,y:0};function ip(t){return t}var Cye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jye=function(e,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return re(re(re({},s),xt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return re(re(re({},s),xt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return e$},vx=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ec(l),Ec(u)):l},[]);return o.length>0?o:e&&e.length&&ue(s)&&ue(i)?e.slice(s,i+1):[]};function t$(t){return t==="number"?[0,"auto"]:void 0}var Zw=function(e,n,r,s){var i=e.graphicalItems,o=e.tooltipAxis,l=vx(n,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=Om(x,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(Ec(c),[$L(u,h)]):c},[])},Bj=function(e,n,r,s){var i=s||{x:e.chartX,y:e.chartY},o=Cye(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Xce(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Zw(e,n,d,f),x=jye(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},Pye=function(e,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=IL(d,i);return r.reduce(function(b,w){var y,v=w.type.defaultProps!==void 0?re(re({},w.type.defaultProps),w.props):w.props,_=v.type,N=v.dataKey,C=v.allowDataOverflow,E=v.allowDuplicatedCategory,A=v.scale,S=v.ticks,j=v.includeHidden,T=v[o];if(b[T])return b;var R=vx(e.data,{graphicalItems:s.filter(function(Q){var G,ie=o in Q.props?Q.props[o]:(G=Q.type.defaultProps)===null||G===void 0?void 0:G[o];return ie===T}),dataStartIndex:c,dataEndIndex:u}),P=R.length,O,I,H;rye(v.domain,C,_)&&(O=pw(v.domain,null,C),x&&(_==="number"||A!=="auto")&&(H=dd(R,N,"category")));var F=t$(_);if(!O||O.length===0){var L,B=(L=v.domain)!==null&&L!==void 0?L:F;if(N){if(O=dd(R,N,_),_==="category"&&x){var z=UK(O);E&&z?(I=O,O=Ng(0,P)):E||(O=pC(B,O,w).reduce(function(Q,G){return Q.indexOf(G)>=0?Q:[].concat(Ec(Q),[G])},[]))}else if(_==="category")E?O=O.filter(function(Q){return Q!==""&&!$e(Q)}):O=pC(B,O,w).reduce(function(Q,G){return Q.indexOf(G)>=0||G===""||$e(G)?Q:[].concat(Ec(Q),[G])},[]);else if(_==="number"){var V=nue(R,s.filter(function(Q){var G,ie,W=o in Q.props?Q.props[o]:(G=Q.type.defaultProps)===null||G===void 0?void 0:G[o],fe="hide"in Q.props?Q.props.hide:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return W===T&&(j||!fe)}),N,i,d);V&&(O=V)}x&&(_==="number"||A!=="auto")&&(H=dd(R,N,"category"))}else x?O=Ng(0,P):l&&l[T]&&l[T].hasStack&&_==="number"?O=h==="expand"?[0,1]:LL(l[T].stackGroups,c,u):O=PL(R,s.filter(function(Q){var G=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ie="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return G===T&&(j||!ie)}),_,d,!0);if(_==="number")O=Yw(f,O,T,i,S),B&&(O=pw(B,O,C));else if(_==="category"&&B){var U=B,X=O.every(function(Q){return U.indexOf(Q)>=0});X&&(O=U)}}return re(re({},b),{},ke({},T,re(re({},v),{},{axisType:i,domain:O,categoricalDomain:H,duplicateDomain:I,originalDomain:(y=v.domain)!==null&&y!==void 0?y:F,isCategorical:x,layout:d})))},{})},Iye=function(e,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=vx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,b=IL(d,i),w=-1;return r.reduce(function(y,v){var _=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,N=_[o],C=t$("number");if(!y[N]){w++;var E;return b?E=Ng(0,x):l&&l[N]&&l[N].hasStack?(E=LL(l[N].stackGroups,c,u),E=Yw(f,E,N,i)):(E=pw(C,PL(h,r.filter(function(A){var S,j,T=o in A.props?A.props[o]:(S=A.type.defaultProps)===null||S===void 0?void 0:S[o],R="hide"in A.props?A.props.hide:(j=A.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===N&&!R}),"number",d),s.defaultProps.allowDataOverflow),E=Yw(f,E,N,i)),re(re({},y),{},ke({},N,re(re({axisType:i},s.defaultProps),{},{hide:!0,orientation:fr(Aye,"".concat(i,".").concat(w%2),null),domain:E,originalDomain:C,isCategorical:b,layout:d})))}return y},{})},Rye=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(s,"Id"),h=Pr(d,i),x={};return h&&h.length?x=Pye(e,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=Iye(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},Mye=function(e){var n=Li(e),r=Ws(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:LN(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ug(n,r)}},qj=function(e){var n=e.children,r=e.defaultShowTooltip,s=or(n,mc),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Oye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xs(n&&n.type);return r&&r.indexOf("Bar")>=0})},zj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dye=function(e,n){var r=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=or(f,mc),b=or(f,eo),w=Object.keys(c).reduce(function(E,A){var S=c[A],j=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},ke({},j,E[j]+S.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,A){var S=o[A],j=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},ke({},j,fr(E,"".concat(j))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=re(re({},y),w),_=v.bottom;x&&(v.bottom+=x.props.height||mc.defaultProps.height),b&&n&&(v=eue(v,s,r,n));var N=u-v.left-v.right,C=d-v.top-v.bottom;return re(re({brushBottom:_},v),{},{width:Math.max(N,0),height:Math.max(C,0)})},Lye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},bS=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,_){var N=_.graphicalItems,C=_.stackGroups,E=_.offset,A=_.updateId,S=_.dataStartIndex,j=_.dataEndIndex,T=v.barSize,R=v.layout,P=v.barGap,O=v.barCategoryGap,I=v.maxBarSize,H=zj(R),F=H.numericAxisName,L=H.cateAxisName,B=Oye(N),z=[];return N.forEach(function(V,U){var X=vx(v.data,{graphicalItems:[V],dataStartIndex:S,dataEndIndex:j}),Q=V.type.defaultProps!==void 0?re(re({},V.type.defaultProps),V.props):V.props,G=Q.dataKey,ie=Q.maxBarSize,W=Q["".concat(F,"Id")],fe=Q["".concat(L,"Id")],Ee={},Ie=c.reduce(function(We,Lt){var Gn=_["".concat(Lt.axisType,"Map")],te=Q["".concat(Lt.axisType,"Id")];Gn&&Gn[te]||Lt.axisType==="zAxis"||vo();var ye=Gn[te];return re(re({},We),{},ke(ke({},Lt.axisType,ye),"".concat(Lt.axisType,"Ticks"),Ws(ye)))},Ee),ce=Ie[L],ae=Ie["".concat(L,"Ticks")],J=C&&C[W]&&C[W].hasStack&&due(V,C[W].stackGroups),K=Xs(V.type).indexOf("Bar")>=0,he=ug(ce,ae),ve=[],Le=B&&Qce({barSize:T,stackGroups:C,totalSize:Lye(Ie,L)});if(K){var Z,me,Xe=$e(ie)?I:ie,At=(Z=(me=ug(ce,ae,!0))!==null&&me!==void 0?me:Xe)!==null&&Z!==void 0?Z:0;ve=Zce({barGap:P,barCategoryGap:O,bandSize:At!==he?At:he,sizeList:Le[fe],maxBarSize:Xe}),At!==he&&(ve=ve.map(function(We){return re(re({},We),{},{position:re(re({},We.position),{},{offset:We.position.offset-At/2})})}))}var Nt=V&&V.type&&V.type.getComposedData;Nt&&z.push({props:re(re({},Nt(re(re({},Ie),{},{displayedData:X,props:v,dataKey:G,item:V,bandSize:he,barPosition:ve,offset:E,stackedData:J,layout:R,dataStartIndex:S,dataEndIndex:j}))),{},ke(ke(ke({key:V.key||"item-".concat(U)},F,Ie[F]),L,Ie[L]),"animationId",A)),childIndex:ZK(V,v.children),item:V})}),z},x=function(v,_){var N=v.props,C=v.dataStartIndex,E=v.dataEndIndex,A=v.updateId;if(!oA({props:N}))return null;var S=N.children,j=N.layout,T=N.stackOffset,R=N.data,P=N.reverseStackOrder,O=zj(j),I=O.numericAxisName,H=O.cateAxisName,F=Pr(S,r),L=cue(R,F,"".concat(I,"Id"),"".concat(H,"Id"),T,P),B=c.reduce(function(Q,G){var ie="".concat(G.axisType,"Map");return re(re({},Q),{},ke({},ie,Rye(N,re(re({},G),{},{graphicalItems:F,stackGroups:G.axisType===I&&L,dataStartIndex:C,dataEndIndex:E}))))},{}),z=Dye(re(re({},B),{},{props:N,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(Q){B[Q]=d(N,B[Q],z,Q.replace("Map",""),n)});var V=B["".concat(H,"Map")],U=Mye(V),X=h(N,re(re({},B),{},{dataStartIndex:C,dataEndIndex:E,updateId:A,graphicalItems:F,stackGroups:L,offset:z}));return re(re({formattedGraphicalItems:X,graphicalItems:F,offset:z,stackGroups:L},U),B)},b=function(y){function v(_){var N,C,E;return gye(this,v),E=vye(this,v,[_]),ke(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ke(E,"accessibilityManager",new nye),ke(E,"handleLegendBBoxUpdate",function(A){if(A){var S=E.state,j=S.dataStartIndex,T=S.dataEndIndex,R=S.updateId;E.setState(re({legendBBox:A},x({props:E.props,dataStartIndex:j,dataEndIndex:T,updateId:R},re(re({},E.state),{},{legendBBox:A}))))}}),ke(E,"handleReceiveSyncEvent",function(A,S,j){if(E.props.syncId===A){if(j===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),ke(E,"handleBrushChange",function(A){var S=A.startIndex,j=A.endIndex;if(S!==E.state.dataStartIndex||j!==E.state.dataEndIndex){var T=E.state.updateId;E.setState(function(){return re({dataStartIndex:S,dataEndIndex:j},x({props:E.props,dataStartIndex:S,dataEndIndex:j,updateId:T},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:j})}}),ke(E,"handleMouseEnter",function(A){var S=E.getMouseInfo(A);if(S){var j=re(re({},S),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var T=E.props.onMouseEnter;Ce(T)&&T(j,A)}}),ke(E,"triggeredAfterMouseMove",function(A){var S=E.getMouseInfo(A),j=S?re(re({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var T=E.props.onMouseMove;Ce(T)&&T(j,A)}),ke(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ke(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ke(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),ke(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var j=E.props.onMouseLeave;Ce(j)&&j(S,A)}),ke(E,"handleOuterEvent",function(A){var S=QK(A),j=fr(E.props,"".concat(S));if(S&&Ce(j)){var T,R;/.*touch.*/i.test(S)?R=E.getMouseInfo(A.changedTouches[0]):R=E.getMouseInfo(A),j((T=R)!==null&&T!==void 0?T:{},A)}}),ke(E,"handleClick",function(A){var S=E.getMouseInfo(A);if(S){var j=re(re({},S),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var T=E.props.onClick;Ce(T)&&T(j,A)}}),ke(E,"handleMouseDown",function(A){var S=E.props.onMouseDown;if(Ce(S)){var j=E.getMouseInfo(A);S(j,A)}}),ke(E,"handleMouseUp",function(A){var S=E.props.onMouseUp;if(Ce(S)){var j=E.getMouseInfo(A);S(j,A)}}),ke(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ke(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),ke(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),ke(E,"handleDoubleClick",function(A){var S=E.props.onDoubleClick;if(Ce(S)){var j=E.getMouseInfo(A);S(j,A)}}),ke(E,"handleContextMenu",function(A){var S=E.props.onContextMenu;if(Ce(S)){var j=E.getMouseInfo(A);S(j,A)}}),ke(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Qy.emit(Zy,E.props.syncId,A,E.eventEmitterSymbol)}),ke(E,"applySyncEvent",function(A){var S=E.props,j=S.layout,T=S.syncMethod,R=E.state.updateId,P=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(re({dataStartIndex:P,dataEndIndex:O},x({props:E.props,dataStartIndex:P,dataEndIndex:O,updateId:R},E.state)));else if(A.activeTooltipIndex!==void 0){var I=A.chartX,H=A.chartY,F=A.activeTooltipIndex,L=E.state,B=L.offset,z=L.tooltipTicks;if(!B)return;if(typeof T=="function")F=T(z,A);else if(T==="value"){F=-1;for(var V=0;V<z.length;V++)if(z[V].value===A.activeLabel){F=V;break}}var U=re(re({},B),{},{x:B.left,y:B.top}),X=Math.min(I,U.x+U.width),Q=Math.min(H,U.y+U.height),G=z[F]&&z[F].value,ie=Zw(E.state,E.props.data,F),W=z[F]?{x:j==="horizontal"?z[F].coordinate:X,y:j==="horizontal"?Q:z[F].coordinate}:e$;E.setState(re(re({},A),{},{activeLabel:G,activeCoordinate:W,activePayload:ie,activeTooltipIndex:F}))}else E.setState(A)}),ke(E,"renderCursor",function(A){var S,j=E.state,T=j.isTooltipActive,R=j.activeCoordinate,P=j.activePayload,O=j.offset,I=j.activeTooltipIndex,H=j.tooltipAxisBandSize,F=E.getTooltipEventType(),L=(S=A.props.active)!==null&&S!==void 0?S:T,B=E.props.layout,z=A.key||"_recharts-cursor";return q.createElement(cye,{key:z,activeCoordinate:R,activePayload:P,activeTooltipIndex:I,chartName:n,element:A,isActive:L,layout:B,offset:O,tooltipAxisBandSize:H,tooltipEventType:F})}),ke(E,"renderPolarAxis",function(A,S,j){var T=fr(A,"type.axisType"),R=fr(E.state,"".concat(T,"Map")),P=A.type.defaultProps,O=P!==void 0?re(re({},P),A.props):A.props,I=R&&R[O["".concat(T,"Id")]];return D.cloneElement(A,re(re({},I),{},{className:Ve(T,I.className),key:A.key||"".concat(S,"-").concat(j),ticks:Ws(I,!0)}))}),ke(E,"renderPolarGrid",function(A){var S=A.props,j=S.radialLines,T=S.polarAngles,R=S.polarRadius,P=E.state,O=P.radiusAxisMap,I=P.angleAxisMap,H=Li(O),F=Li(I),L=F.cx,B=F.cy,z=F.innerRadius,V=F.outerRadius;return D.cloneElement(A,{polarAngles:Array.isArray(T)?T:Ws(F,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(R)?R:Ws(H,!0).map(function(U){return U.coordinate}),cx:L,cy:B,innerRadius:z,outerRadius:V,key:A.key||"polar-grid",radialLines:j})}),ke(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,S=E.props,j=S.children,T=S.width,R=S.height,P=E.props.margin||{},O=T-(P.left||0)-(P.right||0),I=CL({children:j,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!I)return null;var H=I.item,F=Uj(I,uye);return D.cloneElement(H,re(re({},F),{},{chartWidth:T,chartHeight:R,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ke(E,"renderTooltip",function(){var A,S=E.props,j=S.children,T=S.accessibilityLayer,R=or(j,Kn);if(!R)return null;var P=E.state,O=P.isTooltipActive,I=P.activeCoordinate,H=P.activePayload,F=P.activeLabel,L=P.offset,B=(A=R.props.active)!==null&&A!==void 0?A:O;return D.cloneElement(R,{viewBox:re(re({},L),{},{x:L.left,y:L.top}),active:B,label:F,payload:B?H:[],coordinate:I,accessibilityLayer:T})}),ke(E,"renderBrush",function(A){var S=E.props,j=S.margin,T=S.data,R=E.state,P=R.offset,O=R.dataStartIndex,I=R.dataEndIndex,H=R.updateId;return D.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ep(E.handleBrushChange,A.props.onChange),data:T,x:ue(A.props.x)?A.props.x:P.left,y:ue(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(j.bottom||0),width:ue(A.props.width)?A.props.width:P.width,startIndex:O,endIndex:I,updateId:"brush-".concat(H)})}),ke(E,"renderReferenceElement",function(A,S,j){if(!A)return null;var T=E,R=T.clipPathId,P=E.state,O=P.xAxisMap,I=P.yAxisMap,H=P.offset,F=A.type.defaultProps||{},L=A.props,B=L.xAxisId,z=B===void 0?F.xAxisId:B,V=L.yAxisId,U=V===void 0?F.yAxisId:V;return D.cloneElement(A,{key:A.key||"".concat(S,"-").concat(j),xAxis:O[z],yAxis:I[U],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:R})}),ke(E,"renderActivePoints",function(A){var S=A.item,j=A.activePoint,T=A.basePoint,R=A.childIndex,P=A.isRange,O=[],I=S.props.key,H=S.item.type.defaultProps!==void 0?re(re({},S.item.type.defaultProps),S.item.props):S.item.props,F=H.activeDot,L=H.dataKey,B=re(re({index:R,dataKey:L,cx:j.x,cy:j.y,r:4,fill:cS(S.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Te(F,!1)),Dm(F));return O.push(v.renderActiveDot(F,B,"".concat(I,"-activePoint-").concat(R))),T?O.push(v.renderActiveDot(F,re(re({},B),{},{cx:T.x,cy:T.y}),"".concat(I,"-basePoint-").concat(R))):P&&O.push(null),O}),ke(E,"renderGraphicChild",function(A,S,j){var T=E.filterFormatItem(A,S,j);if(!T)return null;var R=E.getTooltipEventType(),P=E.state,O=P.isTooltipActive,I=P.tooltipAxis,H=P.activeTooltipIndex,F=P.activeLabel,L=E.props.children,B=or(L,Kn),z=T.props,V=z.points,U=z.isRange,X=z.baseLine,Q=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,G=Q.activeDot,ie=Q.hide,W=Q.activeBar,fe=Q.activeShape,Ee=!!(!ie&&O&&B&&(G||W||fe)),Ie={};R!=="axis"&&B&&B.props.trigger==="click"?Ie={onClick:ep(E.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(Ie={onMouseLeave:ep(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ep(E.handleItemMouseEnter,A.props.onMouseEnter)});var ce=D.cloneElement(A,re(re({},T.props),Ie));function ae(Lt){return typeof I.dataKey=="function"?I.dataKey(Lt.payload):null}if(Ee)if(H>=0){var J,K;if(I.dataKey&&!I.allowDuplicatedCategory){var he=typeof I.dataKey=="function"?ae:"payload.".concat(I.dataKey.toString());J=Om(V,he,F),K=U&&X&&Om(X,he,F)}else J=V==null?void 0:V[H],K=U&&X&&X[H];if(fe||W){var ve=A.props.activeIndex!==void 0?A.props.activeIndex:H;return[D.cloneElement(A,re(re(re({},T.props),Ie),{},{activeIndex:ve})),null,null]}if(!$e(J))return[ce].concat(Ec(E.renderActivePoints({item:T,activePoint:J,basePoint:K,childIndex:H,isRange:U})))}else{var Le,Z=(Le=E.getItemByXY(E.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:ce},me=Z.graphicalItem,Xe=me.item,At=Xe===void 0?A:Xe,Nt=me.childIndex,We=re(re(re({},T.props),Ie),{},{activeIndex:Nt});return[D.cloneElement(At,We),null,null]}return U?[ce,null,null]:[ce,null]}),ke(E,"renderCustomized",function(A,S,j){return D.cloneElement(A,re(re({key:"recharts-customized-".concat(j)},E.props),E.state))}),ke(E,"renderMap",{CartesianGrid:{handler:ip,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ip},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ip},YAxis:{handler:ip},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((N=_.id)!==null&&N!==void 0?N:Vc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=CD(E.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return _ye(v,y),yye(v,[{key:"componentDidMount",value:function(){var N,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,C=N.children,E=N.data,A=N.height,S=N.layout,j=or(C,Kn);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=Zw(this.state,E,T,R),O=this.state.tooltipTicks[T].coordinate,I=(this.state.offset.top+A)/2,H=S==="horizontal",F=H?{x:O,y:I}:{y:O,x:I},L=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});L&&(F=re(re({},F),L.props.points[T].tooltipPosition),P=L.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:F};this.setState(B),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(N){Cb([or(N.children,Kn)],[or(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=or(this.props.children,Kn);if(N&&typeof N.props.shared=="boolean"){var C=N.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),A=Eie(E),S={chartX:Math.round(N.pageX-A.left),chartY:Math.round(N.pageY-A.top)},j=E.width/C.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,j);if(!T)return null;var R=this.state,P=R.xAxisMap,O=R.yAxisMap,I=this.getTooltipEventType(),H=Bj(this.state,this.props.data,this.props.layout,T);if(I!=="axis"&&P&&O){var F=Li(P).scale,L=Li(O).scale,B=F&&F.invert?F.invert(S.chartX):null,z=L&&L.invert?L.invert(S.chartY):null;return re(re({},S),{},{xValue:B,yValue:z},H)}return H?re(re({},S),H):null}},{key:"inRange",value:function(N,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,S=N/E,j=C/E;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,R=S>=T.left&&S<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return R?{x:S,y:j}:null}var P=this.state,O=P.angleAxisMap,I=P.radiusAxisMap;if(O&&I){var H=Li(O);return xC({x:S,y:j},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,C=this.getTooltipEventType(),E=or(N,Kn),A={};E&&C==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Dm(this.props,this.handleOuterEvent);return re(re({},S),A)}},{key:"addListener",value:function(){Qy.on(Zy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qy.removeListener(Zy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,C,E){for(var A=this.state.formattedGraphicalItems,S=0,j=A.length;S<j;S++){var T=A[S];if(T.item===N||T.props.key===N.key||C===Xs(T.item.type)&&E===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,C=this.state.offset,E=C.left,A=C.top,S=C.height,j=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:N},q.createElement("rect",{x:E,y:A,height:S,width:j})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(C,E){var A=Fj(E,2),S=A[0],j=A[1];return re(re({},C),{},ke({},S,j.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(C,E){var A=Fj(E,2),S=A[0],j=A[1];return re(re({},C),{},ke({},S,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var C=this.state,E=C.formattedGraphicalItems,A=C.activeItem;if(E&&E.length)for(var S=0,j=E.length;S<j;S++){var T=E[S],R=T.props,P=T.item,O=P.type.defaultProps!==void 0?re(re({},P.type.defaultProps),P.props):P.props,I=Xs(P.type);if(I==="Bar"){var H=(R.data||[]).find(function(z){return dhe(N,z)});if(H)return{graphicalItem:T,payload:H}}else if(I==="RadialBar"){var F=(R.data||[]).find(function(z){return xC(N,z)});if(F)return{graphicalItem:T,payload:F}}else if(fx(T,A)||hx(T,A)||Nf(T,A)){var L=Zpe({graphicalItem:T,activeTooltipItem:A,itemData:O.data}),B=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:re(re({},T),{},{childIndex:B}),payload:Nf(T,A)?O.data[L]:T.props.data[L]}}}return null}},{key:"render",value:function(){var N=this;if(!oA(this))return null;var C=this.props,E=C.children,A=C.className,S=C.width,j=C.height,T=C.style,R=C.compact,P=C.title,O=C.desc,I=Uj(C,dye),H=Te(I,!1);if(R)return q.createElement(_j,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Pb,dl({},H,{width:S,height:j,title:P,desc:O}),this.renderClipPath(),cA(E,this.renderMap)));if(this.props.accessibilityLayer){var F,L;H.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,H.role=(L=this.props.role)!==null&&L!==void 0?L:"application",H.onKeyDown=function(z){N.accessibilityManager.keyboardEvent(z)},H.onFocus=function(){N.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return q.createElement(_j,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",dl({className:Ve("recharts-wrapper",A),style:re({position:"relative",cursor:"default",width:S,height:j},T)},B,{ref:function(V){N.container=V}}),q.createElement(Pb,dl({},H,{width:S,height:j,title:P,desc:O,style:kye}),this.renderClipPath(),cA(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ke(b,"displayName",n),ke(b,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ke(b,"getDerivedStateFromProps",function(y,v){var _=y.dataKey,N=y.data,C=y.children,E=y.width,A=y.height,S=y.layout,j=y.stackOffset,T=y.margin,R=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var O=qj(y);return re(re(re({},O),{},{updateId:0},x(re(re({props:y},O),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:N,prevWidth:E,prevHeight:A,prevLayout:S,prevStackOffset:j,prevMargin:T,prevChildren:C})}if(_!==v.prevDataKey||N!==v.prevData||E!==v.prevWidth||A!==v.prevHeight||S!==v.prevLayout||j!==v.prevStackOffset||!Tl(T,v.prevMargin)){var I=qj(y),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=re(re({},Bj(v,N,S)),{},{updateId:v.updateId+1}),L=re(re(re({},I),H),F);return re(re(re({},L),x(re({props:y},L),v)),{},{prevDataKey:_,prevData:N,prevWidth:E,prevHeight:A,prevLayout:S,prevStackOffset:j,prevMargin:T,prevChildren:C})}if(!Cb(C,v.prevChildren)){var B,z,V,U,X=or(C,mc),Q=X&&(B=(z=X.props)===null||z===void 0?void 0:z.startIndex)!==null&&B!==void 0?B:R,G=X&&(V=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&V!==void 0?V:P,ie=Q!==R||G!==P,W=!$e(N),fe=W&&!ie?v.updateId:v.updateId+1;return re(re({updateId:fe},x(re(re({props:y},v),{},{updateId:fe,dataStartIndex:Q,dataEndIndex:G}),v)),{},{prevChildren:C,dataStartIndex:Q,dataEndIndex:G})}return null}),ke(b,"renderActiveDot",function(y,v,_){var N;return D.isValidElement(y)?N=D.cloneElement(y,v):Ce(y)?N=y(v):N=q.createElement(ox,v),q.createElement(Je,{className:"recharts-active-dot",key:_},N)});var w=D.forwardRef(function(v,_){return q.createElement(b,dl({},v,{ref:_}))});return w.displayName=b.displayName,w},n$=bS({chartName:"BarChart",GraphicalChild:ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:ha}],formatAxisMap:y6}),$ye=bS({chartName:"PieChart",GraphicalChild:bi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dx},{axisType:"radiusAxis",AxisComp:cx}],formatAxisMap:wue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),r$=bS({chartName:"AreaChart",GraphicalChild:os,axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:ha}],formatAxisMap:y6});const Fye=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Uye=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:Em,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:ZO,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:Ns,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:Bd,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:as,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:gi,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:Ns,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:jn,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Wd,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>a.jsxs("button",{onClick:()=>t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[a.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),a.jsx(Mc,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(r$,{data:Fye,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(kf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),a.jsx(Kn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(os,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(os,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zd,{className:"w-6 h-6 text-orange-500"}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),a.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[a.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?a.jsx(fn,{className:"w-4 h-4 text-green-400"}):a.jsx(T0,{className:"w-4 h-4 text-orange-500"})]},r))}),a.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[a.jsx(ua,{className:"w-4 h-4"})," Aadir Requisito"]})]}),a.jsx(jm,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ns,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[a.jsx(Xl,{className:"w-5 h-5 text-orange-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Vye=20,Bye=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:s,fetchProductsPaginatedAndFiltered:i}=Dt(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,x]=D.useState(!1),[b,w]=D.useState([]),[y,v]=D.useState(null),[_,N]=D.useState(!0),[C,E]=D.useState(!1),A=D.useRef(null),[S,j]=D.useState(null),[T,R]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[P,O]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[I,H]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[F,L]=D.useState({isFractionable:!1,saleUnitConversionFactor:1}),[B,z]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),V=D.useCallback(async(W=!1,fe=o,Ee=y)=>{E(!0);try{const Ie={limit:Vye,searchTerm:fe.toLowerCase().trim(),startAfterDoc:W?void 0:Ee,orderByField:"name",orderDirection:"asc"},{products:ce,lastVisible:ae,hasMore:J}=await i(Ie);w(K=>W?ce:[...K,...ce]),v(ae),N(J)}catch(Ie){console.error("Error loading products:",Ie)}finally{E(!1)}},[o,y,i]);D.useEffect(()=>{t||V(!0,o,null)},[o,t,V]);const U=q.useMemo(()=>{let W=P.baseCost;P.discounts.forEach(ce=>{ce>0&&(W=W*(1-ce/100))});const fe=W*(1+P.markup/100),Ee=fe*(1+P.ivaRate/100),Ie=F.isFractionable&&F.saleUnitConversionFactor?Ee*F.saleUnitConversionFactor:Ee;return{netCost:W,priceWithoutIva:fe,finalSalePricePrimaryUnit:Ee,finalSalePriceSaleUnit:Ie}},[P,F]),X=()=>{j(null),R({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),H({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),L({isFractionable:!1,saleUnitConversionFactor:1}),z({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},Q=W=>{j(W),W?(R({name:W.name,sku:W.sku,category:W.category,brand:W.brand,saleCurrency:W.saleCurrency||"ARS",supplierProductCode:W.supplierProductCode||"",imageUrl:W.imageUrl||"",primaryUnit:W.primaryUnit||"unidad",saleUnit:W.saleUnit||"unidad"}),O({baseCost:W.costPrice||0,ivaRate:21,discounts:[],markup:W.salePrice&&W.costPrice?(W.salePrice/(W.costPrice*1.21)-1)*100:30,supplierId:W.supplierId||"",purchaseCurrency:W.purchaseCurrency||"ARS"}),H({stock:W.stock,minStock:W.minStock||5,location:W.location||"",reorderPoint:W.reorderPoint||0,targetStock:W.targetStock||0,packQuantity:W.packQuantity||1}),L({isFractionable:W.isFractionable||!1,saleUnitConversionFactor:W.saleUnitConversionFactor||1}),z({isOnline:W.isOnline||!1,onlinePriceAdjustment:W.onlinePriceAdjustment||0,mlSync:W.mlSync||!1})):X(),u(!0)},G=W=>{var Ee;const fe=(Ee=W.target.files)==null?void 0:Ee[0];if(fe){const Ie=new FileReader;Ie.onload=ce=>{R(ae=>{var J;return{...ae,imageUrl:(J=ce.target)==null?void 0:J.result}})},Ie.readAsDataURL(fe)}},ie=async()=>{if(x(!0),!T.name||!T.sku||!T.primaryUnit||!T.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),x(!1);return}if(P.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),x(!1);return}if(F.isFractionable&&(F.saleUnitConversionFactor===void 0||F.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),x(!1);return}const W={sku:T.sku||"",name:T.name||"",supplierId:P.supplierId||"",costPrice:P.baseCost,salePrice:U.finalSalePricePrimaryUnit,stock:I.stock,category:T.category||"General",brand:T.brand||"N/A",reorderPoint:I.reorderPoint,targetStock:I.targetStock,packQuantity:I.packQuantity,purchaseCurrency:P.purchaseCurrency,saleCurrency:T.saleCurrency||"ARS",supplierProductCode:T.supplierProductCode||"",minStock:I.minStock,location:I.location,imageUrl:T.imageUrl,primaryUnit:T.primaryUnit,saleUnit:T.saleUnit,isFractionable:F.isFractionable,saleUnitConversionFactor:F.isFractionable?F.saleUnitConversionFactor:void 0,isOnline:B.isOnline,onlinePriceAdjustment:B.isOnline?B.onlinePriceAdjustment:void 0,mlSync:B.mlSync};try{S?await n(S.id,W):await e(W),u(!1),X(),V(!0)}catch(fe){alert("Error al guardar"),console.error("Error saving product:",fe)}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),a.jsxs("button",{onClick:()=>{Q(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:o,onChange:W=>l(W.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",T.primaryUnit,")"]}),a.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",T.saleUnit,")"]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(W=>{var fe;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:W.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:W.sku})]}),a.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[W.stock," ",W.primaryUnit]}),a.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(fe=W.salePrice)==null?void 0:fe.toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right font-black",children:W.isFractionable&&W.saleUnitConversionFactor&&W.salePrice?`$${(W.salePrice*W.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("button",{onClick:()=>Q(W),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(ci,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(W.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]},W.id)})})]}),C&&a.jsxs("div",{className:"p-10 text-center",children:[a.jsx(Fe,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[a.jsx("h2",{className:"text-xl font-black uppercase",children:S?"Editar Producto":"Nuevo Producto"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[600px]",children:[" ",a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:Xl},{id:"costs",label:"Costos y Precios",icon:jn},{id:"inventory",label:"Inventario Fsico",icon:Mm},{id:"fractioned",label:"Venta Fraccionada",icon:Ql},{id:"ecommerce",label:"E-commerce",icon:po}].map(W=>a.jsxs("button",{onClick:()=>f(W.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===W.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[a.jsx(W.icon,{className:"w-4 h-4 inline-block mr-2"}),W.label]},W.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Xl,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:T.name||"",onChange:W=>R({...T,name:W.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{value:T.sku||"",onChange:W=>R({...T,sku:W.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:T.primaryUnit||"unidad",onChange:W=>R({...T,primaryUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:T.saleUnit||"unidad",onChange:W=>R({...T,saleUnit:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),a.jsx("input",{value:T.category||"",onChange:W=>R({...T,category:W.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsx("input",{value:T.brand||"",onChange:W=>R({...T,brand:W.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),a.jsx("input",{value:T.supplierProductCode||"",onChange:W=>R({...T,supplierProductCode:W.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),a.jsxs("select",{value:T.saleCurrency||"ARS",onChange:W=>R({...T,saleCurrency:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Sb,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:[T.imageUrl?a.jsx("img",{src:T.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):a.jsx(Sb,{className:"w-8 h-8 text-slate-300"}),T.imageUrl&&a.jsx("button",{onClick:()=>R(W=>({...W,imageUrl:""})),className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ge,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{var W;return(W=A.current)==null?void 0:W.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Rm,{className:"w-4 h-4"})," Subir Imagen"]}),a.jsx("input",{ref:A,type:"file",className:"hidden",accept:"image/*",onChange:G}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"Formatos: JPG, PNG. Max 2MB."})]})]})]})]}),d==="costs"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(jn,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) (",T.primaryUnit,") ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:P.baseCost||"",onChange:W=>O({...P,baseCost:Number(W.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Porcentaje de IVA (%)"}),a.jsx("input",{type:"number",value:P.ivaRate||"",onChange:W=>O({...P,ivaRate:Number(W.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(cN,{className:"w-4 h-4 text-blue-600"})," Descuentos en Cascada"]}),a.jsx("p",{className:"text-[10px] text-slate-500 italic ml-1",children:"Aplica descuentos sucesivos al costo base (ej: 10% + 5% + 2%)."}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:P.discounts.map((W,fe)=>a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:W||"",onChange:Ee=>{const Ie=[...P.discounts];Ie[fe]=Number(Ee.target.value),O({...P,discounts:Ie})},placeholder:"%",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-center"}),W>0&&a.jsx("button",{onClick:()=>{const Ee=P.discounts.filter((Ie,ce)=>ce!==fe);O({...P,discounts:Ee.concat(0).slice(0,3)})},className:"absolute top-1/2 right-2 -translate-y-1/2 p-1 text-red-500 hover:text-red-700",children:a.jsx(Ge,{className:"w-4 h-4"})})]},fe))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen de Ganancia (Markup %)"}),a.jsx("input",{type:"number",value:P.markup||"",onChange:W=>O({...P,markup:Number(W.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),a.jsxs("select",{value:P.supplierId||"",onChange:W=>O({...P,supplierId:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Ninguno"}),s.map(W=>a.jsx("option",{value:W.id,children:W.name},W.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Compra"}),a.jsxs("select",{value:P.purchaseCurrency||"ARS",onChange:W=>O({...P,purchaseCurrency:W.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Precio de Venta Sugerido (IVA Incl.) por ",T.primaryUnit]}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",U.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(uN,{className:"w-4 h-4"}),a.jsxs("span",{children:["Margen Neto: ",P.markup,"%"]})]}),F.isFractionable&&F.saleUnitConversionFactor&&a.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Precio por ",T.saleUnit," (Fraccionada)"]}),a.jsxs("p",{className:"text-2xl font-black text-white",children:["$",U.finalSalePriceSaleUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Mm,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Actual (",T.primaryUnit,")"]}),a.jsx("input",{type:"number",value:I.stock||"",onChange:W=>H({...I,stock:Number(W.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Mnimo de Alerta (",T.primaryUnit,")"]}),a.jsx("input",{type:"number",value:I.minStock||"",onChange:W=>H({...I,minStock:Number(W.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin en Depsito"}),a.jsx("input",{value:I.location||"",onChange:W=>H({...I,location:W.target.value}),placeholder:"Ej: A-05-Estante 2",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Punto de Reorden (",T.primaryUnit,")"]}),a.jsx("input",{type:"number",value:I.reorderPoint||"",onChange:W=>H({...I,reorderPoint:Number(W.target.value)}),placeholder:"10",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Stock Deseado (",T.primaryUnit,")"]}),a.jsx("input",{type:"number",value:I.targetStock||"",onChange:W=>H({...I,targetStock:Number(W.target.value)}),placeholder:"20",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Cantidad por Bulto/Pack (",T.primaryUnit,")"]}),a.jsx("input",{type:"number",value:I.packQuantity||"",onChange:W=>H({...I,packQuantity:Number(W.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ql,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada (por unidad de medida)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Permite vender este producto en unidades diferentes a su unidad primaria de stock (ej. comprar en m2, vender en tablas)."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.isFractionable||!1,onChange:W=>L({...F,isFractionable:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Venta Fraccionada"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'Si est activo, podrs vender por la "Unidad de Venta" configurada en el tab General, que es diferente a la "Unidad Primaria" de stock.'})]})]}),F.isFractionable&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin: 1 ",T.saleUnit," equivale a... (",T.primaryUnit,") ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:F.saleUnitConversionFactor||"",onChange:W=>L({...F,saleUnitConversionFactor:Number(W.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"bg-purple-50 p-6 rounded-[2rem] border border-purple-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-purple-900",children:"Ejemplo: Madera"}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Si la unidad primaria es 'm2' y la unidad de venta es 'tabla', y 1 tabla equivale a 0.43 m2, ingresa `0.43`."})]})]})]})]}),d==="ecommerce"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(po,{className:"w-4 h-4 text-yellow-600"})," Configuracin E-Commerce"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la presencia online de este producto en tu tienda web y MercadoLibre."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.isOnline||!1,onChange:W=>z({...B,isOnline:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar en Tienda Web Propia"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, el producto aparecer en tu tienda online."})]})]}),B.isOnline&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajuste de Precio Online (%)"}),a.jsx("input",{type:"number",value:B.onlinePriceAdjustment||"",onChange:W=>z({...B,onlinePriceAdjustment:Number(W.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ej: +5% para cubrir costos de pasarela de pago."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sincronizar con MercadoLibre"}),a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.mlSync||!1,onChange:W=>z({...B,mlSync:W.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-yellow-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase flex items-center gap-2",children:[a.jsx(Wd,{className:"w-4 h-4 text-yellow-500"}),"ML Auto-Sync"]})})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-6 rounded-[2rem] border border-yellow-100 flex items-start gap-4",children:[a.jsx(Ns,{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"MercadoLibre:"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"La sincronizacin de precios y stock con ML se configura en el mdulo de E-commerce."})]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ie,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[h?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),h?"Guardando...":"Guardar Producto"]})]})]})})]})},qye=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:s,updateProduct:i,boxes:o,addTransaction:l,updateBox:c}=Dt(),[u,d]=D.useState(""),[f,h]=D.useState([]),[x,b]=D.useState(!1),[w,y]=D.useState(!1),[v,_]=D.useState(!1),[N,C]=D.useState({name:"",price:0,quantity:1}),[E,A]=D.useState(null),[S,j]=D.useState(""),[T,R]=D.useState(!1),[P,O]=D.useState("ticket"),[I,H]=D.useState([]),[F,L]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[B,z]=D.useState([]),[V,U]=D.useState(!1),[X,Q]=D.useState(null),[G,ie]=D.useState("primary"),W=D.useRef(null),fe=D.useCallback(Z=>{W.current&&clearTimeout(W.current),W.current=setTimeout(async()=>{if(Z.length<2){z([]);return}U(!0);try{const{products:me}=await r({limit:8,searchTerm:Z.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});z(me)}finally{U(!1)}},300)},[r]),Ee=Z=>{Z.isFractionable&&Z.saleUnitConversionFactor&&Z.saleUnit!==Z.primaryUnit?(Q(Z),ie("primary")):(Ie(Z,Z.primaryUnit),Q(null))},Ie=(Z,me)=>{let Xe=Z.salePrice,At=1;me===Z.saleUnit&&Z.isFractionable&&Z.saleUnitConversionFactor&&(Xe=Z.salePrice*Z.saleUnitConversionFactor,At=Z.saleUnitConversionFactor);const Nt=f.findIndex(We=>We.id===Z.id&&We.selectedSaleUnit===me);h(Nt!==-1?f.map((We,Lt)=>Lt===Nt?{...We,quantity:We.quantity+1}:We):[...f,{id:Z.id,sku:Z.sku,name:Z.name,brand:Z.brand,price:parseFloat(Xe.toFixed(2)),quantity:1,stockBeforeSale:Z.stock,primaryUnit:Z.primaryUnit,selectedSaleUnit:me,saleUnitConversionFactor:At}]),d(""),z([]),Q(null)},ce=()=>{!N.name||N.price<=0||(h([...f,{id:`manual-${Date.now()}`,sku:"MANUAL",name:N.name,brand:"Venta Libre",price:N.price,quantity:N.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),y(!1),C({name:"",price:0,quantity:1}))},ae=f.reduce((Z,me)=>Z+me.price*me.quantity,0),J=I.reduce((Z,me)=>Z+me.amount,0),K=ae-J,he=D.useMemo(()=>S?s.filter(Z=>Z.name.toLowerCase().includes(S.toLowerCase())||Z.cuit.includes(S)).slice(0,5):[],[s,S]),ve=()=>{if(F.amount<=0)return;if(!F.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const Z=t.paymentCommissions[F.method]||0,me=parseFloat((F.amount*(Z/100)).toFixed(2)),Xe=parseFloat((F.amount-me).toFixed(2));H([...I,{...F,id:Date.now().toString(),commissionRate:Z,commissionAmount:me,netAmount:Xe}]),L({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},Le=async()=>{if(P!=="presupuesto"&&Math.abs(K)>.01){alert(`Falta cubrir $${K.toLocaleString()} del total.`);return}_(!0);try{const Z=f.map(me=>({id:me.id,sku:me.sku,name:me.name,brand:me.brand,price:me.price,quantity:me.quantity,subtotal:parseFloat((me.price*me.quantity).toFixed(2)),isManual:me.isManual,selectedSaleUnit:me.selectedSaleUnit}));if(P!=="presupuesto"){for(const me of f)if(!me.isManual){const Xe=me.quantity*me.saleUnitConversionFactor;await i(me.id,{stock:me.stockBeforeSale-Xe})}for(const me of I){const Xe=o.find(At=>At.id===me.targetBoxId);Xe&&(await l({date:new Date().toISOString(),amount:me.netAmount,type:"ingreso",boxId:me.targetBoxId,category:"venta",description:`Venta ${P.toUpperCase()} - Cliente: ${(E==null?void 0:E.name)||"Mostrador"}`,paymentDetails:[me]}),await c(Xe.id,{balance:Xe.balance+me.netAmount}))}}await e({clientName:(E==null?void 0:E.name)||"Mostrador",clientId:(E==null?void 0:E.id)||null,items:Z,total:ae,paymentDetails:I,docType:P,date:new Date().toISOString(),status:P==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),b(!1),H([]),A(null)}catch(Z){console.error(Z),alert("Error al procesar la venta.")}finally{_(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),a.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[a.jsx(ua,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:Z=>{d(Z.target.value),fe(Z.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[V&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),B.map(Z=>a.jsxs("div",{onClick:()=>Ee(Z),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(c5,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:Z.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[Z.sku,"  Stock: ",Z.stock]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",Z.salePrice.toLocaleString()]})]},Z.id))]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:a.jsx("div",{className:"relative",children:E?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(Qf,{className:"w-5 h-5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:E.name})})]}),a.jsx("button",{onClick:()=>A(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(Ge,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:Z=>{j(Z.target.value),R(!0)},onFocus:()=>R(!0)}),T&&S.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:a.jsx("div",{className:"p-1 space-y-1",children:he.map(Z=>a.jsxs("button",{onClick:()=>{A(Z),j(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[a.jsx("span",{className:"font-bold text-xs",children:Z.name}),a.jsx(As,{className:"w-3 h-3 text-slate-300"})]},Z.id))})})]})})}),a.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Gd,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:f.map((Z,me)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:Z.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[Z.quantity," x $",Z.price.toLocaleString()]})]}),a.jsx("button",{onClick:()=>h(f.filter((Xe,At)=>At!==me)),className:"text-slate-300 hover:text-red-500",children:a.jsx(Rn,{className:"w-4 h-4"})})]},me))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ae.toLocaleString()]})]}),a.jsxs("button",{disabled:f.length===0,onClick:()=>b(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(As,{className:"w-6 h-6"})]})]})]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(Ge,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:I.map(Z=>{var me;return a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:Z.method.replace("_"," ")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(me=o.find(Xe=>Xe.id===Z.targetBoxId))==null?void 0:me.name]}),Z.commissionAmount>0&&a.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",Z.commissionRate,"% (-$",Z.commissionAmount,")"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",Z.amount.toLocaleString()]}),a.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",Z.netAmount.toLocaleString()]})]}),a.jsx("button",{onClick:()=>H(I.filter(Xe=>Xe.id!==Z.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]},Z.id)})}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"space-y-1 md:col-span-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),a.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.method,onChange:Z=>L({...F,method:Z.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),a.jsxs("div",{className:"space-y-1 md:col-span-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),a.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:F.amount||"",onChange:Z=>L({...F,amount:parseFloat(Z.target.value)||0})})]})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),a.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:F.targetBoxId,onChange:Z=>L({...F,targetBoxId:Z.target.value}),children:[a.jsx("option",{value:"",children:"Seleccionar Caja..."}),o.filter(Z=>Z.status==="abierta").map(Z=>a.jsxs("option",{value:Z.id,children:[Z.name," ($",Z.balance.toLocaleString(),")"]},Z.id))]})]})]}),F.amount>0&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[a.jsx(jr,{className:"w-4 h-4 text-orange-600"}),a.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[F.method]||0,"% (-$",(F.amount*((t.paymentCommissions[F.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(F.amount*(1-(t.paymentCommissions[F.method]||0)/100)).toFixed(2)]})]}),a.jsxs("button",{onClick:ve,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:P})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ae.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"A Recibir (Neto)"}),a.jsxs("span",{children:["$",I.reduce((Z,me)=>Z+me.netAmount,0).toLocaleString()]})]})]}),a.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),a.jsxs("span",{className:K>0?"text-red-500":"text-orange-500",children:["$",K.toLocaleString()]})]})})]}),a.jsxs("button",{onClick:Le,disabled:v||P!=="presupuesto"&&Math.abs(K)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[v?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):a.jsx(fn,{className:"w-6 h-6"}),v?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>y(!1),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:N.name,onChange:Z=>C({...N,name:Z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:N.price||"",onChange:Z=>C({...N,price:parseFloat(Z.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),a.jsx("button",{onClick:ce,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var zye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gye,Hye;function Wye(){return{geminiUrl:Gye,vertexUrl:Hye}}function Kye(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=Wye();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(i+1),n[u])}else for(const u of c)g(u,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Jye(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let l=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){const u=i[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}e1(t,s,i,0,o)}}function e1(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])e1(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!s.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;i in o&&e1(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yye(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Xye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Zye(o)),e}function Qye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],eve(o)),e}function Zye(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tve(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function eve(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nve(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function tve(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],lve(n)),e}function nve(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],cve(n)),e}function rve(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function sve(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ive(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],ave(o)),e}function ave(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function s$(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],ove(o)),e}function ove(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function lve(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],wS(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function cve(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],wS(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gj||(Gj={}));var Hj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Hj||(Hj={}));var Wj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Wj||(Wj={}));var dt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dt||(dt={}));var Kj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kj||(Kj={}));var Jj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Jj||(Jj={}));var Yj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yj||(Yj={}));var Xj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xj||(Xj={}));var Qj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Qj||(Qj={}));var Zj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Zj||(Zj={}));var eP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(eP||(eP={}));var tP;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(tP||(tP={}));var nP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nP||(nP={}));var rP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(rP||(rP={}));var sP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(sP||(sP={}));var iP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(iP||(iP={}));var aP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(aP||(aP={}));var oP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oP||(oP={}));var lP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lP||(lP={}));var cP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(cP||(cP={}));var uP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uP||(uP={}));var Lg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Lg||(Lg={}));var dP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dP||(dP={}));var fP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fP||(fP={}));var hP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hP||(hP={}));var t1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(t1||(t1={}));var pP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pP||(pP={}));var mP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mP||(mP={}));var n1;(function(t){t.COLLECTION="COLLECTION"})(n1||(n1={}));var gP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(gP||(gP={}));var xP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xP||(xP={}));var yP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(yP||(yP={}));var vP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(vP||(vP={}));var bP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bP||(bP={}));var wP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wP||(wP={}));var _P;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_P||(_P={}));var NP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(NP||(NP={}));var SP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(SP||(SP={}));var EP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(EP||(EP={}));var TP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TP||(TP={}));var AP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(AP||(AP={}));var kP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kP||(kP={}));var CP;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(CP||(CP={}));var jP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(jP||(jP={}));var PP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(PP||(PP={}));var IP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(IP||(IP={}));var RP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(RP||(RP={}));var MP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(MP||(MP={}));var OP;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(OP||(OP={}));var DP;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(DP||(DP={}));var LP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(LP||(LP={}));var $P;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($P||($P={}));var FP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(FP||(FP={}));var UP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(UP||(UP={}));var VP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VP||(VP={}));var BP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(BP||(BP={}));var fl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class r1{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Pu{get text(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,b]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class qP{}class zP{}class uve{}class dve{}class fve{}class hve{}class GP{}class HP{}class WP{}class pve{}class $g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $g;let s;const i=e;return n?s=Qye(i):s=Xye(i),Object.assign(r,s),r}}class KP{}class JP{}class YP{}class XP{}class mve{}class gve{}class xve{}class _S{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _S,i=ive(e);return Object.assign(r,i),r}}class yve{}class vve{}class bve{}class QP{}class wve{get text(){var e,n,r;let s="",i=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,s+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class _ve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class NS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new NS,i=s$(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i$(t,e){const n=tt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function a$(t){return Array.isArray(t)?t.map(e=>Fg(e)):[Fg(t)]}function Fg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function o$(t){const e=Fg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l$(t){const e=Fg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ZP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function c$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ZP(e)):[ZP(t)]}function s1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function eI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function tI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Cn(t){if(t==null)throw new Error("ContentUnion is required");return s1(t)?t:{role:"user",parts:c$(t)}}function SS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Cn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Cn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Cn(n)):[Cn(e)]}function Ir(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(eI(t)||tI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cn(t)]}const e=[],n=[],r=s1(t[0]);for(const s of t){const i=s1(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(eI(s)||tI(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:c$(n)}),e}function Nve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dt).includes(n[0].toUpperCase())?n[0].toUpperCase():dt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dt).includes(r.toUpperCase())?r.toUpperCase():dt.TYPE_UNSPECIFIED})}}function jl(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Nve(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(dt).includes(l.toUpperCase())?l.toUpperCase():dt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=jl(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(jl(u))}e[o]=c}else if(s.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=jl(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function ES(t){return jl(t)}function TS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function AS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jl(e.response));return t}function Yc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Sve(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function _i(t,e){if(typeof e!="string")throw new Error("name must be a string");return Sve(t,e,"cachedContents")}function u$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _a(t){return wS(t)}function Eve(t){return t!=null&&typeof t=="object"&&"name"in t}function Tve(t){return t!=null&&typeof t=="object"&&"video"in t}function Ave(t){return t!=null&&typeof t=="object"&&"uri"in t}function d$(t){var e;let n;if(Eve(t)&&(n=t.name),!(Ave(t)&&(n=t.uri,n===void 0))&&!(Tve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function f$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function h$(t){for(const e of["models","tunedModels","publisherModels"])if(kve(t,e))return t[e];return[]}function kve(t,e){return t!==null&&typeof t=="object"&&e in t}function Cve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jve(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=Cve(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function p$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Pve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function m$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function g$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ive(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fbe(o))),g(e,["inlinedResponses"],i)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["inlinedEmbedContentResponses"],i)}return e}function Rve(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function Mve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],g$(s));const i=p(t,["metadata","createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],Ive(m$(u))),e}function i1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],g$(s));const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],Ove(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],Rve(m$(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function Ove(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function Dve(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>dbe(t,o))),g(n,["requests","requests"],i)}return n}function Lve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $ve(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Fve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Uve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Vve(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Bve(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Bve(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function x$(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>vbe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function qve(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function zve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],Mve(Pve(s))),n}function nI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],Dve(t,p$(t,s)));const i=p(e,["config"]);return i!=null&&qve(i,n),n}function Gve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],tt(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],Lve(p$(t,s)));const i=p(e,["config"]);return i!=null&&zve(i,n),n}function Hve(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Wve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],ebe(t,s));const i=p(e,["config"]);return i!=null&&Hve(i,n),n}function Kve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Jve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function Yve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Xve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Qve(t,e){const n={},r=p(e,["contents"]);if(r!=null){let i=SS(t,r);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["requests[]","request","content"],i)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],Zve(s,n)),Jye(n,{"requests[].*":"requests[].request.*"})),n}function Zve(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ebe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],Qve(t,s)),n}function tbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sbe(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],x$(Cn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],ES(v));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let I=N;Array.isArray(I)&&(I=I.map(H=>bbe(H))),g(n,["safetySettings"],I)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let I=Yc(C);Array.isArray(I)&&(I=I.map(H=>_be(Jc(H)))),g(n,["tools"],I)}const E=p(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],wbe(E)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=p(e,["cachedContent"]);n!==void 0&&A!=null&&g(n,["cachedContent"],_i(t,A));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const T=p(e,["speechConfig"]);if(T!=null&&g(r,["speechConfig"],TS(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],ube(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ibe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Vve(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function abe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function obe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Xc(t,r)),n}function lbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function cbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ube(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let l=Ir(s);Array.isArray(l)&&(l=l.map(c=>x$(c))),g(n,["request","contents"],l)}const i=p(e,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],sbe(t,o,p(n,["request"],{}))),n}function fbe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],ibe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function hbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const i=p(t,["filter"]);return e!==void 0&&i!=null&&g(e,["_query","filter"],i),n}function mbe(t){const e={},n=p(t,["config"]);return n!=null&&hbe(n,e),e}function gbe(t){const e={},n=p(t,["config"]);return n!=null&&pbe(n,e),e}function xbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Dp(o))),g(e,["batchJobs"],i)}return e}function ybe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>i1(o))),g(e,["batchJobs"],i)}return e}function vbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],tbe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],nbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],$ve(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function bbe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function wbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],rbe(r)),e}function _be(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],lbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],cbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(hi||(hi={}));class Po{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nbe extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=nI(this.apiClient,e),r=n._url,s=xe("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Gve(this.apiClient,e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>i1(d))}else{const u=nI(this.apiClient,e);return l=xe("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Dp(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wve(this.apiClient,e);return i=xe("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Dp(c))}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=obe(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>i1(d))}else{const u=abe(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Dp(d))}}async cancel(e){var n,r,s,i;let o="",l={};if(this.apiClient.isVertexAI()){const c=Uve(this.apiClient,e);o=xe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Fve(this.apiClient,e);o=xe("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=gbe(e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ybe(d),h=new QP;return Object.assign(h,f),h})}else{const u=mbe(e);return l=xe("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=xbe(d),h=new QP;return Object.assign(h,f),h})}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Jve(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Xve(d))}else{const u=Kve(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Yve(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sbe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rI(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Wbe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Ebe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=Ir(o);Array.isArray(d)&&(d=d.map(f=>rI(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],rI(Cn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Jbe(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Kbe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Tbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=Ir(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],Cn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Ybe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function Abe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],i$(t,r));const s=p(e,["config"]);return s!=null&&Ebe(s,n),n}function kbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],i$(t,r));const s=p(e,["config"]);return s!=null&&Tbe(s,n),n}function Cbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_i(t,r)),n}function jbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_i(t,r)),n}function Pbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Ibe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Rbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Mbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Obe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dbe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Lbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_i(t,r)),n}function $be(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_i(t,r)),n}function Fbe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Ube(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Vbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function Bbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function qbe(t){const e={},n=p(t,["config"]);return n!=null&&Vbe(n,e),e}function zbe(t){const e={},n=p(t,["config"]);return n!=null&&Bbe(n,e),e}function Gbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Hbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Wbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],Rbe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Mbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Sbe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Kbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Obe(r)),e}function Jbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Fbe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Ube(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Ybe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Dbe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Xbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function Qbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function Zbe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],_i(t,r));const s=p(e,["config"]);return s!=null&&Xbe(s,n),n}function ewe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],_i(t,r));const s=p(e,["config"]);return s!=null&&Qbe(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class twe extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=kbe(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Abe(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=$be(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Lbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=jbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ibe(d),h=new YP;return Object.assign(h,f),h})}else{const u=Cbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Pbe(d),h=new YP;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ewe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Zbe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=zbe(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Hbe(d),h=new XP;return Object.assign(h,f),h})}else{const u=qbe(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Gbe(d),h=new XP;return Object.assign(h,f),h})}}}function Ug(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function sI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function ns(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(b){return Promise.resolve(b).then(x,f)}}function l(x,b){r[x]&&(s[x]=function(w){return new Promise(function(y,v){i.push([x,w,y,v])>1||c(x,w)})},b&&(s[x]=b(s[x])))}function c(x,b){try{u(r[x](b))}catch(w){h(i[0][3],w)}}function u(x){x.value instanceof Re?Promise.resolve(x.value.v).then(d,f):h(i[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,b){x(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function rs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sI=="function"?sI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nwe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:y$(n)}function y$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rwe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!y$(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class swe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new iwe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class iwe{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),rwe(i)}async sendMessage(e){var n;await this.sendPromise;const r=Cn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,l;const c=await s,u=(o=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Cn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?iI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ns(this,arguments,function*(){var s,i,o,l,c,u;const d=[];try{for(var f=!0,h=rs(e),x;x=yield Re(h.next()),s=x.done,!s;f=!0){l=x.value,f=!1;const b=l;if(nwe(b)){const w=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;w!==void 0&&d.push(w)}yield yield Re(b)}}catch(b){i={error:b}}finally{try{!f&&!s&&(o=h.return)&&(yield Re(o.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...iI(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Pf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function awe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function owe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function lwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],d$(n)),e}function cwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function uwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],d$(n)),e}function dwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function fwe(t){const e={},n=p(t,["config"]);return n!=null&&dwe(n,e),e}function hwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pwe extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fwe(e);return i=xe("files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=hwe(c),d=new yve;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=awe(e);return i=xe("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=owe(c),d=new vve;return Object.assign(d,u),d})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uwe(e);return i=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lwe(e);return i=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=cwe(c),d=new bve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function mwe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Pwe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function gwe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ywe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vwe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const v=p(t,["seed"]);v!=null&&g(e,["seed"],v);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const E=p(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const A=p(t,["topK"]);A!=null&&g(e,["topK"],A);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bwe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function wwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function _we(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],AS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],mwe(Cn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let A=Yc(w);Array.isArray(A)&&(A=A.map(S=>Rwe(Jc(S)))),g(e,["setup","tools"],A)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],Iwe(y));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Nwe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],vwe(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],AS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],Cn(b));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let S=Yc(w);Array.isArray(S)&&(S=S.map(j=>Mwe(Jc(j)))),g(e,["setup","tools"],S)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],y);const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);e!==void 0&&E!=null&&g(e,["setup","proactivity"],E);const A=p(t,["explicitVadSignal"]);return e!==void 0&&A!=null&&g(e,["setup","explicitVadSignal"],A),n}function Swe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],_we(s,n)),n}function Ewe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],Nwe(s,n)),n}function Twe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Awe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function kwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=a$(n);Array.isArray(u)&&(u=u.map(d=>Lp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Lp(l$(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],Lp(o$(i)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Cwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=a$(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],l$(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],o$(i));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function jwe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const i=p(t,["toolCallCancellation"]);i!=null&&g(e,["toolCallCancellation"],i);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Owe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],Dwe(d)),e}function Pwe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],gwe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],xwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Lp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Iwe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rwe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],bwe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],wwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Mwe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>ywe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Owe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const i=p(t,["toolUsePromptTokenCount"]);i!=null&&g(e,["toolUsePromptTokenCount"],i);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(b=>b)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function Dwe(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lwe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $we(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Fwe(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Fwe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function Uwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let i=Ir(s);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["contents"],i)}return n}function Vwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["tokensInfo"],s)}return e}function Bwe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],qwe(r)),e}function qwe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function bx(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Q1e(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function zwe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Gwe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hwe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Cn(r));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>_$(l))),g(e,["tools"],o)}const i=p(t,["generationConfig"]);return e!==void 0&&i!=null&&g(e,["generationConfig"],L1e(i)),n}function Wwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let o=Ir(s);Array.isArray(o)&&(o=o.map(l=>bx(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Gwe(i),n}function Kwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let o=Ir(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Hwe(i,n),n}function Jwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const s=p(t,["cachedContentTokenCount"]);return s!=null&&g(e,["cachedContentTokenCount"],s),e}function Ywe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Xwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function Qwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function Zwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function e1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function t1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function n1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>s_e(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&t1e(o,n),n}function r1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>wx(i))),g(e,["generatedImages"],s)}return e}function s1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function i1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const i=p(t,["outputDimensionality"]);e!==void 0&&i!=null&&g(e,["parameters","outputDimensionality"],i);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function a1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let l=SS(t,s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const i=p(e,["config"]);i!=null&&s1e(i,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],tt(t,o)),n}function o1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let o=SS(t,s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const i=p(e,["config"]);return i!=null&&i1e(i,n),n}function l1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function c1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bwe(o))),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function u1e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function d1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function f1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function h1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function p1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function m1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],bx(Cn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],ES(v));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let I=N;Array.isArray(I)&&(I=I.map(H=>i_e(H))),g(n,["safetySettings"],I)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let I=Yc(C);Array.isArray(I)&&(I=I.map(H=>f_e(Jc(H)))),g(n,["tools"],I)}const E=p(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],d_e(E)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=p(e,["cachedContent"]);n!==void 0&&A!=null&&g(n,["cachedContent"],_i(t,A));const S=p(e,["responseModalities"]);S!=null&&g(r,["responseModalities"],S);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const T=p(e,["speechConfig"]);if(T!=null&&g(r,["speechConfig"],TS(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=p(e,["thinkingConfig"]);R!=null&&g(r,["thinkingConfig"],R);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],B1e(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function g1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Cn(s));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const b=p(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const w=p(e,["seed"]);w!=null&&g(r,["seed"],w);const y=p(e,["responseMimeType"]);y!=null&&g(r,["responseMimeType"],y);const v=p(e,["responseSchema"]);v!=null&&g(r,["responseSchema"],ES(v));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const N=p(e,["routingConfig"]);N!=null&&g(r,["routingConfig"],N);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let B=E;Array.isArray(B)&&(B=B.map(z=>z)),g(n,["safetySettings"],B)}const A=p(e,["tools"]);if(n!==void 0&&A!=null){let B=Yc(A);Array.isArray(B)&&(B=B.map(z=>_$(Jc(z)))),g(n,["tools"],B)}const S=p(e,["toolConfig"]);n!==void 0&&S!=null&&g(n,["toolConfig"],S);const j=p(e,["labels"]);n!==void 0&&j!=null&&g(n,["labels"],j);const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&g(n,["cachedContent"],_i(t,T));const R=p(e,["responseModalities"]);R!=null&&g(r,["responseModalities"],R);const P=p(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],TS(O));const I=p(e,["audioTimestamp"]);I!=null&&g(r,["audioTimestamp"],I);const H=p(e,["thinkingConfig"]);H!=null&&g(r,["thinkingConfig"],H);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],q1e(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const L=p(e,["modelArmorConfig"]);return n!==void 0&&L!=null&&g(n,["modelArmorConfig"],L),r}function aI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let o=Ir(s);Array.isArray(o)&&(o=o.map(l=>bx(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],m1e(t,i,n)),n}function oI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["contents"]);if(s!=null){let o=Ir(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],g1e(t,i,n)),n}function lI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>$we(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function cI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function x1e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const i=p(t,["guidanceScale"]);if(e!==void 0&&i!=null&&g(e,["parameters","guidanceScale"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function y1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const y=p(t,["addWatermark"]);e!==void 0&&y!=null&&g(e,["parameters","addWatermark"],y);const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function v1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&x1e(i,n),n}function b1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&y1e(i,n),n}function w1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>R1e(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],b$(s)),e}function _1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>wx(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],w$(s)),e}function N1e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],_x(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>E_e(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function S1e(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const i=p(t,["fps"]);e!==void 0&&i!=null&&g(e,["parameters","fps"],i);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const b=p(t,["generateAudio"]);e!==void 0&&b!=null&&g(e,["parameters","generateAudio"],b);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],cs(w));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let N=y;Array.isArray(N)&&(N=N.map(C=>T_e(C))),g(e,["instances[0]","referenceImages"],N)}const v=p(t,["mask"]);e!==void 0&&v!=null&&g(e,["instances[0]","mask"],S_e(v));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function E1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],C1e(o)),e}function T1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],j1e(o)),e}function A1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],_x(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],N$(o));const l=p(e,["source"]);l!=null&&P1e(l,n);const c=p(e,["config"]);return c!=null&&N1e(c,n),n}function k1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],cs(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],S$(o));const l=p(e,["source"]);l!=null&&I1e(l,n);const c=p(e,["config"]);return c!=null&&S1e(c,n),n}function C1e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>O1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function j1e(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>D1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function P1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],_x(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],N$(i)),n}function I1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],cs(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],S$(i)),n}function R1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],z1e(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);return s!=null&&g(e,["safetyAttributes"],b$(s)),e}function wx(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],v$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);s!=null&&g(e,["safetyAttributes"],w$(s));const i=p(t,["prompt"]);return i!=null&&g(e,["enhancedPrompt"],i),e}function M1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],v$(n));const r=p(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["labels"],s)}return e}function O1e(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],__e(n)),e}function D1e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],N_e(n)),e}function L1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const b=p(t,["responseModalities"]);b!=null&&g(e,["responseModalities"],b);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const y=p(t,["routingConfig"]);y!=null&&g(e,["routingConfig"],y);const v=p(t,["seed"]);v!=null&&g(e,["seed"],v);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const E=p(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const A=p(t,["topK"]);A!=null&&g(e,["topK"],A);const S=p(t,["topP"]);if(S!=null&&g(e,["topP"],S),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function F1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],tt(t,r)),n}function U1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function V1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function B1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function q1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const s=p(t,["personGeneration"]);s!=null&&g(e,["personGeneration"],s);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function z1e(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],_a(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function v$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],_a(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function _x(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],_a(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function cs(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],_a(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function G1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],f$(t,l)),r}function H1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],f$(t,l)),r}function W1e(t,e){const n={},r=p(e,["config"]);return r!=null&&G1e(t,r,n),n}function K1e(t,e){const n={},r=p(e,["config"]);return r!=null&&H1e(t,r,n),n}function J1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=h$(s);Array.isArray(i)&&(i=i.map(o=>a1(o))),g(e,["models"],i)}return e}function Y1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=h$(s);Array.isArray(i)&&(i=i.map(o=>o1(o))),g(e,["models"],i)}return e}function X1e(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const s=p(t,["maskDilation"]);return s!=null&&g(e,["dilation"],s),e}function a1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["version"]);i!=null&&g(e,["version"],i);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],h_e(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const b=p(t,["thinking"]);return b!=null&&g(e,["thinking"],b),e}function o1(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["versionId"]);i!=null&&g(e,["version"],i);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>u1e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],p_e(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function Q1e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],d1e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],f1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Lwe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Z1e(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],cs(n)),e}function e_e(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function t_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["source"]);s!=null&&r_e(s,n);const i=p(e,["config"]);return i!=null&&e_e(i,n),n}function n_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>wx(s))),g(e,["generatedImages"],r)}return e}function r_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],cs(s));const i=p(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Z1e(l))),g(e,["instances[0]","productImages"],o)}return n}function s_e(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],cs(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const s=p(t,["referenceType"]);s!=null&&g(e,["referenceType"],s);const i=p(t,["maskImageConfig"]);i!=null&&g(e,["maskImageConfig"],X1e(i));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],zwe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function b$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function w$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function i_e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function a_e(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],cs(n)),e}function o_e(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const i=p(t,["confidenceThreshold"]);e!==void 0&&i!=null&&g(e,["parameters","confidenceThreshold"],i);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function l_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["source"]);s!=null&&u_e(s,n);const i=p(e,["config"]);return i!=null&&o_e(i,n),n}function c_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>M1e(s))),g(e,["generatedMasks"],r)}return e}function u_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],cs(s));const i=p(t,["scribbleImage"]);return e!==void 0&&i!=null&&g(e,["instances[0]","scribble"],a_e(i)),n}function d_e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],h1e(r)),e}function f_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],U1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],V1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function _$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>p1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function h_e(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function p_e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function m_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function g_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function x_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],tt(t,r));const s=p(e,["config"]);return s!=null&&m_e(s,n),n}function y_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["config"]);return s!=null&&g_e(s,n),n}function v_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const i=p(t,["personGeneration"]);e!==void 0&&i!=null&&g(e,["parameters","personGeneration"],i);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function b_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],tt(t,r));const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],cs(s));const i=p(e,["upscaleFactor"]);i!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=p(e,["config"]);return o!=null&&v_e(o,n),n}function w_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>wx(i))),g(e,["generatedImages"],s)}return e}function __e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],_a(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function N_e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],_a(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function S_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],cs(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function E_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],_x(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function T_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],cs(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function N$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],_a(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["encoding"],s),e}function S$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],_a(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function k_e(t){const e={},n=p(t,["config"]);return n!=null&&A_e(n,e),e}function C_e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function j_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&C_e(r,e),e}function P_e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function I_e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["customMetadata"],i)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function R_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],O_e(o)),e}function M_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&I_e(s,e),e}function O_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function D_e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function L_e(t){const e={},n=p(t,["config"]);return n!=null&&D_e(n,e),e}function $_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["fileSearchStores"],i)}return e}function E$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function F_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&E$(r,e),e}function U_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V_e="Content-Type",B_e="X-Server-Timeout",q_e="User-Agent",l1="x-goog-api-client",z_e="1.38.0",G_e=`google-genai-sdk/${z_e}`,H_e="v1beta1",W_e="v1beta";class K_e{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:H_e}else{if(!this.clientOptions.apiKey)throw new Pf({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:W_e,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===n1.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))s.searchParams.append(o,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&J_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await uI(s),new r1(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await uI(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return ns(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Re(s.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(d,{stream:!0});try{const b=JSON.parse(f);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),y=w.status,v=w.code,_=`got status: ${y}. ${JSON.stringify(b)}`;if(v>=400&&v<600)throw new Pf({message:_,status:v})}}catch(b){if(b.name==="ApiError")throw b}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const y of c){const v=o.indexOf(y);v!==-1&&(h===-1||v<h)&&(h=v,x=y.length)}if(h===-1)break;const b=o.substring(0,h);o=o.substring(h+x);const w=b.trim();if(w.startsWith(l)){const y=w.substring(l.length).trim();try{const v=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new r1(v))}catch(v){throw new Error(`exception parsing stream chunk ${y}. ${v}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=G_e+" "+this.clientOptions.userAgentExtra;return e[q_e]=n,e[l1]=n,e[V_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(B_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=l;const c={file:s},u=this.getFileName(e),d=xe("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,u,c,n==null?void 0:n.httpOptions);return i.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),l=String(o.size),c=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&E$(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const u=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function uI(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Pf({message:s,status:n}):new Error(s)}}function J_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const l=Object.assign({},i);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_e="mcp_used/unknown";let X_e=!1;function T$(t){for(const e of t)if(Q_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X_e}function A$(t){var e;const n=(e=t[l1])!==null&&e!==void 0?e:"";t[l1]=(n+` ${Y_e}`).trimStart()}function Q_e(t){return t!==null&&typeof t=="object"&&t instanceof kS}function Z_e(t){return ns(this,arguments,function*(n,r=100){let s,i=0;for(;i<r;){const o=yield Re(n.listTools({cursor:s}));for(const l of o.tools)yield yield Re(l),i++;if(!o.nextCursor)break;s=o.nextCursor}})}class kS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new kS(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,rs(Z_e(d))),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const f=s;o.push(f);const h=f.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),jve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eNe(t,e,n){const r=new _ve;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class tNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=sNe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(N=>{u=N}),f=e.callbacks,h=function(){u({})},x=this.apiClient,b={onopen:h,onmessage:N=>{eNe(x,f.onmessage,N)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(N){}},w=this.webSocketFactory.create(c,rNe(o),b);w.connect(),await d;const _={setup:{model:tt(this.apiClient,e.model)}};return w.send(JSON.stringify(_)),new nNe(w,this.apiClient)}}class nNe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Awe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Twe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function rNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function sNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iNe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aNe(t,e,n){const r=new wve;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=jwe(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class oNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tNe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&T$(e.config.tools)&&A$(f);const h=dNe(f);if(this.apiClient.isVertexAI()){const T=this.apiClient.getProject(),R=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),O=!!T&&!!R||!!P;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const T=this.apiClient.getApiKey();let R="BidiGenerateContent",P="key";T!=null&&T.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${P}=${T}`}let x=()=>{};const b=new Promise(T=>{x=T}),w=e.callbacks,y=function(){var T;(T=w==null?void 0:w.onopen)===null||T===void 0||T.call(w),x({})},v=this.apiClient,_={onopen:y,onmessage:T=>{aNe(v,w.onmessage,T)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(T){}},N=this.webSocketFactory.create(d,uNe(h),_);N.connect(),await b;let C=tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const T=this.apiClient.getProject(),R=this.apiClient.getLocation();T&&R&&(C=`projects/${T}/locations/${R}/`+C)}let E={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lg.AUDIO]}:e.config.responseModalities=[Lg.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],S=[];for(const T of A)if(this.isCallableTool(T)){const R=T;S.push(await R.tool())}else S.push(T);S.length>0&&(e.config.tools=S);const j={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=Ewe(this.apiClient,j):E=Swe(this.apiClient,j),delete E.config,N.send(JSON.stringify(E)),new cNe(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lNe={turnComplete:!0};class cNe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ir(n.turns),e.isVertexAI()||(r=r.map(s=>bx(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(iNe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lNe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Cwe(e)}:n={realtimeInput:kwe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI=10;function fI(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pl(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Pl(t){return"callTool"in t&&typeof t.callTool=="function"}function fNe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Pl(s)))!==null&&r!==void 0?r:!1}function hI(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(Pl(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function pI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hNe extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!fNe(n)||fI(n.config))return await this.generateContentInternal(c);const u=hI(n);if(u.length>0){const w=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let d,f;const h=Ir(c.contents),x=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:dI;let b=0;for(;b<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,y=[];for(const v of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Pl(v)){const N=await v.callTool(d.functionCalls);y.push(...N)}b++,f={role:"user",parts:y},c.contents=Ir(c.contents),c.contents.push(w),c.contents.push(f),pI(c.config)&&(h.push(w),h.push(f))}return pI(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,s,i,o,l;if(this.maybeMoveToResponseJsonSchem(n),fI(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=hI(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((s=c==null?void 0:c.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:o.push(c);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Po(hi.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async c=>Pl(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&T$(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),A$(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pl(o)){const l=o,c=await l.tool();for(const u of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:dI;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return ns(this,arguments,function*(){for(var h,x,b,w,y,v;l<i;){o&&(l++,o=!1);const E=yield Re(u.processParamsMaybeAddMcpUsage(f)),A=yield Re(u.generateContentStreamInternal(E)),S=[],j=[];try{for(var _=!0,N=(x=void 0,rs(A)),C;C=yield Re(N.next()),h=C.done,!h;_=!0){w=C.value,_=!1;const T=w;if(yield yield Re(T),T.candidates&&(!((y=T.candidates[0])===null||y===void 0)&&y.content)){j.push(T.candidates[0].content);for(const R of(v=T.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<i&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){const P=yield Re(d.get(R.functionCall.name).callTool([R.functionCall]));S.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(T){x={error:T}}finally{try{!_&&!h&&(b=N.return)&&(yield Re(b.call(N)))}finally{if(x)throw x.error}}if(S.length>0){o=!0;const T=new Pu;T.candidates=[{content:{role:"user",parts:S}}],yield yield Re(T);const R=[];R.push(...j),R.push({role:"user",parts:S});const P=Ir(f.contents).concat(R);f.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=oI(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=cI(d),h=new Pu;return Object.assign(h,f),h})}else{const u=aI(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=lI(d),h=new Pu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=oI(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return ns(this,arguments,function*(){var h,x,b,w;try{for(var y=!0,v=rs(f),_;_=yield Re(v.next()),h=_.done,!h;y=!0){w=_.value,y=!1;const N=w,C=cI(yield Re(N.json()));C.sdkHttpResponse={headers:N.headers};const E=new Pu;Object.assign(E,C),yield yield Re(E)}}catch(N){x={error:N}}finally{try{!y&&!h&&(b=v.return)&&(yield Re(b.call(v)))}finally{if(x)throw x.error}}})})}else{const u=aI(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return ns(this,arguments,function*(){var h,x,b,w;try{for(var y=!0,v=rs(f),_;_=yield Re(v.next()),h=_.done,!h;y=!0){w=_.value,y=!1;const N=w,C=lI(yield Re(N.json()));C.sdkHttpResponse={headers:N.headers};const E=new Pu;Object.assign(E,C),yield yield Re(E)}}catch(N){x={error:N}}finally{try{!y&&!h&&(b=v.return)&&(yield Re(b.call(v)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=o1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=c1e(d),h=new qP;return Object.assign(h,f),h})}else{const u=a1e(this.apiClient,e);return l=xe("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=l1e(d),h=new qP;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=b1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_1e(d),h=new zP;return Object.assign(h,f),h})}else{const u=v1e(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=w1e(d),h=new zP;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=n1e(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=r1e(c),d=new uve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=b_e(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=w_e(c),d=new dve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=t_e(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=n_e(c),d=new fve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=l_e(this.apiClient,e);return i=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=c_e(c),d=new hve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=F1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>o1(d))}else{const u=$1e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>a1(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=K1e(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Y1e(d),h=new GP;return Object.assign(h,f),h})}else{const u=W1e(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=J1e(d),h=new GP;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=y_e(this.apiClient,e);return l=xe("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>o1(d))}else{const u=x_e(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>a1(d))}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Qwe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=e1e(d),h=new HP;return Object.assign(h,f),h})}else{const u=Xwe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Zwe(d),h=new HP;return Object.assign(h,f),h})}}async countTokens(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Kwe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ywe(d),h=new WP;return Object.assign(h,f),h})}else{const u=Wwe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jwe(d),h=new WP;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Uwe(this.apiClient,e);return i=xe("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=Vwe(c),d=new pve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=k1e(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=T1e(d),h=new $g;return Object.assign(h,f),h})}else{const u=A1e(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const f=E1e(d),h=new $g;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pNe extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=sve(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=rve(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Yye(e);return i=xe("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mNe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function gNe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>ENe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function xNe(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const i=p(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&g(n,["newSessionExpireTime"],i);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],SNe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function yNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],xNe(t,r,n)),n}function vNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bNe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _Ne(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function NNe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],AS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],gNe(Cn(b)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let A=Yc(w);Array.isArray(A)&&(A=A.map(S=>ANe(Jc(S)))),g(e,["setup","tools"],A)}const y=p(t,["sessionResumption"]);e!==void 0&&y!=null&&g(e,["setup","sessionResumption"],TNe(y));const v=p(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&g(e,["setup","inputAudioTranscription"],v);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const E=p(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function SNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],tt(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],NNe(s,n)),n}function ENe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],vNe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],bNe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],mNe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function TNe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ANe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],wNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],_Ne(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kNe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function CNe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=kNe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];s.length>0&&(l=s.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class jNe extends wi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=yNe(this.apiClient,e);i=xe("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=CNe(l,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PNe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function INe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&PNe(r,e),e}function RNe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function MNe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function ONe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&MNe(r,e),e}function DNe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LNe extends wi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Po(hi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RNe(e);return i=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=INe(e);s=xe("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ONe(e);return i=xe("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=DNe(c),d=new mve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $Ne extends wi{constructor(e,n=new LNe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Po(hi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k_e(e);return i=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=P_e(e);return i=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=j_e(e);s=xe("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=L_e(e);return i=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=$_e(c),d=new gve;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F_e(e);return i=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=U_e(c),d=new xve;return Object.assign(d,u),d})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=M_e(e);return i=xe("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=R_e(c),d=new _S;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let k$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return k$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const FNe=()=>k$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c1(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const u1=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $r extends Error{}class Bn extends $r{constructor(e,n,r,s){super(`${Bn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Nx({message:r,cause:u1(n)});const i=n;return e===400?new j$(e,i,r,s):e===401?new P$(e,i,r,s):e===403?new I$(e,i,r,s):e===404?new R$(e,i,r,s):e===409?new M$(e,i,r,s):e===422?new O$(e,i,r,s):e===429?new D$(e,i,r,s):e>=500?new L$(e,i,r,s):new Bn(e,i,r,s)}}class d1 extends Bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nx extends Bn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class C$ extends Nx{constructor({message:e}={}){super({message:e??"Request timed out."})}}class j$ extends Bn{}class P$ extends Bn{}class I$ extends Bn{}class R$ extends Bn{}class M$ extends Bn{}class O$ extends Bn{}class D$ extends Bn{}class L$ extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UNe=/^[a-z][a-z0-9+.-]*:/i,VNe=t=>UNe.test(t);let f1=t=>(f1=Array.isArray,f1(t));const BNe=f1;let qNe=BNe;const mI=qNe;function zNe(t){if(!t)return!0;for(const e in t)return!1;return!0}function GNe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const HNe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $r(`${t} must be an integer`);if(e<0)throw new $r(`${t} must be a positive integer`);return e},WNe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KNe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ho="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JNe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YNe=()=>{var t,e,n,r,s;const i=JNe();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":xI(Deno.build.os),"X-Stainless-Arch":gI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":xI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":gI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const o=XNe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function XNe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const gI=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",xI=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ap;const QNe=()=>ap??(ap=YNe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZNe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function eSe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $$({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function F$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tSe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nSe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tv(t,e,n){return U$(),new File(t,e??"unknown_file",n)}function rSe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sSe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",iSe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&V$(t),aSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function oSe(t,e,n){if(U$(),t=await t,iSe(t))return t instanceof File?t:tv([await t.arrayBuffer()],t.name);if(aSe(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),tv(await h1(s),e,n)}const r=await h1(t);if(e||(e=rSe(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return tv(r,e,n)}async function h1(t){var e,n,r,s,i;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(V$(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(sSe(t))try{for(var l=!0,c=rs(t),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const d=s;o.push(...await h1(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${lSe(t)}`)}return o}function lSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B${constructor(e){this._client=e}}B$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const yI=Object.freeze(Object.create(null)),cSe=(t=q$)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],o=n.reduce((d,f,h)=>{var x,b,w;/[?#]/.test(f)&&(s=!0);const y=r[h];let v=(s?encodeURIComponent:t)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((x=y.hasOwnProperty)!==null&&x!==void 0?x:yI))!==null&&b!==void 0?b:yI))===null||w===void 0?void 0:w.toString))&&(v=y+"",i.push({start:d.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":v)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,f)=>d.start-f.start),i.length>0){let d=0;const f=i.reduce((h,x)=>{const b=" ".repeat(x.start-d),w="^".repeat(x.length);return d=x.start+x.length,h+b+w},"");throw new $r(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},op=cSe(q$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z$ extends B${create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,i=Ug(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new $r("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new $r("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(op`/${s}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(op`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(op`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const i=n??{},{api_version:o=this._client.apiVersion}=i,l=Ug(i,["api_version"]);return this._client.get(op`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}z$._key=Object.freeze(["interactions"]);class G$ extends z${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uSe(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let lp;function CS(t){let e;return(lp??(e=new globalThis.TextEncoder,lp=e.encode.bind(e)))(t)}let cp;function vI(t){let e;return(cp??(e=new globalThis.TextDecoder,cp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sx{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?CS(e):e;this.buffer=uSe([this.buffer,n]);const r=[];let s;for(;(s=dSe(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(vI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,o=vI(this.buffer.subarray(0,i));r.push(o),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Sx.NEWLINE_CHARS=new Set([`
`,"\r"]);Sx.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dSe(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function fSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg={off:0,error:200,warn:300,info:400,debug:500},bI=(t,e,n)=>{if(t){if(GNe(Vg,t))return t;On(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Vg))}`)}};function zu(){}function up(t,e,n){return!e||Vg[t]>Vg[n]?zu:e[t].bind(e)}const hSe={error:zu,warn:zu,info:zu,debug:zu};let wI=new WeakMap;function On(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return hSe;const s=wI.get(n);if(s&&s[0]===r)return s[1];const i={error:up("error",n,r),warn:up("warn",n,r),info:up("info",n,r),debug:up("debug",n,r)};return wI.set(n,[r,i]),i}const La=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const i=r?On(r):console;function o(){return ns(this,arguments,function*(){var c,u,d,f;if(s)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,b=rs(pSe(e,n)),w;w=yield Re(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const y=f;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Re(JSON.parse(y.data))}catch(v){throw i.error("Could not parse message into JSON:",y.data),i.error("From chunk:",y.raw),v}}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=b.return)&&(yield Re(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(y){if(c1(y))return yield Re(void 0);throw y}finally{h||n.abort()}})}return new hl(o,n,r)}static fromReadableStream(e,n,r){let s=!1;function i(){return ns(this,arguments,function*(){var c,u,d,f;const h=new Sx,x=F$(e);try{for(var b=!0,w=rs(x),y;y=yield Re(w.next()),c=y.done,!c;b=!0){f=y.value,b=!1;const v=f;for(const _ of h.decode(v))yield yield Re(_)}}catch(v){u={error:v}}finally{try{!b&&!c&&(d=w.return)&&(yield Re(d.call(w)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield Re(v)})}function o(){return ns(this,arguments,function*(){var c,u,d,f;if(s)throw new $r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,b=rs(i()),w;w=yield Re(b.next()),c=w.done,!c;x=!0){f=w.value,x=!1;const y=f;h||y&&(yield yield Re(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!x&&!c&&(d=b.return)&&(yield Re(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(y){if(c1(y))return yield Re(void 0);throw y}finally{h||n.abort()}})}return new hl(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new hl(()=>s(e),this.controller,this.client),new hl(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const o=CS(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function pSe(t,e){return ns(this,arguments,function*(){var r,s,i,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $r("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $r("Attempted to iterate over a response with no body");const l=new gSe,c=new Sx,u=F$(t.body);try{for(var d=!0,f=rs(mSe(u)),h;h=yield Re(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const b of c.decode(x)){const w=l.decode(b);w&&(yield yield Re(w))}}}catch(x){s={error:x}}finally{try{!d&&!r&&(i=f.return)&&(yield Re(i.call(f)))}finally{if(s)throw s.error}}for(const x of c.flush()){const b=l.decode(x);b&&(yield yield Re(b))}})}function mSe(t){return ns(this,arguments,function*(){var n,r,s,i;let o=new Uint8Array;try{for(var l=!0,c=rs(t),u;u=yield Re(c.next()),n=u.done,!n;l=!0){i=u.value,l=!1;const d=i;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?CS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=fSe(o))!==-1;)yield yield Re(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(s=c.return)&&(yield Re(s.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Re(o))})}class gSe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=xSe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function xSe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ySe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,o=await(async()=>{var l;if(e.options.stream)return On(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):hl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return On(t).debug(`[${r}] response parsed`,La({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-i})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jS extends Promise{constructor(e,n,r=ySe){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new jS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H$=Symbol("brand.privateNullableHeaders");function*vSe(t){if(!t)return;if(H$ in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():mI(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=mI(r[1])?r[1]:[r[1]];let o=!1;for(const l of i)l!==void 0&&(e&&!o&&(o=!0,yield[s,null]),yield[s,l])}}const Iu=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,o]of vSe(r)){const l=i.toLowerCase();s.has(l)||(e.delete(i),s.add(l)),o===null?(e.delete(i),n.add(l)):(e.append(i,o),n.delete(l))}}return{[H$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nv=t=>{var e,n,r,s,i,o;if(typeof globalThis.process<"u")return(r=(n=(e=zye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(i=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||i===void 0?void 0:i.call(s,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var W$;class Ex{constructor(e){var n,r,s,i,o,l,c,{baseURL:u=nv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=nv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Ug(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:Ex.DEFAULT_TIMEOUT,this.logger=(s=x.logger)!==null&&s!==void 0?s:console;const b="warn";this.logLevel=b,this.logLevel=(o=(i=bI(x.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:bI(nv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:ZNe(),this.encoder=nSe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Iu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Iu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Iu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $r(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ho}`}defaultIdempotencyKey(){return`stainless-node-retry-${FNe()}`}makeStatusError(e,n,r,s){return Bn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,i=VNe(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return zNe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new jS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,i,o;const l=await e,c=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(On(this).debug(`[${h}] sending request`,La({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((i=l.signal)===null||i===void 0)&&i.aborted)throw new d1;const w=new AbortController,y=await this.fetchWithTimeout(d,u,f,w).catch(u1),v=Date.now();if(y instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new d1;const C=c1(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return On(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${N}`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${N})`,La({retryOfRequestLogID:r,url:d,durationMs:v-b,message:y.message})),this.retryRequest(l,n,r??h);throw On(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),On(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,La({retryOfRequestLogID:r,url:d,durationMs:v-b,message:y.message})),C?new C$:new Nx({cause:y})}const _=`[${h}${x}] ${u.method} ${d} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${v-b}ms`;if(!y.ok){const N=await this.shouldRetry(y);if(n&&N){const T=`retrying, ${n} attempts remaining`;return await tSe(y.body),On(this).info(`${_} - ${T}`),On(this).debug(`[${h}] response error (${T})`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-b})),this.retryRequest(l,n,r??h,y.headers)}const C=N?"error; no more retries left":"error; not retryable";On(this).info(`${_} - ${C}`);const E=await y.text().catch(T=>u1(T).message),A=WNe(E),S=A?void 0:E;throw On(this).debug(`[${h}] response error (${C})`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:S,durationMs:Date.now()-b})),this.makeStatusError(y.status,A,S,y.headers)}return On(this).info(_),On(this).debug(`[${h}] response start`,La({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-b})),{response:y,options:l,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,n,r,s){const i=n||{},{signal:o,method:l}=i,c=Ug(i,["signal","method"]);o&&o.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var i;let o;const l=s==null?void 0:s.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=s==null?void 0:s.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await KNe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,i;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&HNe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),b=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(i=o.fetchOptions)!==null&&i!==void 0?i:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=Iu([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),QNe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Iu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:eSe(e)}:this.encoder({body:e,headers:r})}}Ex.DEFAULT_TIMEOUT=6e4;class on extends Ex{constructor(){super(...arguments),this.interactions=new G$(this)}}W$=on;on.GeminiNextGenAPIClient=W$;on.GeminiNextGenAPIClientError=$r;on.APIError=Bn;on.APIConnectionError=Nx;on.APIConnectionTimeoutError=C$;on.APIUserAbortError=d1;on.NotFoundError=R$;on.ConflictError=M$;on.RateLimitError=D$;on.BadRequestError=j$;on.AuthenticationError=P$;on.InternalServerError=L$;on.PermissionDeniedError=I$;on.UnprocessableEntityError=O$;on.toFile=oSe;on.Interactions=G$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function wSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _Se(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function NSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function SSe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ESe(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],_I(x))}else if(s==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],_I(x))}const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function TSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&LSe(i);const o=p(t,["config"]);return o!=null&&SSe(o,n),n}function ASe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&$Se(i,n,e);const o=p(t,["config"]);return o!=null&&ESe(o,n,e),n}function kSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function CSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function jSe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function PSe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function ISe(t,e){const n={},r=p(t,["config"]);return r!=null&&jSe(r,n),n}function RSe(t,e){const n={},r=p(t,["config"]);return r!=null&&PSe(r,n),n}function MSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>K$(l))),g(n,["tuningJobs"],o)}return n}function OSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>p1(l))),g(n,["tuningJobs"],o)}return n}function DSe(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function LSe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(n,["examples","examples"],s)}return n}function $Se(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function K$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],u$(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],DSe(h)),n}function p1(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],u$(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const b=p(t,["preTunedModel"]);b!=null&&g(n,["preTunedModel"],b);const w=p(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const y=p(t,["preferenceOptimizationSpec"]);y!=null&&g(n,["preferenceOptimizationSpec"],y);const v=p(t,["tuningDataStats"]);v!=null&&g(n,["tuningDataStats"],v);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const E=p(t,["experiment"]);E!=null&&g(n,["experiment"],E);const A=p(t,["labels"]);A!=null&&g(n,["labels"],A);const S=p(t,["outputUri"]);S!=null&&g(n,["outputUri"],S);const j=p(t,["pipelineJob"]);j!=null&&g(n,["pipelineJob"],j);const T=p(t,["serviceAccount"]);T!=null&&g(n,["serviceAccount"],T);const R=p(t,["tunedModelDisplayName"]);R!=null&&g(n,["tunedModelDisplayName"],R);const P=p(t,["veoTuningSpec"]);return P!=null&&g(n,["veoTuningSpec"],P),n}function FSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function _I(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class USe extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(hi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:t1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=CSe(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>p1(d))}else{const u=kSe(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>K$(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=RSe(e);return l=xe("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=OSe(d),h=new KP;return Object.assign(h,f),h})}else{const u=ISe(e);return l=xe("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=MSe(d),h=new KP;return Object.assign(h,f),h})}}async cancel(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=wSe(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=NSe(d),h=new JP;return Object.assign(h,f),h})}else{const u=bSe(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_Se(d),h=new JP;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=ASe(e,e);return i=xe("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>p1(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TSe(e);return i=xe("tunedModels",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>FSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BSe=1024*1024*8,qSe=3,zSe=1e3,GSe=2,Bg="x-goog-upload-status";async function HSe(t,e,n){var r;const s=await J$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function WSe(t,e,n){var r;const s=await J$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=s$(i),l=new NS;return Object.assign(l,o),l}async function J$(t,e,n){var r,s;let i=0,o=0,l=new r1(new Response),c="upload";for(i=t.size;o<i;){const u=Math.min(BSe,i-o),d=t.slice(o,o+u);o+u>=i&&(c+=", finalize");let f=0,h=zSe;for(;f<qSe&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Bg]));)f++,await JSe(h),h=h*GSe;if(o+=u,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Bg])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function KSe(t){return{size:t.size,type:t.type}}function JSe(t){return new Promise(e=>setTimeout(e,t))}class YSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XSe{create(e,n,r){return new QSe(e,n,r)}}class QSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NI="x-goog-api-key";class ZSe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(NI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(NI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eEe="gl-node/";class PS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new on({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Kye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new ZSe(this.apiKey);this.apiClient=new K_e({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eEe+"web",uploader:new YSe,downloader:new VSe}),this.models=new hNe(this.apiClient),this.live=new oNe(this.apiClient,s,new XSe),this.batches=new Nbe(this.apiClient),this.chats=new swe(this.models,this.apiClient),this.caches=new twe(this.apiClient),this.files=new pwe(this.apiClient),this.operations=new pNe(this.apiClient),this.authTokens=new jNe(this.apiClient),this.tunings=new USe(this.apiClient),this.fileSearchStores=new $Ne(this.apiClient)}}var Y$={};async function tEe(t,e){const n=new PS({apiKey:Y$.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:dt.OBJECT,properties:{invoiceNumber:{type:dt.STRING},supplierName:{type:dt.STRING},supplierCuit:{type:dt.STRING},date:{type:dt.STRING},items:{type:dt.ARRAY,items:{type:dt.OBJECT,properties:{sku:{type:dt.STRING},description:{type:dt.STRING},quantity:{type:dt.NUMBER},unitPrice:{type:dt.NUMBER},total:{type:dt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:dt.NUMBER},iva:{type:dt.NUMBER},totalAmount:{type:dt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}async function nEe(t){const e=new PS({apiKey:Y$.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). 
  
  Mensaje: "${t}"`;try{const s=(await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:dt.ARRAY,items:{type:dt.OBJECT,properties:{productName:{type:dt.STRING,description:"The name of the product mentioned."},quantity:{type:dt.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"]}}}})).text||"[]";return JSON.parse(s)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const rEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=Dt(),n=D.useRef(null),[r,s]=D.useState("ia"),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),x=v=>{var N;const _=(N=v.target.files)==null?void 0:N[0];if(_){const C=new FileReader;C.onload=E=>{var A;d({name:_.name,type:_.type,preview:(A=E.target)==null?void 0:A.result})},C.readAsDataURL(_)}},b=async()=>{if(u){o(!0);try{const v=u.preview.split(",")[1],_=await tEe(v,u.type),N=await Promise.all(_.items.map(async C=>{const{products:E}=await e({limit:1,searchTerm:C.sku||C.description.split(" ")[0],orderByField:"name"});return{...C,matchedProduct:E[0]}}));h({invoiceNumber:_.invoiceNumber||"",supplierName:_.supplierName||"",date:_.date||new Date().toISOString().split("T")[0],items:N})}catch(v){console.error(v),alert("Error al procesar el documento con IA.")}finally{o(!1)}}},w=async()=>{c(!0);try{for(const v of f.items)if(v.matchedProduct){const _=(v.matchedProduct.stock||0)+v.quantity;await t(v.matchedProduct.id,{costPrice:v.unitPrice,stock:_})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),d(null)}finally{c(!1)}},y=f.items.reduce((v,_)=>v+_.unitPrice*_.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>s("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(jm,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(f5,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?a.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Or,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),a.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(Ge,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:i,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[i?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(jm,{className:"w-5 h-5"}),i?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var v;return(v=n.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Or,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:x})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(jr,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:f.supplierName,onChange:v=>h({...f,supplierName:v.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:f.invoiceNumber,onChange:v=>h({...f,invoiceNumber:v.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:f.date,onChange:v=>h({...f,date:v.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(c5,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[f.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:f.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(Sb,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):f.items.map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.description}),v.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(fn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",v.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(Ns,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:v.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",v.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",v.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},_))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",y.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(y*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:w,disabled:l||f.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[l?a.jsx(Fe,{className:"animate-spin w-6 h-6"}):a.jsx(Qt,{className:"w-6 h-6"}),l?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})};var sEe={};const SI=sEe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function iEe(t,e){if(await new Promise(n=>setTimeout(n,2e3)),e<=0)throw new Error("El importe a liquidar debe ser mayor a cero.");return{status:"success",cuil:"20-"+t.id+"-9",protocolNumber:"LSD-"+Math.floor(Math.random()*1e6),timestamp:new Date().toISOString(),message:"Liquidacin validada correctamente en Libro de Sueldos Digital."}}async function X$(t,e){await new Promise(s=>setTimeout(s,Math.random()*1500+500)),(SI.includes("DEMO_KEY")||SI.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const aEe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:s,deleteClient:i}=Dt(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[b,w]=D.useState(""),[y,v]=D.useState(!1);q.useEffect(()=>{n.length>0&&!h.priceListId&&x(P=>{var O,I;return{...P,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((I=n[0])==null?void 0:I.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}v(!0);try{const P=await X$(h.cuit,"client");x(O=>{var I,H;return{...O,name:P.name,email:P.email,whatsapp:P.phone,priceListId:((I=n.find(F=>F.isBase))==null?void 0:I.id)||((H=n[0])==null?void 0:H.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(P){alert(`Error al buscar CUIT en ARCA: ${P.message}`),console.error("ARCA CUIT Lookup Error:",P)}finally{v(!1)}},N=()=>{b.trim()&&(x(P=>({...P,authorizedPersons:[...P.authorizedPersons||[],b.trim()]})),w(""))},C=P=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(I=>I!==P)}))},E=async()=>{var P,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await s(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((P=n.find(I=>I.isBase))==null?void 0:P.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w("")}catch(I){alert("Error al guardar el cliente."),console.error(I)}},A=async P=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await i(P),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},S=P=>{var O,I;f(P),x(P||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(H=>H.isBase))==null?void 0:O.id)||((I=n[0])==null?void 0:I.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),w(""),u("general"),l(!0)},j=()=>{t&&(l(!1),t("balances"))},T=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},R=P=>{var O;return P&&((O=n.find(I=>I.id===P))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:P.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:P.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(o5,{className:"w-4 h-4 text-slate-300"})," ",P.email]}),P.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(Q7,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${P.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:P.balance<0?`DEBE $${Math.abs(P.balance).toLocaleString()}`:`SALDO $${P.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",P.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:j,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(Zr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>S(P),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(_b,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>A(P.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(Rn,{className:"w-5 h-5"})})]})})]},P.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:Am}].map(P=>a.jsxs("button",{onClick:()=>u(P.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===P.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[P.icon&&a.jsx(P.icon,{className:"w-4 h-4 inline-block mr-2"})," ",P.label]},P.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:P=>x({...h,cuit:P.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:y,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:y?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:P=>x({...h,name:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:P=>x({...h,email:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:P=>x({...h,whatsapp:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Eb,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(Eb,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:R(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(h5,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:b,onChange:P=>w(P.target.value),onKeyPress:P=>{P.key==="Enter"&&N()}}),a.jsx("button",{onClick:N,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:P}),a.jsx("button",{onClick:()=>C(P),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(Rn,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Zr,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(Jl,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(_b,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:T,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(cN,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Am,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:P=>x({...h,pointsEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Hd,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:P=>x({...h,accumulatedPoints:Number(P.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:E,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},oEe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Dt(),[s,i]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),b=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const C=await X$(c.cuit,"supplier");u(E=>({...E,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{x(!1)}},w=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),i(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},y=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(E){alert("Error al eliminar el proveedor."),console.error(E)}},v=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),i(!0)},_=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},N=C=>{u(E=>({...E,discounts:(E.discounts||[]).filter((A,S)=>S!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>v(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((E,A)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",E,"%"]},A)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>v(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(Y7,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>y(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(Rn,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(As,{className:"w-5 h-5"})})]})]},C.id))})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:b,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,E)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>N(E),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(Ge,{className:"w-3 h-3"})})]},E))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},lEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:s,addTransaction:i}=Dt(),[o,l]=D.useState("boxes"),[c,u]=D.useState({show:!1,type:null}),[d,f]=D.useState(!1),[h,x]=D.useState(!1),[b,w]=D.useState(null),[y,v]=D.useState(null),[_,N]=D.useState(!1),C=D.useMemo(()=>e.reduce((T,R)=>T+R.balance,0),[e]),E=D.useMemo(()=>e.filter(T=>T.type==="efectivo").reduce((T,R)=>T+R.balance,0),[e]),A=async T=>{T.preventDefault();const R=new FormData(T.currentTarget),P=parseFloat(R.get("amount")),O=R.get("boxId"),I=c.type,H=e.find(F=>F.id===O);if(!H){alert("Debes seleccionar una caja de origen.");return}try{await i({date:new Date().toISOString(),amount:P,type:I,boxId:O,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:P}]});const F=I==="egreso"?H.balance-P:H.balance+P;await r(O,{balance:F}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async T=>{T.preventDefault(),N(!0);const R=new FormData(T.currentTarget),P=R.get("name"),O=R.get("type"),I=R.get("responsible"),H=parseFloat(R.get("balance"))||0;try{y?await r(y.id,{name:P,type:O,responsible:I}):await n({name:P,type:O,responsible:I,balance:H,status:"abierta"}),x(!1),v(null)}finally{N(!1)}},j=async T=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await s(T)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[a.jsx(ZO,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[a.jsx(P7,{className:"w-5 h-5"})," Ingreso Manual"]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>l("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),a.jsx("button",{onClick:()=>l("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",C.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(Zl,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(jn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(Vd,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",E.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(km,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(T=>T.type==="banco").reduce((T,R)=>T+R.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Zr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(T=>T.type==="virtual").reduce((T,R)=>T+R.balance,0).toLocaleString()]})]})]})]}),o==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(T=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${T.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:T.type==="banco"?a.jsx(km,{className:"w-6 h-6"}):T.type==="virtual"?a.jsx(Zr,{className:"w-6 h-6"}):a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{v(T),x(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(ci,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>j(T.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:T.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",T.balance.toLocaleString()]}),T.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(gi,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:T.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{w(T),f(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(aN,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(R7,{className:"w-4 h-4"})," Transferir"]})]})]}),T.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",T.lastClosed]}),a.jsxs("button",{onClick:()=>r(T.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(nt,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},T.id)),a.jsxs("button",{onClick:()=>{v(null),x(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(as,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(jr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),a.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(n5,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(T=>{var R;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(T.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(T.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(P=>P.id===T.boxId))==null?void 0:R.name)||"Mostrador"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:T.category||"Varios"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:T.description})]}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${T.type==="egreso"?"text-red-600":"text-green-600"}`,children:[T.type==="egreso"?"-":"+","$",T.amount.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:a.jsx(Yf,{className:"w-5 h-5"})})})]},T.id)})})]})})]}),c.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${c.type==="ingreso"?"bg-green-600":c.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Vd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",c.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),a.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[a.jsx("option",{value:"",children:"Elegir caja..."}),e.map(T=>a.jsxs("option",{value:T.id,children:[T.name," ($",T.balance.toLocaleString(),")"]},T.id))]}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",c.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"gasto",children:"Gasto General"}),a.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),a.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),a.jsx("option",{value:"venta",children:"Venta / Cobranza"}),a.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${c.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:y?"Editar Fondo":"Nueva Caja / Fondo"}),a.jsx("button",{onClick:()=>x(!1),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),a.jsx("input",{name:"name",defaultValue:y==null?void 0:y.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:y==null?void 0:y.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!y&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:y==null?void 0:y.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),a.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:_?a.jsx(Fe,{className:"animate-spin w-5 h-5 mx-auto"}):y?"Guardar Cambios":"Crear Fondo"})]})]})})]})},cEe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(s,i,o)=>{const l=new Blob([s],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const s=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const s=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(al,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(n$,{data:t,children:[a.jsx(kf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{}),a.jsx(ts,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(ts,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(aN,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:qa},{label:"Ranking de Productos",icon:as},{label:"Libro IVA Ventas (AFIP)",icon:Or},{label:"Libro IVA Compras",icon:Or},{label:"CITI IVA Ventas (AFIP)",icon:al,action:n},{label:"CITI IVA Compras (AFIP)",icon:al,action:r}].map((s,i)=>a.jsxs("button",{onClick:s.action||(()=>alert(`Generar reporte: ${s.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(s.icon,{className:"w-4 h-4"}),s.label]}),s.action?a.jsx(al,{className:"w-4 h-4 text-slate-400"}):a.jsx(qd,{className:"w-4 h-4 text-slate-300"})]},i))]})]})]})]})},uEe=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:s,setCompanyInfo:i})=>{const o=D.useRef(null),l=D.useRef(null),[c,u]=D.useState(t),[d,f]=D.useState(!1),{exportAllData:h,importAllData:x,deleteAllDocumentsInCollection:b}=Dt(),[w,y]=D.useState(!1),[v,_]=D.useState(!1),[N,C]=D.useState(!1),[E,A]=D.useState(!1),[S,j]=D.useState(!1),[T,R]=D.useState(""),[P,O]=D.useState(!1),[I,H]=D.useState(null),F="BORRARTODO",[L,B]=D.useState("factura");if(D.useEffect(()=>{u(t)},[t]),!s||!s.printConfigs)return a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando configuracin..."})]});const z=s.printConfigs[L],V=ae=>{var K;const J=(K=ae.target.files)==null?void 0:K[0];if(J){const he=new FileReader;he.onload=ve=>{i(Le=>{var Z;return{...Le,logo:(Z=ve.target)==null?void 0:Z.result}})},he.readAsDataURL(J)}},U=ae=>{const{name:J,value:K,type:he}=ae.target,ve=ae.target.checked;i(Le=>({...Le,[J]:he==="checkbox"?ve:K}))},X=(ae,J)=>{const K=parseFloat(J)||0;i(he=>({...he,paymentCommissions:{...he.paymentCommissions,[ae]:K}}))},Q=()=>{f(!0),setTimeout(()=>{f(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},G=async(ae,J)=>{_(!0),C(!1);try{await new Promise(K=>setTimeout(K,3e3)),C(!0)}catch(K){console.error("Error al enviar backup por email:",K)}finally{_(!1),setTimeout(()=>C(!1),5e3)}},ie=async()=>{y(!0);try{const J=await h(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks","remitos","boxes","installmentPlans"]),K=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,he=JSON.stringify(J,null,2),ve=new Blob([he],{type:"application/json"}),Le=URL.createObjectURL(ve),Z=document.createElement("a");Z.href=Le,Z.download=K,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Le),await G(J,K)}catch(ae){console.error("Error al generar backup:",ae),alert("Error al generar backup.")}finally{y(!1)}},W=async()=>{if(I){if(T!==F){alert("Debe ingresar la contrasea de seguridad.");return}A(!0);try{const ae=new FileReader;ae.onload=async J=>{var K;try{const he=JSON.parse((K=J.target)==null?void 0:K.result);await x(he),alert("Sistema restaurado al 100% con xito!"),window.location.reload()}catch{alert("Archivo invlido."),A(!1)}},ae.readAsText(I)}catch{alert("Error al importar backup."),A(!1)}}},fe=()=>{let ae=210,J=297,K=1.2;if(!z)return{width:ae,height:J,scale:K};switch(z.pageSize){case"A5":ae=148,J=210,K=1.6;break;case"A6":ae=105,J=148,K=2;break;case"80mm":ae=80,J=250,K=1.8;break}return z.orientation==="landscape"?{width:J,height:ae,scale:K*.8}:{width:ae,height:J,scale:K}},{width:Ee,height:Ie,scale:ce}=fe();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>u("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L7,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>u("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(wb,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>u("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(dN,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>u("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(z2,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>u("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${c==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Tb,{className:"w-5 h-5"})," Mdulos"]})]}),c==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:s.name,onChange:U,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:s.cuit,onChange:U,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Zr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Comisiones por Medio de Pago"})]}),a.jsx("p",{className:"text-slate-500 text-sm italic",children:"Define el porcentaje de descuento que aplican los bancos para que tus cajas concilien automticamente."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(s.paymentCommissions).map(([ae,J])=>a.jsxs("div",{className:"space-y-2 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 block truncate",children:ae.replace("_"," ")}),a.jsxs("div",{className:"relative",children:[a.jsx(uN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),a.jsx("input",{type:"number",step:"0.01",value:J,onChange:K=>X(ae,K.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-xl outline-none font-black text-slate-800 text-lg"})]})]},ae))})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[s.logo?a.jsx("img",{src:s.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx($7,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var ae;return(ae=o.current)==null?void 0:ae.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Rm,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:V})]})]})})]}),c==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(rG,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${s.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"})]})]}),a.jsxs("button",{onClick:Q,disabled:d,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(Xf,{className:`w-6 h-6 ${d?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(As,{className:"w-5 h-5 text-slate-300"})]})]})})}),c==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsx("div",{className:"lg:col-span-4 space-y-6",children:a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nG,{className:"w-4 h-4 text-purple-600"})," Comprobante"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(ae=>a.jsx("button",{onClick:()=>B(ae),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${L===ae?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:ae},ae))})]})}),a.jsx("div",{className:"lg:col-span-8",children:a.jsx("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:a.jsx("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${Ee}px`,height:`${Ie}px`,transform:`scale(${ce})`},children:a.jsx("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:a.jsxs("div",{className:"space-y-1",children:[z.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),z.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]})})})})})]}),c==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(U7,{className:"w-6 h-6 text-green-600"})," Exportar Datos"]}),a.jsxs("button",{onClick:ie,disabled:w||v,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3",children:[w?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(z2,{className:"w-5 h-5"}),w?"Generando...":"Generar Backup & Email"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(f5,{className:"w-6 h-6 text-orange-600"})," Importar Backup"]}),a.jsxs("div",{onClick:()=>{var ae;return(ae=l.current)==null?void 0:ae.click()},className:"border-4 border-dashed rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer transition-all border-slate-100 hover:bg-orange-50/20",children:[a.jsx(V7,{className:"w-10 h-10 text-slate-300"}),a.jsx("input",{ref:l,type:"file",className:"hidden",accept:".json",onChange:ae=>{var J;return H(((J=ae.target.files)==null?void 0:J[0])||null)}})]}),I&&a.jsx("button",{onClick:W,className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl",children:"RESTAURAR SISTEMA"})]})]}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})},dEe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:s,deleteBranch:i}=Dt(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const b=N=>{const{name:C,value:E,type:A}=N.target,S=N.target.checked;x(j=>({...j,[C]:A==="checkbox"?S:E}))},w=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await s(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(N){alert("Error al guardar la sucursal."),console.error("Error saving branch:",N)}},y=N=>{f(N),u(!0)},v=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(Jl,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(Xf,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((N,C)=>N+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:v,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(N=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${N.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Vu,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${N.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:N.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(K7,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:N.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(l5,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:N.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[N.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(gi,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:N.manager})]})]})})]}),a.jsxs("button",{onClick:()=>y(N),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(As,{className:"w-4 h-4"})]})]},N.id)),a.jsxs("button",{onClick:v,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(N=>N.dailySales>0).map(N=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:N.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",N.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${N.dailySales/_*100}%`}})})]},N.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Mc,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Vu,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Vu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Vu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Or,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:b,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(T0,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:N=>x(C=>({...C,status:N.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(as,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Qt,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},fEe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:s,addTransaction:i,boxes:o,updateBox:l}=Dt(),[c,u]=D.useState("staff"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState(null),[y,v]=D.useState({}),[_,N]=D.useState("general"),[C,E]=D.useState(!1),[A,S]=D.useState(null),[j,T]=D.useState({}),[R,P]=D.useState({show:!1,title:"",message:"",onConfirm:()=>{},type:"info"}),[O,I]=D.useState({amount:0,description:"",type:"adelanto",boxId:""}),H=G=>(G.advances||[]).reduce((ie,W)=>W.type==="adelanto"||W.type==="descuento"?ie+W.amount:ie,0),F=G=>(G.advances||[]).reduce((ie,W)=>W.type==="bono"?ie+W.amount:ie,0),L=G=>{const ie=G.salary||0,W=H(G),fe=F(G);return ie-W+fe},B=async G=>{const ie=L(G);S(String(G.id));try{const W=await iEe(G,ie);P({show:!0,title:"Validacin ARCA Exitosa",message:`${W.message}
Protocolo: ${W.protocolNumber}
CUIL: ${W.cuil}`,type:"arca",onConfirm:()=>P(fe=>({...fe,show:!1}))})}catch(W){alert(W.message)}finally{S(null)}},z=G=>{const ie=L(G);if(!G.salary||G.salary<=0){P({show:!0,title:"Sueldo no configurado",message:`${G.name} no tiene un sueldo base asignado.`,type:"danger",onConfirm:()=>P(fe=>({...fe,show:!1}))});return}const W=o.find(fe=>fe.status==="abierta")||o[0];P({show:!0,title:"Liquidar Haberes",message:`Registrar pago de $${ie.toLocaleString()} para ${G.name}.`,type:"success",showBoxSelector:!0,selectedBoxId:W==null?void 0:W.id,onConfirm:()=>{}})},V=async(G,ie)=>{const W=L(G),fe=o.find(Ee=>Ee.id===ie);if(fe){P(Ee=>({...Ee,show:!1})),T(Ee=>({...Ee,[String(G.id)]:!0}));try{await i({date:new Date().toISOString(),amount:W,type:"egreso",boxId:ie,category:"sueldo",description:`Liquidacin Haberes: ${G.name} (Libro Sueldos Digital)`,paymentDetails:[{id:`pay-${Date.now()}`,method:"efectivo",amount:W}]}),await l(ie,{balance:fe.balance-W}),await n(String(G.id),{advances:[]}),alert(`Liquidacin completada. Se gener egreso en ${fe.name}.`)}finally{T(Ee=>({...Ee,[String(G.id)]:!1}))}}},U=async()=>{if(!h||O.amount<=0)return;if(O.type==="adelanto"&&!O.boxId){alert("Para un adelanto de efectivo, debes seleccionar una caja de origen.");return}const G=o.find(ie=>ie.id===O.boxId);try{O.type==="adelanto"&&G&&(await i({date:new Date().toISOString(),amount:O.amount,type:"egreso",boxId:O.boxId,category:"sueldo",description:`Vale/Adelanto: ${h.name}`,paymentDetails:[{id:`pm-${Date.now()}`,method:"efectivo",amount:O.amount}]}),await l(O.boxId,{balance:G.balance-O.amount}));const ie={id:`adv-${Date.now()}`,date:new Date().toISOString().split("T")[0],amount:O.amount,description:O.description||(O.type==="adelanto"?"Adelanto de sueldo":"Bono/Premio"),type:O.type};await n(String(h.id),{advances:[...h.advances||[],ie]}),alert("Movimiento registrado con xito."),x(null),I({amount:0,description:"",type:"adelanto",boxId:""})}catch(ie){console.error(ie),alert("Error al registrar el movimiento.")}},X=G=>{var ie;w(G),v(G||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((ie=s[0])==null?void 0:ie.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),N("general"),f(!0)},Q=D.useMemo(()=>t.reduce((G,ie)=>G+L(ie),0),[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"Personal & Nmina Digital"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Libro de Sueldos Digital (ARCA) y control de haberes."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>u("staff"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="staff"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Staff"}),a.jsx("button",{onClick:()=>u("payroll"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c==="payroll"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Nmina ARCA"})]}),a.jsxs("button",{onClick:()=>X(null),className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(h5,{className:"w-5 h-5 text-orange-500"})," Nuevo Colaborador"]})]})]}),c==="payroll"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Costo Operativo Nmina"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",Q.toLocaleString()]}),a.jsx(wb,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(jn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Neto Estimado"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",Q.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Zl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Certificados ARCA"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:t.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-2xl",children:a.jsx(fN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Vales/Adel."}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",t.reduce((G,ie)=>G+H(ie),0).toLocaleString()]})]})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5",children:"Rol / Funcin"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-8 py-5 text-right",children:"Sueldo Base"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Descuentos/Vales"}),a.jsx("th",{className:"px-8 py-5 text-right font-black text-slate-900",children:"Neto a Liquidar"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Sincro ARCA"})]}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(G=>{const ie=L(G),W=j[String(G.id)],fe=A===String(G.id);return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 flex items-center justify-center font-black text-white text-sm",children:G.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:G.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:G.role})]})]})}),c==="staff"?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:G.role}),a.jsx("td",{className:"px-8 py-6 font-bold text-slate-600 text-xs",children:G.branchName}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[9px] font-black uppercase ${G.status==="Activo"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G.status})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-slate-500",children:["$",(G.salary||0).toLocaleString()]}),a.jsxs("td",{className:"px-8 py-6 text-right font-bold text-red-500",children:["-$",H(G).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:"text-lg font-black text-slate-900",children:["$",ie.toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{onClick:()=>B(G),disabled:fe,className:`p-2 rounded-xl transition-all ${fe?"bg-slate-100":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,children:fe?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(wb,{className:"w-4 h-4"})})})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c==="payroll"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{var Ee;I({amount:0,description:"",type:"adelanto",boxId:((Ee=o.find(Ie=>Ie.status==="abierta"))==null?void 0:Ee.id)||""}),x(G)},className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>z(G),disabled:W,className:`p-2.5 rounded-xl transition-all shadow-sm ${W?"bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-600 hover:text-white"}`,children:W?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Vd,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:()=>X(G),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-orange-600 shadow-sm",children:a.jsx(ci,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(String(G.id)),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-slate-400 hover:text-red-600 shadow-sm",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},G.id)})})]})}),R.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl p-10 text-center space-y-6 animate-in zoom-in duration-200",children:[a.jsx("div",{className:`w-20 h-20 mx-auto rounded-[2rem] flex items-center justify-center shadow-xl ${R.type==="danger"?"bg-red-100 text-red-600":R.type==="arca"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:R.type==="arca"?a.jsx(Zl,{className:"w-10 h-10"}):a.jsx(Vd,{className:"w-10 h-10"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:R.title}),a.jsx("p",{className:"text-slate-500 font-medium leading-relaxed whitespace-pre-wrap",children:R.message})]}),R.showBoxSelector&&a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen de Fondos"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:R.selectedBoxId,onChange:G=>P(ie=>({...ie,selectedBoxId:G.target.value})),className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold outline-none focus:ring-2 focus:ring-orange-500 appearance-none",children:o.map(G=>a.jsxs("option",{value:G.id,children:[G.name," ($",G.balance.toLocaleString(),")"]},G.id))}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{onClick:()=>P(G=>({...G,show:!1})),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cerrar"}),R.showBoxSelector&&a.jsx("button",{onClick:()=>{const G=t.find(ie=>R.message.includes(ie.name));G&&R.selectedBoxId&&V(G,R.selectedBoxId)},className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-black transition-all",children:"Confirmar Pago"})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-orange-600 text-white flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Registrar Movimiento"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest",children:h.name})]})]}),a.jsx("button",{onClick:()=>x(null),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Registro"}),a.jsxs("select",{value:O.type,onChange:G=>I({...O,type:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",children:[a.jsx("option",{value:"adelanto",children:"Adelanto (Resta del Sueldo)"}),a.jsx("option",{value:"bono",children:"Bono / Premio (Suma al Sueldo)"}),a.jsx("option",{value:"descuento",children:"Inasistencia (Resta del Sueldo)"})]})]}),O.type==="adelanto"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja de Origen (Egreso Fsico)"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:O.boxId,onChange:G=>I({...O,boxId:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-slate-50 outline-none appearance-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Seleccione una caja..."}),o.map(G=>a.jsxs("option",{value:G.id,children:[G.name," ($",G.balance.toLocaleString(),")"]},G.id))]}),a.jsx(qd,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{type:"number",value:O.amount||"",onChange:G=>I({...O,amount:parseFloat(G.target.value)||0}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-3xl text-center focus:ring-2 focus:ring-orange-500 outline-none text-orange-600",placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo / Descripcin"}),a.jsx("input",{type:"text",value:O.description,onChange:G=>I({...O,description:G.target.value}),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-2xl font-bold bg-white outline-none",placeholder:"Ej: Vale para almuerzo, Premio puntualidad..."})]}),a.jsxs("button",{onClick:U,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5 text-orange-500"})," Guardar Registro"]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col h-[85vh]",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(hN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:b?"Perfil del Colaborador":"Nuevo Ingreso"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:y.name||"Staff FerroGest"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2 shrink-0",children:[a.jsx("button",{onClick:()=>N("general"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="general"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Datos de Acceso"}),a.jsx("button",{onClick:()=>N("financial"),className:`w-full text-left px-5 py-4 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${_==="financial"?"bg-orange-600 text-white shadow-lg":"text-slate-500 hover:bg-white"}`,children:"Finanzas & Sueldo"})]}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar bg-white",children:[_==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:y.name||"",onChange:G=>v({...y,name:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:y.email||"",onChange:G=>v({...y,email:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:y.branchName,onChange:G=>v({...y,branchName:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl outline-none font-bold",children:s.map(G=>a.jsx("option",{value:G.name,children:G.name},G.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha de Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:y.joiningDate||"",onChange:G=>v({...y,joiningDate:G.target.value}),className:"w-full px-5 py-3.5 border-2 border-slate-50 bg-slate-50 rounded-2xl font-bold"})]})]})]}),_==="financial"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border-2 border-orange-200 flex items-center justify-between shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-orange-600 shadow-sm",children:a.jsx(da,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-black text-orange-900 uppercase text-xs tracking-widest italic",children:"Sueldo Base Mensual"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-bold",children:"Importe fijo antes de descuentos/premios."})]})]}),a.jsxs("div",{className:"relative w-48",children:[a.jsx(jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-green-600"}),a.jsx("input",{type:"number",value:y.salary||"",onChange:G=>v({...y,salary:parseFloat(G.target.value)||0}),className:"w-full pl-12 pr-4 py-4 border-2 border-white rounded-2xl font-black text-xl text-slate-800 outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Historial de Adelantos del Mes"}),a.jsx("div",{className:"border border-slate-100 rounded-3xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[9px] font-black text-slate-400 uppercase border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3",children:"Concepto"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[(y.advances||[]).map((G,ie)=>a.jsxs("tr",{className:"text-xs",children:[a.jsx("td",{className:"px-6 py-3 font-bold",children:G.date}),a.jsx("td",{className:"px-6 py-3 font-medium text-slate-500",children:G.description}),a.jsxs("td",{className:`px-6 py-3 text-right font-black ${G.type==="bono"?"text-green-600":"text-red-600"}`,children:[G.type==="bono"?"+":"-","$",G.amount.toLocaleString()]})]},ie)),(y.advances||[]).length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-slate-400 italic",children:"Sin movimientos registrados este mes."})})]})]})})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400 hover:bg-slate-100 transition-all",children:"Descartar"}),a.jsxs("button",{onClick:async()=>{E(!0);try{b?await n(String(b.id),y):await e(y),f(!1)}finally{E(!1)}},disabled:C,className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-black flex items-center gap-3",children:[C?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5 text-orange-500"}),b?"Guardar Perfil":"Dar de Alta"]})]})]})})]})},hEe=[{id:"h1",date:"2024-05-20 08:00",source:"Sinteplast (Web)",status:"success",itemsUpdated:120,itemsAdded:5,errors:0,log:"Proceso completado sin errores."},{id:"h2",date:"2024-05-19 23:00",source:"Alba (Email)",status:"error",itemsUpdated:0,itemsAdded:0,errors:2,log:"Error: Adjunto no reconocido o malformado."},{id:"h3",date:"2024-05-18 08:00",source:"Stanley (Web)",status:"success",itemsUpdated:85,itemsAdded:0,errors:0,log:"Proceso completado sin errores."}],pEe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r,suppliers:s}=Dt(),[i,o]=D.useState("lists"),[l,c]=D.useState(1),[u,d]=D.useState(""),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,y]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),[v,_]=D.useState({enabled:!1,frequency:"diario",executionTime:"03:00"}),[N,C]=D.useState({}),[E,A]=D.useState(!1),[S,j]=D.useState(null);D.useEffect(()=>{if(s.length>0){const V={};s.forEach(U=>{N[U.id]||(V[U.id]={supplierId:U.id,sourceType:"manual",enabled:!1})}),C(U=>({...U,...V}))}},[s,N]);const T=[{id:1,name:"Seleccionar Proveedor",icon:Or},{id:2,name:"Configurar Plantilla",icon:Js},{id:3,name:"Cargar Excel",icon:Rm},{id:4,name:"Previsualizacin",icon:Nb},{id:5,name:"Anlisis y Ejecucin",icon:tG}],R=async()=>{if(!w.name){alert("El nombre de la lista es obligatorio.");return}try{if(w.isBase){const V=t.find(U=>U.isBase&&U.id!==(x==null?void 0:x.id));V&&await n(V.id,{isBase:!1})}x!=null&&x.id?(await n(x.id,w),alert("Lista de precios actualizada con xito!")):(await e(w),alert("Lista de precios creada con xito!")),h(!1),b(null),y({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(V){alert("Error al guardar la lista de precios."),console.error(V)}},P=async V=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(V),alert("Lista de precios eliminada con xito.")}catch(U){alert("Error al eliminar la lista de precios."),console.error(U)}},O=V=>{b(V),y(V||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),h(!0)},I=()=>{A(!0),setTimeout(()=>{alert("Configuracin de automatizacin guardada."),A(!1)},1e3)},H=(V,U,X)=>{C(Q=>({...Q,[V]:{...Q[V],[U]:X}}))},F=V=>{j(V),setTimeout(()=>{var U;alert(`Actualizacin manual disparada para ${((U=s.find(X=>X.id===V))==null?void 0:U.name)||"proveedor"}.`),C(X=>({...X,[V]:{...X[V],lastRun:new Date().toLocaleString(),lastRunStatus:Math.random()>.2?"success":"error",lastRunMessage:Math.random()>.2?"Proceso completado.":"Error: Contactar soporte."}})),j(null)},2e3)},L=()=>{var V;switch(l){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.map(U=>a.jsxs("button",{onClick:()=>{d(U.id),c(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Or,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:U.name})]},U.id)),s.length===0&&a.jsx("div",{className:"col-span-full text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados."})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",((V=s.find(U=>U.id===u))==null?void 0:V.name)||"Proveedor"]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>c(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((U,X)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:U.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",U.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",U.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:U.diff})]},X))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>c(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Rm,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>c(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},B=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Bu,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>O(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(V=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${V.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[V.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${V.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:V.isBase?a.jsx(Eb,{className:"w-6 h-6"}):a.jsx(cN,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>O(V),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(ci,{className:"w-4 h-4"})}),!V.isBase&&a.jsx("button",{onClick:()=>P(V.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(Rn,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:V.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:V.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:V.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uN,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[V.value>0?"+":"",V.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${V.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:V.isBase?"Configuracin Base":"Ajustar Modificador"})]},V.id)),a.jsxs("button",{onClick:()=>O(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(nt,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(I7,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(fn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Bu,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]}),z=()=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Mp,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin General de Automatizacin"})]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{htmlFor:"enableAutomation",className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:"enableAutomation",checked:v.enabled,onChange:V=>_(U=>({...U,enabled:V.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"enableAutomation",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Procesamiento Automtico"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Activa las tareas programadas para actualizar precios de forma recurrente."})]})]}),v.enabled&&a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Frecuencia de Ejecucin"}),a.jsxs("select",{value:v.frequency,onChange:V=>_(U=>({...U,frequency:V.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"diario",children:"Diario"}),a.jsx("option",{value:"semanal",children:"Semanal"}),a.jsx("option",{value:"mensual",children:"Mensual"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Horario de Ejecucin (Hora Argentina)"}),a.jsx("input",{type:"time",value:v.executionTime,onChange:V=>_(U=>({...U,executionTime:V.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white"})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:I,disabled:E,className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[E?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-4 h-4"}),E?"Guardando...":"Guardar Configuracin General"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Bu,{className:"w-6 h-6 text-orange-600"})," Fuentes por Proveedor"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Configura cmo se obtendrn las listas de precios de cada uno de tus proveedores."}),a.jsx("div",{className:"space-y-6",children:s.length===0?a.jsx("div",{className:"text-center p-10 text-slate-400 italic",children:"No hay proveedores cargados para configurar."}):s.map(V=>{const U=N[V.id]||{supplierId:V.id,sourceType:"manual",enabled:!1};return a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 space-y-4 group",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800",children:V.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[9px] font-black px-2 py-1 rounded-full uppercase ${U.lastRunStatus==="success"?"bg-green-50 text-green-700":U.lastRunStatus==="error"?"bg-red-50 text-red-700":"bg-slate-100 text-slate-400"}`,children:U.lastRun?`${U.lastRunStatus==="success"?"xito":"Error"}`:"Sin Ejecucin"}),a.jsxs("button",{onClick:()=>F(V.id),disabled:S===V.id,className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-xs font-black uppercase flex items-center gap-2 shadow-lg hover:bg-orange-500 disabled:opacity-50",children:[S===V.id?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Za,{className:"w-4 h-4"}),"Actualizar Ahora"]})]})]}),U.lastRun&&U.lastRunStatus==="error"&&a.jsxs("div",{className:"bg-red-100 text-red-800 text-xs p-3 rounded-xl flex items-center gap-2",children:[a.jsx(Jl,{className:"w-4 h-4"}),a.jsxs("span",{children:["ltima ejecucin (",U.lastRun,"): ",U.lastRunMessage]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fuente Principal"}),a.jsxs("select",{value:U.sourceType,onChange:X=>H(V.id,"sourceType",X.target.value),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"manual",children:"Manual (Excel)"}),a.jsx("option",{value:"web",children:"Web (Scraping)"}),a.jsx("option",{value:"email",children:"Email (Adjunto)"})]})]}),U.sourceType==="web"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(po,{className:"w-3 h-3"})," URL del Proveedor"]}),a.jsx("input",{type:"url",value:U.url||"",onChange:X=>H(V.id,"url",X.target.value),placeholder:"https://proveedor.com/listaprecios",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),U.sourceType==="email"&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(o5,{className:"w-3 h-3"})," Email de Origen"]}),a.jsx("input",{type:"email",value:U.emailSource||"",onChange:X=>H(V.id,"emailSource",X.target.value),placeholder:"listaprecios@proveedor.com",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100",children:[a.jsxs("label",{htmlFor:`enable-${V.id}`,className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",id:`enable-${V.id}`,checked:U.enabled,onChange:X=>H(V.id,"enabled",X.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:`enable-${V.id}`,className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Activar Fuente Automtica"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Esta fuente se procesar automticamente segn la configuracin general."})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>alert("Se abrira una interfaz para configurar el mapeo de columnas/campos de esta fuente."),className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Js,{className:"w-4 h-4"})," Editar Mapeo de Campos"]}),a.jsxs("button",{onClick:()=>alert("Configuracin guardada para "+V.name),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-orange-500"})," Guardar"]})]})]},V.id)})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8 animate-in fade-in duration-500",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Yl,{className:"w-6 h-6 text-purple-600"})," Historial de Procesos Automticos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el resultado de las ltimas ejecuciones automticas de precios."}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha/Hora"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Fuente"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Items Act."}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Errores"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:hEe.map(V=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:V.date}),a.jsx("td",{className:"px-6 py-4 text-slate-700",children:V.source}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${V.status==="success"?"bg-green-50 text-green-700 border-green-100":V.status==="error"?"bg-red-50 text-red-700 border-red-100":"bg-slate-100 text-slate-400"}`,children:V.status==="success"?"xito":"Fallo"})}),a.jsxs("td",{className:"px-6 py-4 text-center text-slate-700",children:[V.itemsUpdated," / ",V.itemsAdded]}),a.jsx("td",{className:"px-6 py-4 text-center text-red-600 font-bold",children:V.errors}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>alert(`Log detallado para ${V.source}:
${V.log}`),className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Log",children:a.jsx(Yf,{className:"w-4 h-4"})})})]},V.id))})]})})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>o("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Za,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>o("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Bu,{className:"w-5 h-5"})," Gestin de Listas de Venta"]}),a.jsxs("button",{onClick:()=>o("automation"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${i==="automation"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Mp,{className:"w-5 h-5"})," Automatizacin & Fuentes"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:i==="update"?T.map((V,U)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${l===V.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${l>=V.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:l>V.id?a.jsx(fn,{className:"w-6 h-6"}):a.jsx(V.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${l===V.id?"":"hidden md:block"}`,children:V.name})]}),U<T.length-1&&a.jsx(As,{className:"w-5 h-5 text-slate-100"})]},V.id)):i==="lists"?a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Js,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]}):a.jsxs("div",{className:"flex items-center gap-3 text-blue-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500 bg-blue-50 flex items-center justify-center",children:a.jsx(Mp,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Configuracin de Fuentes Automticas"})]})}),i==="update"?L():i==="lists"?B():z(),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:w.name||"",onChange:V=>y({...w,name:V.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:w.description||"",onChange:V=>y({...w,description:V.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:w.modifierType,onChange:V=>y({...w,modifierType:V.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:w.value||"",onChange:V=>y({...w,value:parseFloat(V.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:w.isBase||!1,onChange:V=>y({...w,isBase:V.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:R,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[x?"Actualizar Lista":"Crear Lista"," ",a.jsx(Qt,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},mEe=()=>{var w;const t=D.useRef(null),[e,n]=D.useState(1),[r,s]=D.useState(null),[i,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Bd,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:gi,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:Dr,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:Im,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:lN,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=y=>{switch(y){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=y=>{var _;const v=(_=y.target.files)==null?void 0:_[0];o(v||null)},b=()=>{if(!i)return;c(!0);let y=0;const v=setInterval(()=>{y+=10,d(y),y>=100&&(clearInterval(v),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(QO,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Js},{id:2,label:"Cargar Archivo",icon:Tm},{id:3,label:"Mapear Columnas",icon:Ot},{id:4,label:"Anlisis y Carga",icon:fn}].map((y,v)=>a.jsxs(q.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===y.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=y.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>y.id?a.jsx(fn,{className:"w-6 h-6"}):y.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:y.label})]}),v<3&&a.jsx(As,{className:"w-5 h-5 text-slate-100"})]},y.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(y=>a.jsxs("button",{onClick:()=>{s(y.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${y.bg} ${y.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(y.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:y.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:y.desc})]},y.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(Nb,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(w=f.find(y=>y.id===r))==null?void 0:w.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var y;return(y=t.current)==null?void 0:y.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[i?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Nb,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:i.name}),a.jsxs("button",{onClick:y=>{y.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(Ge,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Tm,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(al,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!i,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Js,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(y=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[y.label," ",y.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(As,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},y.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(jr,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:b,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Jl,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(Jl,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(fn,{className:"w-5 h-5"})]})]})]})]})]})},gEe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[s]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),i=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=s.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(Ny,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(O7,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:s.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(Ns,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:s.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(as,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(n5,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),i.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Xl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),i.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(Ns,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(Yl,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(ci,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(W7,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Ny,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(Ge,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(Ny,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(Dr,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},xEe=10,yEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Dt(),[n,r]=D.useState("sugerencias"),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:xEe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{s&&d(s)},[s,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(nt,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:s,onChange:f=>i(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(ua,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(Fe,{className:"animate-spin mx-auto"})]})]})]})},vEe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Dt(),[s,i]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),b=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],w=A=>{const S=encodeURIComponent(`Hola ${A.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(A.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${A.whatsapp}?text=${S}`,"_blank")},y=t.filter(A=>(A.name.toLowerCase().includes(o.toLowerCase())||A.cuit.includes(o))&&(s==="clients"?A.balance<0:!0)),v=e.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.cuit.includes(o)),_=t.filter(A=>A.balance<0).reduce((A,S)=>A+Math.abs(S.balance),0),N=e.reduce((A,S)=>A+Math.abs(S.balance),0),C=()=>{u(null),f(null)},E=()=>{const A=h.type==="RECIBO",S=A?c:d;return S?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${A?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(u5,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:A?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[S.name,"  ",S.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${A?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",A?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:da},{id:"transfer",label:"Transferencia",icon:km},{id:"check",label:"Cheque",icon:Or}].map(j=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(j.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:j.label})]},j.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${A?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(Qt,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const A=!!c,S=A?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&E(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(QO,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:A?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${A?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," ",A?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${A?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${A?"bg-orange-600":"bg-blue-600"}`,children:S.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:S.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:S.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:A?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(S.balance).toLocaleString()]})]})]}),a.jsx(jn,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Yl,{className:`w-5 h-5 ${A?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(j=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(j.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:j.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:j.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${j.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(j.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(Yf,{className:"w-4 h-4"})," Ver"]})})]},j.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(fN,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(as,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",N.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(jn,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-N).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>i("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(gi,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Dr,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:A=>l(A.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s==="clients"?y.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(A),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:A.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:S=>{S.stopPropagation(),w(A)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(G7,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(As,{className:"w-5 h-5 text-slate-300"})]})})]},A.id)):v.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(A),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:A.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(As,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},A.id))})]})]})]})};var bEe={};const wEe=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Dt(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=[{id:1,date:"2024-06-05",concept:"Sueldos Personal",amount:145e4,status:"urgent"},{id:2,date:"2024-06-10",concept:"Alquiler Local Central",amount:35e4,status:"pending"},{id:3,date:"2024-06-15",concept:"IVA Mayo (AFIP)",amount:254100,status:"pending"},{id:4,date:"2024-06-20",concept:"Luz y Gas (Sucursales)",amount:85e3,status:"pending"}],x=D.useMemo(()=>{const v=e.reduce((N,C)=>N+C.stock*C.costPrice,0),_=n.reduce((N,C)=>N+(C.balance>0?C.balance:0),0);return v+_+25e5},[e,n]),b=D.useMemo(()=>r.reduce((v,_)=>v+Math.abs(_.balance<0?_.balance:0),0),[r]),w=x-b,y=async()=>{l(!0);try{const v=new PS({apiKey:bEe.API_KEY}),_=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${x}, 
      Pasivos: $${b}, 
      Patrimonio Neto: $${w}. 
      Dame recomendaciones estratgicas para pagar sueldos y vencimientos.`,N=await v.models.generateContent({model:"gemini-3-flash-preview",contents:_});u(N.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:Ql},{id:"cashflow",label:"Cash Flow",icon:q2},{id:"breakeven",label:"Punto de Equilibrio",icon:aN},{id:"accounting",label:"Libro Diario",icon:Or}].map(v=>a.jsxs("button",{onClick:()=>i(v.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===v.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Mc,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(km,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",b.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(Zl,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(fN,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",w.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(q2,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(jn,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(as,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(Z7,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),s==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]})}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(r$,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(kf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Kn,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(os,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(os,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(T0,{className:"w-5 h-5 text-indigo-600"})," Prximos Vencimientos (Nmina y Fijos)"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(v=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 flex justify-between items-center group hover:border-indigo-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${v.status==="urgent"?"bg-red-100 text-red-600":"bg-white text-indigo-600 shadow-sm"}`,children:a.jsx(El,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.concept}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:new Date(v.date).toLocaleDateString("es-AR",{day:"2-digit",month:"long"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",v.amount.toLocaleString()]}),v.status==="urgent"&&a.jsx("span",{className:"text-[9px] font-black text-red-500 uppercase tracking-widest",children:"Urgente"})]})]},v.id))})]})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D7,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Estrategia IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Cmo cubrimos los prximos sueldos y el alquiler del local central?"}),a.jsxs("button",{onClick:y,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Xf,{className:"w-4 h-4"}),"Consultar Plan de Pagos"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Distribucin de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs($ye,{children:[a.jsx(bi,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((v,_)=>a.jsx(J0,{fill:v.color},`cell-${_}`))}),a.jsx(Kn,{})]})})})]})]})]}),s==="cashflow"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx(ld,{width:"100%",height:"100%",children:a.jsxs(n$,{data:d,children:[a.jsx(kf,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(fa,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ha,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Kn,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(eo,{iconType:"circle"}),a.jsx(ts,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(ts,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(ts,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]})}),s==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-12",children:a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales"}),a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]})]})})}),s==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Or,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Sueldos Pagados",debe:0,haber:145e3,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",debe:0,haber:85200,status:"Auditado"}].map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:v.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:v.account})}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:v.debe>0?`$${v.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:v.haber>0?`$${v.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${v.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:v.status})})]},_))})]})})]})]})},_Ee=10,NEe=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],SEe=()=>{const{fetchProductsPaginatedAndFiltered:t}=Dt(),[e,n]=D.useState("dashboard"),[r,s]=D.useState("mobile"),[i,o]=D.useState([{id:"1",name:"Martillo Stanley 20oz Pro",price:15500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650 13mm",price:88500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=300",mlStatus:"none"},{id:"3",name:"Pintura Alba Latex 20L",price:42300,stock:20,visits:245,status:"publicado",img:"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?auto=format&fit=crop&q=80&w=300",mlStatus:"sync"},{id:"4",name:"Juego de Llaves Combinadas",price:12900,stock:12,visits:56,status:"publicado",img:"https://images.unsplash.com/photo-1621905252507-b35222028781?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,b]=D.useState("login"),[w,y]=D.useState(null),[v,_]=D.useState(""),[N,C]=D.useState([]),[E,A]=D.useState(null),[S,j]=D.useState(!0),[T,R]=D.useState(!1),P=D.useRef(null),O=D.useCallback(async(L=!1,B=v,z=E)=>{R(!0);try{const V={limit:_Ee,searchTerm:B.toLowerCase().trim(),startAfterDoc:L?void 0:z,orderByField:"name",orderDirection:"asc"},{products:U,lastVisible:X,hasMore:Q}=await t(V);C(G=>L?U:[...G,...U]),A(X),j(Q)}catch(V){console.error("Error loading products for picker:",V)}finally{R(!1)}},[v,E,t]),I=D.useCallback(L=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{O(!0,L,null)},300)},[O]),H=L=>{o([...i,{id:L.id,name:L.name,price:L.salePrice||0,stock:L.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=300",mlStatus:"none"}]),alert(`${L.name} agregado a la tienda.`)},F=L=>a.jsxs("div",{className:`bg-white h-full flex flex-col ${L==="mobile"?"w-full max-w-[375px] mx-auto shadow-2xl border-[8px] border-slate-900 rounded-[3rem] overflow-hidden":"w-full"}`,children:[a.jsxs("header",{className:`p-4 flex justify-between items-center bg-white border-b sticky top-0 z-[60] ${L==="mobile"?"rounded-t-[2rem]":""}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-orange-600 rounded-lg text-white",children:a.jsx(qa,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-lg font-black text-slate-800 tracking-tighter uppercase italic",children:"FERRO-GEST"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{className:"relative",children:[a.jsx(Gd,{className:"w-5 h-5 text-slate-700"}),a.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-orange-600 text-white text-[8px] font-black w-4 h-4 rounded-full flex items-center justify-center",children:"2"})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50 pb-20",children:[a.jsx("section",{className:"p-4",children:a.jsxs("div",{className:"w-full aspect-[16/9] bg-slate-900 rounded-2xl relative overflow-hidden flex items-center p-6",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Super Oferta"}),a.jsx("h1",{className:"text-xl font-black text-white leading-tight",children:"TODO EN HERRAMIENTAS"}),a.jsx("button",{className:"bg-white text-slate-900 px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-xl",children:"Ver ms"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=400",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 to-transparent"})]})}),a.jsx("section",{className:"px-4 py-2 overflow-x-auto no-scrollbar flex gap-4",children:["Pinturas","Elctricas","Buloneria","Plomeria"].map(B=>a.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[a.jsx("div",{className:"w-14 h-14 bg-white rounded-full shadow-sm border border-slate-100 flex items-center justify-center text-orange-600 font-bold text-[8px]",children:a.jsx(Xl,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase",children:B})]},B))}),a.jsxs("section",{className:"px-4 mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:"Los ms vendidos"}),a.jsx("button",{className:"text-orange-600 font-bold text-[10px] uppercase",children:"Ver todos"})]}),a.jsx("div",{className:`grid ${L==="mobile"?"grid-cols-2":"grid-cols-4"} gap-4`,children:i.map(B=>a.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden border border-slate-100 shadow-sm flex flex-col",children:[a.jsxs("div",{className:"aspect-square relative bg-slate-50 overflow-hidden",children:[a.jsx("img",{src:B.img,className:"w-full h-full object-cover"}),a.jsx("button",{className:"absolute top-2 right-2 p-1.5 bg-white/80 backdrop-blur-md rounded-full shadow-sm text-slate-400 hover:text-red-500 transition-colors",children:a.jsx(B7,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"p-3 flex flex-col flex-1 justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800 text-[11px] leading-tight line-clamp-2",children:B.name}),a.jsxs("p",{className:"text-xs font-black text-slate-900 mt-1",children:["$",B.price.toLocaleString()]})]}),a.jsx("button",{className:"w-full py-1.5 bg-orange-600 text-white rounded-lg font-black text-[9px] uppercase tracking-widest shadow-md",children:"Comprar"})]})]},B.id))})]})]}),a.jsxs("nav",{className:`bg-white border-t p-3 flex justify-around items-center sticky bottom-0 z-[60] ${L==="mobile"?"rounded-b-[2rem]":""}`,children:[a.jsxs("button",{className:"flex flex-col items-center gap-1 text-orange-600",children:[a.jsx(r5,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Inicio"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(Ot,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Buscar"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400 relative",children:[a.jsx(Gd,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-600 text-white text-[7px] w-3 h-3 rounded-full flex items-center justify-center",children:"2"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Carrito"})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[a.jsx(Qf,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[8px] font-black uppercase",children:"Perfil"})]})]}),L==="mobile"&&a.jsx("div",{className:"absolute bottom-20 right-6 z-[70] flex flex-col gap-3",children:a.jsx("button",{className:"p-3 bg-green-500 text-white rounded-full shadow-2xl animate-bounce",children:a.jsx(H2,{className:"w-5 h-5"})})})]});return a.jsxs("div",{className:"space-y-6",children:[u&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/95 z-[200] flex flex-col animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center bg-slate-800 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(po,{className:"w-5 h-5 text-orange-500"}),a.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Vista Previa: Ferretera Norte Tienda Online"})]}),a.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-xl",children:[a.jsx("button",{onClick:()=>s("mobile"),className:`p-2 rounded-lg transition-all ${r==="mobile"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(Ys,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s("desktop"),className:`p-2 rounded-lg transition-all ${r==="desktop"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:a.jsx(W2,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>d(!1),className:"bg-white/10 hover:bg-white/20 p-2 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-hidden p-8 flex items-center justify-center",children:F(r)})]}),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(po,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight italic",children:"E-Commerce & Mobile Store"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Tu ferretera abierta las 24hs en el bolsillo del cliente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{d(!0),s("mobile")},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Ys,{className:"w-4 h-4 text-orange-600"})," Ver en Celular"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-black transition-all shadow-lg",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"App Dashboard",icon:q7},{id:"catalogo",label:"Catlogo Online",icon:Im},{id:"pedidos",label:"Pedidos Web",icon:qa},{id:"diseno",label:"UX Mobile Custom",icon:Tb}].map(L=>a.jsxs("button",{onClick:()=>n(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(qa,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Ventas Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"124"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(gi,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Clientes Web"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"482"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(Wd,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Sincronizacin"}),a.jsx("h3",{className:"text-lg font-black text-white",children:"ACTIVA 100%"})]})]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(W2,{className:"w-6 h-6 text-blue-600"})," Rendimiento Multicanal"]}),a.jsx("div",{className:"space-y-6",children:[{name:"Tienda Directa",val:"65%",color:"bg-orange-500"},{name:"MercadoLibre",val:"25%",color:"bg-yellow-400"},{name:"WhatsApp Bot",val:"10%",color:"bg-green-500"}].map(L=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase tracking-widest",children:[a.jsx("span",{className:"text-slate-500",children:L.name}),a.jsx("span",{className:"text-slate-900",children:L.val})]}),a.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${L.color}`,style:{width:L.val}})})]},L.name))})]})]}),a.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-6 border-2 border-slate-100 flex flex-col items-center",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Mobile Mockup"}),a.jsxs("div",{className:"w-full max-w-[280px] aspect-[9/18.5] bg-slate-900 rounded-[2.5rem] border-[6px] border-slate-800 shadow-2xl relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 inset-x-0 h-4 flex justify-center",children:a.jsx("div",{className:"w-16 h-4 bg-slate-800 rounded-b-xl"})}),F("mobile"),a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{onClick:()=>{d(!0),s("mobile")},className:"bg-white text-slate-900 px-4 py-2 rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 shadow-xl scale-110",children:[a.jsx(Yf,{className:"w-4 h-4"})," Expandir"]})})]})]})})]}),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(nt,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:L.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:L.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:L.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",L.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:L.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Js,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),e==="pedidos"&&a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(qa,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:NEe.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(l5,{className:"inline w-3 h-3 mr-1"})," ",L.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:L.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",L.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${L.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:L.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(_b,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(Dr,{className:"w-4 h-4"})})]})})]},L.id))})]})]})}),e==="diseno"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-12 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Tb,{className:"w-6 h-6 text-orange-600"})," Personalizacin Mobile UI"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color de Marca (Botones y TabBar)"}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-14 h-14 rounded-2xl border-none p-0 cursor-pointer shadow-lg"}),a.jsx("input",{className:"flex-1 px-5 py-4 border-2 border-slate-100 rounded-2xl font-black uppercase outline-none focus:ring-2 focus:ring-orange-500",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Botones de Accin Flotante (Mobile)"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:a.jsx(H2,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn WhatsApp Flotante"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:a.jsx(J7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:'Botn "Como llegar" (Maps)'})]}),a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-5 bg-slate-50 rounded-[1.5rem] border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:a.jsx(X7,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-700",children:"Botn Llamar Ahora"})]}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 flex flex-col items-center justify-center text-center space-y-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-orange-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-600/10 rounded-full blur-3xl"}),a.jsx("div",{className:"p-6 bg-white/5 rounded-full backdrop-blur-md mb-4 border border-white/10",children:a.jsx(Ys,{className:"w-16 h-16 text-orange-500"})}),a.jsx("h4",{className:"text-white font-black text-xl uppercase tracking-tight",children:"Experiencia Optimizada"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed max-w-xs",children:"El diseo mobile-first asegura que tus clientes compren cmodamente desde la obra o su casa."}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx("button",{onClick:()=>{d(!0),s("mobile")},className:"px-8 py-4 bg-white text-slate-900 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-orange-500 hover:text-white transition-all",children:"Abrir Simulador"})})]})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:v,onChange:L=>{_(L.target.value),I(L.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:T?a.jsx("div",{className:"text-center py-10",children:a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"})}):N.length>0?N.map(L=>{var B;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>H(L),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Im,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:L.sku})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(B=L.salePrice)==null?void 0:B.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",L.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},L.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(jr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos"})]})})]}),a.jsx("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:a.jsx("button",{onClick:()=>c(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})})]})})]})},EEe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(iG,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(gi,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(Ey,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Hd,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Ey,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Ey,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),TEe=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[b,w]=D.useState(!1),[y,v]=D.useState(!1),[_,N]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,E]=D.useState(!1),[A,S]=D.useState(!1),j="https://ferrogest.app/ml-callback";D.useEffect(()=>{const L=localStorage.getItem("mlClientId")||"",B=localStorage.getItem("mlClientSecret")||"",z=localStorage.getItem("mlUserId")||null,V=localStorage.getItem("mlNickname")||null,U=localStorage.getItem("mlAutoSyncStock")==="true",X=localStorage.getItem("mlAutoSyncPrices")==="true";r(L),i(B),l(z),u(V),f(U),x(X);const Q=localStorage.getItem("andreaniConfig");Q&&N(JSON.parse(Q))},[]);const T=()=>{v(!0),setTimeout(()=>{v(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},R=async()=>{if(!n||!s){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}w(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise(L=>setTimeout(L,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch(L){console.error("Error al conectar con MercadoLibre:",L),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{w(!1)}},P=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:L,clientSecret:B,accountNumber:z,branchCode:V}=_;if(!L||!B||!z||!V){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}E(!0);try{await new Promise(X=>setTimeout(X,2500));const U={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};N(U),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(U))}catch(U){console.error("Error al conectar con Andreani:",U),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{E(!1)}},I=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},H=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(Wd,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:T,disabled:y||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[y?a.jsx(Za,{className:"w-5 h-5 animate-spin"}):a.jsx(Za,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(G2,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:L=>r(L.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:s,onChange:L=>i(L.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(Sy,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:j}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(j),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:R,disabled:b||!n||!s,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[b?a.jsx(Fe,{className:"w-5 h-5"}):a.jsx(Mp,{className:"w-5 h-5"}),b?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(fn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Js,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:L=>f(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:L=>x(L.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),F=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(od,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Za,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(G2,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:L=>N(B=>({...B,clientId:L.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:L=>N(B=>({...B,clientSecret:L.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:L=>N(B=>({...B,accountNumber:L.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:L=>N(B=>({...B,branchCode:L.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx(Fe,{className:"w-5 h-5"}):a.jsx(od,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:I,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(od,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:Wd},{id:"andreani",label:"Andreani Envos",icon:Dr},{id:"other",label:"Otras Conexiones",icon:Sy}].map(L=>a.jsxs("button",{onClick:()=>e(L.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===L.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&H(),t==="andreani"&&F(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(Sy,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(Hd,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},AEe=10,kEe=()=>{const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Dt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,b]=D.useState(!1),[w,y]=D.useState(""),[v,_]=D.useState([]),[N,C]=D.useState(null),[E,A]=D.useState(!0),[S,j]=D.useState(!1),T=D.useRef(null),R=D.useCallback((U,X)=>{let Q=U.salePrice;if(!X||!U.costPrice)return Q||0;const G=e.find(ie=>ie.id===X.priceListId);if(G){const ie=U.costPrice;G.modifierType==="margin"?Q=ie*(1+G.value/100):G.modifierType==="percentage_over_base"&&(Q=(U.salePrice||0)*(1+G.value/100))}return X.specialDiscount>0&&(Q=Q*(1-X.specialDiscount/100)),parseFloat(Q.toFixed(2))},[e]),P=async()=>{if(!r.trim()){h("Por favor, ingresa un mensaje para analizar.");return}o(!0),h(null),c([]);try{const U=await nEe(r),X=[];for(const Q of U){const{products:G}=await n({limit:1,searchTerm:Q.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(G.length>0){const ie=G[0],W=R(ie,u);X.push({productId:ie.id,sku:ie.sku,name:ie.name,brand:ie.brand,quantity:Q.quantity,unitPrice:W,subtotal:parseFloat((W*Q.quantity).toFixed(2)),originalProduct:ie})}else X.push({productId:`unmatched-${Date.now()}-${Q.productName}`,sku:"N/A",name:Q.productName,brand:"N/A",quantity:Q.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:Q.productName})}c(X)}catch(U){console.error("Error al analizar el mensaje:",U),h("Ocurri un error al procesar el mensaje con la IA.")}finally{o(!1)}};D.useEffect(()=>{c(U=>U.map(X=>({...X,unitPrice:X.originalProduct?R(X.originalProduct,u):X.unitPrice,subtotal:X.originalProduct?parseFloat((R(X.originalProduct,u)*X.quantity).toFixed(2)):X.subtotal})))},[u,R]);const O=(U,X)=>{c(Q=>Q.map(G=>G.productId===U?{...G,quantity:X,subtotal:parseFloat((G.unitPrice*X).toFixed(2))}:G))},I=U=>{c(X=>X.filter(Q=>Q.productId!==U))},H=D.useCallback(async(U=!1,X=w,Q=N)=>{j(!0);try{const G={limit:AEe,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:U?void 0:Q},{products:ie,lastVisible:W,hasMore:fe}=await n(G);_(Ee=>U?ie:[...Ee,...ie]),C(W),A(fe)}catch(G){console.error("Error loading products for picker:",G)}finally{j(!1)}},[w,N,n]),F=D.useCallback(U=>{T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{H(!0,U,null)},300)},[H]);D.useEffect(()=>{x&&H(!0,w,null)},[x,H,w]);const L=(U,X)=>{if(l.find(G=>G.productId===U.id))c(G=>G.map(ie=>ie.productId===U.id?{...ie,quantity:ie.quantity+1,subtotal:parseFloat((ie.unitPrice*(ie.quantity+1)).toFixed(2))}:ie));else{const G=R(U,u);c(ie=>[...ie,{productId:U.id,sku:U.sku,name:U.name,brand:U.brand,quantity:1,unitPrice:G,subtotal:parseFloat(G.toFixed(2)),originalProduct:U}])}b(!1)},B=D.useMemo(()=>l.reduce((U,X)=>U+X.subtotal,0),[l]),z=B*.21,V=B+z;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Cm,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsxs("button",{onClick:()=>{s(""),c([]),d(null),h(null)},className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Xf,{className:"w-4 h-4"})," Limpiar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Cm,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:U=>s(U.target.value)}),f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(Ns,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:f})]}),a.jsxs("button",{onClick:P,disabled:i||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[i?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):a.jsx(jm,{className:"w-6 h-6"}),i?"Analizando...":"Analizar Mensaje"]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cliente"}),a.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:U=>d(t.find(X=>X.id===U.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(U=>a.jsxs("option",{value:U.id,children:[U.name," (",U.cuit,")"]},U.id))]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:l.map(U=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:U.originalProduct?a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:U.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:U.sku})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Ns,{className:"w-4 h-4"})," ",U.name,a.jsx("button",{onClick:()=>{b(!0)},className:"ml-2 px-2 py-1 bg-red-50 text-[10px] rounded",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:U.quantity,onChange:X=>O(U.productId,Number(X.target.value)),className:"w-16 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",U.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>I(U.productId),className:"text-slate-300 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},U.productId))})]})}),a.jsxs("button",{onClick:()=>b(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Aadir Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-2 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",B.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",V.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{disabled:l.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(Qt,{className:"w-5 h-5"})," Guardar"]}),a.jsxs("button",{disabled:l.length===0||!(u!=null&&u.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3",children:[a.jsx(d5,{className:"w-5 h-5"})," WhatsApp"]})]})]})})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase",children:"Buscar Producto"}),a.jsx("button",{onClick:()=>b(!1),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50",value:w,onChange:U=>{y(U.target.value),F(U.target.value)}})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:S?a.jsx("div",{className:"text-center py-10",children:a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto animate-spin"})}):v.map(U=>{var X;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 cursor-pointer",onClick:()=>L(U),children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:U.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:U.sku})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(X=U.salePrice)==null?void 0:X.toLocaleString()]}),a.jsx(nt,{className:"w-5 h-5 text-orange-600"})]})]},U.id)})})]})]})})]})},Bo={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},dp={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},CEe=10,jEe=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:s,fetchProductsPaginatedAndFiltered:i,addRemito:o}=Dt(),[l,c]=D.useState(""),[u,d]=D.useState("all"),[f,h]=D.useState(!1),[x,b]=D.useState(null),[w,y]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[v,_]=D.useState([]),[N,C]=D.useState(!1),[E,A]=D.useState(!1),[S,j]=D.useState(""),[T,R]=D.useState([]),[P,O]=D.useState(null),[I,H]=D.useState(!0),[F,L]=D.useState(!1),B=D.useRef(null),[z,V]=D.useState(!1),[U,X]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),[Q,G]=D.useState(!1),[ie,W]=D.useState(!1),[fe,Ee]=D.useState(null),Ie=D.useCallback(async(te=!1,ye=S,Ue=P)=>{L(!0);try{const Be={limit:CEe,searchTerm:ye.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:te?void 0:Ue},{products:Hn,lastVisible:gr,hasMore:Vr}=await i(Be);R(Qc=>te?Hn:[...Qc,...Hn]),O(gr),H(Vr)}catch(Be){console.error("Error loading products for picker:",Be)}finally{L(!1)}},[S,P,i]),ce=D.useCallback(te=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{Ie(!0,te,null)},300)},[Ie]);D.useEffect(()=>{E&&(R([]),O(null),H(!0),Ie(!0,S,null))},[S,E,Ie]),D.useEffect(()=>{if(w.clientId){const te=t.find(ye=>ye.id===w.clientId);te&&y(ye=>({...ye,clientName:te.name}))}else y(te=>({...te,clientName:""}))},[w.clientId,t]),D.useEffect(()=>{const te=v.reduce((ye,Ue)=>ye+Ue.subtotal,0);y(ye=>({...ye,total:parseFloat(te.toFixed(2))}))},[v]);const ae=te=>{te?(b(te),y(te),_(te.items)):(b(null),y({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),_([])),h(!0)},J=(te,ye)=>{_(Ue=>Ue.map((Be,Hn)=>{if(Hn===te){const gr=Math.max(1,ye),Vr=Be.unitPrice*gr;return{...Be,quantity:gr,subtotal:parseFloat(Vr.toFixed(2))}}return Be}))},K=te=>{_(ye=>ye.filter((Ue,Be)=>Be!==te))},he=te=>{const ye=v.findIndex(Ue=>Ue.productId===te.id&&!Ue.isService);if(ye!==-1)J(ye,v[ye].quantity+1);else{const Ue=te.salePrice;_(Be=>[...Be,{productId:te.id,sku:te.sku,name:te.name,brand:te.brand,quantity:1,unitPrice:Ue,subtotal:parseFloat(Ue.toFixed(2)),originalProduct:te}])}A(!1),j("")},ve=()=>{if(!U.name||U.unitPrice<=0||U.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const te=U.unitPrice*U.quantity;_(ye=>[...ye,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:U.name,brand:"N/A",quantity:U.quantity,unitPrice:U.unitPrice,subtotal:parseFloat(te.toFixed(2)),isService:!0,serviceDescription:U.serviceDescription,originalProduct:null}]),V(!1),X({name:"",serviceDescription:"",unitPrice:0,quantity:1})},Le=async()=>{if(!w.clientId||v.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}C(!0);try{const te={clientId:w.clientId,clientName:w.clientName||"Cliente",items:v,total:v.reduce((ye,Ue)=>ye+Ue.subtotal,0),status:w.status||"pendiente_preparacion",dateCreated:w.dateCreated||new Date().toISOString().split("T")[0],dateDue:w.dateDue,notes:w.notes,isServiceOrder:v.some(ye=>ye.isService)};x?await r(x.id,te):await n(te),alert("Pedido guardado con xito!"),h(!1)}catch(te){console.error("Error al guardar el pedido:",te),alert("Ocurri un error al guardar el pedido.")}finally{C(!1)}},Z=async te=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await s(te),alert("Pedido eliminado con xito.")}catch(ye){console.error("Error al eliminar el pedido:",ye),alert("Ocurri un error al eliminar el pedido.")}},me=async(te,ye)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${Bo[ye]}"?`))try{await r(te,{status:ye}),alert("Estado del pedido actualizado.")}catch(Ue){console.error("Error al actualizar estado del pedido:",Ue),alert("Ocurri un error al actualizar el estado.")}},Xe=te=>{Ee(te),G(!0)},At=async()=>{if(fe){W(!0);try{const te=fe.items.map(Be=>{var Hn,gr,Vr;return{id:Be.productId,sku:Be.sku,name:Be.name,quantity:Be.quantity,price:Be.unitPrice,brand:Be.brand,selectedSaleUnit:Be.selectedSaleUnit||"unidad",originalPrimaryUnit:((Hn=Be.originalProduct)==null?void 0:Hn.primaryUnit)||"unidad",originalSaleUnit:((gr=Be.originalProduct)==null?void 0:gr.saleUnit)||"unidad",originalSaleUnitConversionFactor:((Vr=Be.originalProduct)==null?void 0:Vr.saleUnitConversionFactor)||1}}),ye={date:new Date().toISOString().split("T")[0],client:fe.clientName,clientId:fe.clientId,itemsCount:te.length,itemsList:te,total:fe.total,status:"pendiente"},Ue=await o(ye);await r(fe.id,{status:"en_camino"}),alert(`Remito N ${Ue} generado con xito para el pedido ${fe.id}!`),G(!1),Ee(null)}catch(te){console.error("Error al generar remito desde pedido:",te),alert("Ocurri un error al generar el remito.")}finally{W(!1)}}},Nt=D.useMemo(()=>e.filter(te=>{const ye=te.clientName.toLowerCase().includes(l.toLowerCase())||te.id.toLowerCase().includes(l.toLowerCase()),Ue=u==="all"||te.status===u;return ye&&Ue}).sort((te,ye)=>new Date(ye.dateCreated).getTime()-new Date(te.dateCreated).getTime()),[e,l,u]),We=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:S,onChange:te=>{j(te.target.value),ce(te.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:F&&S.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):T.length>0?T.map(te=>{var ye;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>he(te),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Im,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:te.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[te.sku,"  ",te.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(ye=te.salePrice)==null?void 0:ye.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",te.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},te.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(jr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!F&&I&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>Ie(!1,S,P),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(jr,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>A(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),Lt=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Or,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:U.name,onChange:te=>X(ye=>({...ye,name:te.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:U.serviceDescription,onChange:te=>X(ye=>({...ye,serviceDescription:te.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:U.unitPrice||"",onChange:te=>X(ye=>({...ye,unitPrice:parseFloat(te.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:U.quantity||"",onChange:te=>X(ye=>({...ye,quantity:parseInt(te.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ve,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(nt,{className:"w-5 h-5"})]})]})]})}),Gn=()=>fe?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-500 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Dr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Generar Remito"}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Para Pedido N ",fe.id]})]})]}),a.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Detalles del Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:fe.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha Pedido"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(fe.dateCreated).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Total"}),a.jsxs("p",{className:"font-bold text-slate-900",children:["$",fe.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado Actual"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${dp[fe.status]}`,children:Bo[fe.status]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems a Incluir en Remito"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:fe.items.map((te,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:te.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:te.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:te.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",te.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",te.subtotal.toLocaleString()]})]},ye))})]})}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Nota:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este remito incluir todos los tems del pedido. El stock se deducir del inventario al generar el remito."})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>G(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:At,disabled:ie,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[ie?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),ie?"Generando Remito...":"Confirmar Generacin de Remito"]})]})]})}):null;return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(zd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>ae(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:l,onChange:te=>c(te.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(te=>a.jsx("button",{onClick:()=>d(te),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${u===te?"bg-orange-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:te==="all"?"Todos":Bo[te]},te))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Nt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(zd,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):Nt.map(te=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:te.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:te.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:te.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(te.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:te.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(te.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[te.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${dp[te.status]}`,children:Bo[te.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",te.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>ae(te),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(ci,{className:"w-4 h-4"})}),["pendiente_preparacion","listo_retiro","en_camino"].includes(te.status)&&a.jsx("button",{onClick:()=>Xe(te),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors",title:"Generar Remito",children:a.jsx(Dr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(te.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(Rn,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(Xf,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(Bo).map(ye=>a.jsxs("button",{onClick:()=>me(te.id,ye),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${dp[ye].split(" ")[0]} ${dp[ye].split(" ")[1]}`}),Bo[ye]]},ye))})]})]})})]},te.id))})]})})]}),f&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[E&&We(),z&&Lt(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:x?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Qf,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:w.clientId||"",onChange:te=>y(ye=>({...ye,clientId:te.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(El,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:w.dateDue||"",onChange:te=>y(ye=>({...ye,dateDue:te.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>A(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nt,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>V(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nt,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):v.map((te,ye)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:te.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:te.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:te.quantity,onChange:Ue=>J(ye,parseInt(Ue.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",te.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",te.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>K(ye),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4"})})})]},ye))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:w.notes||"",onChange:te=>y(ye=>({...ye,notes:te.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(w.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:Le,disabled:N,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[N?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),x?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]}),Q&&Gn()]})},EI={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},PEe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},IEe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:s,addTransaction:i}=Dt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[b,w]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[y,v]=D.useState(!1),[_,N]=D.useState(!1),[C,E]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[A,S]=D.useState(!1);D.useEffect(()=>{const L=(b.totalAmount||0)-(b.downPayment||0),B=b.installmentsCount>0?b.installmentsCount:1,z=parseFloat((L/B).toFixed(2));w(V=>({...V,amountPerInstallment:z,remainingAmount:h?h.remainingAmount:parseFloat(L.toFixed(2))}))},[b.totalAmount,b.downPayment,b.installmentsCount,h]),D.useEffect(()=>{if(b.clientId){const L=t.find(B=>B.id===b.clientId);L&&w(B=>({...B,clientName:L.name}))}else w(L=>({...L,clientName:""}))},[b.clientId,t]);const j=L=>{L?(x(L),w(L)):(x(null),w({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},T=async()=>{if(!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}v(!0);try{const L={clientId:b.clientId,clientName:b.clientName||"Cliente",totalAmount:b.totalAmount,downPayment:b.downPayment||0,installmentsCount:Math.max(1,b.installmentsCount||1),amountPerInstallment:b.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:b.totalAmount-(b.downPayment||0),payments:b.payments||[],status:b.status||"activo",startDate:b.startDate||new Date().toISOString().split("T")[0],nextDueDate:b.nextDueDate,description:b.description};h?await r(h.id,L):await n(L),alert("Plan de cuotas guardado con xito!"),f(!1)}catch(L){console.error("Error al guardar el plan de cuotas:",L),alert("Ocurri un error al guardar el plan de cuotas.")}finally{v(!1)}},R=async L=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await s(L),alert("Plan de cuotas eliminado con xito.")}catch(B){console.error("Error al eliminar el plan de cuotas:",B),alert("Ocurri un error al eliminar el plan de cuotas.")}},P=L=>{x(L),E({amountPaid:Math.min(L.amountPerInstallment,L.remainingAmount),method:"efectivo",notes:""}),N(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}S(!0);try{const L=h.remainingAmount-C.amountPaid,B=L<=0?"pagado":"activo",z={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},V=[...h.payments,z],U=t.find(X=>X.id===h.clientId);U&&await I(h.clientId,U.balance+C.amountPaid),await i({amount:C.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:L,payments:V,status:B,nextDueDate:B==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),N(!1),x(null)}catch(L){console.error("Error al registrar pago:",L),alert("Ocurri un error al registrar el pago.")}finally{S(!1)}},I=async(L,B)=>{console.log(`Simulating client ${L} balance update to: $${B}`)},H=D.useMemo(()=>e.filter(L=>{const B=L.clientName.toLowerCase().includes(o.toLowerCase())||L.id.toLowerCase().includes(o.toLowerCase()),z=c==="all"||L.status===c;return B&&z}).sort((L,B)=>new Date(B.startDate).getTime()-new Date(L.startDate).getTime()),[e,o,c]),F=D.useMemo(()=>e.filter(L=>L.status==="activo"||L.status==="mora").reduce((L,B)=>L+B.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Zr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>j(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(Ql,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter(L=>L.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(Jl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter(L=>L.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(as,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",F.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:L=>l(L.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map(L=>a.jsx("button",{onClick:()=>u(L),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===L?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:L==="all"?"Todos":EI[L]},L))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:H.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Zr,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):H.map(L=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[L.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:L.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:L.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:L.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[L.payments.filter(B=>B.amountPaid>0).length,"/",L.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",L.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",L.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${L.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",L.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:L.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(El,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(L.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${PEe[L.status]}`,children:EI[L.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>j(L),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(ci,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P(L),disabled:L.status==="pagado"||L.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(jn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>R(L.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(Rn,{className:"w-4 h-4"})})]})})]},L.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Zr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Qf,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:b.clientId||"",onChange:L=>w(B=>({...B,clientId:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(L=>a.jsxs("option",{value:L.id,children:[L.name," (",L.cuit,")"]},L.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:b.description||"",onChange:L=>w(B=>({...B,description:L.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:b.totalAmount||"",onChange:L=>w(B=>({...B,totalAmount:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:b.downPayment||"",onChange:L=>w(B=>({...B,downPayment:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:b.installmentsCount||"",onChange:L=>w(B=>({...B,installmentsCount:parseInt(L.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(El,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:b.startDate||"",onChange:L=>w(B=>({...B,startDate:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((b.totalAmount||0)-(b.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(b.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Yl,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map((L,B)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date(L.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",L.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:L.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:L.notes||"-"})]},L.id||B))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:T,disabled:y||!b.clientId||!b.description||!b.totalAmount||b.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[y?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),y?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(jn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:L=>E(B=>({...B,amountPaid:parseFloat(L.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:L=>E(B=>({...B,method:L.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:L=>E(B=>({...B,notes:L.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:A||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[A?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(fn,{className:"w-5 h-5"}),A?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},REe=()=>{const{products:t,suppliers:e,updateProduct:n}=Dt(),[r,s]=D.useState(""),[i,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,b=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&b}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(oN,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(dN,{className:"w-4 h-4"})," Imprimir"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ua,{className:"w-4 h-4"})," Generar Pedidos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>s(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(fn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(Dr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(d5,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(Ns,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:a.jsx("span",{className:x.stock<=0?"text-red-600":"text-orange-600",children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:i===x.id,onChange:b=>u(x.id,b.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),i===x.id&&a.jsx(Fe,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg",title:"Aadir",children:a.jsx(ua,{className:"w-4 h-4"})})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu cuando su stock actual es menor al ",a.jsx("b",{children:"Punto de Reorden"}),"."]})]})]})]})},MEe=20,OEe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Dt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,b]=D.useState(!1),[w,y]=D.useState([]),[v,_]=D.useState(null),[N,C]=D.useState(!0),[E,A]=D.useState(!1),S=D.useRef(null),j=D.useCallback(I=>{S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{s(I)},300)},[]),T=D.useCallback(async(I=!1,H=r,F=v)=>{A(!0);try{const L={limit:MEe,searchTerm:H.toLowerCase().trim(),startAfterDoc:I?void 0:F,orderByField:"name",orderDirection:"asc"},{products:B,lastVisible:z,hasMore:V}=await n(L);y(U=>I?B:[...U,...B]),_(z),C(V)}catch(L){console.error("Error loading products:",L)}finally{A(!1)}},[r,v,n]);D.useEffect(()=>{e||(y([]),_(null),C(!0),T(!0,r,null))},[r,e,T]);const R=I=>{c(I),d(0),h(""),o(!0)},P=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}b(!0);try{const I=(l.stock||0)+u;await t(l.id,{stock:I}),alert(`Stock de "${l.name}" ajustado a ${I} unidades.`),o(!1),c(null),y(H=>H.map(F=>F.id===l.id?{...F,stock:I}:F))}catch(I){console.error("Error al guardar el ajuste de stock:",I),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{b(!1)}}};return(e||E)&&w.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:I=>{s(I.target.value),j(I.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[w.map(I=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(Xl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[I.sku,"  ",I.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${I.stock<(I.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:I.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:I.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>R(I),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(ci,{className:"w-5 h-5"})," Ajustar"]})})]},I.id)),w.length===0&&!E&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),E&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!E&&N&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>T(!1,r,v),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),i&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(ci,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(I=>I-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(H7,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:I=>d(Number(I.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(I=>I+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(ua,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:I=>h(I.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Qt,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},DEe=20,LEe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Dt(),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[b,w]=D.useState(null),[y,v]=D.useState(!0),[_,N]=D.useState(!1),C=D.useRef(null),E=D.useCallback(F=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{i(F)},300)},[]),A=D.useCallback(async(F=!1,L=s,B=b)=>{N(!0);try{const z={limit:DEe,searchTerm:L.toLowerCase().trim(),startAfterDoc:F?void 0:B,orderByField:"name",orderDirection:"asc"},{products:V,lastVisible:U,hasMore:X}=await r(z);x(Q=>F?V:[...Q,...V]),w(U),v(X)}catch(z){console.error("Error loading products:",z)}finally{N(!1)}},[s,b,r]);D.useEffect(()=>{n||(x([]),w(null),v(!0),A(!0,s,null),l([]))},[s,n,A]);const S=D.useMemo(()=>{const F=new Set;return h.forEach(L=>L.category&&F.add(L.category)),Array.from(F).sort()},[h]),j=D.useMemo(()=>{const F=new Set;return h.forEach(L=>L.brand&&F.add(L.brand)),Array.from(F).sort()},[h]),T=F=>{l(L=>L.includes(F)?L.filter(B=>B!==F):[...L,F])},R=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(F=>F.id))},P=(F,L)=>{f(B=>({...B,[F]:L}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},I=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const F={};if(d.supplierId&&(F.supplierId=d.supplierId),d.category&&(F.category=d.category),d.brand&&(F.brand=d.brand),d.reorderPoint!==""&&(F.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(F.targetStock=Number(d.targetStock)),Object.keys(F).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const L=new Map;for(const B of o){const z=h.find(U=>U.id===B);if(!z)continue;const V={...F};if(d.markup!==""){const U=Number(d.markup);!isNaN(U)&&z.costPrice!==void 0&&(V.salePrice=z.costPrice*(1+U/100))}await e(B,V),L.set(B,{...z,...V})}x(B=>B.map(z=>L.has(z.id)?L.get(z.id):z)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch(L){console.error("Error al aplicar cambios masivos:",L),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:s,onChange:F=>{i(F.target.value),E(F.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:R,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(ad,{className:"w-5 h-5 text-orange-600"}):a.jsx(Pm,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(F=>{var L,B;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>T(F.id),className:"p-1",children:o.includes(F.id)?a.jsx(ad,{className:"w-5 h-5 text-orange-600"}):a.jsx(Pm,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:F.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:((L=t.find(z=>z.id===F.supplierId))==null?void 0:L.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:F.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${F.stock<(F.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:F.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(B=F.salePrice)==null?void 0:B.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.targetStock||"N/A"})]},F.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&y&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>A(!1,s,b),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Mc,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:F=>P("supplierId",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:F=>P("markup",F.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:F=>P("category",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),S.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:F=>P("brand",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),j.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:F=>P("reorderPoint",F.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:F=>P("targetStock",F.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:I,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Qt,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},rv=[{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",clientId:"client-456",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"},{id:"R-0003",date:"2024-05-22",client:"Alberto Gimenez",clientId:"client-789",itemsCount:2,itemsList:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:25e3,status:"facturado",invoiceId:"F-INV-001"},{id:"R-0004",date:"2024-05-23",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:3,itemsList:[{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:4e3,status:"pendiente"},{id:"R-0005",date:"2024-05-24",client:"Juan Perez S.R.L.",clientId:"client-123",itemsCount:8,itemsList:[{id:"p8",sku:"TUER-M8",name:"Tuercas M8",quantity:100,price:3,brand:"Generico",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p9",sku:"LIJA-F100",name:"Lija Grano 100",quantity:10,price:150,brand:"3M",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1}],total:1800,status:"pendiente"}],$Ee=[{id:"F-INV-001",clientName:"Alberto Gimenez",clientId:"client-789",items:[{id:"p4",sku:"SINT-20L",name:"Sinteplast Pintura Interior 20L",quantity:1,price:25e3,brand:"Sinteplast",subtotal:25e3,selectedSaleUnit:"litro"}],total:25e3,paymentDetails:[{id:"pd1",method:"efectivo",amount:25e3,netAmount:25e3}],docType:"factura_a",date:"2024-05-22T10:00:00Z",status:"completado",seller:"Sistema",remitoIds:["R-0003"]},{id:"F-INV-002",clientName:"Juan Perez S.R.L.",clientId:"client-123",items:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",subtotal:11e3,selectedSaleUnit:"unidad"},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",subtotal:1500,selectedSaleUnit:"metro_lineal"},{id:"p6",sku:"TORN-M8",name:"Tornillos M8 x 50mm",quantity:100,price:5,brand:"Generico",subtotal:500,selectedSaleUnit:"unidad"},{id:"p7",sku:"ADHE-001",name:"Adhesivo Epoxi",quantity:1,price:3500,brand:"Poxipol",subtotal:3500,selectedSaleUnit:"unidad"}],total:16500,paymentDetails:[{id:"pd2",method:"transferencia",amount:16500,netAmount:16500}],docType:"factura_b",date:"2024-05-25T11:30:00Z",status:"completado",seller:"Usuario Actual",remitoIds:["R-0001","R-0004"]}],FEe=()=>{const{addSale:t,clients:e,remitos:n,updateRemito:r,sales:s}=Dt(),[i,o]=D.useState(""),[l,c]=D.useState("todos"),[u,d]=D.useState([]),[f,h]=D.useState(!1),[x,b]=D.useState(!1),[w,y]=D.useState(null),[v,_]=D.useState(null),[N,C]=D.useState([]),[E,A]=D.useState({method:"efectivo",amount:0,notes:"",netAmount:0}),[S,j]=D.useState("factura_a"),[T,R]=D.useState(0),[P,O]=D.useState(""),[I,H]=D.useState([]);D.useEffect(()=>{if(n&&n.length>0){const J=new Map(n.map(ve=>[ve.id,ve])),K=rv.map(ve=>J.get(ve.id)||ve),he=n.filter(ve=>!rv.some(Le=>Le.id===ve.id));H([...K,...he])}else H(rv)},[n]);const[F,L]=D.useState(!1),B=J=>{switch(J){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";case"facturado":return"bg-blue-50 text-blue-700 border-blue-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},z=I.filter(J=>{const K=J.client.toLowerCase().includes(i.toLowerCase())||J.id.toLowerCase().includes(i.toLowerCase()),he=l==="todos"||J.status===l;return K&&he}),V=J=>{d(K=>K.includes(J)?K.filter(he=>he!==J):[...K,J])},U=()=>{const J=z.filter(K=>K.status!=="facturado").map(K=>K.id);u.length===J.length&&J.length>0?d([]):d(J)},X=D.useMemo(()=>I.filter(J=>u.includes(J.id)),[I,u]),Q=D.useMemo(()=>w?w.total:X.reduce((J,K)=>J+K.total,0),[w,X]),G=Q+T,ie=N.reduce((J,K)=>J+K.amount,0),W=G-ie,fe=()=>{if(E.amount<=0){alert("Por favor, ingresa un monto mayor a cero.");return}const J={...E,id:Date.now().toString(),netAmount:E.amount};C(K=>[...K,J]),A({method:"efectivo",amount:0,notes:"",netAmount:0})},Ee=(J=null,K=!1)=>{if(console.log("openBillingModal called:",{remito:J,isBulk:K,selectedIds:u,selectedRemitosData:X}),K&&u.length===0){alert("No hay remitos seleccionados para facturar.");return}if(K&&u.length>1){const he=X[0],ve=he==null?void 0:he.clientId,Le=he==null?void 0:he.client;if(!X.every(me=>me.clientId===ve)){alert(`Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes (ej. "${Le}" y otros).`);return}}else if(!J&&!K){alert("No se ha seleccionado ningn remito para facturar.");return}y(J),C([]),A({method:"efectivo",amount:0,notes:"",netAmount:0}),j("factura_a"),R(0),O(""),h(!0)},Ie=async()=>{var ve,Le;console.log("handleConfirmInvoice called.");const J=X.length>0?X:w?[w]:[];if(J.length===0){alert("No hay remitos seleccionados para facturar."),L(!1);return}const K=(ve=J[0])==null?void 0:ve.clientId;if(!J.every(Z=>Z.clientId===K)){alert("Para facturar varios remitos juntos, todos deben ser del mismo cliente. Los remitos seleccionados pertenecen a clientes diferentes."),L(!1);return}if(N.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(W)>.01){alert(`Falta asignar $${W.toLocaleString()}`);return}L(!0);try{const Z=[];for(const Nt of J)for(const We of Nt.itemsList){const Lt=Z.findIndex(Gn=>Gn.id===We.id&&Gn.selectedSaleUnit===We.selectedSaleUnit);Lt!==-1?(Z[Lt].quantity+=We.quantity,Z[Lt].subtotal=parseFloat((Z[Lt].quantity*Z[Lt].price).toFixed(2))):Z.push({id:We.id,sku:We.sku,name:We.name,brand:We.brand,price:We.price,quantity:We.quantity,subtotal:parseFloat((We.price*We.quantity).toFixed(2)),selectedSaleUnit:We.selectedSaleUnit})}const me=e.find(Nt=>Nt.id===K),Xe={clientName:(me==null?void 0:me.name)||((Le=J[0])==null?void 0:Le.client)||"Consumidor Final",clientId:(me==null?void 0:me.id)||null,items:Z,total:G,paymentDetails:N,docType:S,date:new Date().toISOString(),status:"completado",seller:"Usuario Actual",remitoIds:J.map(Nt=>Nt.id)},At=await t(Xe);for(const Nt of J)await r(Nt.id,{invoiceId:At,status:"facturado"});alert(`Facturacin completada! Se gener el comprobante N ${At}.`),d([]),h(!1),C([]),y(null)}catch(Z){console.error("Error al confirmar factura:",Z),alert("Error al procesar la facturacin.")}finally{L(!1)}},ce=async J=>{console.log('Clicked "Ver Factura" for invoiceId:',J);let K=s.find(he=>he.id===J);K||(K=$Ee.find(he=>he.id===J)),K?(console.log("Found invoice:",K),_(K),b(!0)):(console.log("Invoice not found for invoiceId:",J),alert("No se encontr la factura."))},ae=()=>{if(!v)return null;const J=I.filter(he=>{var ve;return(ve=v.remitoIds)==null?void 0:ve.includes(he.id)}),K=e.find(he=>he.id===v.clientId);return a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(bu,{className:"w-6 h-6","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Comprobante N ",v.id]}),a.jsxs("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:["Detalle del comprobante ",v.docType.replace("_"," ").toUpperCase()]})]})]}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ge,{className:"w-6 h-6","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informacin General"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-slate-700",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"font-bold text-slate-900",children:v.clientName}),K&&a.jsx("p",{className:"text-xs text-slate-600",children:K.cuit})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Fecha"}),a.jsx("p",{className:"font-bold text-slate-900",children:new Date(v.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tipo de Doc."}),a.jsx("p",{className:"font-bold text-slate-900",children:v.docType.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Estado"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase border ${v.status==="completado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"}`,children:v.status})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"tems del Comprobante"}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.items.map((he,ve)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:he.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[he.sku,"  ",he.brand]})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:he.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",he.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",he.subtotal.toLocaleString()]})]},ve))})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Remitos Vinculados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:J.length>0?J.map(he=>a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["Remito N ",he.id]}),a.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:new Date(he.date).toLocaleDateString()})]}),a.jsxs("span",{className:"font-black text-blue-900",children:["$",he.total.toLocaleString()]})]},he.id)):a.jsx("div",{className:"col-span-full p-4 text-center text-slate-400 italic",children:"No hay remitos vinculados a este comprobante."})})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Total Comprobante"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",v.total.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Total Pagado"}),a.jsxs("span",{children:["$",v.paymentDetails.reduce((he,ve)=>he+ve.amount,0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cerrar"}),a.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(dN,{className:"w-5 h-5","aria-hidden":"true"})," Imprimir Comprobante"]})]})]})})};return a.jsxs("div",{className:"space-y-6 pb-24",children:[x&&ae()," ",a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]}),a.jsxs("button",{onClick:()=>alert("Aqu se abrira un modal para crear un nuevo remito."),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5","aria-hidden":"true"})," Nuevo Remito"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:i,onChange:J=>o(J.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado","facturado"].map(J=>a.jsx("button",{onClick:()=>c(J),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${l===J?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:J},J))}),u.length>0&&a.jsxs("button",{onClick:()=>Ee(null,!0),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 ml-4",children:[a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"})," Facturar Seleccionados (",u.length,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:U,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:u.length===z.filter(J=>J.status!=="facturado").length&&z.filter(J=>J.status!=="facturado").length>0?a.jsx(ad,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(Pm,{className:"w-5 h-5 text-slate-300","aria-hidden":"true"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:z.map(J=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group ${u.includes(J.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>J.status!=="facturado"&&V(J.id),children:J.status==="facturado"?a.jsx("span",{title:"Remito ya facturado",children:a.jsx(ad,{className:"w-5 h-5 text-blue-600 opacity-50","aria-hidden":"true"})}):u.includes(J.id)?a.jsx(ad,{className:"w-5 h-5 text-orange-600","aria-hidden":"true"}):a.jsx(Pm,{className:"w-5 h-5 text-slate-200","aria-hidden":"true"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:J.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:J.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:J.itemsCount}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${B(J.status)}`,children:J.status}),J.invoiceId&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(bu,{className:"w-3 h-3 text-blue-600","aria-hidden":"true"}),a.jsxs("button",{onClick:K=>{K.stopPropagation(),ce(J.invoiceId)},className:"text-[9px] font-black uppercase text-blue-600 hover:underline",children:["Factura ",J.invoiceId]})]})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",J.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:J.status==="facturado"?a.jsx("button",{onClick:K=>{K.stopPropagation(),ce(J.invoiceId)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Ver Factura",children:a.jsx(Yf,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx("button",{onClick:K=>{K.stopPropagation(),Ee(J,!1)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"})})})]},J.id))})]})})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(w==null?void 0:w.client)||(X.length>0?X[0].client:"N/A")})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-3 text-slate-400",children:a.jsx(Ge,{className:"w-7 h-7","aria-hidden":"true"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tipo de Comprobante"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_a",checked:S==="factura_a",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura A"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"factura_b",checked:S==="factura_b",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Factura B"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"billingDocType",value:"ticket",checked:S==="ticket",onChange:J=>j(J.target.value),className:"form-radio h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:"Ticket / Venta Simple"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total a Facturar: $",Q.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:N.map(J=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:J.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",J.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(N.filter(K=>K.id!==J.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Rn,{className:"w-4 h-4","aria-hidden":"true"})})]})]},J.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:E.method,onChange:J=>A({...E,method:J.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:E.amount||"",onChange:J=>A({...E,amount:parseFloat(J.target.value)||0})})]}),a.jsx("button",{onClick:fe,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",G.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:F||Math.abs(W)>.01,onClick:Ie,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?a.jsx(Fe,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(bu,{className:"w-5 h-5","aria-hidden":"true"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},UEe=({client:t,onLogout:e,companyInfo:n})=>{var h;const{sales:r}=Dt(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),d=D.useMemo(()=>r.filter(x=>x.clientId===t.id).sort((x,b)=>new Date(b.date).getTime()-new Date(x.date).getTime()),[r,t.id]),f=()=>{u(!0),setTimeout(()=>{u(!1),l(!1),alert("Gracias! El aviso de pago ha sido enviado. Un asesor lo validar a la brevedad.")},2e3)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white border-b border-slate-100 p-6 flex justify-between items-center sticky top-0 z-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-600 rounded-xl text-white rotate-2",children:a.jsx(qa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tighter italic uppercase",children:n.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Portal de Clientes"})]})]}),a.jsxs("button",{onClick:e,className:"flex items-center gap-2 p-3 bg-slate-50 text-slate-500 rounded-2xl hover:bg-red-50 hover:text-red-600 transition-all font-bold text-xs",children:[a.jsx(a5,{className:"w-4 h-4"})," ",a.jsx("span",{className:"hidden md:inline uppercase tracking-widest",children:"Salir"})]})]}),a.jsxs("main",{className:"flex-1 p-6 md:p-10 max-w-4xl mx-auto w-full space-y-8 pb-32",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-orange-500 font-black uppercase text-[10px] tracking-widest",children:"Bienvenido de nuevo"}),a.jsx("h2",{className:"text-3xl font-black",children:t.name}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:t.cuit})]}),a.jsxs("div",{className:"mt-8 flex gap-4",children:[a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Puntos Club"}),a.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[a.jsx(Hd,{className:"w-5 h-5 fill-orange-500"}),a.jsx("span",{className:"text-2xl font-black",children:t.accumulatedPoints||0})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-3xl backdrop-blur-sm flex-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Lista de Precios"}),a.jsx("span",{className:"text-sm font-bold text-slate-200",children:"Preferencial Gremio"})]})]}),a.jsx(Ys,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsx("nav",{className:"flex bg-white p-2 rounded-[2rem] shadow-sm border border-slate-100 gap-2",children:[{id:"overview",label:"Resumen",icon:da},{id:"history",label:"Mis Compras",icon:Yl},{id:"payments",label:"Informar Pago",icon:Vd}].map(x=>a.jsxs("button",{onClick:()=>i(x.id),className:`flex-1 flex flex-col items-center gap-2 py-4 rounded-[1.5rem] transition-all ${s===x.id?"bg-orange-600 text-white shadow-xl shadow-orange-600/30":"text-slate-400 hover:bg-slate-50 hover:text-slate-600"}`,children:[a.jsx(x.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:x.label})]},x.id))}),a.jsxs("div",{className:"space-y-6",children:[s==="overview"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"text-center md:text-left space-y-2",children:[a.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Saldo a Pagar"}),a.jsxs("h3",{className:`text-5xl font-black ${t.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(t.balance).toLocaleString()]}),a.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t.balance<0?"Tienes facturas pendientes de pago.":"Tu cuenta est al da o tienes saldo a favor."})]}),a.jsxs("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-10 py-5 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 active:scale-95",children:[a.jsx(Zr,{className:"w-5 h-5 text-orange-500"})," Pagar Saldo Ahora"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-blue-600 shadow-sm",children:a.jsx(fn,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest leading-tight",children:"ltima Compra"}),a.jsx("h3",{className:"text-lg font-black text-blue-900",children:(h=d[0])!=null&&h.date?new Date(d[0].date).toLocaleDateString():"N/A"})]})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-green-600 shadow-sm",children:a.jsx(Hd,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-green-400 uppercase tracking-widest leading-tight",children:"Beneficio Club"}),a.jsx("h3",{className:"text-lg font-black text-green-900",children:"5% OFF Prxima Compra"})]})]})]})]}),s==="history"&&a.jsx("div",{className:"space-y-4 animate-in slide-in-from-right duration-500",children:d.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] text-center space-y-4",children:[a.jsx(Yl,{className:"w-12 h-12 text-slate-200 mx-auto"}),a.jsx("p",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Sin historial de compras"})]}):d.map(x=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row justify-between items-center gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-5 w-full md:w-auto",children:[a.jsx("div",{className:"p-3 bg-slate-50 text-slate-400 rounded-2xl group-hover:bg-orange-50 group-hover:text-orange-600 transition-all",children:a.jsx(u5,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:[x.docType.replace("_"," ").toUpperCase()," N ",x.id.slice(-6)]}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(T0,{className:"w-3 h-3"})," ",new Date(x.date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-10",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-black text-slate-900",children:["$",x.total.toLocaleString()]}),a.jsx("span",{className:"text-[9px] font-black text-green-600 uppercase tracking-widest",children:"Pagado"})]}),a.jsx("button",{className:"p-3 bg-slate-50 text-slate-400 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-all",children:a.jsx(al,{className:"w-5 h-5"})})]})]},x.id))}),s==="payments"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 animate-in slide-in-from-left duration-500",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Informar un Pago"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ya realizaste una transferencia? Adjunta el comprobante aqu para que actualicemos tu saldo."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Pagado"}),a.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-2xl font-black outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 flex flex-col items-center justify-center text-center group hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer",children:[a.jsx(Ys,{className:"w-12 h-12 text-slate-200 mb-4 group-hover:text-orange-500"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Subir foto del comprobante"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Formatos: JPG, PNG, PDF"})]}),a.jsx("button",{onClick:f,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-700 transition-all flex items-center justify-center gap-3",children:"Enviar Notificacin"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Datos para Pago"}),a.jsx("button",{onClick:()=>l(!1),children:a.jsx(Ge,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alias CBU"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"FERROGEST.PRO.PAGOS"})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Banco / Billetera"}),a.jsx("p",{className:"text-lg font-black text-slate-900",children:"Banco Galicia / Mercado Pago"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 flex items-start gap-4",children:[a.jsx(jr,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:["Una vez realizada la transferencia, puedes informar el pago en la pestaa ",a.jsx("b",{children:'"Informar Pago"'})," para una acreditacin rpida."]})]}),a.jsxs("button",{onClick:f,disabled:c,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 disabled:opacity-50",children:[c?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Zl,{className:"w-5 h-5 text-orange-500"}),"Ya realic la transferencia"]})]})]})}),a.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-8 right-8 p-5 bg-green-500 text-white rounded-full shadow-2xl shadow-green-500/40 animate-bounce transition-all hover:scale-110 z-50",children:a.jsx(Ys,{className:"w-8 h-8"})})]})},VEe=({onLoginSuccess:t})=>{const[e,n]=D.useState("employee"),[r,s]=D.useState(""),[i,o]=D.useState(""),[l,c]=D.useState(""),[u,d]=D.useState(!1),[f,h]=D.useState(null),x="admin",b="admin123",w=async v=>{v.preventDefault(),d(!0),h(null);const _=r.trim(),N=i.trim();try{if(_.toLowerCase()===x&&N===b){t("admin","Administrador Maestro");return}if(!_.includes("@")||!_.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),d(!1);return}const C=st(Ae,"users"),E=rd(C,by("email","==",_),by("password","==",N)),A=await sd(E);if(A.empty)h("Credenciales de empleado incorrectas.");else{const S=A.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(C){h(`Error de conexin: ${C.message}`)}finally{d(!1)}},y=async v=>{v.preventDefault(),d(!0),h(null);const _=l.trim();if(!_){h("Por favor ingrese su CUIT o DNI."),d(!1);return}try{const N=st(Ae,"clients"),C=rd(N,by("cuit","==",_)),E=await sd(C);if(E.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const A={id:E.docs[0].id,...E.docs[0].data()};t("customer",A.name,A)}}catch{h("Error al validar cliente.")}finally{d(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:a.jsx(qa,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),a.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[a.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Zl,{className:"w-4 h-4"})," Personal"]}),a.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Ys,{className:"w-4 h-4"})," Portal Clientes"]})]}),f&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[a.jsx(Ge,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase",children:f})]}),e==="employee"?a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(z7,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:i,onChange:v=>o(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(M7,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):a.jsxs("form",{onSubmit:y,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ys,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:l,onChange:v=>c(v.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),a.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Ys,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})},fp={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},BEe={name:"Sistems Nova Pro",cuit:"30-71122334-9",ivaCondition:"Responsable Inscripto",address:"Av. Rivadavia 1234, CABA",logo:null,showLogoInSidebar:!0,arca:{enabled:!0,puntoVenta:5,iibb:"901-123456-7",crtValidUntil:"2025-12-31"},printConfigs:{factura:{...fp},remito:{...fp},recibo:{...fp},etiqueta:{...fp,pageSize:"80mm"}},paymentCommissions:{efectivo:0,tarjeta_debito:1.5,tarjeta_credito:3.5,transferencia:0,cheque:0,cuenta_corriente:0,otro:0}},qEe={dashboard:{label:"Dashboard",icon:s5},inventory:{label:"Inventario",icon:Bd},sales:{label:"Ventas",icon:Em},purchases:{label:"Compras",icon:Gd},clients:{label:"Clientes",icon:gi},suppliers:{label:"Proveedores",icon:Dr},cashier:{label:"Cajas",icon:da},reports:{label:"Informes",icon:e5},settings:{label:"Configuracin",icon:Js},branches:{label:"Sucursales",icon:Vu},prices:{label:"Precios",icon:Za},"bulk-import":{label:"Importar",icon:Tm},warehouse:{label:"Depsito",icon:Mm},"purchase-orders":{label:"Pedidos Compra",icon:i5},ecommerce:{label:"E-Commerce",icon:po},loyalty:{label:"Fidelizacin",icon:Am},remitos:{label:"Remitos",icon:t5},integrations:{label:"Integraciones",icon:od},quotes:{label:"Cotizaciones",icon:Cm},orders:{label:"Pedidos",icon:zd},installments:{label:"Cuotas",icon:Zr},balances:{label:"Saldos",icon:Ql},"missing-items":{label:"Faltantes",icon:oN},"stock-adjustment":{label:"Ajuste Stock",icon:ua},"bulk-modification":{label:"Modif. Masiva",icon:lN},users:{label:"Personal y Accesos",icon:hN}},zEe=()=>{const[t,e]=D.useState(["dashboard"]),[n,r]=D.useState("dashboard"),[s,i]=D.useState(!1),[o,l]=D.useState({name:"",role:"vendedor"}),[c,u]=D.useState("premium"),[d,f]=D.useState(BEe),h=(v,_,N)=>{l({name:_,role:v,data:N}),i(!0)},x=()=>{i(!1),l({name:"",role:"vendedor"}),e(["dashboard"]),r("dashboard")},b=v=>{t.includes(v)||e(_=>[..._,v]),r(v)},w=v=>{if(v==="dashboard")return;const _=t.filter(N=>N!==v);e(_),n===v&&r(_[_.length-1])};if(!s)return a.jsx(VEe,{onLoginSuccess:h});if(o.role==="customer")return a.jsx(UEe,{client:o.data,onLogout:x,companyInfo:d});const y=v=>{switch(v){case"dashboard":return a.jsx(Uye,{openTab:b});case"inventory":return a.jsx(Bye,{});case"missing-items":return a.jsx(REe,{});case"stock-adjustment":return a.jsx(OEe,{});case"bulk-modification":return a.jsx(LEe,{});case"sales":return a.jsx(qye,{companyInfo:d});case"purchases":return a.jsx(rEe,{});case"clients":return a.jsx(aEe,{onNavigate:b});case"suppliers":return a.jsx(oEe,{});case"cashier":return a.jsx(lEe,{});case"balances":return a.jsx(vEe,{});case"installments":return a.jsx(IEe,{});case"finance":return a.jsx(wEe,{});case"reports":return a.jsx(cEe,{});case"branches":return a.jsx(dEe,{});case"users":return a.jsx(fEe,{});case"prices":return a.jsx(pEe,{});case"bulk-import":return a.jsx(mEe,{});case"warehouse":return a.jsx(gEe,{});case"purchase-orders":return a.jsx(yEe,{});case"ecommerce":return a.jsx(SEe,{});case"loyalty":return a.jsx(EEe,{});case"remitos":return a.jsx(FEe,{});case"integrations":return a.jsx(TEe,{});case"quotes":return a.jsx(kEe,{});case"orders":return a.jsx(jEe,{});case"settings":return a.jsx(uEe,{plan:c,setPlan:u,isAdmin:o.role==="admin",companyInfo:d,setCompanyInfo:f});default:return null}};return a.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden",children:[a.jsx(aG,{activeTab:n,setActiveTab:b,companyInfo:d,currentUser:o,onLogout:x}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(oG,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:w}),a.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative bg-slate-50/50",children:a.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t.map(v=>a.jsx("div",{className:`h-full transition-all duration-300 ${v===n?"block animate-in fade-in zoom-in-95":"hidden"}`,children:y(v)},v))})})]})]})},GEe=()=>a.jsx(k7,{children:a.jsx(zEe,{})}),Q$=document.getElementById("root");if(!Q$)throw new Error("Could not find root element to mount to");const HEe=sv.createRoot(Q$);HEe.render(a.jsx(q.StrictMode,{children:a.jsx(GEe,{})}));
